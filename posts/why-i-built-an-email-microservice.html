<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>why i built an email microservice | Corey Raymond DeMarse</title>
    <meta name="description" content="full stack developer">
    <link rel="stylesheet" href="/assets/style.b55675c4.css">
    <link rel="modulepreload" href="/assets/app.f93eccc5.js">
    <link rel="modulepreload" href="/assets/posts_why-i-built-an-email-microservice.md.52d298ab.lean.js">
    
    <script>(()=>{const e=localStorage.getItem("vitepress-theme-appearance"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  <meta name="twitter:title" content="why i built an email microservice | Corey Raymond DeMarse">
  <meta property="og:title" content="why i built an email microservice | Corey Raymond DeMarse">
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-e08996d6><!--[--><span tabindex="-1" data-v-45f6ae50></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-45f6ae50> Skip to content </a><!--]--><!----><header class="VPNav no-sidebar" data-v-e08996d6 data-v-26b787e0><div class="VPNavBar" data-v-26b787e0 data-v-bf4977be><div class="container" data-v-bf4977be><div class="VPNavBarTitle" data-v-bf4977be data-v-e81273b4><a class="title" href="/" data-v-e81273b4><!----><!--[-->Corey Raymond DeMarse<!--]--></a></div><div class="content" data-v-bf4977be><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-bf4977be data-v-a30758ee><span id="main-nav-aria-label" class="visually-hidden" data-v-a30758ee>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog.html" data-v-a30758ee data-v-74cfe2fe data-v-5704c677><!--[-->Blog<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guides.html" data-v-a30758ee data-v-74cfe2fe data-v-5704c677><!--[-->Guides<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout" data-v-a30758ee data-v-5395eaec><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-5395eaec><span class="text" data-v-5395eaec><!----> More <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-5395eaec><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-5395eaec><div class="VPMenu" data-v-5395eaec data-v-e73581a2><div class="items" data-v-e73581a2><!--[--><!--[--><div class="VPMenuLink" data-v-e73581a2 data-v-06b18c43><a class="VPLink link" href="/contact.html" data-v-06b18c43 data-v-5704c677><!--[-->Contact Me<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e73581a2 data-v-06b18c43><a class="VPLink link" href="/cool-software.html" data-v-06b18c43 data-v-5704c677><!--[-->Cool Software<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e73581a2 data-v-06b18c43><a class="VPLink link" href="/themes-templates.html" data-v-06b18c43 data-v-5704c677><!--[-->Themes &amp; Templates<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e73581a2 data-v-06b18c43><a class="VPLink link" href="/diy-projects.html" data-v-06b18c43 data-v-5704c677><!--[-->Open Source DIY Projects<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-bf4977be data-v-311055f2><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-311055f2 data-v-781f9d1b data-v-1dda4c9c><span class="check" data-v-1dda4c9c><span class="icon" data-v-1dda4c9c><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-781f9d1b><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-781f9d1b><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-bf4977be data-v-0ae890f7 data-v-c0bcf1c2><!--[--><a class="VPSocialLink" href="https://github.com/coreydemarse" title="github" target="_blank" rel="noopener noreferrer" data-v-c0bcf1c2 data-v-4231dbfc><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-4231dbfc><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg><span class="visually-hidden" data-v-4231dbfc>github</span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-bf4977be data-v-0562f5c0 data-v-5395eaec><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-5395eaec><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-5395eaec><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-5395eaec><div class="VPMenu" data-v-5395eaec data-v-e73581a2><!----><!--[--><!--[--><!----><div class="group" data-v-0562f5c0><div class="item appearance" data-v-0562f5c0><p class="label" data-v-0562f5c0>Appearance</p><div class="appearance-action" data-v-0562f5c0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-0562f5c0 data-v-781f9d1b data-v-1dda4c9c><span class="check" data-v-1dda4c9c><span class="icon" data-v-1dda4c9c><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-781f9d1b><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-781f9d1b><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-0562f5c0><div class="item social-links" data-v-0562f5c0><div class="VPSocialLinks social-links-list" data-v-0562f5c0 data-v-c0bcf1c2><!--[--><a class="VPSocialLink" href="https://github.com/coreydemarse" title="github" target="_blank" rel="noopener noreferrer" data-v-c0bcf1c2 data-v-4231dbfc><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-4231dbfc><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg><span class="visually-hidden" data-v-4231dbfc>github</span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-bf4977be data-v-9a8d4e0a><span class="container" data-v-9a8d4e0a><span class="top" data-v-9a8d4e0a></span><span class="middle" data-v-9a8d4e0a></span><span class="bottom" data-v-9a8d4e0a></span></span></button></div></div></div><!----></header><!----><!----><div class="VPContent" id="VPContent" data-v-e08996d6 data-v-6b27f809><div class="VPDoc" data-v-6b27f809 data-v-b2cd70aa><div class="container" data-v-b2cd70aa><div class="aside" data-v-b2cd70aa><div class="aside-curtain" data-v-b2cd70aa></div><div class="aside-container" data-v-b2cd70aa><div class="aside-content" data-v-b2cd70aa><div class="VPDocAside" data-v-b2cd70aa data-v-779d834d><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline has-outline" data-v-779d834d data-v-ad19bccc><div class="content" data-v-ad19bccc><div class="outline-marker" data-v-ad19bccc></div><div class="outline-title" data-v-ad19bccc>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-ad19bccc><span class="visually-hidden" id="doc-outline-aria-label" data-v-ad19bccc> Table of Contents for current page </span><ul class="root" data-v-ad19bccc><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-779d834d></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-b2cd70aa><div class="content-container" data-v-b2cd70aa><main class="main" data-v-b2cd70aa><div style="position:relative;" class="vp-doc posts" data-v-b2cd70aa><div><p>a good case for a microservice, and why email and monoliths don&#39;t mix</p><hr><p><a href="/blog.html">&lt;- return to blog</a></p><h3 id="micromail-a-little-nodemailer-smtp-microservice" tabindex="-1">microMail - a little nodemailer SMTP microservice <a class="header-anchor" href="#micromail-a-little-nodemailer-smtp-microservice" aria-hidden="true">#</a></h3><p>View Project on GitHub</p><p><a href="https://github.com/coreydemarse/micromail" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/static/v1?label=&amp;message=microMail&amp;color=000605&amp;logo=github&amp;logoColor=FFFFFF&amp;labelColor=000605" alt="microMail"></a></p><h1 id="why-i-built-an-email-microservice" tabindex="-1">why I built an email microservice <a class="header-anchor" href="#why-i-built-an-email-microservice" aria-hidden="true">#</a></h1><p>When building applications, especially large-scale ones, developers often face the challenge of sending emails. It&#39;s something that seems simple at first glance, but once you start adding more services to the mix — like a game server or other microservices — the complexity of handling email notifications can become overwhelming. In monolithic applications, sending emails can be messy, especially as your codebase grows, leading to bloated solutions tied to the application’s main framework.</p><p>This is where microservices come in. I recently built microMail that uses <strong>Redis Pub/Sub</strong> for communication and <strong>Handlebars templates</strong> for rendering emails. Let me walk you through why I chose this approach and how it simplifies email management, particularly in systems with multiple services.</p><h3 id="_1-monoliths-and-email-sending-the-struggle" tabindex="-1">1. <strong>Monoliths and Email Sending: The Struggle</strong> <a class="header-anchor" href="#_1-monoliths-and-email-sending-the-struggle" aria-hidden="true">#</a></h3><p>When you&#39;re working with a monolithic architecture, the framework you’re using typically includes email-sending capabilities. This might be through an integrated library or as part of a broader &quot;notification&quot; module. While this can work for small applications, a few challenges arise as your application scales:</p><ul><li><p><strong>Bloat</strong>: Adding email functionality into a monolith can lead to bloated services. As your codebase grows, email-sending logic becomes intertwined with other responsibilities, making it harder to manage and maintain.</p></li><li><p><strong>Tight Coupling</strong>: In a monolith, email-sending is usually tightly coupled with the business logic, meaning that if you need to modify your email system, you’re modifying core parts of your application, potentially affecting unrelated functionality.</p></li><li><p><strong>Scalability Issues</strong>: A monolithic framework&#39;s email-handling capabilities might not scale well when you introduce microservices or external systems, such as a game server, that also need to send emails.</p></li></ul><h3 id="_2-enter-the-email-microservice" tabindex="-1">2. <strong>Enter the Email Microservice</strong> <a class="header-anchor" href="#_2-enter-the-email-microservice" aria-hidden="true">#</a></h3><p>With these challenges in mind, I decided to create a dedicated email microservice that could be used by any other service in the ecosystem, whether it’s the monolith, a game server, or any other microservice.</p><h3 id="_3-why-bun-typescript" tabindex="-1">3. <strong>Why Bun/TypeScript</strong> <a class="header-anchor" href="#_3-why-bun-typescript" aria-hidden="true">#</a></h3><p>I chose <strong>Bun/TypeScript</strong> for a few reasons:</p><ul><li><p><strong>Awesome</strong>: It&#39;s new and cool</p></li><li><p><strong>Familiarity</strong>: TypeScript’s syntax is familiar to many developers, and using it in a Bun environment offers optimal performance.</p></li><li><p><strong>Asynchronous Support</strong>: Sending emails is inherently asynchronous, and TypeScript, paired with Bun, makes handling async code more straightforward through <code>async/await</code> and promises.</p></li></ul><h3 id="_4-using-redis-pub-sub-for-communication" tabindex="-1">4. <strong>Using Redis Pub/Sub for Communication</strong> <a class="header-anchor" href="#_4-using-redis-pub-sub-for-communication" aria-hidden="true">#</a></h3><p>In the microservices world, one of the key concerns is communication between services. Redis Pub/Sub is a great way to handle this.</p><ul><li><p><strong>Part of the stack</strong>: If you&#39;re building any service, you will most likely already have Redis running to handle events, caching or as a key-value store.</p></li><li><p><strong>Decoupling Services</strong>: By using Redis Pub/Sub, the email microservice is decoupled from other services. Services can &quot;publish&quot; email requests to a Redis channel, and the email microservice simply &quot;subscribes&quot; to that channel to send emails when triggered.</p></li><li><p><strong>Scalability</strong>: Redis Pub/Sub is lightweight and efficient. It works well for high-throughput applications that need to send a large number of emails across various services. Redis can handle thousands of messages per second, and the microservice can scale independently to meet demand.</p></li><li><p><strong>Real-time Communication</strong>: Redis ensures near real-time communication, which is important for sending timely email notifications. Whether a game server needs to send an in-game event email or the monolith needs to send a password reset, Redis provides a fast and reliable way to send those requests.</p></li></ul><h3 id="_5-handlebars-for-templating" tabindex="-1">5. <strong>Handlebars for Templating</strong> <a class="header-anchor" href="#_5-handlebars-for-templating" aria-hidden="true">#</a></h3><p>Email templates are a crucial part of any application. You don’t want to hardcode email content; instead, you want to use templates that are reusable and easy to update.</p><ul><li><p><strong>Separation of Concerns</strong>: Using <strong>Handlebars templates</strong> to render emails allows for clear separation between the application logic and email content. The template defines the structure and style of the email, while the microservice fills in the dynamic content (like a user’s name or a link) when sending the email.</p></li><li><p><strong>Flexibility</strong>: Handlebars provides an intuitive syntax for embedding dynamic data into the template. This is especially useful when the content of the email depends on user data, like personalized greeting messages or order details. The templating engine also allows for partials, helpers, and even conditional logic, making it powerful enough for complex email needs.</p></li><li><p><strong>Consistency</strong>: Using a templating engine ensures that emails across all services (the monolith, game servers, or other microservices) maintain a consistent format. Whether it’s a password reset, user notification, or game achievement email, Handlebars ensures the emails are rendered uniformly.</p></li></ul><h3 id="_6-simplified-maintenance-and-extensibility" tabindex="-1">6. <strong>Simplified Maintenance and Extensibility</strong> <a class="header-anchor" href="#_6-simplified-maintenance-and-extensibility" aria-hidden="true">#</a></h3><p>One of the key advantages of this approach is the ease of <strong>maintenance</strong> and <strong>extensibility</strong>:</p><ul><li><p>If I need to update the email templates (e.g., change the design or content of password reset emails), I only have to update the Handlebars templates in one place — the email microservice.</p></li><li><p>If I want to add new types of emails (e.g., a new game event notification or a new feature in the monolith), I can easily do so by simply adding a new template. There&#39;s no need to alter the core application logic, which is a significant improvement over the monolithic approach.</p></li><li><p>It’s also easy to integrate new services into the system. If another service or external system needs to send emails, all it has to do is publish a message to the Redis channel. The email microservice will handle the rest.</p></li></ul><h3 id="_7-why-this-makes-sense-for-multiple-services" tabindex="-1">7. <strong>Why This Makes Sense for Multiple Services</strong> <a class="header-anchor" href="#_7-why-this-makes-sense-for-multiple-services" aria-hidden="true">#</a></h3><p>In a system with multiple services, each responsible for different pieces of the application, having a centralized, dedicated email service is a clear win:</p><ul><li><p><strong>Decoupling</strong>: Instead of forcing every service to know how to send emails, they simply need to know how to interact with the email service via Redis. The email service handles the rendering, sending, and error handling.</p></li><li><p><strong>Consistency</strong>: A single microservice can ensure that all outgoing emails, regardless of which service is triggering them, are consistent in formatting and content. You avoid discrepancies between, say, the emails sent by the game server versus those sent by the monolith.</p></li><li><p><strong>Avoiding Bloat</strong>: Monolithic frameworks can often bloat with dependencies you don’t need. A dedicated email microservice keeps things lightweight by only focusing on the task of sending templated emails. This can be far easier to manage than trying to use an email feature from a large, monolithic framework.</p></li></ul><h3 id="micromail" tabindex="-1">microMail <a class="header-anchor" href="#micromail" aria-hidden="true">#</a></h3><p>Building this email microservice using TypeScript, Redis Pub/Sub, and Handlebars templates has significantly improved the ability to handle email notifications in a scalable and maintainable way. By decoupling email-sending logic from the core application and centralizing it in a microservice, we&#39;re able to simplify the process, avoid bloat, and ensure consistency across various services, whether it’s a game server or a traditional monolith.</p><p>microMail is a very small microservice and comes in at around 300~ lines of code and can handle thousands of emails per second.</p><h3 id="check-out-or-contribute-to-micromail" tabindex="-1">Check out or contribute to microMail <a class="header-anchor" href="#check-out-or-contribute-to-micromail" aria-hidden="true">#</a></h3><p>View Project on GitHub</p><p><a href="https://github.com/coreydemarse/micromail" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/static/v1?label=&amp;message=microMail&amp;color=000605&amp;logo=github&amp;logoColor=FFFFFF&amp;labelColor=000605" alt="microMail"></a></p><p><a href="/blog.html">&lt;- return to blog</a></p></div></div></main><!----></div></div></div></div></div><footer class="VPFooter" data-v-e08996d6 data-v-5b331722><div class="container" data-v-5b331722><p class="message" data-v-5b331722>Litecoin Tips: </p><p class="copyright" data-v-5b331722>Copyright © 2025 Corey Raymond DeMarse</p></div></footer></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"awesome-products.md\":\"97a61968\",\"blog.md\":\"19266da6\",\"contact.md\":\"fb1095a6\",\"cool-software.md\":\"c273fae9\",\"diy-projects.md\":\"6df88ade\",\"guides.md\":\"31257669\",\"guides_how-to-node.md\":\"68ab5a2b\",\"index.md\":\"cf835e8a\",\"portfolio.md\":\"bcd616c3\",\"posts_a-killer-stack-2025.md\":\"acc74b1a\",\"posts_something-from-scratch.md\":\"5a732083\",\"posts_tigerstyle-typescript.md\":\"e1250d0f\",\"posts_why-i-built-an-email-microservice.md\":\"52d298ab\",\"themes-templates.md\":\"9afc6624\"}")</script>
    <script type="module" async src="/assets/app.f93eccc5.js"></script>
    
  </body>
</html>