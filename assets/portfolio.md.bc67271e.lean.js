var Zx=Object.defineProperty,Kx=Object.defineProperties;var Jx=Object.getOwnPropertyDescriptors;var ml=Object.getOwnPropertySymbols;var sp=Object.prototype.hasOwnProperty,lp=Object.prototype.propertyIsEnumerable;var ap=(e,t,n)=>t in e?Zx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V=(e,t)=>{for(var n in t||(t={}))sp.call(t,n)&&ap(e,n,t[n]);if(ml)for(var n of ml(t))lp.call(t,n)&&ap(e,n,t[n]);return e},ye=(e,t)=>Kx(e,Jx(t));var qa=(e,t)=>{var n={};for(var i in e)sp.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&ml)for(var i of ml(e))t.indexOf(i)<0&&lp.call(e,i)&&(n[i]=e[i]);return n};import{f as K,m as $v,i as jv,j as Ne,k as S,l as v,q as ct,T as Kt,w as ci,s as st,x as Me,y as $t,z as Qv,A as e_,B as Oh,C as Ro,D as pr,E as mr,G as Pn,H as Qs,I as t_,J as Xr,K as n_,L as Yv,M as Xv,N as Zv,O as Kv,P as Vi,_ as i_,o as o_,c as r_,a as Wn,b as a_,g as s_}from"./app.3cca0e50.js";const Jv="124",l_={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},c_={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},eg=0,Od=1,tg=2,u_=3,d_=0,Nh=1,ng=2,Zr=3,Ea=0,Zt=1,Ys=2,Dh=1,h_=2,Gi=0,oa=1,Nd=2,Dd=3,zd=4,ig=5,jo=100,og=101,rg=102,qd=103,Vd=104,ag=200,sg=201,lg=202,cg=203,zh=204,qh=205,ug=206,dg=207,hg=208,fg=209,pg=210,mg=0,vg=1,gg=2,Cc=3,yg=4,bg=5,xg=6,_g=7,Xs=0,wg=1,Sg=2,Zo=0,Mg=1,Tg=2,Cg=3,Eg=4,Ag=5,vu=300,Zs=301,Ks=302,Ec=303,Ac=304,Aa=306,Js=307,vs=1e3,wn=1001,gs=1002,Jt=1003,Lc=1004,f_=1004,Pc=1005,p_=1005,nn=1006,Vh=1007,m_=1007,La=1008,v_=1008,Pa=1009,Lg=1010,Pg=1011,ys=1012,Rg=1013,ls=1014,Hi=1015,bs=1016,kg=1017,Bg=1018,Ig=1019,ra=1020,Fg=1021,go=1022,Dn=1023,Og=1024,Ng=1025,Dg=Dn,Ko=1026,ha=1027,zg=1028,qg=1029,Vg=1030,Hg=1031,Ug=1032,Gg=1033,Hd=33776,Ud=33777,Gd=33778,Wd=33779,$d=35840,jd=35841,Qd=35842,Yd=35843,Wg=36196,Xd=37492,Zd=37496,$g=37808,jg=37809,Qg=37810,Yg=37811,Xg=37812,Zg=37813,Kg=37814,Jg=37815,e0=37816,t0=37817,n0=37818,i0=37819,o0=37820,r0=37821,a0=36492,s0=37840,l0=37841,c0=37842,u0=37843,d0=37844,h0=37845,f0=37846,p0=37847,m0=37848,v0=37849,g0=37850,y0=37851,b0=37852,x0=37853,_0=2200,w0=2201,S0=2202,xs=2300,cs=2301,bc=2302,Qo=2400,Yo=2401,_s=2402,gu=2500,Hh=2501,M0=0,g_=1,y_=2,Tn=3e3,el=3001,yu=3007,bu=3002,T0=3003,Uh=3004,Gh=3005,Wh=3006,C0=3200,E0=3201,vr=0,A0=1,b_=0,xc=7680,x_=7681,__=7682,w_=7683,S_=34055,M_=34056,T_=5386,C_=512,E_=513,A_=514,L_=515,P_=516,R_=517,k_=518,L0=519,tl=35044,nr=35048,B_=35040,I_=35045,F_=35049,O_=35041,N_=35046,D_=35050,z_=35042,q_="100",Kd="300 es";function Li(){}Object.assign(Li.prototype,{addEventListener:function(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)},hasEventListener:function(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1},removeEventListener:function(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(t);o!==-1&&i.splice(o,1)}},dispatchEvent:function(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let o=0,r=i.length;o<r;o++)i[o].call(this,e)}}});const sn=[];for(let e=0;e<256;e++)sn[e]=(e<16?"0":"")+e.toString(16);let vl=1234567;const it={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(sn[e&255]+sn[e>>8&255]+sn[e>>16&255]+sn[e>>24&255]+"-"+sn[t&255]+sn[t>>8&255]+"-"+sn[t>>16&15|64]+sn[t>>24&255]+"-"+sn[n&63|128]+sn[n>>8&255]+"-"+sn[n>>16&255]+sn[n>>24&255]+sn[i&255]+sn[i>>8&255]+sn[i>>16&255]+sn[i>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,o){return i+(e-t)*(o-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(e*6-15)+10))},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return e!==void 0&&(vl=e%2147483647),vl=vl*16807%2147483647,(vl-1)/2147483646},degToRad:function(e){return e*it.DEG2RAD},radToDeg:function(e){return e*it.RAD2DEG},isPowerOfTwo:function(e){return(e&e-1)===0&&e!==0},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,i,o){const r=Math.cos,a=Math.sin,s=r(n/2),l=a(n/2),c=r((t+i)/2),u=a((t+i)/2),d=r((t-i)/2),f=a((t-i)/2),h=r((i-t)/2),p=a((i-t)/2);switch(o){case"XYX":e.set(s*u,l*d,l*f,s*c);break;case"YZY":e.set(l*f,s*u,l*d,s*c);break;case"ZXZ":e.set(l*d,l*f,s*u,s*c);break;case"XZX":e.set(s*u,l*p,l*h,s*c);break;case"YXY":e.set(l*h,s*u,l*p,s*c);break;case"ZYZ":e.set(l*p,l*h,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+o)}}};class Ae{constructor(t=0,n=0){Object.defineProperty(this,"isVector2",{value:!0}),this.x=t,this.y=n}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,n){return this.x=t,this.y=n,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,n){return n!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,n)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this}sub(t,n){return n!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,n)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const n=this.x,i=this.y,o=t.elements;return this.x=o[0]*n+o[3]*i+o[6],this.y=o[1]*n+o[4]*i+o[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this}clampLength(t,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const n=this.x-t.x,i=this.y-t.y;return n*n+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this}lerpVectors(t,n,i){return this.x=t.x+(n.x-t.x)*i,this.y=t.y+(n.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t}fromBufferAttribute(t,n,i){return i!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(n),this.y=t.getY(n),this}rotateAround(t,n){const i=Math.cos(n),o=Math.sin(n),r=this.x-t.x,a=this.y-t.y;return this.x=r*i-a*o+t.x,this.y=r*o+a*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}class Mn{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,n,i,o,r,a,s,l,c){const u=this.elements;return u[0]=t,u[1]=o,u[2]=s,u[3]=n,u[4]=r,u[5]=l,u[6]=i,u[7]=a,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}clone(){return new this.constructor().fromArray(this.elements)}copy(t){const n=this.elements,i=t.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(t,n,i){return t.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const n=t.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){const i=t.elements,o=n.elements,r=this.elements,a=i[0],s=i[3],l=i[6],c=i[1],u=i[4],d=i[7],f=i[2],h=i[5],p=i[8],y=o[0],b=o[3],g=o[6],m=o[1],_=o[4],x=o[7],M=o[2],w=o[5],T=o[8];return r[0]=a*y+s*m+l*M,r[3]=a*b+s*_+l*w,r[6]=a*g+s*x+l*T,r[1]=c*y+u*m+d*M,r[4]=c*b+u*_+d*w,r[7]=c*g+u*x+d*T,r[2]=f*y+h*m+p*M,r[5]=f*b+h*_+p*w,r[8]=f*g+h*x+p*T,this}multiplyScalar(t){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=t,n[4]*=t,n[7]*=t,n[2]*=t,n[5]*=t,n[8]*=t,this}determinant(){const t=this.elements,n=t[0],i=t[1],o=t[2],r=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8];return n*a*u-n*s*c-i*r*u+i*s*l+o*r*c-o*a*l}invert(){const t=this.elements,n=t[0],i=t[1],o=t[2],r=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],d=u*a-s*c,f=s*l-u*r,h=c*r-a*l,p=n*d+i*f+o*h;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/p;return t[0]=d*y,t[1]=(o*c-u*i)*y,t[2]=(s*i-o*a)*y,t[3]=f*y,t[4]=(u*n-o*l)*y,t[5]=(o*r-s*n)*y,t[6]=h*y,t[7]=(i*l-c*n)*y,t[8]=(a*n-i*r)*y,this}transpose(){let t;const n=this.elements;return t=n[1],n[1]=n[3],n[3]=t,t=n[2],n[2]=n[6],n[6]=t,t=n[5],n[5]=n[7],n[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).copy(this).invert().transpose()}transposeIntoArray(t){const n=this.elements;return t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8],this}setUvTransform(t,n,i,o,r,a,s){const l=Math.cos(r),c=Math.sin(r);return this.set(i*l,i*c,-i*(l*a+c*s)+a+t,-o*c,o*l,-o*(-c*a+l*s)+s+n,0,0,1),this}scale(t,n){const i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=n,i[4]*=n,i[7]*=n,this}rotate(t){const n=Math.cos(t),i=Math.sin(t),o=this.elements,r=o[0],a=o[3],s=o[6],l=o[1],c=o[4],u=o[7];return o[0]=n*r+i*l,o[3]=n*a+i*c,o[6]=n*s+i*u,o[1]=-i*r+n*l,o[4]=-i*a+n*c,o[7]=-i*s+n*u,this}translate(t,n){const i=this.elements;return i[0]+=t*i[2],i[3]+=t*i[5],i[6]+=t*i[8],i[1]+=n*i[2],i[4]+=n*i[5],i[7]+=n*i[8],this}equals(t){const n=this.elements,i=t.elements;for(let o=0;o<9;o++)if(n[o]!==i[o])return!1;return!0}fromArray(t,n=0){for(let i=0;i<9;i++)this.elements[i]=t[i+n];return this}toArray(t=[],n=0){const i=this.elements;return t[n]=i[0],t[n+1]=i[1],t[n+2]=i[2],t[n+3]=i[3],t[n+4]=i[4],t[n+5]=i[5],t[n+6]=i[6],t[n+7]=i[7],t[n+8]=i[8],t}}let wr;const gr={getDataURL:function(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{wr===void 0&&(wr=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),wr.width=e.width,wr.height=e.height;const n=wr.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=wr}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}};let V_=0;function Mt(e=Mt.DEFAULT_IMAGE,t=Mt.DEFAULT_MAPPING,n=wn,i=wn,o=nn,r=La,a=Dn,s=Pa,l=1,c=Tn){Object.defineProperty(this,"id",{value:V_++}),this.uuid=it.generateUUID(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=i,this.magFilter=o,this.minFilter=r,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=s,this.offset=new Ae(0,0),this.repeat=new Ae(1,1),this.center=new Ae(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Mn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.version=0,this.onUpdate=null}Mt.DEFAULT_IMAGE=void 0;Mt.DEFAULT_MAPPING=vu;Mt.prototype=Object.assign(Object.create(Li.prototype),{constructor:Mt,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const i=this.image;if(i.uuid===void 0&&(i.uuid=it.generateUUID()),!t&&e.images[i.uuid]===void 0){let o;if(Array.isArray(i)){o=[];for(let r=0,a=i.length;r<a;r++)i[r].isDataTexture?o.push(Du(i[r].image)):o.push(Du(i[r]))}else o=Du(i);e.images[i.uuid]={uuid:i.uuid,url:o}}n.image=i.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==vu)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case vs:e.x=e.x-Math.floor(e.x);break;case wn:e.x=e.x<0?0:1;break;case gs:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case vs:e.y=e.y-Math.floor(e.y);break;case wn:e.y=e.y<0?0:1;break;case gs:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}});Object.defineProperty(Mt.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});function Du(e){return typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap?gr.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}class _t{constructor(t=0,n=0,i=0,o=1){Object.defineProperty(this,"isVector4",{value:!0}),this.x=t,this.y=n,this.z=i,this.w=o}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,n,i,o){return this.x=t,this.y=n,this.z=i,this.w=o,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t,n){return n!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,n)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this.w=t.w+n.w,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this.w+=t.w*n,this}sub(t,n){return n!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,n)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this.w=t.w-n.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const n=this.x,i=this.y,o=this.z,r=this.w,a=t.elements;return this.x=a[0]*n+a[4]*i+a[8]*o+a[12]*r,this.y=a[1]*n+a[5]*i+a[9]*o+a[13]*r,this.z=a[2]*n+a[6]*i+a[10]*o+a[14]*r,this.w=a[3]*n+a[7]*i+a[11]*o+a[15]*r,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const n=Math.sqrt(1-t.w*t.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/n,this.y=t.y/n,this.z=t.z/n),this}setAxisAngleFromRotationMatrix(t){let n,i,o,r;const l=t.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],p=l[9],y=l[2],b=l[6],g=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-y)<.01&&Math.abs(p-b)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+y)<.1&&Math.abs(p+b)<.1&&Math.abs(c+h+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(c+1)/2,x=(h+1)/2,M=(g+1)/2,w=(u+f)/4,T=(d+y)/4,B=(p+b)/4;return _>x&&_>M?_<.01?(i=0,o=.707106781,r=.707106781):(i=Math.sqrt(_),o=w/i,r=T/i):x>M?x<.01?(i=.707106781,o=0,r=.707106781):(o=Math.sqrt(x),i=w/o,r=B/o):M<.01?(i=.707106781,o=.707106781,r=0):(r=Math.sqrt(M),i=T/r,o=B/r),this.set(i,o,r,n),this}let m=Math.sqrt((b-p)*(b-p)+(d-y)*(d-y)+(f-u)*(f-u));return Math.abs(m)<.001&&(m=1),this.x=(b-p)/m,this.y=(d-y)/m,this.z=(f-u)/m,this.w=Math.acos((c+h+g-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this.w=Math.max(t.w,Math.min(n.w,this.w)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this.w=Math.max(t,Math.min(n,this.w)),this}clampLength(t,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this.w+=(t.w-this.w)*n,this}lerpVectors(t,n,i){return this.x=t.x+(n.x-t.x)*i,this.y=t.y+(n.y-t.y)*i,this.z=t.z+(n.z-t.z)*i,this.w=t.w+(n.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this.z=t[n+2],this.w=t[n+3],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t[n+3]=this.w,t}fromBufferAttribute(t,n,i){return i!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this.w=t.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}function zn(e,t,n){this.width=e,this.height=t,this.scissor=new _t(0,0,e,t),this.scissorTest=!1,this.viewport=new _t(0,0,e,t),n=n||{},this.texture=new Mt(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:nn,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null}zn.prototype=Object.assign(Object.create(Li.prototype),{constructor:zn,isWebGLRenderTarget:!0,setSize:function(e,t){(this.width!==e||this.height!==t)&&(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function Jd(e,t,n){zn.call(this,e,t,n),this.samples=4}Jd.prototype=Object.assign(Object.create(zn.prototype),{constructor:Jd,isWebGLMultisampleRenderTarget:!0,copy:function(e){return zn.prototype.copy.call(this,e),this.samples=e.samples,this}});class mn{constructor(t=0,n=0,i=0,o=1){Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=t,this._y=n,this._z=i,this._w=o}static slerp(t,n,i,o){return i.copy(t).slerp(n,o)}static slerpFlat(t,n,i,o,r,a,s){let l=i[o+0],c=i[o+1],u=i[o+2],d=i[o+3];const f=r[a+0],h=r[a+1],p=r[a+2],y=r[a+3];if(d!==y||l!==f||c!==h||u!==p){let b=1-s;const g=l*f+c*h+u*p+d*y,m=g>=0?1:-1,_=1-g*g;if(_>Number.EPSILON){const M=Math.sqrt(_),w=Math.atan2(M,g*m);b=Math.sin(b*w)/M,s=Math.sin(s*w)/M}const x=s*m;if(l=l*b+f*x,c=c*b+h*x,u=u*b+p*x,d=d*b+y*x,b===1-s){const M=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=M,c*=M,u*=M,d*=M}}t[n]=l,t[n+1]=c,t[n+2]=u,t[n+3]=d}static multiplyQuaternionsFlat(t,n,i,o,r,a){const s=i[o],l=i[o+1],c=i[o+2],u=i[o+3],d=r[a],f=r[a+1],h=r[a+2],p=r[a+3];return t[n]=s*p+u*d+l*h-c*f,t[n+1]=l*p+u*f+c*d-s*h,t[n+2]=c*p+u*h+s*f-l*d,t[n+3]=u*p-s*d-l*f-c*h,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,n,i,o){return this._x=t,this._y=n,this._z=i,this._w=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,n){if(!(t&&t.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=t._x,o=t._y,r=t._z,a=t._order,s=Math.cos,l=Math.sin,c=s(i/2),u=s(o/2),d=s(r/2),f=l(i/2),h=l(o/2),p=l(r/2);switch(a){case"XYZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"YXZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"ZXY":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"ZYX":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"YZX":this._x=f*u*d+c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d-f*h*p;break;case"XZY":this._x=f*u*d-c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d+f*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(t,n){const i=n/2,o=Math.sin(i);return this._x=t.x*o,this._y=t.y*o,this._z=t.z*o,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const n=t.elements,i=n[0],o=n[4],r=n[8],a=n[1],s=n[5],l=n[9],c=n[2],u=n[6],d=n[10],f=i+s+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(r-c)*h,this._z=(a-o)*h}else if(i>s&&i>d){const h=2*Math.sqrt(1+i-s-d);this._w=(u-l)/h,this._x=.25*h,this._y=(o+a)/h,this._z=(r+c)/h}else if(s>d){const h=2*Math.sqrt(1+s-i-d);this._w=(r-c)/h,this._x=(o+a)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-i-s);this._w=(a-o)/h,this._x=(r+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(t,n){let o=t.dot(n)+1;return o<1e-6?(o=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=o):(this._x=0,this._y=-t.z,this._z=t.y,this._w=o)):(this._x=t.y*n.z-t.z*n.y,this._y=t.z*n.x-t.x*n.z,this._z=t.x*n.y-t.y*n.x,this._w=o),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(it.clamp(this.dot(t),-1,1)))}rotateTowards(t,n){const i=this.angleTo(t);if(i===0)return this;const o=Math.min(1,n/i);return this.slerp(t,o),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,n){return n!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,n)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,n){const i=t._x,o=t._y,r=t._z,a=t._w,s=n._x,l=n._y,c=n._z,u=n._w;return this._x=i*u+a*s+o*c-r*l,this._y=o*u+a*l+r*s-i*c,this._z=r*u+a*c+i*l-o*s,this._w=a*u-i*s-o*l-r*c,this._onChangeCallback(),this}slerp(t,n){if(n===0)return this;if(n===1)return this.copy(t);const i=this._x,o=this._y,r=this._z,a=this._w;let s=a*t._w+i*t._x+o*t._y+r*t._z;if(s<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),s>=1)return this._w=a,this._x=i,this._y=o,this._z=r,this;const l=1-s*s;if(l<=Number.EPSILON){const h=1-n;return this._w=h*a+n*this._w,this._x=h*i+n*this._x,this._y=h*o+n*this._y,this._z=h*r+n*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,s),d=Math.sin((1-n)*u)/c,f=Math.sin(n*u)/c;return this._w=a*d+this._w*f,this._x=i*d+this._x*f,this._y=o*d+this._y*f,this._z=r*d+this._z*f,this._onChangeCallback(),this}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,n=0){return this._x=t[n],this._y=t[n+1],this._z=t[n+2],this._w=t[n+3],this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._w,t}fromBufferAttribute(t,n){return this._x=t.getX(n),this._y=t.getY(n),this._z=t.getZ(n),this._w=t.getW(n),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}class H{constructor(t=0,n=0,i=0){Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=n,this.z=i}set(t,n,i){return i===void 0&&(i=this.z),this.x=t,this.y=n,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,n){return n!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,n)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this}sub(t,n){return n!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,n)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this}multiply(t,n){return n!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,n)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,n){return this.x=t.x*n.x,this.y=t.y*n.y,this.z=t.z*n.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(cp.setFromEuler(t))}applyAxisAngle(t,n){return this.applyQuaternion(cp.setFromAxisAngle(t,n))}applyMatrix3(t){const n=this.x,i=this.y,o=this.z,r=t.elements;return this.x=r[0]*n+r[3]*i+r[6]*o,this.y=r[1]*n+r[4]*i+r[7]*o,this.z=r[2]*n+r[5]*i+r[8]*o,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const n=this.x,i=this.y,o=this.z,r=t.elements,a=1/(r[3]*n+r[7]*i+r[11]*o+r[15]);return this.x=(r[0]*n+r[4]*i+r[8]*o+r[12])*a,this.y=(r[1]*n+r[5]*i+r[9]*o+r[13])*a,this.z=(r[2]*n+r[6]*i+r[10]*o+r[14])*a,this}applyQuaternion(t){const n=this.x,i=this.y,o=this.z,r=t.x,a=t.y,s=t.z,l=t.w,c=l*n+a*o-s*i,u=l*i+s*n-r*o,d=l*o+r*i-a*n,f=-r*n-a*i-s*o;return this.x=c*l+f*-r+u*-s-d*-a,this.y=u*l+f*-a+d*-r-c*-s,this.z=d*l+f*-s+c*-a-u*-r,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const n=this.x,i=this.y,o=this.z,r=t.elements;return this.x=r[0]*n+r[4]*i+r[8]*o,this.y=r[1]*n+r[5]*i+r[9]*o,this.z=r[2]*n+r[6]*i+r[10]*o,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this}clampLength(t,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this}lerpVectors(t,n,i){return this.x=t.x+(n.x-t.x)*i,this.y=t.y+(n.y-t.y)*i,this.z=t.z+(n.z-t.z)*i,this}cross(t,n){return n!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,n)):this.crossVectors(this,t)}crossVectors(t,n){const i=t.x,o=t.y,r=t.z,a=n.x,s=n.y,l=n.z;return this.x=o*l-r*s,this.y=r*a-i*l,this.z=i*s-o*a,this}projectOnVector(t){const n=t.lengthSq();if(n===0)return this.set(0,0,0);const i=t.dot(this)/n;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return zu.copy(this).projectOnVector(t),this.sub(zu)}reflect(t){return this.sub(zu.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const n=Math.sqrt(this.lengthSq()*t.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(t)/n;return Math.acos(it.clamp(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const n=this.x-t.x,i=this.y-t.y,o=this.z-t.z;return n*n+i*i+o*o}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,n,i){const o=Math.sin(n)*t;return this.x=o*Math.sin(i),this.y=Math.cos(n)*t,this.z=o*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,n,i){return this.x=t*Math.sin(n),this.y=i,this.z=t*Math.cos(n),this}setFromMatrixPosition(t){const n=t.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(t){const n=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),o=this.setFromMatrixColumn(t,2).length();return this.x=n,this.y=i,this.z=o,this}setFromMatrixColumn(t,n){return this.fromArray(t.elements,n*4)}setFromMatrix3Column(t,n){return this.fromArray(t.elements,n*3)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this.z=t[n+2],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t}fromBufferAttribute(t,n,i){return i!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}const zu=new H,cp=new mn;class Pi{constructor(t,n){Object.defineProperty(this,"isBox3",{value:!0}),this.min=t!==void 0?t:new H(1/0,1/0,1/0),this.max=n!==void 0?n:new H(-1/0,-1/0,-1/0)}set(t,n){return this.min.copy(t),this.max.copy(n),this}setFromArray(t){let n=1/0,i=1/0,o=1/0,r=-1/0,a=-1/0,s=-1/0;for(let l=0,c=t.length;l<c;l+=3){const u=t[l],d=t[l+1],f=t[l+2];u<n&&(n=u),d<i&&(i=d),f<o&&(o=f),u>r&&(r=u),d>a&&(a=d),f>s&&(s=f)}return this.min.set(n,i,o),this.max.set(r,a,s),this}setFromBufferAttribute(t){let n=1/0,i=1/0,o=1/0,r=-1/0,a=-1/0,s=-1/0;for(let l=0,c=t.count;l<c;l++){const u=t.getX(l),d=t.getY(l),f=t.getZ(l);u<n&&(n=u),d<i&&(i=d),f<o&&(o=f),u>r&&(r=u),d>a&&(a=d),f>s&&(s=f)}return this.min.set(n,i,o),this.max.set(r,a,s),this}setFromPoints(t){this.makeEmpty();for(let n=0,i=t.length;n<i;n++)this.expandByPoint(t[n]);return this}setFromCenterAndSize(t,n){const i=Va.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t){return this.makeEmpty(),this.expandByObject(t)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return t===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new H),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return t===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new H),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t){t.updateWorldMatrix(!1,!1);const n=t.geometry;n!==void 0&&(n.boundingBox===null&&n.computeBoundingBox(),Vu.copy(n.boundingBox),Vu.applyMatrix4(t.matrixWorld),this.union(Vu));const i=t.children;for(let o=0,r=i.length;o<r;o++)this.expandByObject(i[o]);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,n){return n===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),n=new H),n.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,Va),Va.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let n,i;return t.normal.x>0?(n=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(n=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(n+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(n+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(n+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(n+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),n<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Ha),gl.subVectors(this.max,Ha),Sr.subVectors(t.a,Ha),Mr.subVectors(t.b,Ha),Tr.subVectors(t.c,Ha),to.subVectors(Mr,Sr),no.subVectors(Tr,Mr),Io.subVectors(Sr,Tr);let n=[0,-to.z,to.y,0,-no.z,no.y,0,-Io.z,Io.y,to.z,0,-to.x,no.z,0,-no.x,Io.z,0,-Io.x,-to.y,to.x,0,-no.y,no.x,0,-Io.y,Io.x,0];return!qu(n,Sr,Mr,Tr,gl)||(n=[1,0,0,0,1,0,0,0,1],!qu(n,Sr,Mr,Tr,gl))?!1:(yl.crossVectors(to,no),n=[yl.x,yl.y,yl.z],qu(n,Sr,Mr,Tr,gl))}clampPoint(t,n){return n===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),n=new H),n.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return Va.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return t===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=this.getSize(Va).length()*.5,t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(Bi[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Bi[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Bi[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Bi[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Bi[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Bi[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Bi[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Bi[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Bi),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}function qu(e,t,n,i,o){for(let r=0,a=e.length-3;r<=a;r+=3){Fo.fromArray(e,r);const s=o.x*Math.abs(Fo.x)+o.y*Math.abs(Fo.y)+o.z*Math.abs(Fo.z),l=t.dot(Fo),c=n.dot(Fo),u=i.dot(Fo);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>s)return!1}return!0}const Bi=[new H,new H,new H,new H,new H,new H,new H,new H],Va=new H,Vu=new Pi,Sr=new H,Mr=new H,Tr=new H,to=new H,no=new H,Io=new H,Ha=new H,gl=new H,yl=new H,Fo=new H,H_=new Pi;class Zi{constructor(t,n){this.center=t!==void 0?t:new H,this.radius=n!==void 0?n:-1}set(t,n){return this.center.copy(t),this.radius=n,this}setFromPoints(t,n){const i=this.center;n!==void 0?i.copy(n):H_.setFromPoints(t).getCenter(i);let o=0;for(let r=0,a=t.length;r<a;r++)o=Math.max(o,i.distanceToSquared(t[r]));return this.radius=Math.sqrt(o),this}clone(){return new this.constructor().copy(this)}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const n=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=n*n}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,n){const i=this.center.distanceToSquared(t);return n===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),n=new H),n.copy(t),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(t){return t===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new Pi),this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}}const Ii=new H,Hu=new H,bl=new H,io=new H,Uu=new H,xl=new H,Gu=new H;class Ra{constructor(t,n){this.origin=t!==void 0?t:new H,this.direction=n!==void 0?n:new H(0,0,-1)}set(t,n){return this.origin.copy(t),this.direction.copy(n),this}clone(){return new this.constructor().copy(this)}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,n){return n===void 0&&(console.warn("THREE.Ray: .at() target is now required"),n=new H),n.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Ii)),this}closestPointToPoint(t,n){n===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),n=new H),n.subVectors(t,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const n=Ii.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(Ii.copy(this.direction).multiplyScalar(n).add(this.origin),Ii.distanceToSquared(t))}distanceSqToSegment(t,n,i,o){Hu.copy(t).add(n).multiplyScalar(.5),bl.copy(n).sub(t).normalize(),io.copy(this.origin).sub(Hu);const r=t.distanceTo(n)*.5,a=-this.direction.dot(bl),s=io.dot(this.direction),l=-io.dot(bl),c=io.lengthSq(),u=Math.abs(1-a*a);let d,f,h,p;if(u>0)if(d=a*l-s,f=a*s-l,p=r*u,d>=0)if(f>=-p)if(f<=p){const y=1/u;d*=y,f*=y,h=d*(d+a*f+2*s)+f*(a*d+f+2*l)+c}else f=r,d=Math.max(0,-(a*f+s)),h=-d*d+f*(f+2*l)+c;else f=-r,d=Math.max(0,-(a*f+s)),h=-d*d+f*(f+2*l)+c;else f<=-p?(d=Math.max(0,-(-a*r+s)),f=d>0?-r:Math.min(Math.max(-r,-l),r),h=-d*d+f*(f+2*l)+c):f<=p?(d=0,f=Math.min(Math.max(-r,-l),r),h=f*(f+2*l)+c):(d=Math.max(0,-(a*r+s)),f=d>0?r:Math.min(Math.max(-r,-l),r),h=-d*d+f*(f+2*l)+c);else f=a>0?-r:r,d=Math.max(0,-(a*f+s)),h=-d*d+f*(f+2*l)+c;return i&&i.copy(this.direction).multiplyScalar(d).add(this.origin),o&&o.copy(bl).multiplyScalar(f).add(Hu),h}intersectSphere(t,n){Ii.subVectors(t.center,this.origin);const i=Ii.dot(this.direction),o=Ii.dot(Ii)-i*i,r=t.radius*t.radius;if(o>r)return null;const a=Math.sqrt(r-o),s=i-a,l=i+a;return s<0&&l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const n=t.normal.dot(this.direction);if(n===0)return t.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/n;return i>=0?i:null}intersectPlane(t,n){const i=this.distanceToPlane(t);return i===null?null:this.at(i,n)}intersectsPlane(t){const n=t.distanceToPoint(this.origin);return n===0||t.normal.dot(this.direction)*n<0}intersectBox(t,n){let i,o,r,a,s,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(i=(t.min.x-f.x)*c,o=(t.max.x-f.x)*c):(i=(t.max.x-f.x)*c,o=(t.min.x-f.x)*c),u>=0?(r=(t.min.y-f.y)*u,a=(t.max.y-f.y)*u):(r=(t.max.y-f.y)*u,a=(t.min.y-f.y)*u),i>a||r>o||((r>i||i!==i)&&(i=r),(a<o||o!==o)&&(o=a),d>=0?(s=(t.min.z-f.z)*d,l=(t.max.z-f.z)*d):(s=(t.max.z-f.z)*d,l=(t.min.z-f.z)*d),i>l||s>o)||((s>i||i!==i)&&(i=s),(l<o||o!==o)&&(o=l),o<0)?null:this.at(i>=0?i:o,n)}intersectsBox(t){return this.intersectBox(t,Ii)!==null}intersectTriangle(t,n,i,o,r){Uu.subVectors(n,t),xl.subVectors(i,t),Gu.crossVectors(Uu,xl);let a=this.direction.dot(Gu),s;if(a>0){if(o)return null;s=1}else if(a<0)s=-1,a=-a;else return null;io.subVectors(this.origin,t);const l=s*this.direction.dot(xl.crossVectors(io,xl));if(l<0)return null;const c=s*this.direction.dot(Uu.cross(io));if(c<0||l+c>a)return null;const u=-s*io.dot(Gu);return u<0?null:this.at(u/a,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}class lt{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,n,i,o,r,a,s,l,c,u,d,f,h,p,y,b){const g=this.elements;return g[0]=t,g[4]=n,g[8]=i,g[12]=o,g[1]=r,g[5]=a,g[9]=s,g[13]=l,g[2]=c,g[6]=u,g[10]=d,g[14]=f,g[3]=h,g[7]=p,g[11]=y,g[15]=b,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new lt().fromArray(this.elements)}copy(t){const n=this.elements,i=t.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(t){const n=this.elements,i=t.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}extractBasis(t,n,i){return t.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,n,i){return this.set(t.x,n.x,i.x,0,t.y,n.y,i.y,0,t.z,n.z,i.z,0,0,0,0,1),this}extractRotation(t){const n=this.elements,i=t.elements,o=1/Cr.setFromMatrixColumn(t,0).length(),r=1/Cr.setFromMatrixColumn(t,1).length(),a=1/Cr.setFromMatrixColumn(t,2).length();return n[0]=i[0]*o,n[1]=i[1]*o,n[2]=i[2]*o,n[3]=0,n[4]=i[4]*r,n[5]=i[5]*r,n[6]=i[6]*r,n[7]=0,n[8]=i[8]*a,n[9]=i[9]*a,n[10]=i[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const n=this.elements,i=t.x,o=t.y,r=t.z,a=Math.cos(i),s=Math.sin(i),l=Math.cos(o),c=Math.sin(o),u=Math.cos(r),d=Math.sin(r);if(t.order==="XYZ"){const f=a*u,h=a*d,p=s*u,y=s*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=h+p*c,n[5]=f-y*c,n[9]=-s*l,n[2]=y-f*c,n[6]=p+h*c,n[10]=a*l}else if(t.order==="YXZ"){const f=l*u,h=l*d,p=c*u,y=c*d;n[0]=f+y*s,n[4]=p*s-h,n[8]=a*c,n[1]=a*d,n[5]=a*u,n[9]=-s,n[2]=h*s-p,n[6]=y+f*s,n[10]=a*l}else if(t.order==="ZXY"){const f=l*u,h=l*d,p=c*u,y=c*d;n[0]=f-y*s,n[4]=-a*d,n[8]=p+h*s,n[1]=h+p*s,n[5]=a*u,n[9]=y-f*s,n[2]=-a*c,n[6]=s,n[10]=a*l}else if(t.order==="ZYX"){const f=a*u,h=a*d,p=s*u,y=s*d;n[0]=l*u,n[4]=p*c-h,n[8]=f*c+y,n[1]=l*d,n[5]=y*c+f,n[9]=h*c-p,n[2]=-c,n[6]=s*l,n[10]=a*l}else if(t.order==="YZX"){const f=a*l,h=a*c,p=s*l,y=s*c;n[0]=l*u,n[4]=y-f*d,n[8]=p*d+h,n[1]=d,n[5]=a*u,n[9]=-s*u,n[2]=-c*u,n[6]=h*d+p,n[10]=f-y*d}else if(t.order==="XZY"){const f=a*l,h=a*c,p=s*l,y=s*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=f*d+y,n[5]=a*u,n[9]=h*d-p,n[2]=p*d-h,n[6]=s*u,n[10]=y*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(t){return this.compose(U_,t,G_)}lookAt(t,n,i){const o=this.elements;return Bn.subVectors(t,n),Bn.lengthSq()===0&&(Bn.z=1),Bn.normalize(),oo.crossVectors(i,Bn),oo.lengthSq()===0&&(Math.abs(i.z)===1?Bn.x+=1e-4:Bn.z+=1e-4,Bn.normalize(),oo.crossVectors(i,Bn)),oo.normalize(),_l.crossVectors(Bn,oo),o[0]=oo.x,o[4]=_l.x,o[8]=Bn.x,o[1]=oo.y,o[5]=_l.y,o[9]=Bn.y,o[2]=oo.z,o[6]=_l.z,o[10]=Bn.z,this}multiply(t,n){return n!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,n)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){const i=t.elements,o=n.elements,r=this.elements,a=i[0],s=i[4],l=i[8],c=i[12],u=i[1],d=i[5],f=i[9],h=i[13],p=i[2],y=i[6],b=i[10],g=i[14],m=i[3],_=i[7],x=i[11],M=i[15],w=o[0],T=o[4],B=o[8],D=o[12],z=o[1],A=o[5],O=o[9],C=o[13],P=o[2],L=o[6],q=o[10],F=o[14],j=o[3],G=o[7],Y=o[11],ee=o[15];return r[0]=a*w+s*z+l*P+c*j,r[4]=a*T+s*A+l*L+c*G,r[8]=a*B+s*O+l*q+c*Y,r[12]=a*D+s*C+l*F+c*ee,r[1]=u*w+d*z+f*P+h*j,r[5]=u*T+d*A+f*L+h*G,r[9]=u*B+d*O+f*q+h*Y,r[13]=u*D+d*C+f*F+h*ee,r[2]=p*w+y*z+b*P+g*j,r[6]=p*T+y*A+b*L+g*G,r[10]=p*B+y*O+b*q+g*Y,r[14]=p*D+y*C+b*F+g*ee,r[3]=m*w+_*z+x*P+M*j,r[7]=m*T+_*A+x*L+M*G,r[11]=m*B+_*O+x*q+M*Y,r[15]=m*D+_*C+x*F+M*ee,this}multiplyScalar(t){const n=this.elements;return n[0]*=t,n[4]*=t,n[8]*=t,n[12]*=t,n[1]*=t,n[5]*=t,n[9]*=t,n[13]*=t,n[2]*=t,n[6]*=t,n[10]*=t,n[14]*=t,n[3]*=t,n[7]*=t,n[11]*=t,n[15]*=t,this}determinant(){const t=this.elements,n=t[0],i=t[4],o=t[8],r=t[12],a=t[1],s=t[5],l=t[9],c=t[13],u=t[2],d=t[6],f=t[10],h=t[14],p=t[3],y=t[7],b=t[11],g=t[15];return p*(+r*l*d-o*c*d-r*s*f+i*c*f+o*s*h-i*l*h)+y*(+n*l*h-n*c*f+r*a*f-o*a*h+o*c*u-r*l*u)+b*(+n*c*d-n*s*h-r*a*d+i*a*h+r*s*u-i*c*u)+g*(-o*s*u-n*l*d+n*s*f+o*a*d-i*a*f+i*l*u)}transpose(){const t=this.elements;let n;return n=t[1],t[1]=t[4],t[4]=n,n=t[2],t[2]=t[8],t[8]=n,n=t[6],t[6]=t[9],t[9]=n,n=t[3],t[3]=t[12],t[12]=n,n=t[7],t[7]=t[13],t[13]=n,n=t[11],t[11]=t[14],t[14]=n,this}setPosition(t,n,i){const o=this.elements;return t.isVector3?(o[12]=t.x,o[13]=t.y,o[14]=t.z):(o[12]=t,o[13]=n,o[14]=i),this}invert(){const t=this.elements,n=t[0],i=t[1],o=t[2],r=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],d=t[9],f=t[10],h=t[11],p=t[12],y=t[13],b=t[14],g=t[15],m=d*b*c-y*f*c+y*l*h-s*b*h-d*l*g+s*f*g,_=p*f*c-u*b*c-p*l*h+a*b*h+u*l*g-a*f*g,x=u*y*c-p*d*c+p*s*h-a*y*h-u*s*g+a*d*g,M=p*d*l-u*y*l-p*s*f+a*y*f+u*s*b-a*d*b,w=n*m+i*_+o*x+r*M;if(w===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/w;return t[0]=m*T,t[1]=(y*f*r-d*b*r-y*o*h+i*b*h+d*o*g-i*f*g)*T,t[2]=(s*b*r-y*l*r+y*o*c-i*b*c-s*o*g+i*l*g)*T,t[3]=(d*l*r-s*f*r-d*o*c+i*f*c+s*o*h-i*l*h)*T,t[4]=_*T,t[5]=(u*b*r-p*f*r+p*o*h-n*b*h-u*o*g+n*f*g)*T,t[6]=(p*l*r-a*b*r-p*o*c+n*b*c+a*o*g-n*l*g)*T,t[7]=(a*f*r-u*l*r+u*o*c-n*f*c-a*o*h+n*l*h)*T,t[8]=x*T,t[9]=(p*d*r-u*y*r-p*i*h+n*y*h+u*i*g-n*d*g)*T,t[10]=(a*y*r-p*s*r+p*i*c-n*y*c-a*i*g+n*s*g)*T,t[11]=(u*s*r-a*d*r-u*i*c+n*d*c+a*i*h-n*s*h)*T,t[12]=M*T,t[13]=(u*y*o-p*d*o+p*i*f-n*y*f-u*i*b+n*d*b)*T,t[14]=(p*s*o-a*y*o-p*i*l+n*y*l+a*i*b-n*s*b)*T,t[15]=(a*d*o-u*s*o+u*i*l-n*d*l-a*i*f+n*s*f)*T,this}scale(t){const n=this.elements,i=t.x,o=t.y,r=t.z;return n[0]*=i,n[4]*=o,n[8]*=r,n[1]*=i,n[5]*=o,n[9]*=r,n[2]*=i,n[6]*=o,n[10]*=r,n[3]*=i,n[7]*=o,n[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements,n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],o=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(n,i,o))}makeTranslation(t,n,i){return this.set(1,0,0,t,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(t){const n=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(t){const n=Math.cos(t),i=Math.sin(t);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(t){const n=Math.cos(t),i=Math.sin(t);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,n){const i=Math.cos(n),o=Math.sin(n),r=1-i,a=t.x,s=t.y,l=t.z,c=r*a,u=r*s;return this.set(c*a+i,c*s-o*l,c*l+o*s,0,c*s+o*l,u*s+i,u*l-o*a,0,c*l-o*s,u*l+o*a,r*l*l+i,0,0,0,0,1),this}makeScale(t,n,i){return this.set(t,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,n,i){return this.set(1,n,i,0,t,1,i,0,t,n,1,0,0,0,0,1),this}compose(t,n,i){const o=this.elements,r=n._x,a=n._y,s=n._z,l=n._w,c=r+r,u=a+a,d=s+s,f=r*c,h=r*u,p=r*d,y=a*u,b=a*d,g=s*d,m=l*c,_=l*u,x=l*d,M=i.x,w=i.y,T=i.z;return o[0]=(1-(y+g))*M,o[1]=(h+x)*M,o[2]=(p-_)*M,o[3]=0,o[4]=(h-x)*w,o[5]=(1-(f+g))*w,o[6]=(b+m)*w,o[7]=0,o[8]=(p+_)*T,o[9]=(b-m)*T,o[10]=(1-(f+y))*T,o[11]=0,o[12]=t.x,o[13]=t.y,o[14]=t.z,o[15]=1,this}decompose(t,n,i){const o=this.elements;let r=Cr.set(o[0],o[1],o[2]).length();const a=Cr.set(o[4],o[5],o[6]).length(),s=Cr.set(o[8],o[9],o[10]).length();this.determinant()<0&&(r=-r),t.x=o[12],t.y=o[13],t.z=o[14],ti.copy(this);const c=1/r,u=1/a,d=1/s;return ti.elements[0]*=c,ti.elements[1]*=c,ti.elements[2]*=c,ti.elements[4]*=u,ti.elements[5]*=u,ti.elements[6]*=u,ti.elements[8]*=d,ti.elements[9]*=d,ti.elements[10]*=d,n.setFromRotationMatrix(ti),i.x=r,i.y=a,i.z=s,this}makePerspective(t,n,i,o,r,a){a===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const s=this.elements,l=2*r/(n-t),c=2*r/(i-o),u=(n+t)/(n-t),d=(i+o)/(i-o),f=-(a+r)/(a-r),h=-2*a*r/(a-r);return s[0]=l,s[4]=0,s[8]=u,s[12]=0,s[1]=0,s[5]=c,s[9]=d,s[13]=0,s[2]=0,s[6]=0,s[10]=f,s[14]=h,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(t,n,i,o,r,a){const s=this.elements,l=1/(n-t),c=1/(i-o),u=1/(a-r),d=(n+t)*l,f=(i+o)*c,h=(a+r)*u;return s[0]=2*l,s[4]=0,s[8]=0,s[12]=-d,s[1]=0,s[5]=2*c,s[9]=0,s[13]=-f,s[2]=0,s[6]=0,s[10]=-2*u,s[14]=-h,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(t){const n=this.elements,i=t.elements;for(let o=0;o<16;o++)if(n[o]!==i[o])return!1;return!0}fromArray(t,n=0){for(let i=0;i<16;i++)this.elements[i]=t[i+n];return this}toArray(t=[],n=0){const i=this.elements;return t[n]=i[0],t[n+1]=i[1],t[n+2]=i[2],t[n+3]=i[3],t[n+4]=i[4],t[n+5]=i[5],t[n+6]=i[6],t[n+7]=i[7],t[n+8]=i[8],t[n+9]=i[9],t[n+10]=i[10],t[n+11]=i[11],t[n+12]=i[12],t[n+13]=i[13],t[n+14]=i[14],t[n+15]=i[15],t}}const Cr=new H,ti=new lt,U_=new H(0,0,0),G_=new H(1,1,1),oo=new H,_l=new H,Bn=new H;class ka{constructor(t=0,n=0,i=0,o=ka.DefaultOrder){Object.defineProperty(this,"isEuler",{value:!0}),this._x=t,this._y=n,this._z=i,this._order=o}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,n,i,o){return this._x=t,this._y=n,this._z=i,this._order=o||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,n,i){const o=it.clamp,r=t.elements,a=r[0],s=r[4],l=r[8],c=r[1],u=r[5],d=r[9],f=r[2],h=r[6],p=r[10];switch(n=n||this._order,n){case"XYZ":this._y=Math.asin(o(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,p),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-o(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(l,p),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-f,a),this._z=0);break;case"ZXY":this._x=Math.asin(o(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-s,u)):(this._y=0,this._z=Math.atan2(c,a));break;case"ZYX":this._y=Math.asin(-o(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-s,u));break;case"YZX":this._z=Math.asin(o(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(l,p));break;case"XZY":this._z=Math.asin(-o(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(l,a)):(this._x=Math.atan2(-d,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i!==!1&&this._onChangeCallback(),this}setFromQuaternion(t,n,i){return up.makeRotationFromQuaternion(t),this.setFromRotationMatrix(up,n,i)}setFromVector3(t,n){return this.set(t.x,t.y,t.z,n||this._order)}reorder(t){return dp.setFromEuler(this),this.setFromQuaternion(dp,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._order,t}toVector3(t){return t?t.set(this._x,this._y,this._z):new H(this._x,this._y,this._z)}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}ka.DefaultOrder="XYZ";ka.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];const up=new lt,dp=new mn;class $h{constructor(){this.mask=1}set(t){this.mask=1<<t|0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}}let W_=0;const hp=new H,Er=new mn,Fi=new lt,wl=new H,Ua=new H,$_=new H,j_=new mn,fp=new H(1,0,0),pp=new H(0,1,0),mp=new H(0,0,1),Q_={type:"added"},vp={type:"removed"};function Qe(){Object.defineProperty(this,"id",{value:W_++}),this.uuid=it.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Qe.DefaultUp.clone();const e=new H,t=new ka,n=new mn,i=new H(1,1,1);function o(){n.setFromEuler(t,!1)}function r(){t.setFromQuaternion(n,void 0,!1)}t._onChange(o),n._onChange(r),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new lt},normalMatrix:{value:new Mn}}),this.matrix=new lt,this.matrixWorld=new lt,this.matrixAutoUpdate=Qe.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new $h,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}Qe.DefaultUp=new H(0,1,0);Qe.DefaultMatrixAutoUpdate=!0;Qe.prototype=Object.assign(Object.create(Li.prototype),{constructor:Qe,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return Er.setFromAxisAngle(e,t),this.quaternion.multiply(Er),this},rotateOnWorldAxis:function(e,t){return Er.setFromAxisAngle(e,t),this.quaternion.premultiply(Er),this},rotateX:function(e){return this.rotateOnAxis(fp,e)},rotateY:function(e){return this.rotateOnAxis(pp,e)},rotateZ:function(e){return this.rotateOnAxis(mp,e)},translateOnAxis:function(e,t){return hp.copy(e).applyQuaternion(this.quaternion),this.position.add(hp.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(fp,e)},translateY:function(e){return this.translateOnAxis(pp,e)},translateZ:function(e){return this.translateOnAxis(mp,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(Fi.copy(this.matrixWorld).invert())},lookAt:function(e,t,n){e.isVector3?wl.copy(e):wl.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),Ua.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Fi.lookAt(Ua,wl,this.up):Fi.lookAt(wl,Ua,this.up),this.quaternion.setFromRotationMatrix(Fi),i&&(Fi.extractRotation(i.matrixWorld),Er.setFromRotationMatrix(Fi),this.quaternion.premultiply(Er.invert()))},add:function(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Q_)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(vp)),this},clear:function(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(vp)}return this.children.length=0,this},attach:function(e){return this.updateWorldMatrix(!0,!1),Fi.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Fi.multiply(e.parent.matrixWorld)),e.applyMatrix4(Fi),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const r=this.children[n].getObjectByProperty(e,t);if(r!==void 0)return r}},getWorldPosition:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new H),this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new mn),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ua,e,$_),e},getWorldScale:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new H),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ua,j_,e),e},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new H),this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)},traverseVisible:function(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)},traverseAncestors:function(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let o=0,r=i.length;o<r;o++)i[o].updateWorldMatrix(!1,!0)}},toJSON:function(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON());function o(a,s){return a[s.uuid]===void 0&&(a[s.uuid]=s.toJSON(e)),s.uuid}if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const s=a.shapes;if(Array.isArray(s))for(let l=0,c=s.length;l<c;l++){const u=s[l];o(e.shapes,u)}else o(e.shapes,s)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let s=0,l=this.material.length;s<l;s++)a.push(o(e.materials,this.material[s]));i.material=a}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const s=this.animations[a];i.animations.push(o(e.animations,s))}}if(t){const a=r(e.geometries),s=r(e.materials),l=r(e.textures),c=r(e.images),u=r(e.shapes),d=r(e.skeletons),f=r(e.animations);a.length>0&&(n.geometries=a),s.length>0&&(n.materials=s),l.length>0&&(n.textures=l),c.length>0&&(n.images=c),u.length>0&&(n.shapes=u),d.length>0&&(n.skeletons=d),f.length>0&&(n.animations=f)}return n.object=i,n;function r(a){const s=[];for(const l in a){const c=a[l];delete c.metadata,s.push(c)}return s}},clone:function(e){return new this.constructor().copy(this,e)},copy:function(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}});const Wu=new H,Y_=new H,X_=new Mn;class xi{constructor(t,n){Object.defineProperty(this,"isPlane",{value:!0}),this.normal=t!==void 0?t:new H(1,0,0),this.constant=n!==void 0?n:0}set(t,n){return this.normal.copy(t),this.constant=n,this}setComponents(t,n,i,o){return this.normal.set(t,n,i),this.constant=o,this}setFromNormalAndCoplanarPoint(t,n){return this.normal.copy(t),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(t,n,i){const o=Wu.subVectors(i,n).cross(Y_.subVectors(t,n)).normalize();return this.setFromNormalAndCoplanarPoint(o,t),this}clone(){return new this.constructor().copy(this)}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,n){return n===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),n=new H),n.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,n){n===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new H);const i=t.delta(Wu),o=this.normal.dot(i);if(o===0)return this.distanceToPoint(t.start)===0?n.copy(t.start):void 0;const r=-(t.start.dot(this.normal)+this.constant)/o;if(!(r<0||r>1))return n.copy(i).multiplyScalar(r).add(t.start)}intersectsLine(t){const n=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return n<0&&i>0||i<0&&n>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new H),t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,n){const i=n||X_.getNormalMatrix(t),o=this.coplanarPoint(Wu).applyMatrix4(t),r=this.normal.applyMatrix3(i).normalize();return this.constant=-o.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}const ni=new H,Oi=new H,$u=new H,Ni=new H,Ar=new H,Lr=new H,gp=new H,ju=new H,Qu=new H,Yu=new H;class cn{constructor(t,n,i){this.a=t!==void 0?t:new H,this.b=n!==void 0?n:new H,this.c=i!==void 0?i:new H}static getNormal(t,n,i,o){o===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),o=new H),o.subVectors(i,n),ni.subVectors(t,n),o.cross(ni);const r=o.lengthSq();return r>0?o.multiplyScalar(1/Math.sqrt(r)):o.set(0,0,0)}static getBarycoord(t,n,i,o,r){ni.subVectors(o,n),Oi.subVectors(i,n),$u.subVectors(t,n);const a=ni.dot(ni),s=ni.dot(Oi),l=ni.dot($u),c=Oi.dot(Oi),u=Oi.dot($u),d=a*c-s*s;if(r===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new H),d===0)return r.set(-2,-1,-1);const f=1/d,h=(c*l-s*u)*f,p=(a*u-s*l)*f;return r.set(1-h-p,p,h)}static containsPoint(t,n,i,o){return this.getBarycoord(t,n,i,o,Ni),Ni.x>=0&&Ni.y>=0&&Ni.x+Ni.y<=1}static getUV(t,n,i,o,r,a,s,l){return this.getBarycoord(t,n,i,o,Ni),l.set(0,0),l.addScaledVector(r,Ni.x),l.addScaledVector(a,Ni.y),l.addScaledVector(s,Ni.z),l}static isFrontFacing(t,n,i,o){return ni.subVectors(i,n),Oi.subVectors(t,n),ni.cross(Oi).dot(o)<0}set(t,n,i){return this.a.copy(t),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(t,n,i,o){return this.a.copy(t[n]),this.b.copy(t[i]),this.c.copy(t[o]),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return ni.subVectors(this.c,this.b),Oi.subVectors(this.a,this.b),ni.cross(Oi).length()*.5}getMidpoint(t){return t===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new H),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return cn.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new xi),t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,n){return cn.getBarycoord(t,this.a,this.b,this.c,n)}getUV(t,n,i,o,r){return cn.getUV(t,this.a,this.b,this.c,n,i,o,r)}containsPoint(t){return cn.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return cn.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,n){n===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),n=new H);const i=this.a,o=this.b,r=this.c;let a,s;Ar.subVectors(o,i),Lr.subVectors(r,i),ju.subVectors(t,i);const l=Ar.dot(ju),c=Lr.dot(ju);if(l<=0&&c<=0)return n.copy(i);Qu.subVectors(t,o);const u=Ar.dot(Qu),d=Lr.dot(Qu);if(u>=0&&d<=u)return n.copy(o);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return a=l/(l-u),n.copy(i).addScaledVector(Ar,a);Yu.subVectors(t,r);const h=Ar.dot(Yu),p=Lr.dot(Yu);if(p>=0&&h<=p)return n.copy(r);const y=h*c-l*p;if(y<=0&&c>=0&&p<=0)return s=c/(c-p),n.copy(i).addScaledVector(Lr,s);const b=u*p-h*d;if(b<=0&&d-u>=0&&h-p>=0)return gp.subVectors(r,o),s=(d-u)/(d-u+(h-p)),n.copy(o).addScaledVector(gp,s);const g=1/(b+y+f);return a=y*g,s=f*g,n.copy(i).addScaledVector(Ar,a).addScaledVector(Lr,s)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const P0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ii={h:0,s:0,l:0},Sl={h:0,s:0,l:0};function Xu(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*6*(2/3-n):e}function Zu(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function Ku(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}class We{constructor(t,n,i){return Object.defineProperty(this,"isColor",{value:!0}),n===void 0&&i===void 0?this.set(t):this.setRGB(t,n,i)}set(t){return t&&t.isColor?this.copy(t):typeof t=="number"?this.setHex(t):typeof t=="string"&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,this}setRGB(t,n,i){return this.r=t,this.g=n,this.b=i,this}setHSL(t,n,i){if(t=it.euclideanModulo(t,1),n=it.clamp(n,0,1),i=it.clamp(i,0,1),n===0)this.r=this.g=this.b=i;else{const o=i<=.5?i*(1+n):i+n-i*n,r=2*i-o;this.r=Xu(r,o,t+1/3),this.g=Xu(r,o,t),this.b=Xu(r,o,t-1/3)}return this}setStyle(t){function n(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){let o;const r=i[1],a=i[2];switch(r){case"rgb":case"rgba":if(o=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(o[1],10))/255,this.g=Math.min(255,parseInt(o[2],10))/255,this.b=Math.min(255,parseInt(o[3],10))/255,n(o[4]),this;if(o=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(o[1],10))/100,this.g=Math.min(100,parseInt(o[2],10))/100,this.b=Math.min(100,parseInt(o[3],10))/100,n(o[4]),this;break;case"hsl":case"hsla":if(o=/^(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const s=parseFloat(o[1])/360,l=parseInt(o[2],10)/100,c=parseInt(o[3],10)/100;return n(o[4]),this.setHSL(s,l,c)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(t)){const o=i[1],r=o.length;if(r===3)return this.r=parseInt(o.charAt(0)+o.charAt(0),16)/255,this.g=parseInt(o.charAt(1)+o.charAt(1),16)/255,this.b=parseInt(o.charAt(2)+o.charAt(2),16)/255,this;if(r===6)return this.r=parseInt(o.charAt(0)+o.charAt(1),16)/255,this.g=parseInt(o.charAt(2)+o.charAt(3),16)/255,this.b=parseInt(o.charAt(4)+o.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}setColorName(t){const n=P0[t];return n!==void 0?this.setHex(n):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copyGammaToLinear(t,n=2){return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this}copyLinearToGamma(t,n=2){const i=n>0?1/n:1;return this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this}convertGammaToLinear(t){return this.copyGammaToLinear(this,t),this}convertLinearToGamma(t){return this.copyLinearToGamma(this,t),this}copySRGBToLinear(t){return this.r=Zu(t.r),this.g=Zu(t.g),this.b=Zu(t.b),this}copyLinearToSRGB(t){return this.r=Ku(t.r),this.g=Ku(t.g),this.b=Ku(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(t){t===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});const n=this.r,i=this.g,o=this.b,r=Math.max(n,i,o),a=Math.min(n,i,o);let s,l;const c=(a+r)/2;if(a===r)s=0,l=0;else{const u=r-a;switch(l=c<=.5?u/(r+a):u/(2-r-a),r){case n:s=(i-o)/u+(i<o?6:0);break;case i:s=(o-n)/u+2;break;case o:s=(n-i)/u+4;break}s/=6}return t.h=s,t.s=l,t.l=c,t}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(t,n,i){return this.getHSL(ii),ii.h+=t,ii.s+=n,ii.l+=i,this.setHSL(ii.h,ii.s,ii.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,n){return this.r=t.r+n.r,this.g=t.g+n.g,this.b=t.b+n.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,n){return this.r+=(t.r-this.r)*n,this.g+=(t.g-this.g)*n,this.b+=(t.b-this.b)*n,this}lerpHSL(t,n){this.getHSL(ii),t.getHSL(Sl);const i=it.lerp(ii.h,Sl.h,n),o=it.lerp(ii.s,Sl.s,n),r=it.lerp(ii.l,Sl.l,n);return this.setHSL(i,o,r),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,n=0){return this.r=t[n],this.g=t[n+1],this.b=t[n+2],this}toArray(t=[],n=0){return t[n]=this.r,t[n+1]=this.g,t[n+2]=this.b,t}fromBufferAttribute(t,n){return this.r=t.getX(n),this.g=t.getY(n),this.b=t.getZ(n),t.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}We.NAMES=P0;We.prototype.r=1;We.prototype.g=1;We.prototype.b=1;class ws{constructor(t,n,i,o,r,a=0){this.a=t,this.b=n,this.c=i,this.normal=o&&o.isVector3?o:new H,this.vertexNormals=Array.isArray(o)?o:[],this.color=r&&r.isColor?r:new We,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=a}clone(){return new this.constructor().copy(this)}copy(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(let n=0,i=t.vertexNormals.length;n<i;n++)this.vertexNormals[n]=t.vertexNormals[n].clone();for(let n=0,i=t.vertexColors.length;n<i;n++)this.vertexColors[n]=t.vertexColors[n].clone();return this}}let Z_=0;function nt(){Object.defineProperty(this,"id",{value:Z_++}),this.uuid=it.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=oa,this.side=Ea,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=zh,this.blendDst=qh,this.blendEquation=jo,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Cc,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=L0,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=xc,this.stencilZFail=xc,this.stencilZPass=xc,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}nt.prototype=Object.assign(Object.create(Li.prototype),{constructor:nt,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===Dh;continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}},toJSON:function(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,this.combine!==void 0&&(n.combine=this.combine),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.size!==void 0&&(n.size=this.size),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==oa&&(n.blending=this.blending),this.flatShading===!0&&(n.flatShading=this.flatShading),this.side!==Ea&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(n.morphTargets=!0),this.morphNormals===!0&&(n.morphNormals=!0),this.skinning===!0&&(n.skinning=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData);function i(o){const r=[];for(const a in o){const s=o[a];delete s.metadata,r.push(s)}return r}if(t){const o=i(e.textures),r=i(e.images);o.length>0&&(n.textures=o),r.length>0&&(n.images=r)}return n},clone:function(){return new this.constructor().copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const i=t.length;n=new Array(i);for(let o=0;o!==i;++o)n[o]=t[o].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty(nt.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});function jn(e){nt.call(this),this.type="MeshBasicMaterial",this.color=new We(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Xs,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}jn.prototype=Object.create(nt.prototype);jn.prototype.constructor=jn;jn.prototype.isMeshBasicMaterial=!0;jn.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};const Lt=new H,Ml=new Ae;function tt(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n===!0,this.usage=tl,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(tt.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(tt.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){const t=this.array;let n=0;for(let i=0,o=e.length;i<o;i++){let r=e[i];r===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),r=new We),t[n++]=r.r,t[n++]=r.g,t[n++]=r.b}return this},copyVector2sArray:function(e){const t=this.array;let n=0;for(let i=0,o=e.length;i<o;i++){let r=e[i];r===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),r=new Ae),t[n++]=r.x,t[n++]=r.y}return this},copyVector3sArray:function(e){const t=this.array;let n=0;for(let i=0,o=e.length;i<o;i++){let r=e[i];r===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),r=new H),t[n++]=r.x,t[n++]=r.y,t[n++]=r.z}return this},copyVector4sArray:function(e){const t=this.array;let n=0;for(let i=0,o=e.length;i<o;i++){let r=e[i];r===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),r=new _t),t[n++]=r.x,t[n++]=r.y,t[n++]=r.z,t[n++]=r.w}return this},applyMatrix3:function(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)Ml.fromBufferAttribute(this,t),Ml.applyMatrix3(e),this.setXY(t,Ml.x,Ml.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Lt.fromBufferAttribute(this,t),Lt.applyMatrix3(e),this.setXYZ(t,Lt.x,Lt.y,Lt.z);return this},applyMatrix4:function(e){for(let t=0,n=this.count;t<n;t++)Lt.x=this.getX(t),Lt.y=this.getY(t),Lt.z=this.getZ(t),Lt.applyMatrix4(e),this.setXYZ(t,Lt.x,Lt.y,Lt.z);return this},applyNormalMatrix:function(e){for(let t=0,n=this.count;t<n;t++)Lt.x=this.getX(t),Lt.y=this.getY(t),Lt.z=this.getZ(t),Lt.applyNormalMatrix(e),this.setXYZ(t,Lt.x,Lt.y,Lt.z);return this},transformDirection:function(e){for(let t=0,n=this.count;t<n;t++)Lt.x=this.getX(t),Lt.y=this.getY(t),Lt.z=this.getZ(t),Lt.transformDirection(e),this.setXYZ(t,Lt.x,Lt.y,Lt.z);return this},set:function(e,t=0){return this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,t,n,i,o){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=o,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}});function Ss(e,t,n){tt.call(this,new Int8Array(e),t,n)}Ss.prototype=Object.create(tt.prototype);Ss.prototype.constructor=Ss;function Ms(e,t,n){tt.call(this,new Uint8Array(e),t,n)}Ms.prototype=Object.create(tt.prototype);Ms.prototype.constructor=Ms;function Ts(e,t,n){tt.call(this,new Uint8ClampedArray(e),t,n)}Ts.prototype=Object.create(tt.prototype);Ts.prototype.constructor=Ts;function Cs(e,t,n){tt.call(this,new Int16Array(e),t,n)}Cs.prototype=Object.create(tt.prototype);Cs.prototype.constructor=Cs;function ir(e,t,n){tt.call(this,new Uint16Array(e),t,n)}ir.prototype=Object.create(tt.prototype);ir.prototype.constructor=ir;function Es(e,t,n){tt.call(this,new Int32Array(e),t,n)}Es.prototype=Object.create(tt.prototype);Es.prototype.constructor=Es;function or(e,t,n){tt.call(this,new Uint32Array(e),t,n)}or.prototype=Object.create(tt.prototype);or.prototype.constructor=or;function As(e,t,n){tt.call(this,new Uint16Array(e),t,n)}As.prototype=Object.create(tt.prototype);As.prototype.constructor=As;As.prototype.isFloat16BufferAttribute=!0;function He(e,t,n){tt.call(this,new Float32Array(e),t,n)}He.prototype=Object.create(tt.prototype);He.prototype.constructor=He;function Ls(e,t,n){tt.call(this,new Float64Array(e),t,n)}Ls.prototype=Object.create(tt.prototype);Ls.prototype.constructor=Ls;class K_{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(t){const n=[];let i,o,r;const a=t.faces;for(o=0;o<a.length;o++){const s=a[o];s.materialIndex!==r&&(r=s.materialIndex,i!==void 0&&(i.count=o*3-i.start,n.push(i)),i={start:o*3,materialIndex:r})}i!==void 0&&(i.count=o*3-i.start,n.push(i)),this.groups=n}fromGeometry(t){const n=t.faces,i=t.vertices,o=t.faceVertexUvs,r=o[0]&&o[0].length>0,a=o[1]&&o[1].length>0,s=t.morphTargets,l=s.length;let c;if(l>0){c=[];for(let g=0;g<l;g++)c[g]={name:s[g].name,data:[]};this.morphTargets.position=c}const u=t.morphNormals,d=u.length;let f;if(d>0){f=[];for(let g=0;g<d;g++)f[g]={name:u[g].name,data:[]};this.morphTargets.normal=f}const h=t.skinIndices,p=t.skinWeights,y=h.length===i.length,b=p.length===i.length;i.length>0&&n.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let g=0;g<n.length;g++){const m=n[g];this.vertices.push(i[m.a],i[m.b],i[m.c]);const _=m.vertexNormals;if(_.length===3)this.normals.push(_[0],_[1],_[2]);else{const M=m.normal;this.normals.push(M,M,M)}const x=m.vertexColors;if(x.length===3)this.colors.push(x[0],x[1],x[2]);else{const M=m.color;this.colors.push(M,M,M)}if(r===!0){const M=o[0][g];M!==void 0?this.uvs.push(M[0],M[1],M[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",g),this.uvs.push(new Ae,new Ae,new Ae))}if(a===!0){const M=o[1][g];M!==void 0?this.uvs2.push(M[0],M[1],M[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",g),this.uvs2.push(new Ae,new Ae,new Ae))}for(let M=0;M<l;M++){const w=s[M].vertices;c[M].data.push(w[m.a],w[m.b],w[m.c])}for(let M=0;M<d;M++){const w=u[M].vertexNormals[g];f[M].data.push(w.a,w.b,w.c)}y&&this.skinIndices.push(h[m.a],h[m.b],h[m.c]),b&&this.skinWeights.push(p[m.a],p[m.b],p[m.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),this}}function R0(e){if(e.length===0)return-1/0;let t=e[0];for(let n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}const J_={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray!="undefined"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function is(e,t){return new J_[e](t)}let ew=1;const gi=new lt,Ju=new Qe,Pr=new H,In=new Pi,Ga=new Pi,tn=new H;function Je(){Object.defineProperty(this,"id",{value:ew+=2}),this.uuid=it.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Je.prototype=Object.assign(Object.create(Li.prototype),{constructor:Je,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){return Array.isArray(e)?this.index=new(R0(e)>65535?or:ir)(e,1):this.index=e,this},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},hasAttribute:function(e){return this.attributes[e]!==void 0},addGroup:function(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const o=new Mn().getNormalMatrix(e);n.applyNormalMatrix(o),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(e){return gi.makeRotationX(e),this.applyMatrix4(gi),this},rotateY:function(e){return gi.makeRotationY(e),this.applyMatrix4(gi),this},rotateZ:function(e){return gi.makeRotationZ(e),this.applyMatrix4(gi),this},translate:function(e,t,n){return gi.makeTranslation(e,t,n),this.applyMatrix4(gi),this},scale:function(e,t,n){return gi.makeScale(e,t,n),this.applyMatrix4(gi),this},lookAt:function(e){return Ju.lookAt(e),Ju.updateMatrix(),this.applyMatrix4(Ju.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Pr).negate(),this.translate(Pr.x,Pr.y,Pr.z),this},setFromObject:function(e){const t=e.geometry;if(e.isPoints||e.isLine){const n=new He(t.vertices.length*3,3),i=new He(t.colors.length*3,3);if(this.setAttribute("position",n.copyVector3sArray(t.vertices)),this.setAttribute("color",i.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){const o=new He(t.lineDistances.length,1);this.setAttribute("lineDistance",o.copyArray(t.lineDistances))}t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){const t=[];for(let n=0,i=e.length;n<i;n++){const o=e[n];t.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new He(t,3)),this},updateFromObject:function(e){let t=e.geometry;if(e.isMesh){let n=t.__directGeometry;if(t.elementsNeedUpdate===!0&&(n=void 0,t.elementsNeedUpdate=!1),n===void 0)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}if(t.verticesNeedUpdate===!0){const n=this.attributes.position;n!==void 0&&(n.copyVector3sArray(t.vertices),n.needsUpdate=!0),t.verticesNeedUpdate=!1}if(t.normalsNeedUpdate===!0){const n=this.attributes.normal;n!==void 0&&(n.copyVector3sArray(t.normals),n.needsUpdate=!0),t.normalsNeedUpdate=!1}if(t.colorsNeedUpdate===!0){const n=this.attributes.color;n!==void 0&&(n.copyColorsArray(t.colors),n.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){const n=this.attributes.uv;n!==void 0&&(n.copyVector2sArray(t.uvs),n.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){const n=this.attributes.lineDistance;n!==void 0&&(n.copyArray(t.lineDistances),n.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=new K_().fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){const t=new Float32Array(e.vertices.length*3);if(this.setAttribute("position",new tt(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){const n=new Float32Array(e.normals.length*3);this.setAttribute("normal",new tt(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){const n=new Float32Array(e.colors.length*3);this.setAttribute("color",new tt(n,3).copyColorsArray(e.colors))}if(e.uvs.length>0){const n=new Float32Array(e.uvs.length*2);this.setAttribute("uv",new tt(n,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){const n=new Float32Array(e.uvs2.length*2);this.setAttribute("uv2",new tt(n,2).copyVector2sArray(e.uvs2))}this.groups=e.groups;for(const n in e.morphTargets){const i=[],o=e.morphTargets[n];for(let r=0,a=o.length;r<a;r++){const s=o[r],l=new He(s.data.length*3,3);l.name=s.name,i.push(l.copyVector3sArray(s.data))}this.morphAttributes[n]=i}if(e.skinIndices.length>0){const n=new He(e.skinIndices.length*4,4);this.setAttribute("skinIndex",n.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){const n=new He(e.skinWeights.length*4,4);this.setAttribute("skinWeight",n.copyVector4sArray(e.skinWeights))}return e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Pi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new H(-1/0,-1/0,-1/0),new H(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const o=t[n];In.setFromBufferAttribute(o),this.morphTargetsRelative?(tn.addVectors(this.boundingBox.min,In.min),this.boundingBox.expandByPoint(tn),tn.addVectors(this.boundingBox.max,In.max),this.boundingBox.expandByPoint(tn)):(this.boundingBox.expandByPoint(In.min),this.boundingBox.expandByPoint(In.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new Zi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new H,1/0);return}if(e){const n=this.boundingSphere.center;if(In.setFromBufferAttribute(e),t)for(let o=0,r=t.length;o<r;o++){const a=t[o];Ga.setFromBufferAttribute(a),this.morphTargetsRelative?(tn.addVectors(In.min,Ga.min),In.expandByPoint(tn),tn.addVectors(In.max,Ga.max),In.expandByPoint(tn)):(In.expandByPoint(Ga.min),In.expandByPoint(Ga.max))}In.getCenter(n);let i=0;for(let o=0,r=e.count;o<r;o++)tn.fromBufferAttribute(e,o),i=Math.max(i,n.distanceToSquared(tn));if(t)for(let o=0,r=t.length;o<r;o++){const a=t[o],s=this.morphTargetsRelative;for(let l=0,c=a.count;l<c;l++)tn.fromBufferAttribute(a,l),s&&(Pr.fromBufferAttribute(e,l),tn.add(Pr)),i=Math.max(i,n.distanceToSquared(tn))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new tt(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let d=0,f=n.count;d<f;d++)n.setXYZ(d,0,0,0);const i=new H,o=new H,r=new H,a=new H,s=new H,l=new H,c=new H,u=new H;if(e)for(let d=0,f=e.count;d<f;d+=3){const h=e.getX(d+0),p=e.getX(d+1),y=e.getX(d+2);i.fromBufferAttribute(t,h),o.fromBufferAttribute(t,p),r.fromBufferAttribute(t,y),c.subVectors(r,o),u.subVectors(i,o),c.cross(u),a.fromBufferAttribute(n,h),s.fromBufferAttribute(n,p),l.fromBufferAttribute(n,y),a.add(c),s.add(c),l.add(c),n.setXYZ(h,a.x,a.y,a.z),n.setXYZ(p,s.x,s.y,s.z),n.setXYZ(y,l.x,l.y,l.z)}else for(let d=0,f=t.count;d<f;d+=3)i.fromBufferAttribute(t,d+0),o.fromBufferAttribute(t,d+1),r.fromBufferAttribute(t,d+2),c.subVectors(r,o),u.subVectors(i,o),c.cross(u),n.setXYZ(d+0,c.x,c.y,c.z),n.setXYZ(d+1,c.x,c.y,c.z),n.setXYZ(d+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const i in n){if(e.attributes[i]===void 0)continue;const r=n[i].array,a=e.attributes[i],s=a.array,l=a.itemSize*t,c=Math.min(s.length,r.length-l);for(let u=0,d=l;u<c;u++,d++)r[d]=s[u]}return this},normalizeNormals:function(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)tn.fromBufferAttribute(e,t),tn.normalize(),e.setXYZ(t,tn.x,tn.y,tn.z)},toNonIndexed:function(){function e(a,s){const l=a.array,c=a.itemSize,u=a.normalized,d=new l.constructor(s.length*c);let f=0,h=0;for(let p=0,y=s.length;p<y;p++){f=s[p]*c;for(let b=0;b<c;b++)d[h++]=l[f++]}return new tt(d,c,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;const t=new Je,n=this.index.array,i=this.attributes;for(const a in i){const s=i[a],l=e(s,n);t.setAttribute(a,l)}const o=this.morphAttributes;for(const a in o){const s=[],l=o[a];for(let c=0,u=l.length;c<u;c++){const d=l[c],f=e(d,n);s.push(f)}t.morphAttributes[a]=s}t.morphTargetsRelative=this.morphTargetsRelative;const r=this.groups;for(let a=0,s=r.length;a<s;a++){const l=r[a];t.addGroup(l.start,l.count,l.materialIndex)}return t},toJSON:function(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const s=this.parameters;for(const l in s)s[l]!==void 0&&(e[l]=s[l]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const s in n){const l=n[s],c=l.toJSON(e.data);l.name!==""&&(c.name=l.name),e.data.attributes[s]=c}const i={};let o=!1;for(const s in this.morphAttributes){const l=this.morphAttributes[s],c=[];for(let u=0,d=l.length;u<d;u++){const f=l[u],h=f.toJSON(e.data);f.name!==""&&(h.name=f.name),c.push(h)}c.length>0&&(i[s]=c,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const r=this.groups;r.length>0&&(e.data.groups=JSON.parse(JSON.stringify(r)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e},clone:function(){return new Je().copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const i=e.attributes;for(const l in i){const c=i[l];this.setAttribute(l,c.clone(t))}const o=e.morphAttributes;for(const l in o){const c=[],u=o[l];for(let d=0,f=u.length;d<f;d++)c.push(u[d].clone(t));this.morphAttributes[l]=c}this.morphTargetsRelative=e.morphTargetsRelative;const r=e.groups;for(let l=0,c=r.length;l<c;l++){const u=r[l];this.addGroup(u.start,u.count,u.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const s=e.boundingSphere;return s!==null&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const yp=new lt,Oo=new Ra,ed=new Zi,ro=new H,ao=new H,so=new H,td=new H,nd=new H,id=new H,Tl=new H,Cl=new H,El=new H,Kr=new Ae,Jr=new Ae,ea=new Ae,us=new H,Al=new H;function Bt(e=new Je,t=new jn){Qe.call(this),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}Bt.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Bt,isMesh:!0,copy:function(e){return Qe.prototype.copy.call(this,e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,r=i.length;o<r;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){const n=this.geometry,i=this.material,o=this.matrixWorld;if(i===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),ed.copy(n.boundingSphere),ed.applyMatrix4(o),e.ray.intersectsSphere(ed)===!1)||(yp.copy(o).invert(),Oo.copy(e.ray).applyMatrix4(yp),n.boundingBox!==null&&Oo.intersectsBox(n.boundingBox)===!1))return;let r;if(n.isBufferGeometry){const a=n.index,s=n.attributes.position,l=n.morphAttributes.position,c=n.morphTargetsRelative,u=n.attributes.uv,d=n.attributes.uv2,f=n.groups,h=n.drawRange;if(a!==null)if(Array.isArray(i))for(let p=0,y=f.length;p<y;p++){const b=f[p],g=i[b.materialIndex],m=Math.max(b.start,h.start),_=Math.min(b.start+b.count,h.start+h.count);for(let x=m,M=_;x<M;x+=3){const w=a.getX(x),T=a.getX(x+1),B=a.getX(x+2);r=Ll(this,g,e,Oo,s,l,c,u,d,w,T,B),r&&(r.faceIndex=Math.floor(x/3),r.face.materialIndex=b.materialIndex,t.push(r))}}else{const p=Math.max(0,h.start),y=Math.min(a.count,h.start+h.count);for(let b=p,g=y;b<g;b+=3){const m=a.getX(b),_=a.getX(b+1),x=a.getX(b+2);r=Ll(this,i,e,Oo,s,l,c,u,d,m,_,x),r&&(r.faceIndex=Math.floor(b/3),t.push(r))}}else if(s!==void 0)if(Array.isArray(i))for(let p=0,y=f.length;p<y;p++){const b=f[p],g=i[b.materialIndex],m=Math.max(b.start,h.start),_=Math.min(b.start+b.count,h.start+h.count);for(let x=m,M=_;x<M;x+=3){const w=x,T=x+1,B=x+2;r=Ll(this,g,e,Oo,s,l,c,u,d,w,T,B),r&&(r.faceIndex=Math.floor(x/3),r.face.materialIndex=b.materialIndex,t.push(r))}}else{const p=Math.max(0,h.start),y=Math.min(s.count,h.start+h.count);for(let b=p,g=y;b<g;b+=3){const m=b,_=b+1,x=b+2;r=Ll(this,i,e,Oo,s,l,c,u,d,m,_,x),r&&(r.faceIndex=Math.floor(b/3),t.push(r))}}}else if(n.isGeometry){const a=Array.isArray(i),s=n.vertices,l=n.faces;let c;const u=n.faceVertexUvs[0];u.length>0&&(c=u);for(let d=0,f=l.length;d<f;d++){const h=l[d],p=a?i[h.materialIndex]:i;if(p===void 0)continue;const y=s[h.a],b=s[h.b],g=s[h.c];if(r=k0(this,p,e,Oo,y,b,g,us),r){if(c&&c[d]){const m=c[d];Kr.copy(m[0]),Jr.copy(m[1]),ea.copy(m[2]),r.uv=cn.getUV(us,y,b,g,Kr,Jr,ea,new Ae)}r.face=h,r.faceIndex=d,t.push(r)}}}}});function k0(e,t,n,i,o,r,a,s){let l;if(t.side===Zt?l=i.intersectTriangle(a,r,o,!0,s):l=i.intersectTriangle(o,r,a,t.side!==Ys,s),l===null)return null;Al.copy(s),Al.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(Al);return c<n.near||c>n.far?null:{distance:c,point:Al.clone(),object:e}}function Ll(e,t,n,i,o,r,a,s,l,c,u,d){ro.fromBufferAttribute(o,c),ao.fromBufferAttribute(o,u),so.fromBufferAttribute(o,d);const f=e.morphTargetInfluences;if(t.morphTargets&&r&&f){Tl.set(0,0,0),Cl.set(0,0,0),El.set(0,0,0);for(let p=0,y=r.length;p<y;p++){const b=f[p],g=r[p];b!==0&&(td.fromBufferAttribute(g,c),nd.fromBufferAttribute(g,u),id.fromBufferAttribute(g,d),a?(Tl.addScaledVector(td,b),Cl.addScaledVector(nd,b),El.addScaledVector(id,b)):(Tl.addScaledVector(td.sub(ro),b),Cl.addScaledVector(nd.sub(ao),b),El.addScaledVector(id.sub(so),b)))}ro.add(Tl),ao.add(Cl),so.add(El)}e.isSkinnedMesh&&(e.boneTransform(c,ro),e.boneTransform(u,ao),e.boneTransform(d,so));const h=k0(e,t,n,i,ro,ao,so,us);if(h){s&&(Kr.fromBufferAttribute(s,c),Jr.fromBufferAttribute(s,u),ea.fromBufferAttribute(s,d),h.uv=cn.getUV(us,ro,ao,so,Kr,Jr,ea,new Ae)),l&&(Kr.fromBufferAttribute(l,c),Jr.fromBufferAttribute(l,u),ea.fromBufferAttribute(l,d),h.uv2=cn.getUV(us,ro,ao,so,Kr,Jr,ea,new Ae));const p=new ws(c,u,d);cn.getNormal(ro,ao,so,p.normal),h.face=p}return h}class nl extends Je{constructor(t=1,n=1,i=1,o=1,r=1,a=1){super(),this.type="BoxBufferGeometry",this.parameters={width:t,height:n,depth:i,widthSegments:o,heightSegments:r,depthSegments:a};const s=this;o=Math.floor(o),r=Math.floor(r),a=Math.floor(a);const l=[],c=[],u=[],d=[];let f=0,h=0;p("z","y","x",-1,-1,i,n,t,a,r,0),p("z","y","x",1,-1,i,n,-t,a,r,1),p("x","z","y",1,1,t,i,n,o,a,2),p("x","z","y",1,-1,t,i,-n,o,a,3),p("x","y","z",1,-1,t,n,i,o,r,4),p("x","y","z",-1,-1,t,n,-i,o,r,5),this.setIndex(l),this.setAttribute("position",new He(c,3)),this.setAttribute("normal",new He(u,3)),this.setAttribute("uv",new He(d,2));function p(y,b,g,m,_,x,M,w,T,B,D){const z=x/T,A=M/B,O=x/2,C=M/2,P=w/2,L=T+1,q=B+1;let F=0,j=0;const G=new H;for(let Y=0;Y<q;Y++){const ee=Y*A-C;for(let U=0;U<L;U++){const oe=U*z-O;G[y]=oe*m,G[b]=ee*_,G[g]=P,c.push(G.x,G.y,G.z),G[y]=0,G[b]=0,G[g]=w>0?1:-1,u.push(G.x,G.y,G.z),d.push(U/T),d.push(1-Y/B),F+=1}}for(let Y=0;Y<B;Y++)for(let ee=0;ee<T;ee++){const U=f+ee+L*Y,oe=f+ee+L*(Y+1),J=f+(ee+1)+L*(Y+1),te=f+(ee+1)+L*Y;l.push(U,oe,te),l.push(oe,J,te),j+=6}s.addGroup(h,j,D),h+=j,f+=F}}}function fa(e){const t={};for(const n in e){t[n]={};for(const i in e[n]){const o=e[n][i];o&&(o.isColor||o.isMatrix3||o.isMatrix4||o.isVector2||o.isVector3||o.isVector4||o.isTexture)?t[n][i]=o.clone():Array.isArray(o)?t[n][i]=o.slice():t[n][i]=o}}return t}function fn(e){const t={};for(let n=0;n<e.length;n++){const i=fa(e[n]);for(const o in i)t[o]=i[o]}return t}const B0={clone:fa,merge:fn};var tw=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,nw=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;function Cn(e){nt.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=tw,this.fragmentShader=nw,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}Cn.prototype=Object.create(nt.prototype);Cn.prototype.constructor=Cn;Cn.prototype.isShaderMaterial=!0;Cn.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=fa(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this};Cn.prototype.toJSON=function(e){const t=nt.prototype.toJSON.call(this,e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const r=this.uniforms[i].value;r&&r.isTexture?t.uniforms[i]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[i]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[i]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[i]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[i]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[i]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[i]={type:"m4",value:r.toArray()}:t.uniforms[i]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t};function Mi(){Qe.call(this),this.type="Camera",this.matrixWorldInverse=new lt,this.projectionMatrix=new lt,this.projectionMatrixInverse=new lt}Mi.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Mi,isCamera:!0,copy:function(e,t){return Qe.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new H),this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){Qe.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(e,t){Qe.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return new this.constructor().copy(this)}});function Qt(e=50,t=1,n=.1,i=2e3){Mi.call(this),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Qt.prototype=Object.assign(Object.create(Mi.prototype),{constructor:Qt,isPerspectiveCamera:!0,copy:function(e,t){return Mi.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){const t=.5*this.getFilmHeight()/e;this.fov=it.RAD2DEG*2*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){const e=Math.tan(it.DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/e},getEffectiveFOV:function(){return it.RAD2DEG*2*Math.atan(Math.tan(it.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,o,r){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=o,this.view.height=r,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const e=this.near;let t=e*Math.tan(it.DEG2RAD*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,o=-.5*i;const r=this.view;if(this.view!==null&&this.view.enabled){const s=r.fullWidth,l=r.fullHeight;o+=r.offsetX*i/s,t-=r.offsetY*n/l,i*=r.width/s,n*=r.height/l}const a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(e){const t=Qe.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});const Rr=90,kr=1;function rr(e,t,n){if(Qe.call(this),this.type="CubeCamera",n.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=n;const i=new Qt(Rr,kr,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new H(1,0,0)),this.add(i);const o=new Qt(Rr,kr,e,t);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new H(-1,0,0)),this.add(o);const r=new Qt(Rr,kr,e,t);r.layers=this.layers,r.up.set(0,0,1),r.lookAt(new H(0,1,0)),this.add(r);const a=new Qt(Rr,kr,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new H(0,-1,0)),this.add(a);const s=new Qt(Rr,kr,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new H(0,0,1)),this.add(s);const l=new Qt(Rr,kr,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new H(0,0,-1)),this.add(l),this.update=function(c,u){this.parent===null&&this.updateMatrixWorld();const d=c.xr.enabled,f=c.getRenderTarget();c.xr.enabled=!1;const h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,c.setRenderTarget(n,0),c.render(u,i),c.setRenderTarget(n,1),c.render(u,o),c.setRenderTarget(n,2),c.render(u,r),c.setRenderTarget(n,3),c.render(u,a),c.setRenderTarget(n,4),c.render(u,s),n.texture.generateMipmaps=h,c.setRenderTarget(n,5),c.render(u,l),c.setRenderTarget(f),c.xr.enabled=d}}rr.prototype=Object.create(Qe.prototype);rr.prototype.constructor=rr;function Ti(e,t,n,i,o,r,a,s,l,c){e=e!==void 0?e:[],t=t!==void 0?t:Zs,a=a!==void 0?a:go,Mt.call(this,e,t,n,i,o,r,a,s,l,c),this.flipY=!1,this._needsFlipEnvMap=!0}Ti.prototype=Object.create(Mt.prototype);Ti.prototype.constructor=Ti;Ti.prototype.isCubeTexture=!0;Object.defineProperty(Ti.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});function ji(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),zn.call(this,e,e,t),t=t||{},this.texture=new Ti(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture._needsFlipEnvMap=!1}ji.prototype=Object.create(zn.prototype);ji.prototype.constructor=ji;ji.prototype.isWebGLCubeRenderTarget=!0;ji.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=Dn,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

			varying vec3 vWorldDirection;

			vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

				return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

			}

			void main() {

				vWorldDirection = transformDirection( position, modelMatrix );

				#include <begin_vertex>
				#include <project_vertex>

			}
		`,fragmentShader:`

			uniform sampler2D tEquirect;

			varying vec3 vWorldDirection;

			#include <common>

			void main() {

				vec3 direction = normalize( vWorldDirection );

				vec2 sampleUV = equirectUv( direction );

				gl_FragColor = texture2D( tEquirect, sampleUV );

			}
		`},i=new nl(5,5,5),o=new Cn({name:"CubemapFromEquirect",uniforms:fa(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Zt,blending:Gi});o.uniforms.tEquirect.value=t;const r=new Bt(i,o),a=t.minFilter;return t.minFilter===La&&(t.minFilter=nn),new rr(1,10,this).update(e,r),t.minFilter=a,r.geometry.dispose(),r.material.dispose(),this};ji.prototype.clear=function(e,t,n,i){const o=e.getRenderTarget();for(let r=0;r<6;r++)e.setRenderTarget(this,r),e.clear(t,n,i);e.setRenderTarget(o)};function Qi(e,t,n,i,o,r,a,s,l,c,u,d){Mt.call(this,null,r,a,s,l,c,i,o,u,d),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=l!==void 0?l:Jt,this.minFilter=c!==void 0?c:Jt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Qi.prototype=Object.create(Mt.prototype);Qi.prototype.constructor=Qi;Qi.prototype.isDataTexture=!0;const Br=new Zi,Pl=new H;class il{constructor(t,n,i,o,r,a){this.planes=[t!==void 0?t:new xi,n!==void 0?n:new xi,i!==void 0?i:new xi,o!==void 0?o:new xi,r!==void 0?r:new xi,a!==void 0?a:new xi]}set(t,n,i,o,r,a){const s=this.planes;return s[0].copy(t),s[1].copy(n),s[2].copy(i),s[3].copy(o),s[4].copy(r),s[5].copy(a),this}clone(){return new this.constructor().copy(this)}copy(t){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t){const n=this.planes,i=t.elements,o=i[0],r=i[1],a=i[2],s=i[3],l=i[4],c=i[5],u=i[6],d=i[7],f=i[8],h=i[9],p=i[10],y=i[11],b=i[12],g=i[13],m=i[14],_=i[15];return n[0].setComponents(s-o,d-l,y-f,_-b).normalize(),n[1].setComponents(s+o,d+l,y+f,_+b).normalize(),n[2].setComponents(s+r,d+c,y+h,_+g).normalize(),n[3].setComponents(s-r,d-c,y-h,_-g).normalize(),n[4].setComponents(s-a,d-u,y-p,_-m).normalize(),n[5].setComponents(s+a,d+u,y+p,_+m).normalize(),this}intersectsObject(t){const n=t.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),Br.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Br)}intersectsSprite(t){return Br.center.set(0,0,0),Br.radius=.7071067811865476,Br.applyMatrix4(t.matrixWorld),this.intersectsSphere(Br)}intersectsSphere(t){const n=this.planes,i=t.center,o=-t.radius;for(let r=0;r<6;r++)if(n[r].distanceToPoint(i)<o)return!1;return!0}intersectsBox(t){const n=this.planes;for(let i=0;i<6;i++){const o=n[i];if(Pl.x=o.normal.x>0?t.max.x:t.min.x,Pl.y=o.normal.y>0?t.max.y:t.min.y,Pl.z=o.normal.z>0?t.max.z:t.min.z,o.distanceToPoint(Pl)<0)return!1}return!0}containsPoint(t){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(t)<0)return!1;return!0}}function I0(){let e=null,t=!1,n=null,i=null;function o(r,a){n(r,a),i=e.requestAnimationFrame(o)}return{start:function(){t!==!0&&n!==null&&(i=e.requestAnimationFrame(o),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(r){n=r},setContext:function(r){e=r}}}function iw(e,t){const n=t.isWebGL2,i=new WeakMap;function o(c,u){const d=c.array,f=c.usage,h=e.createBuffer();e.bindBuffer(u,h),e.bufferData(u,d,f),c.onUploadCallback();let p=5126;return d instanceof Float32Array?p=5126:d instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):d instanceof Uint16Array?c.isFloat16BufferAttribute?n?p=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):p=5123:d instanceof Int16Array?p=5122:d instanceof Uint32Array?p=5125:d instanceof Int32Array?p=5124:d instanceof Int8Array?p=5120:d instanceof Uint8Array&&(p=5121),{buffer:h,type:p,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function r(c,u,d){const f=u.array,h=u.updateRange;e.bindBuffer(d,c),h.count===-1?e.bufferSubData(d,0,f):(n?e.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f,h.offset,h.count):e.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f.subarray(h.offset,h.offset+h.count)),h.count=-1)}function a(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function s(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(e.deleteBuffer(u.buffer),i.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const f=i.get(c);(!f||f.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);d===void 0?i.set(c,o(c,u)):d.version<c.version&&(r(d.buffer,c,u),d.version=c.version)}return{get:a,remove:s,update:l}}class xu extends Je{constructor(t=1,n=1,i=1,o=1){super(),this.type="PlaneBufferGeometry",this.parameters={width:t,height:n,widthSegments:i,heightSegments:o};const r=t/2,a=n/2,s=Math.floor(i),l=Math.floor(o),c=s+1,u=l+1,d=t/s,f=n/l,h=[],p=[],y=[],b=[];for(let g=0;g<u;g++){const m=g*f-a;for(let _=0;_<c;_++){const x=_*d-r;p.push(x,-m,0),y.push(0,0,1),b.push(_/s),b.push(1-g/l)}}for(let g=0;g<l;g++)for(let m=0;m<s;m++){const _=m+c*g,x=m+c*(g+1),M=m+1+c*(g+1),w=m+1+c*g;h.push(_,x,w),h.push(x,M,w)}this.setIndex(h),this.setAttribute("position",new He(p,3)),this.setAttribute("normal",new He(y,3)),this.setAttribute("uv",new He(b,2))}}var ow=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,rw=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,aw=`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,sw=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,lw=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,cw="vec3 transformed = vec3( position );",uw=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,dw=`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,hw=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,fw=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,pw=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,mw=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,vw=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,gw=`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,yw=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,bw=`#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,xw=`#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor.xyz *= color.xyz;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,_w=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,ww=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Sw=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Mw=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Tw=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,Cw=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Ew=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Aw="gl_FragColor = linearToOutputTexel( gl_FragColor );",Lw=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,Pw=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Rw=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,kw=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Bw=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Iw=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Fw=`#ifdef USE_FOG
	fogDepth = - mvPosition.z;
#endif`,Ow=`#ifdef USE_FOG
	varying float fogDepth;
#endif`,Nw=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Dw=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,zw=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,qw=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,Vw=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Hw=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,Uw=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,Gw=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( -viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
			vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,Ww=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,$w=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,jw=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Qw=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,Yw=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,Xw=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float specularRoughness;
	vec3 specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Zw=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Kw=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,Jw=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,e1=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,t1=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,n1=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,i1=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,o1=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,r1=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,a1=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,s1=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,l1=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,c1=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,u1=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,d1=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
		uniform float morphTargetInfluences[ 8 ];
	#else
		uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,h1=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
		transformed += morphTarget4 * morphTargetInfluences[ 4 ];
		transformed += morphTarget5 * morphTargetInfluences[ 5 ];
		transformed += morphTarget6 * morphTargetInfluences[ 6 ];
		transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,f1=`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,p1=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,m1=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,v1=`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,g1=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,y1=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,b1=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,x1=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,_1=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,w1=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,S1=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,M1=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,T1=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,C1=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,E1=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,A1=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,L1=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,P1=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,R1=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,k1=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,B1=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,I1=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,F1=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,O1=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,N1=`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,D1=`#ifdef USE_TRANSMISSIONMAP
	totalTransmission *= texture2D( transmissionMap, vUv ).r;
#endif`,z1=`#ifdef USE_TRANSMISSIONMAP
	uniform sampler2D transmissionMap;
#endif`,q1=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,V1=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,H1=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,U1=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,G1=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,W1=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,$1=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,j1=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Q1=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Y1=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,X1=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Z1=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,K1=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,J1=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,eS=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,tS=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,nS=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,iS=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,oS=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,rS=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aS=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,sS=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lS=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,cS=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,uS=`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,dS=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hS=`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fS=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pS=`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mS=`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSMISSION
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSMISSION
	uniform float transmission;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <transmissionmap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#ifdef TRANSMISSION
		float totalTransmission = transmission;
	#endif
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <transmissionmap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSMISSION
		diffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vS=`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gS=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,yS=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,bS=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,xS=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,_S=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,wS=`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,SS=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,MS=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`;const ut={alphamap_fragment:ow,alphamap_pars_fragment:rw,alphatest_fragment:aw,aomap_fragment:sw,aomap_pars_fragment:lw,begin_vertex:cw,beginnormal_vertex:uw,bsdfs:dw,bumpmap_pars_fragment:hw,clipping_planes_fragment:fw,clipping_planes_pars_fragment:pw,clipping_planes_pars_vertex:mw,clipping_planes_vertex:vw,color_fragment:gw,color_pars_fragment:yw,color_pars_vertex:bw,color_vertex:xw,common:_w,cube_uv_reflection_fragment:ww,defaultnormal_vertex:Sw,displacementmap_pars_vertex:Mw,displacementmap_vertex:Tw,emissivemap_fragment:Cw,emissivemap_pars_fragment:Ew,encodings_fragment:Aw,encodings_pars_fragment:Lw,envmap_fragment:Pw,envmap_common_pars_fragment:Rw,envmap_pars_fragment:kw,envmap_pars_vertex:Bw,envmap_physical_pars_fragment:Gw,envmap_vertex:Iw,fog_vertex:Fw,fog_pars_vertex:Ow,fog_fragment:Nw,fog_pars_fragment:Dw,gradientmap_pars_fragment:zw,lightmap_fragment:qw,lightmap_pars_fragment:Vw,lights_lambert_vertex:Hw,lights_pars_begin:Uw,lights_toon_fragment:Ww,lights_toon_pars_fragment:$w,lights_phong_fragment:jw,lights_phong_pars_fragment:Qw,lights_physical_fragment:Yw,lights_physical_pars_fragment:Xw,lights_fragment_begin:Zw,lights_fragment_maps:Kw,lights_fragment_end:Jw,logdepthbuf_fragment:e1,logdepthbuf_pars_fragment:t1,logdepthbuf_pars_vertex:n1,logdepthbuf_vertex:i1,map_fragment:o1,map_pars_fragment:r1,map_particle_fragment:a1,map_particle_pars_fragment:s1,metalnessmap_fragment:l1,metalnessmap_pars_fragment:c1,morphnormal_vertex:u1,morphtarget_pars_vertex:d1,morphtarget_vertex:h1,normal_fragment_begin:f1,normal_fragment_maps:p1,normalmap_pars_fragment:m1,clearcoat_normal_fragment_begin:v1,clearcoat_normal_fragment_maps:g1,clearcoat_pars_fragment:y1,packing:b1,premultiplied_alpha_fragment:x1,project_vertex:_1,dithering_fragment:w1,dithering_pars_fragment:S1,roughnessmap_fragment:M1,roughnessmap_pars_fragment:T1,shadowmap_pars_fragment:C1,shadowmap_pars_vertex:E1,shadowmap_vertex:A1,shadowmask_pars_fragment:L1,skinbase_vertex:P1,skinning_pars_vertex:R1,skinning_vertex:k1,skinnormal_vertex:B1,specularmap_fragment:I1,specularmap_pars_fragment:F1,tonemapping_fragment:O1,tonemapping_pars_fragment:N1,transmissionmap_fragment:D1,transmissionmap_pars_fragment:z1,uv_pars_fragment:q1,uv_pars_vertex:V1,uv_vertex:H1,uv2_pars_fragment:U1,uv2_pars_vertex:G1,uv2_vertex:W1,worldpos_vertex:$1,background_frag:j1,background_vert:Q1,cube_frag:Y1,cube_vert:X1,depth_frag:Z1,depth_vert:K1,distanceRGBA_frag:J1,distanceRGBA_vert:eS,equirect_frag:tS,equirect_vert:nS,linedashed_frag:iS,linedashed_vert:oS,meshbasic_frag:rS,meshbasic_vert:aS,meshlambert_frag:sS,meshlambert_vert:lS,meshmatcap_frag:cS,meshmatcap_vert:uS,meshtoon_frag:dS,meshtoon_vert:hS,meshphong_frag:fS,meshphong_vert:pS,meshphysical_frag:mS,meshphysical_vert:vS,normal_frag:gS,normal_vert:yS,points_frag:bS,points_vert:xS,shadow_frag:_S,shadow_vert:wS,sprite_frag:SS,sprite_vert:MS},qe={common:{diffuse:{value:new We(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Mn},uv2Transform:{value:new Mn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ae(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new We(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new We(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Mn}},sprite:{diffuse:{value:new We(15658734)},opacity:{value:1},center:{value:new Ae(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Mn}}},ri={basic:{uniforms:fn([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.fog]),vertexShader:ut.meshbasic_vert,fragmentShader:ut.meshbasic_frag},lambert:{uniforms:fn([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.fog,qe.lights,{emissive:{value:new We(0)}}]),vertexShader:ut.meshlambert_vert,fragmentShader:ut.meshlambert_frag},phong:{uniforms:fn([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.fog,qe.lights,{emissive:{value:new We(0)},specular:{value:new We(1118481)},shininess:{value:30}}]),vertexShader:ut.meshphong_vert,fragmentShader:ut.meshphong_frag},standard:{uniforms:fn([qe.common,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.roughnessmap,qe.metalnessmap,qe.fog,qe.lights,{emissive:{value:new We(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ut.meshphysical_vert,fragmentShader:ut.meshphysical_frag},toon:{uniforms:fn([qe.common,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.gradientmap,qe.fog,qe.lights,{emissive:{value:new We(0)}}]),vertexShader:ut.meshtoon_vert,fragmentShader:ut.meshtoon_frag},matcap:{uniforms:fn([qe.common,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.fog,{matcap:{value:null}}]),vertexShader:ut.meshmatcap_vert,fragmentShader:ut.meshmatcap_frag},points:{uniforms:fn([qe.points,qe.fog]),vertexShader:ut.points_vert,fragmentShader:ut.points_frag},dashed:{uniforms:fn([qe.common,qe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ut.linedashed_vert,fragmentShader:ut.linedashed_frag},depth:{uniforms:fn([qe.common,qe.displacementmap]),vertexShader:ut.depth_vert,fragmentShader:ut.depth_frag},normal:{uniforms:fn([qe.common,qe.bumpmap,qe.normalmap,qe.displacementmap,{opacity:{value:1}}]),vertexShader:ut.normal_vert,fragmentShader:ut.normal_frag},sprite:{uniforms:fn([qe.sprite,qe.fog]),vertexShader:ut.sprite_vert,fragmentShader:ut.sprite_frag},background:{uniforms:{uvTransform:{value:new Mn},t2D:{value:null}},vertexShader:ut.background_vert,fragmentShader:ut.background_frag},cube:{uniforms:fn([qe.envmap,{opacity:{value:1}}]),vertexShader:ut.cube_vert,fragmentShader:ut.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ut.equirect_vert,fragmentShader:ut.equirect_frag},distanceRGBA:{uniforms:fn([qe.common,qe.displacementmap,{referencePosition:{value:new H},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ut.distanceRGBA_vert,fragmentShader:ut.distanceRGBA_frag},shadow:{uniforms:fn([qe.lights,qe.fog,{color:{value:new We(0)},opacity:{value:1}}]),vertexShader:ut.shadow_vert,fragmentShader:ut.shadow_frag}};ri.physical={uniforms:fn([ri.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ae(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new We(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:ut.meshphysical_vert,fragmentShader:ut.meshphysical_frag};function TS(e,t,n,i,o){const r=new We(0);let a=0,s,l,c=null,u=0,d=null;function f(p,y,b,g){let m=y.isScene===!0?y.background:null;m&&m.isTexture&&(m=t.get(m));const _=e.xr,x=_.getSession&&_.getSession();x&&x.environmentBlendMode==="additive"&&(m=null),m===null?h(r,a):m&&m.isColor&&(h(m,1),g=!0),(e.autoClear||g)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||m.isWebGLCubeRenderTarget||m.mapping===Aa)?(l===void 0&&(l=new Bt(new nl(1,1,1),new Cn({name:"BackgroundCubeMaterial",uniforms:fa(ri.cube.uniforms),vertexShader:ri.cube.vertexShader,fragmentShader:ri.cube.fragmentShader,side:Zt,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(M,w,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),m.isWebGLCubeRenderTarget&&(m=m.texture),l.material.uniforms.envMap.value=m,l.material.uniforms.flipEnvMap.value=m.isCubeTexture&&m._needsFlipEnvMap?-1:1,(c!==m||u!==m.version||d!==e.toneMapping)&&(l.material.needsUpdate=!0,c=m,u=m.version,d=e.toneMapping),p.unshift(l,l.geometry,l.material,0,0,null)):m&&m.isTexture&&(s===void 0&&(s=new Bt(new xu(2,2),new Cn({name:"BackgroundMaterial",uniforms:fa(ri.background.uniforms),vertexShader:ri.background.vertexShader,fragmentShader:ri.background.fragmentShader,side:Ea,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=m,m.matrixAutoUpdate===!0&&m.updateMatrix(),s.material.uniforms.uvTransform.value.copy(m.matrix),(c!==m||u!==m.version||d!==e.toneMapping)&&(s.material.needsUpdate=!0,c=m,u=m.version,d=e.toneMapping),p.unshift(s,s.geometry,s.material,0,0,null))}function h(p,y){n.buffers.color.setClear(p.r,p.g,p.b,y,o)}return{getClearColor:function(){return r},setClearColor:function(p,y=1){r.set(p),a=y,h(r,a)},getClearAlpha:function(){return a},setClearAlpha:function(p){a=p,h(r,a)},render:f}}function CS(e,t,n,i){const o=e.getParameter(34921),r=i.isWebGL2?null:t.get("OES_vertex_array_object"),a=i.isWebGL2||r!==null,s={},l=y(null);let c=l;function u(C,P,L,q,F){let j=!1;if(a){const G=p(q,L,P);c!==G&&(c=G,f(c.object)),j=b(q,F),j&&g(q,F)}else{const G=P.wireframe===!0;(c.geometry!==q.id||c.program!==L.id||c.wireframe!==G)&&(c.geometry=q.id,c.program=L.id,c.wireframe=G,j=!0)}C.isInstancedMesh===!0&&(j=!0),F!==null&&n.update(F,34963),j&&(T(C,P,L,q),F!==null&&e.bindBuffer(34963,n.get(F).buffer))}function d(){return i.isWebGL2?e.createVertexArray():r.createVertexArrayOES()}function f(C){return i.isWebGL2?e.bindVertexArray(C):r.bindVertexArrayOES(C)}function h(C){return i.isWebGL2?e.deleteVertexArray(C):r.deleteVertexArrayOES(C)}function p(C,P,L){const q=L.wireframe===!0;let F=s[C.id];F===void 0&&(F={},s[C.id]=F);let j=F[P.id];j===void 0&&(j={},F[P.id]=j);let G=j[q];return G===void 0&&(G=y(d()),j[q]=G),G}function y(C){const P=[],L=[],q=[];for(let F=0;F<o;F++)P[F]=0,L[F]=0,q[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:P,enabledAttributes:L,attributeDivisors:q,object:C,attributes:{},index:null}}function b(C,P){const L=c.attributes,q=C.attributes;let F=0;for(const j in q){const G=L[j],Y=q[j];if(G===void 0||G.attribute!==Y||G.data!==Y.data)return!0;F++}return c.attributesNum!==F||c.index!==P}function g(C,P){const L={},q=C.attributes;let F=0;for(const j in q){const G=q[j],Y={};Y.attribute=G,G.data&&(Y.data=G.data),L[j]=Y,F++}c.attributes=L,c.attributesNum=F,c.index=P}function m(){const C=c.newAttributes;for(let P=0,L=C.length;P<L;P++)C[P]=0}function _(C){x(C,0)}function x(C,P){const L=c.newAttributes,q=c.enabledAttributes,F=c.attributeDivisors;L[C]=1,q[C]===0&&(e.enableVertexAttribArray(C),q[C]=1),F[C]!==P&&((i.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](C,P),F[C]=P)}function M(){const C=c.newAttributes,P=c.enabledAttributes;for(let L=0,q=P.length;L<q;L++)P[L]!==C[L]&&(e.disableVertexAttribArray(L),P[L]=0)}function w(C,P,L,q,F,j){i.isWebGL2===!0&&(L===5124||L===5125)?e.vertexAttribIPointer(C,P,L,F,j):e.vertexAttribPointer(C,P,L,q,F,j)}function T(C,P,L,q){if(i.isWebGL2===!1&&(C.isInstancedMesh||q.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;m();const F=q.attributes,j=L.getAttributes(),G=P.defaultAttributeValues;for(const Y in j){const ee=j[Y];if(ee>=0){const U=F[Y];if(U!==void 0){const oe=U.normalized,J=U.itemSize,te=n.get(U);if(te===void 0)continue;const ve=te.buffer,de=te.type,ne=te.bytesPerElement;if(U.isInterleavedBufferAttribute){const E=U.data,$=E.stride,he=U.offset;E&&E.isInstancedInterleavedBuffer?(x(ee,E.meshPerAttribute),q._maxInstanceCount===void 0&&(q._maxInstanceCount=E.meshPerAttribute*E.count)):_(ee),e.bindBuffer(34962,ve),w(ee,J,de,oe,$*ne,he*ne)}else U.isInstancedBufferAttribute?(x(ee,U.meshPerAttribute),q._maxInstanceCount===void 0&&(q._maxInstanceCount=U.meshPerAttribute*U.count)):_(ee),e.bindBuffer(34962,ve),w(ee,J,de,oe,0,0)}else if(Y==="instanceMatrix"){const oe=n.get(C.instanceMatrix);if(oe===void 0)continue;const J=oe.buffer,te=oe.type;x(ee+0,1),x(ee+1,1),x(ee+2,1),x(ee+3,1),e.bindBuffer(34962,J),e.vertexAttribPointer(ee+0,4,te,!1,64,0),e.vertexAttribPointer(ee+1,4,te,!1,64,16),e.vertexAttribPointer(ee+2,4,te,!1,64,32),e.vertexAttribPointer(ee+3,4,te,!1,64,48)}else if(Y==="instanceColor"){const oe=n.get(C.instanceColor);if(oe===void 0)continue;const J=oe.buffer,te=oe.type;x(ee,1),e.bindBuffer(34962,J),e.vertexAttribPointer(ee,3,te,!1,12,0)}else if(G!==void 0){const oe=G[Y];if(oe!==void 0)switch(oe.length){case 2:e.vertexAttrib2fv(ee,oe);break;case 3:e.vertexAttrib3fv(ee,oe);break;case 4:e.vertexAttrib4fv(ee,oe);break;default:e.vertexAttrib1fv(ee,oe)}}}}M()}function B(){A();for(const C in s){const P=s[C];for(const L in P){const q=P[L];for(const F in q)h(q[F].object),delete q[F];delete P[L]}delete s[C]}}function D(C){if(s[C.id]===void 0)return;const P=s[C.id];for(const L in P){const q=P[L];for(const F in q)h(q[F].object),delete q[F];delete P[L]}delete s[C.id]}function z(C){for(const P in s){const L=s[P];if(L[C.id]===void 0)continue;const q=L[C.id];for(const F in q)h(q[F].object),delete q[F];delete L[C.id]}}function A(){O(),c!==l&&(c=l,f(c.object))}function O(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:u,reset:A,resetDefaultState:O,dispose:B,releaseStatesOfGeometry:D,releaseStatesOfProgram:z,initAttributes:m,enableAttribute:_,disableUnusedAttributes:M}}function ES(e,t,n,i){const o=i.isWebGL2;let r;function a(c){r=c}function s(c,u){e.drawArrays(r,c,u),n.update(u,r,1)}function l(c,u,d){if(d===0)return;let f,h;if(o)f=e,h="drawArraysInstanced";else if(f=t.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[h](r,c,u,d),n.update(u,r,d)}this.setMode=a,this.render=s,this.renderInstances=l}function AS(e,t,n){let i;function o(){if(i!==void 0)return i;const w=t.get("EXT_texture_filter_anisotropic");return w!==null?i=e.getParameter(w.MAX_TEXTURE_MAX_ANISOTROPY_EXT):i=0,i}function r(w){if(w==="highp"){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";w="mediump"}return w==="mediump"&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext!="undefined"&&e instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&e instanceof WebGL2ComputeRenderingContext;let s=n.precision!==void 0?n.precision:"highp";const l=r(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);const c=n.logarithmicDepthBuffer===!0,u=e.getParameter(34930),d=e.getParameter(35660),f=e.getParameter(3379),h=e.getParameter(34076),p=e.getParameter(34921),y=e.getParameter(36347),b=e.getParameter(36348),g=e.getParameter(36349),m=d>0,_=a||!!t.get("OES_texture_float"),x=m&&_,M=a?e.getParameter(36183):0;return{isWebGL2:a,getMaxAnisotropy:o,getMaxPrecision:r,precision:s,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:d,maxTextureSize:f,maxCubemapSize:h,maxAttributes:p,maxVertexUniforms:y,maxVaryings:b,maxFragmentUniforms:g,vertexTextures:m,floatFragmentTextures:_,floatVertexTextures:x,maxSamples:M}}function LS(e){const t=this;let n=null,i=0,o=!1,r=!1;const a=new xi,s=new Mn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f,h){const p=d.length!==0||f||i!==0||o;return o=f,n=u(d,h,0),i=d.length,p},this.beginShadows=function(){r=!0,u(null)},this.endShadows=function(){r=!1,c()},this.setState=function(d,f,h){const p=d.clippingPlanes,y=d.clipIntersection,b=d.clipShadows,g=e.get(d);if(!o||p===null||p.length===0||r&&!b)r?u(null):c();else{const m=r?0:i,_=m*4;let x=g.clippingState||null;l.value=x,x=u(p,f,_,h);for(let M=0;M!==_;++M)x[M]=n[M];g.clippingState=x,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=m}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function u(d,f,h,p){const y=d!==null?d.length:0;let b=null;if(y!==0){if(b=l.value,p!==!0||b===null){const g=h+y*4,m=f.matrixWorldInverse;s.getNormalMatrix(m),(b===null||b.length<g)&&(b=new Float32Array(g));for(let _=0,x=h;_!==y;++_,x+=4)a.copy(d[_]).applyMatrix4(m,s),a.normal.toArray(b,x),b[x+3]=a.constant}l.value=b,l.needsUpdate=!0}return t.numPlanes=y,t.numIntersection=0,b}}function PS(e){let t=new WeakMap;function n(a,s){return s===Ec?a.mapping=Zs:s===Ac&&(a.mapping=Ks),a}function i(a){if(a&&a.isTexture){const s=a.mapping;if(s===Ec||s===Ac)if(t.has(a)){const l=t.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=e.getRenderList(),u=e.getRenderTarget(),d=new ji(l.height/2);return d.fromEquirectangularTexture(e,a),t.set(a,d),e.setRenderTarget(u),e.setRenderList(c),a.addEventListener("dispose",o),n(d.texture,a.mapping)}else return null}}return a}function o(a){const s=a.target;s.removeEventListener("dispose",o);const l=t.get(s);l!==void 0&&(t.delete(s),l.dispose())}function r(){t=new WeakMap}return{get:i,dispose:r}}function RS(e){const t={};return{has:function(n){if(t[n]!==void 0)return t[n]!==null;let i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return t[n]=i,i!==null},get:function(n){return this.has(n)||console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]}}}function kS(e,t,n,i){const o=new WeakMap,r=new WeakMap;function a(d){const f=d.target,h=o.get(f);h.index!==null&&t.remove(h.index);for(const y in h.attributes)t.remove(h.attributes[y]);f.removeEventListener("dispose",a),o.delete(f);const p=r.get(h);p&&(t.remove(p),r.delete(h)),i.releaseStatesOfGeometry(h),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function s(d,f){let h=o.get(f);return h||(f.addEventListener("dispose",a),f.isBufferGeometry?h=f:f.isGeometry&&(f._bufferGeometry===void 0&&(f._bufferGeometry=new Je().setFromObject(d)),h=f._bufferGeometry),o.set(f,h),n.memory.geometries++,h)}function l(d){const f=d.attributes;for(const p in f)t.update(f[p],34962);const h=d.morphAttributes;for(const p in h){const y=h[p];for(let b=0,g=y.length;b<g;b++)t.update(y[b],34962)}}function c(d){const f=[],h=d.index,p=d.attributes.position;let y=0;if(h!==null){const m=h.array;y=h.version;for(let _=0,x=m.length;_<x;_+=3){const M=m[_+0],w=m[_+1],T=m[_+2];f.push(M,w,w,T,T,M)}}else{const m=p.array;y=p.version;for(let _=0,x=m.length/3-1;_<x;_+=3){const M=_+0,w=_+1,T=_+2;f.push(M,w,w,T,T,M)}}const b=new(R0(f)>65535?or:ir)(f,1);b.version=y;const g=r.get(d);g&&t.remove(g),r.set(d,b)}function u(d){const f=r.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&c(d)}else c(d);return r.get(d)}return{get:s,update:l,getWireframeAttribute:u}}function BS(e,t,n,i){const o=i.isWebGL2;let r;function a(f){r=f}let s,l;function c(f){s=f.type,l=f.bytesPerElement}function u(f,h){e.drawElements(r,h,s,f*l),n.update(h,r,1)}function d(f,h,p){if(p===0)return;let y,b;if(o)y=e,b="drawElementsInstanced";else if(y=t.get("ANGLE_instanced_arrays"),b="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[b](r,h,s,f*l,p),n.update(h,r,p)}this.setMode=a,this.setIndex=c,this.render=u,this.renderInstances=d}function IS(e){const t={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(r,a,s){switch(n.calls++,a){case 4:n.triangles+=s*(r/3);break;case 1:n.lines+=s*(r/2);break;case 3:n.lines+=s*(r-1);break;case 2:n.lines+=s*r;break;case 0:n.points+=s*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function o(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:t,render:n,programs:null,autoReset:!0,reset:o,update:i}}function FS(e,t){return e[0]-t[0]}function OS(e,t){return Math.abs(t[1])-Math.abs(e[1])}function NS(e){const t={},n=new Float32Array(8),i=[];for(let r=0;r<8;r++)i[r]=[r,0];function o(r,a,s,l){const c=r.morphTargetInfluences,u=c===void 0?0:c.length;let d=t[a.id];if(d===void 0){d=[];for(let b=0;b<u;b++)d[b]=[b,0];t[a.id]=d}for(let b=0;b<u;b++){const g=d[b];g[0]=b,g[1]=c[b]}d.sort(OS);for(let b=0;b<8;b++)b<u&&d[b][1]?(i[b][0]=d[b][0],i[b][1]=d[b][1]):(i[b][0]=Number.MAX_SAFE_INTEGER,i[b][1]=0);i.sort(FS);const f=s.morphTargets&&a.morphAttributes.position,h=s.morphNormals&&a.morphAttributes.normal;let p=0;for(let b=0;b<8;b++){const g=i[b],m=g[0],_=g[1];m!==Number.MAX_SAFE_INTEGER&&_?(f&&a.getAttribute("morphTarget"+b)!==f[m]&&a.setAttribute("morphTarget"+b,f[m]),h&&a.getAttribute("morphNormal"+b)!==h[m]&&a.setAttribute("morphNormal"+b,h[m]),n[b]=_,p+=_):(f&&a.hasAttribute("morphTarget"+b)===!0&&a.deleteAttribute("morphTarget"+b),h&&a.hasAttribute("morphNormal"+b)===!0&&a.deleteAttribute("morphNormal"+b),n[b]=0)}const y=a.morphTargetsRelative?1:1-p;l.getUniforms().setValue(e,"morphTargetBaseInfluence",y),l.getUniforms().setValue(e,"morphTargetInfluences",n)}return{update:o}}function DS(e,t,n,i){let o=new WeakMap;function r(l){const c=i.render.frame,u=l.geometry,d=t.get(l,u);return o.get(d)!==c&&(u.isGeometry&&d.updateFromObject(l),t.update(d),o.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),n.update(l.instanceMatrix,34962),l.instanceColor!==null&&n.update(l.instanceColor,34962)),d}function a(){o=new WeakMap}function s(l){const c=l.target;c.removeEventListener("dispose",s),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:r,dispose:a}}function pa(e=null,t=1,n=1,i=1){Mt.call(this,null),this.image={data:e,width:t,height:n,depth:i},this.magFilter=Jt,this.minFilter=Jt,this.wrapR=wn,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}pa.prototype=Object.create(Mt.prototype);pa.prototype.constructor=pa;pa.prototype.isDataTexture2DArray=!0;function ma(e=null,t=1,n=1,i=1){Mt.call(this,null),this.image={data:e,width:t,height:n,depth:i},this.magFilter=Jt,this.minFilter=Jt,this.wrapR=wn,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}ma.prototype=Object.create(Mt.prototype);ma.prototype.constructor=ma;ma.prototype.isDataTexture3D=!0;const F0=new Mt,zS=new pa,qS=new ma,O0=new Ti,bp=[],xp=[],_p=new Float32Array(16),wp=new Float32Array(9),Sp=new Float32Array(4);function Ba(e,t,n){const i=e[0];if(i<=0||i>0)return e;const o=t*n;let r=bp[o];if(r===void 0&&(r=new Float32Array(o),bp[o]=r),t!==0){i.toArray(r,0);for(let a=1,s=0;a!==t;++a)s+=n,e[a].toArray(r,s)}return r}function Qn(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function Hn(e,t){for(let n=0,i=t.length;n<i;n++)e[n]=t[n]}function N0(e,t){let n=xp[t];n===void 0&&(n=new Int32Array(t),xp[t]=n);for(let i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function VS(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function HS(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Qn(n,t))return;e.uniform2fv(this.addr,t),Hn(n,t)}}function US(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(t.r!==void 0)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Qn(n,t))return;e.uniform3fv(this.addr,t),Hn(n,t)}}function GS(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Qn(n,t))return;e.uniform4fv(this.addr,t),Hn(n,t)}}function WS(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(Qn(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Hn(n,t)}else{if(Qn(n,i))return;Sp.set(i),e.uniformMatrix2fv(this.addr,!1,Sp),Hn(n,i)}}function $S(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(Qn(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Hn(n,t)}else{if(Qn(n,i))return;wp.set(i),e.uniformMatrix3fv(this.addr,!1,wp),Hn(n,i)}}function jS(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(Qn(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Hn(n,t)}else{if(Qn(n,i))return;_p.set(i),e.uniformMatrix4fv(this.addr,!1,_p),Hn(n,i)}}function QS(e,t,n){const i=this.cache,o=n.allocateTextureUnit();i[0]!==o&&(e.uniform1i(this.addr,o),i[0]=o),n.safeSetTexture2D(t||F0,o)}function YS(e,t,n){const i=this.cache,o=n.allocateTextureUnit();i[0]!==o&&(e.uniform1i(this.addr,o),i[0]=o),n.setTexture2DArray(t||zS,o)}function XS(e,t,n){const i=this.cache,o=n.allocateTextureUnit();i[0]!==o&&(e.uniform1i(this.addr,o),i[0]=o),n.setTexture3D(t||qS,o)}function ZS(e,t,n){const i=this.cache,o=n.allocateTextureUnit();i[0]!==o&&(e.uniform1i(this.addr,o),i[0]=o),n.safeSetTextureCube(t||O0,o)}function KS(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function JS(e,t){const n=this.cache;Qn(n,t)||(e.uniform2iv(this.addr,t),Hn(n,t))}function eM(e,t){const n=this.cache;Qn(n,t)||(e.uniform3iv(this.addr,t),Hn(n,t))}function tM(e,t){const n=this.cache;Qn(n,t)||(e.uniform4iv(this.addr,t),Hn(n,t))}function nM(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function iM(e){switch(e){case 5126:return VS;case 35664:return HS;case 35665:return US;case 35666:return GS;case 35674:return WS;case 35675:return $S;case 35676:return jS;case 5124:case 35670:return KS;case 35667:case 35671:return JS;case 35668:case 35672:return eM;case 35669:case 35673:return tM;case 5125:return nM;case 35678:case 36198:case 36298:case 36306:case 35682:return QS;case 35679:case 36299:case 36307:return XS;case 35680:case 36300:case 36308:case 36293:return ZS;case 36289:case 36303:case 36311:case 36292:return YS}}function oM(e,t){e.uniform1fv(this.addr,t)}function rM(e,t){e.uniform1iv(this.addr,t)}function aM(e,t){e.uniform2iv(this.addr,t)}function sM(e,t){e.uniform3iv(this.addr,t)}function lM(e,t){e.uniform4iv(this.addr,t)}function cM(e,t){const n=Ba(t,this.size,2);e.uniform2fv(this.addr,n)}function uM(e,t){const n=Ba(t,this.size,3);e.uniform3fv(this.addr,n)}function dM(e,t){const n=Ba(t,this.size,4);e.uniform4fv(this.addr,n)}function hM(e,t){const n=Ba(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function fM(e,t){const n=Ba(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function pM(e,t){const n=Ba(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function mM(e,t,n){const i=t.length,o=N0(n,i);e.uniform1iv(this.addr,o);for(let r=0;r!==i;++r)n.safeSetTexture2D(t[r]||F0,o[r])}function vM(e,t,n){const i=t.length,o=N0(n,i);e.uniform1iv(this.addr,o);for(let r=0;r!==i;++r)n.safeSetTextureCube(t[r]||O0,o[r])}function gM(e){switch(e){case 5126:return oM;case 35664:return cM;case 35665:return uM;case 35666:return dM;case 35674:return hM;case 35675:return fM;case 35676:return pM;case 5124:case 35670:return rM;case 35667:case 35671:return aM;case 35668:case 35672:return sM;case 35669:case 35673:return lM;case 35678:case 36198:case 36298:case 36306:case 35682:return mM;case 35680:case 36300:case 36308:case 36293:return vM}}function yM(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=iM(t.type)}function D0(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=gM(t.type)}D0.prototype.updateCache=function(e){const t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),Hn(t,e)};function z0(e){this.id=e,this.seq=[],this.map={}}z0.prototype.setValue=function(e,t,n){const i=this.seq;for(let o=0,r=i.length;o!==r;++o){const a=i[o];a.setValue(e,t[a.id],n)}};const od=/(\w+)(\])?(\[|\.)?/g;function Mp(e,t){e.seq.push(t),e.map[t.id]=t}function bM(e,t,n){const i=e.name,o=i.length;for(od.lastIndex=0;;){const r=od.exec(i),a=od.lastIndex;let s=r[1];const l=r[2]==="]",c=r[3];if(l&&(s=s|0),c===void 0||c==="["&&a+2===o){Mp(n,c===void 0?new yM(s,e,t):new D0(s,e,t));break}else{let d=n.map[s];d===void 0&&(d=new z0(s),Mp(n,d)),n=d}}}function yo(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let i=0;i<n;++i){const o=e.getActiveUniform(t,i),r=e.getUniformLocation(t,o.name);bM(o,r,this)}}yo.prototype.setValue=function(e,t,n,i){const o=this.map[t];o!==void 0&&o.setValue(e,n,i)};yo.prototype.setOptional=function(e,t,n){const i=t[n];i!==void 0&&this.setValue(e,n,i)};yo.upload=function(e,t,n,i){for(let o=0,r=t.length;o!==r;++o){const a=t[o],s=n[a.id];s.needsUpdate!==!1&&a.setValue(e,s.value,i)}};yo.seqWithValue=function(e,t){const n=[];for(let i=0,o=e.length;i!==o;++i){const r=e[i];r.id in t&&n.push(r)}return n};function Tp(e,t,n){const i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}let xM=0;function _M(e){const t=e.split(`
`);for(let n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join(`
`)}function q0(e){switch(e){case Tn:return["Linear","( value )"];case el:return["sRGB","( value )"];case bu:return["RGBE","( value )"];case Uh:return["RGBM","( value, 7.0 )"];case Gh:return["RGBM","( value, 16.0 )"];case Wh:return["RGBD","( value, 256.0 )"];case yu:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case T0:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function Cp(e,t,n){const i=e.getShaderParameter(t,35713),o=e.getShaderInfoLog(t).trim();if(i&&o==="")return"";const r=e.getShaderSource(t);return"THREE.WebGLShader: gl.getShaderInfoLog() "+n+`
`+o+_M(r)}function Wa(e,t){const n=q0(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function wM(e,t){const n=q0(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function SM(e,t){let n;switch(t){case Mg:n="Linear";break;case Tg:n="Reinhard";break;case Cg:n="OptimizedCineon";break;case Eg:n="ACESFilmic";break;case Ag:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function MM(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(os).join(`
`)}function TM(e){const t=[];for(const n in e){const i=e[n];i!==!1&&t.push("#define "+n+" "+i)}return t.join(`
`)}function CM(e,t){const n={},i=e.getProgramParameter(t,35721);for(let o=0;o<i;o++){const a=e.getActiveAttrib(t,o).name;n[a]=e.getAttribLocation(t,a)}return n}function os(e){return e!==""}function Ep(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Ap(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const EM=/^[ \t]*#include +<([\w\d./]+)>/gm;function eh(e){return e.replace(EM,AM)}function AM(e,t){const n=ut[t];if(n===void 0)throw new Error("Can not resolve #include <"+t+">");return eh(n)}const LM=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,PM=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Lp(e){return e.replace(PM,V0).replace(LM,RM)}function RM(e,t,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),V0(e,t,n,i)}function V0(e,t,n,i){let o="";for(let r=parseInt(t);r<parseInt(n);r++)o+=i.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return o}function Pp(e){let t="precision "+e.precision+` float;
precision `+e.precision+" int;";return e.precision==="highp"?t+=`
#define HIGH_PRECISION`:e.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function kM(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===Nh?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===ng?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===Zr&&(t="SHADOWMAP_TYPE_VSM"),t}function BM(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Zs:case Ks:t="ENVMAP_TYPE_CUBE";break;case Aa:case Js:t="ENVMAP_TYPE_CUBE_UV";break}return t}function IM(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case Ks:case Js:t="ENVMAP_MODE_REFRACTION";break}return t}function FM(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case Xs:t="ENVMAP_BLENDING_MULTIPLY";break;case wg:t="ENVMAP_BLENDING_MIX";break;case Sg:t="ENVMAP_BLENDING_ADD";break}return t}function OM(e,t,n,i){const o=e.getContext(),r=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=kM(n),c=BM(n),u=IM(n),d=FM(n),f=e.gammaFactor>0?e.gammaFactor:1,h=n.isWebGL2?"":MM(n),p=TM(r),y=o.createProgram();let b,g,m=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(b=[p].filter(os).join(`
`),b.length>0&&(b+=`
`),g=[h,p].filter(os).join(`
`),g.length>0&&(g+=`
`)):(b=[Pp(n),"#define SHADER_NAME "+n.shaderName,p,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+f,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(os).join(`
`),g=[h,Pp(n),"#define SHADER_NAME "+n.shaderName,p,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+f,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Zo?"#define TONE_MAPPING":"",n.toneMapping!==Zo?ut.tonemapping_pars_fragment:"",n.toneMapping!==Zo?SM("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",ut.encodings_pars_fragment,n.map?Wa("mapTexelToLinear",n.mapEncoding):"",n.matcap?Wa("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Wa("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Wa("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?Wa("lightMapTexelToLinear",n.lightMapEncoding):"",wM("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(os).join(`
`)),a=eh(a),a=Ep(a,n),a=Ap(a,n),s=eh(s),s=Ep(s,n),s=Ap(s,n),a=Lp(a),s=Lp(s),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(m=`#version 300 es
`,b=["#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+b,g=["#define varying in",n.glslVersion===Kd?"":"out highp vec4 pc_fragColor;",n.glslVersion===Kd?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const _=m+b+a,x=m+g+s,M=Tp(o,35633,_),w=Tp(o,35632,x);if(o.attachShader(y,M),o.attachShader(y,w),n.index0AttributeName!==void 0?o.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&o.bindAttribLocation(y,0,"position"),o.linkProgram(y),e.debug.checkShaderErrors){const D=o.getProgramInfoLog(y).trim(),z=o.getShaderInfoLog(M).trim(),A=o.getShaderInfoLog(w).trim();let O=!0,C=!0;if(o.getProgramParameter(y,35714)===!1){O=!1;const P=Cp(o,M,"vertex"),L=Cp(o,w,"fragment");console.error("THREE.WebGLProgram: shader error: ",o.getError(),"35715",o.getProgramParameter(y,35715),"gl.getProgramInfoLog",D,P,L)}else D!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",D):(z===""||A==="")&&(C=!1);C&&(this.diagnostics={runnable:O,programLog:D,vertexShader:{log:z,prefix:b},fragmentShader:{log:A,prefix:g}})}o.deleteShader(M),o.deleteShader(w);let T;this.getUniforms=function(){return T===void 0&&(T=new yo(o,y)),T};let B;return this.getAttributes=function(){return B===void 0&&(B=CM(o,y)),B},this.destroy=function(){i.releaseStatesOfProgram(this),o.deleteProgram(y),this.program=void 0},this.name=n.shaderName,this.id=xM++,this.cacheKey=t,this.usedTimes=1,this.program=y,this.vertexShader=M,this.fragmentShader=w,this}function NM(e,t,n,i,o,r){const a=[],s=i.isWebGL2,l=i.logarithmicDepthBuffer,c=i.floatVertexTextures,u=i.maxVertexUniforms,d=i.vertexTextures;let f=i.precision;const h={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},p=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function y(w){const B=w.skeleton.bones;if(c)return 1024;{const z=Math.floor((u-20)/4),A=Math.min(z,B.length);return A<B.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+B.length+" bones. This GPU supports "+A+"."),0):A}}function b(w){let T;return w&&w.isTexture?T=w.encoding:w&&w.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),T=w.texture.encoding):T=Tn,T}function g(w,T,B,D,z){const A=D.fog,O=w.isMeshStandardMaterial?D.environment:null,C=t.get(w.envMap||O),P=h[w.type],L=z.isSkinnedMesh?y(z):0;w.precision!==null&&(f=i.getMaxPrecision(w.precision),f!==w.precision&&console.warn("THREE.WebGLProgram.getParameters:",w.precision,"not supported, using",f,"instead."));let q,F;if(P){const Y=ri[P];q=Y.vertexShader,F=Y.fragmentShader}else q=w.vertexShader,F=w.fragmentShader;const j=e.getRenderTarget();return{isWebGL2:s,shaderID:P,shaderName:w.type,vertexShader:q,fragmentShader:F,defines:w.defines,isRawShaderMaterial:w.isRawShaderMaterial===!0,glslVersion:w.glslVersion,precision:f,instancing:z.isInstancedMesh===!0,instancingColor:z.isInstancedMesh===!0&&z.instanceColor!==null,supportsVertexTextures:d,outputEncoding:j!==null?b(j.texture):e.outputEncoding,map:!!w.map,mapEncoding:b(w.map),matcap:!!w.matcap,matcapEncoding:b(w.matcap),envMap:!!C,envMapMode:C&&C.mapping,envMapEncoding:b(C),envMapCubeUV:!!C&&(C.mapping===Aa||C.mapping===Js),lightMap:!!w.lightMap,lightMapEncoding:b(w.lightMap),aoMap:!!w.aoMap,emissiveMap:!!w.emissiveMap,emissiveMapEncoding:b(w.emissiveMap),bumpMap:!!w.bumpMap,normalMap:!!w.normalMap,objectSpaceNormalMap:w.normalMapType===A0,tangentSpaceNormalMap:w.normalMapType===vr,clearcoatMap:!!w.clearcoatMap,clearcoatRoughnessMap:!!w.clearcoatRoughnessMap,clearcoatNormalMap:!!w.clearcoatNormalMap,displacementMap:!!w.displacementMap,roughnessMap:!!w.roughnessMap,metalnessMap:!!w.metalnessMap,specularMap:!!w.specularMap,alphaMap:!!w.alphaMap,gradientMap:!!w.gradientMap,sheen:!!w.sheen,transmissionMap:!!w.transmissionMap,combine:w.combine,vertexTangents:w.normalMap&&w.vertexTangents,vertexColors:w.vertexColors,vertexUvs:!!w.map||!!w.bumpMap||!!w.normalMap||!!w.specularMap||!!w.alphaMap||!!w.emissiveMap||!!w.roughnessMap||!!w.metalnessMap||!!w.clearcoatMap||!!w.clearcoatRoughnessMap||!!w.clearcoatNormalMap||!!w.displacementMap||!!w.transmissionMap,uvsVertexOnly:!(!!w.map||!!w.bumpMap||!!w.normalMap||!!w.specularMap||!!w.alphaMap||!!w.emissiveMap||!!w.roughnessMap||!!w.metalnessMap||!!w.clearcoatNormalMap||!!w.transmissionMap)&&!!w.displacementMap,fog:!!A,useFog:w.fog,fogExp2:A&&A.isFogExp2,flatShading:w.flatShading,sizeAttenuation:w.sizeAttenuation,logarithmicDepthBuffer:l,skinning:w.skinning&&L>0,maxBones:L,useVertexTexture:c,morphTargets:w.morphTargets,morphNormals:w.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:T.directional.length,numPointLights:T.point.length,numSpotLights:T.spot.length,numRectAreaLights:T.rectArea.length,numHemiLights:T.hemi.length,numDirLightShadows:T.directionalShadowMap.length,numPointLightShadows:T.pointShadowMap.length,numSpotLightShadows:T.spotShadowMap.length,numClippingPlanes:r.numPlanes,numClipIntersection:r.numIntersection,dithering:w.dithering,shadowMapEnabled:e.shadowMap.enabled&&B.length>0,shadowMapType:e.shadowMap.type,toneMapping:w.toneMapped?e.toneMapping:Zo,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:w.premultipliedAlpha,alphaTest:w.alphaTest,doubleSided:w.side===Ys,flipSided:w.side===Zt,depthPacking:w.depthPacking!==void 0?w.depthPacking:!1,index0AttributeName:w.index0AttributeName,extensionDerivatives:w.extensions&&w.extensions.derivatives,extensionFragDepth:w.extensions&&w.extensions.fragDepth,extensionDrawBuffers:w.extensions&&w.extensions.drawBuffers,extensionShaderTextureLOD:w.extensions&&w.extensions.shaderTextureLOD,rendererExtensionFragDepth:s||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:s||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:s||n.has("EXT_shader_texture_lod"),customProgramCacheKey:w.customProgramCacheKey()}}function m(w){const T=[];if(w.shaderID?T.push(w.shaderID):(T.push(w.fragmentShader),T.push(w.vertexShader)),w.defines!==void 0)for(const B in w.defines)T.push(B),T.push(w.defines[B]);if(w.isRawShaderMaterial===!1){for(let B=0;B<p.length;B++)T.push(w[p[B]]);T.push(e.outputEncoding),T.push(e.gammaFactor)}return T.push(w.customProgramCacheKey),T.join()}function _(w){const T=h[w.type];let B;if(T){const D=ri[T];B=B0.clone(D.uniforms)}else B=w.uniforms;return B}function x(w,T){let B;for(let D=0,z=a.length;D<z;D++){const A=a[D];if(A.cacheKey===T){B=A,++B.usedTimes;break}}return B===void 0&&(B=new OM(e,T,w,o),a.push(B)),B}function M(w){if(--w.usedTimes===0){const T=a.indexOf(w);a[T]=a[a.length-1],a.pop(),w.destroy()}}return{getParameters:g,getProgramCacheKey:m,getUniforms:_,acquireProgram:x,releaseProgram:M,programs:a}}function DM(){let e=new WeakMap;function t(r){let a=e.get(r);return a===void 0&&(a={},e.set(r,a)),a}function n(r){e.delete(r)}function i(r,a,s){e.get(r)[a]=s}function o(){e=new WeakMap}return{get:t,remove:n,update:i,dispose:o}}function zM(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function qM(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Rp(e){const t=[];let n=0;const i=[],o=[],r={id:-1};function a(){n=0,i.length=0,o.length=0}function s(f,h,p,y,b,g){let m=t[n];const _=e.get(p);return m===void 0?(m={id:f.id,object:f,geometry:h,material:p,program:_.program||r,groupOrder:y,renderOrder:f.renderOrder,z:b,group:g},t[n]=m):(m.id=f.id,m.object=f,m.geometry=h,m.material=p,m.program=_.program||r,m.groupOrder=y,m.renderOrder=f.renderOrder,m.z=b,m.group=g),n++,m}function l(f,h,p,y,b,g){const m=s(f,h,p,y,b,g);(p.transparent===!0?o:i).push(m)}function c(f,h,p,y,b,g){const m=s(f,h,p,y,b,g);(p.transparent===!0?o:i).unshift(m)}function u(f,h){i.length>1&&i.sort(f||zM),o.length>1&&o.sort(h||qM)}function d(){for(let f=n,h=t.length;f<h;f++){const p=t[f];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.program=null,p.group=null}}return{opaque:i,transparent:o,init:a,push:l,unshift:c,finish:d,sort:u}}function VM(e){let t=new WeakMap;function n(o,r){const a=t.get(o);let s;return a===void 0?(s=new Rp(e),t.set(o,new WeakMap),t.get(o).set(r,s)):(s=a.get(r),s===void 0&&(s=new Rp(e),a.set(r,s))),s}function i(){t=new WeakMap}return{get:n,dispose:i}}function HM(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new H,color:new We};break;case"SpotLight":n={position:new H,direction:new H,color:new We,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new H,color:new We,distance:0,decay:0};break;case"HemisphereLight":n={direction:new H,skyColor:new We,groundColor:new We};break;case"RectAreaLight":n={color:new We,position:new H,halfWidth:new H,halfHeight:new H};break}return e[t.id]=n,n}}}function UM(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ae};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ae};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ae,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=n,n}}}let GM=0;function WM(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function $M(e,t){const n=new HM,i=UM(),o={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)o.probe.push(new H);const r=new H,a=new lt,s=new lt;function l(u){let d=0,f=0,h=0;for(let T=0;T<9;T++)o.probe[T].set(0,0,0);let p=0,y=0,b=0,g=0,m=0,_=0,x=0,M=0;u.sort(WM);for(let T=0,B=u.length;T<B;T++){const D=u[T],z=D.color,A=D.intensity,O=D.distance,C=D.shadow&&D.shadow.map?D.shadow.map.texture:null;if(D.isAmbientLight)d+=z.r*A,f+=z.g*A,h+=z.b*A;else if(D.isLightProbe)for(let P=0;P<9;P++)o.probe[P].addScaledVector(D.sh.coefficients[P],A);else if(D.isDirectionalLight){const P=n.get(D);if(P.color.copy(D.color).multiplyScalar(D.intensity),D.castShadow){const L=D.shadow,q=i.get(D);q.shadowBias=L.bias,q.shadowNormalBias=L.normalBias,q.shadowRadius=L.radius,q.shadowMapSize=L.mapSize,o.directionalShadow[p]=q,o.directionalShadowMap[p]=C,o.directionalShadowMatrix[p]=D.shadow.matrix,_++}o.directional[p]=P,p++}else if(D.isSpotLight){const P=n.get(D);if(P.position.setFromMatrixPosition(D.matrixWorld),P.color.copy(z).multiplyScalar(A),P.distance=O,P.coneCos=Math.cos(D.angle),P.penumbraCos=Math.cos(D.angle*(1-D.penumbra)),P.decay=D.decay,D.castShadow){const L=D.shadow,q=i.get(D);q.shadowBias=L.bias,q.shadowNormalBias=L.normalBias,q.shadowRadius=L.radius,q.shadowMapSize=L.mapSize,o.spotShadow[b]=q,o.spotShadowMap[b]=C,o.spotShadowMatrix[b]=D.shadow.matrix,M++}o.spot[b]=P,b++}else if(D.isRectAreaLight){const P=n.get(D);P.color.copy(z).multiplyScalar(A),P.halfWidth.set(D.width*.5,0,0),P.halfHeight.set(0,D.height*.5,0),o.rectArea[g]=P,g++}else if(D.isPointLight){const P=n.get(D);if(P.color.copy(D.color).multiplyScalar(D.intensity),P.distance=D.distance,P.decay=D.decay,D.castShadow){const L=D.shadow,q=i.get(D);q.shadowBias=L.bias,q.shadowNormalBias=L.normalBias,q.shadowRadius=L.radius,q.shadowMapSize=L.mapSize,q.shadowCameraNear=L.camera.near,q.shadowCameraFar=L.camera.far,o.pointShadow[y]=q,o.pointShadowMap[y]=C,o.pointShadowMatrix[y]=D.shadow.matrix,x++}o.point[y]=P,y++}else if(D.isHemisphereLight){const P=n.get(D);P.skyColor.copy(D.color).multiplyScalar(A),P.groundColor.copy(D.groundColor).multiplyScalar(A),o.hemi[m]=P,m++}}g>0&&(t.isWebGL2||e.has("OES_texture_float_linear")===!0?(o.rectAreaLTC1=qe.LTC_FLOAT_1,o.rectAreaLTC2=qe.LTC_FLOAT_2):e.has("OES_texture_half_float_linear")===!0?(o.rectAreaLTC1=qe.LTC_HALF_1,o.rectAreaLTC2=qe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),o.ambient[0]=d,o.ambient[1]=f,o.ambient[2]=h;const w=o.hash;(w.directionalLength!==p||w.pointLength!==y||w.spotLength!==b||w.rectAreaLength!==g||w.hemiLength!==m||w.numDirectionalShadows!==_||w.numPointShadows!==x||w.numSpotShadows!==M)&&(o.directional.length=p,o.spot.length=b,o.rectArea.length=g,o.point.length=y,o.hemi.length=m,o.directionalShadow.length=_,o.directionalShadowMap.length=_,o.pointShadow.length=x,o.pointShadowMap.length=x,o.spotShadow.length=M,o.spotShadowMap.length=M,o.directionalShadowMatrix.length=_,o.pointShadowMatrix.length=x,o.spotShadowMatrix.length=M,w.directionalLength=p,w.pointLength=y,w.spotLength=b,w.rectAreaLength=g,w.hemiLength=m,w.numDirectionalShadows=_,w.numPointShadows=x,w.numSpotShadows=M,o.version=GM++)}function c(u,d){let f=0,h=0,p=0,y=0,b=0;const g=d.matrixWorldInverse;for(let m=0,_=u.length;m<_;m++){const x=u[m];if(x.isDirectionalLight){const M=o.directional[f];M.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),M.direction.sub(r),M.direction.transformDirection(g),f++}else if(x.isSpotLight){const M=o.spot[p];M.position.setFromMatrixPosition(x.matrixWorld),M.position.applyMatrix4(g),M.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),M.direction.sub(r),M.direction.transformDirection(g),p++}else if(x.isRectAreaLight){const M=o.rectArea[y];M.position.setFromMatrixPosition(x.matrixWorld),M.position.applyMatrix4(g),s.identity(),a.copy(x.matrixWorld),a.premultiply(g),s.extractRotation(a),M.halfWidth.set(x.width*.5,0,0),M.halfHeight.set(0,x.height*.5,0),M.halfWidth.applyMatrix4(s),M.halfHeight.applyMatrix4(s),y++}else if(x.isPointLight){const M=o.point[h];M.position.setFromMatrixPosition(x.matrixWorld),M.position.applyMatrix4(g),h++}else if(x.isHemisphereLight){const M=o.hemi[b];M.direction.setFromMatrixPosition(x.matrixWorld),M.direction.transformDirection(g),M.direction.normalize(),b++}}}return{setup:l,setupView:c,state:o}}function kp(e,t){const n=new $M(e,t),i=[],o=[];function r(){i.length=0,o.length=0}function a(d){i.push(d)}function s(d){o.push(d)}function l(){n.setup(i)}function c(d){n.setupView(i,d)}return{init:r,state:{lightsArray:i,shadowsArray:o,lights:n},setupLights:l,setupLightsView:c,pushLight:a,pushShadow:s}}function jM(e,t){let n=new WeakMap;function i(r,a=0){let s;return n.has(r)===!1?(s=new kp(e,t),n.set(r,[]),n.get(r).push(s)):a>=n.get(r).length?(s=new kp(e,t),n.get(r).push(s)):s=n.get(r)[a],s}function o(){n=new WeakMap}return{get:i,dispose:o}}function wo(e){nt.call(this),this.type="MeshDepthMaterial",this.depthPacking=C0,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}wo.prototype=Object.create(nt.prototype);wo.prototype.constructor=wo;wo.prototype.isMeshDepthMaterial=!0;wo.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this};function So(e){nt.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new H,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}So.prototype=Object.create(nt.prototype);So.prototype.constructor=So;So.prototype.isMeshDistanceMaterial=!0;So.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};var QM=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	float mean = 0.0;
	float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );
	for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean * HALF_SAMPLE_RATE;
	squared_mean = squared_mean * HALF_SAMPLE_RATE;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,YM=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function H0(e,t,n){let i=new il;const o=new Ae,r=new Ae,a=new _t,s=[],l=[],c={},u={0:Zt,1:Ea,2:Ys},d=new Cn({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ae},radius:{value:4}},vertexShader:YM,fragmentShader:QM}),f=d.clone();f.defines.HORIZONTAL_PASS=1;const h=new Je;h.setAttribute("position",new tt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new Bt(h,d),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Nh,this.render=function(M,w,T){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||M.length===0)return;const B=e.getRenderTarget(),D=e.getActiveCubeFace(),z=e.getActiveMipmapLevel(),A=e.state;A.setBlending(Gi),A.buffers.color.setClear(1,1,1,1),A.buffers.depth.setTest(!0),A.setScissorTest(!1);for(let O=0,C=M.length;O<C;O++){const P=M[O],L=P.shadow;if(L===void 0){console.warn("THREE.WebGLShadowMap:",P,"has no shadow.");continue}if(L.autoUpdate===!1&&L.needsUpdate===!1)continue;o.copy(L.mapSize);const q=L.getFrameExtents();if(o.multiply(q),r.copy(L.mapSize),(o.x>n||o.y>n)&&(o.x>n&&(r.x=Math.floor(n/q.x),o.x=r.x*q.x,L.mapSize.x=r.x),o.y>n&&(r.y=Math.floor(n/q.y),o.y=r.y*q.y,L.mapSize.y=r.y)),L.map===null&&!L.isPointLightShadow&&this.type===Zr){const j={minFilter:nn,magFilter:nn,format:Dn};L.map=new zn(o.x,o.y,j),L.map.texture.name=P.name+".shadowMap",L.mapPass=new zn(o.x,o.y,j),L.camera.updateProjectionMatrix()}if(L.map===null){const j={minFilter:Jt,magFilter:Jt,format:Dn};L.map=new zn(o.x,o.y,j),L.map.texture.name=P.name+".shadowMap",L.camera.updateProjectionMatrix()}e.setRenderTarget(L.map),e.clear();const F=L.getViewportCount();for(let j=0;j<F;j++){const G=L.getViewport(j);a.set(r.x*G.x,r.y*G.y,r.x*G.z,r.y*G.w),A.viewport(a),L.updateMatrices(P,j),i=L.getFrustum(),x(w,T,L.camera,P,this.type)}!L.isPointLightShadow&&this.type===Zr&&b(L,T),L.needsUpdate=!1}y.needsUpdate=!1,e.setRenderTarget(B,D,z)};function b(M,w){const T=t.update(p);d.uniforms.shadow_pass.value=M.map.texture,d.uniforms.resolution.value=M.mapSize,d.uniforms.radius.value=M.radius,e.setRenderTarget(M.mapPass),e.clear(),e.renderBufferDirect(w,null,T,d,p,null),f.uniforms.shadow_pass.value=M.mapPass.texture,f.uniforms.resolution.value=M.mapSize,f.uniforms.radius.value=M.radius,e.setRenderTarget(M.map),e.clear(),e.renderBufferDirect(w,null,T,f,p,null)}function g(M,w,T){const B=M<<0|w<<1|T<<2;let D=s[B];return D===void 0&&(D=new wo({depthPacking:E0,morphTargets:M,skinning:w}),s[B]=D),D}function m(M,w,T){const B=M<<0|w<<1|T<<2;let D=l[B];return D===void 0&&(D=new So({morphTargets:M,skinning:w}),l[B]=D),D}function _(M,w,T,B,D,z,A){let O=null,C=g,P=M.customDepthMaterial;if(B.isPointLight===!0&&(C=m,P=M.customDistanceMaterial),P===void 0){let L=!1;T.morphTargets===!0&&(L=w.morphAttributes&&w.morphAttributes.position&&w.morphAttributes.position.length>0);let q=!1;M.isSkinnedMesh===!0&&(T.skinning===!0?q=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",M));const F=M.isInstancedMesh===!0;O=C(L,q,F)}else O=P;if(e.localClippingEnabled&&T.clipShadows===!0&&T.clippingPlanes.length!==0){const L=O.uuid,q=T.uuid;let F=c[L];F===void 0&&(F={},c[L]=F);let j=F[q];j===void 0&&(j=O.clone(),F[q]=j),O=j}return O.visible=T.visible,O.wireframe=T.wireframe,A===Zr?O.side=T.shadowSide!==null?T.shadowSide:T.side:O.side=T.shadowSide!==null?T.shadowSide:u[T.side],O.clipShadows=T.clipShadows,O.clippingPlanes=T.clippingPlanes,O.clipIntersection=T.clipIntersection,O.wireframeLinewidth=T.wireframeLinewidth,O.linewidth=T.linewidth,B.isPointLight===!0&&O.isMeshDistanceMaterial===!0&&(O.referencePosition.setFromMatrixPosition(B.matrixWorld),O.nearDistance=D,O.farDistance=z),O}function x(M,w,T,B,D){if(M.visible===!1)return;if(M.layers.test(w.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&D===Zr)&&(!M.frustumCulled||i.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,M.matrixWorld);const O=t.update(M),C=M.material;if(Array.isArray(C)){const P=O.groups;for(let L=0,q=P.length;L<q;L++){const F=P[L],j=C[F.materialIndex];if(j&&j.visible){const G=_(M,O,j,B,T.near,T.far,D);e.renderBufferDirect(T,null,O,G,M,F)}}}else if(C.visible){const P=_(M,O,C,B,T.near,T.far,D);e.renderBufferDirect(T,null,O,P,M,null)}}const A=M.children;for(let O=0,C=A.length;O<C;O++)x(A[O],w,T,B,D)}}function XM(e,t,n){const i=n.isWebGL2;function o(){let W=!1;const X=new _t;let me=null;const Te=new _t(0,0,0,0);return{setMask:function(Ce){me!==Ce&&!W&&(e.colorMask(Ce,Ce,Ce,Ce),me=Ce)},setLocked:function(Ce){W=Ce},setClear:function(Ce,Ie,ze,$e,Fe){Fe===!0&&(Ce*=$e,Ie*=$e,ze*=$e),X.set(Ce,Ie,ze,$e),Te.equals(X)===!1&&(e.clearColor(Ce,Ie,ze,$e),Te.copy(X))},reset:function(){W=!1,me=null,Te.set(-1,0,0,0)}}}function r(){let W=!1,X=null,me=null,Te=null;return{setTest:function(Ce){Ce?Y(2929):ee(2929)},setMask:function(Ce){X!==Ce&&!W&&(e.depthMask(Ce),X=Ce)},setFunc:function(Ce){if(me!==Ce){if(Ce)switch(Ce){case mg:e.depthFunc(512);break;case vg:e.depthFunc(519);break;case gg:e.depthFunc(513);break;case Cc:e.depthFunc(515);break;case yg:e.depthFunc(514);break;case bg:e.depthFunc(518);break;case xg:e.depthFunc(516);break;case _g:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);me=Ce}},setLocked:function(Ce){W=Ce},setClear:function(Ce){Te!==Ce&&(e.clearDepth(Ce),Te=Ce)},reset:function(){W=!1,X=null,me=null,Te=null}}}function a(){let W=!1,X=null,me=null,Te=null,Ce=null,Ie=null,ze=null,$e=null,Fe=null;return{setTest:function(le){W||(le?Y(2960):ee(2960))},setMask:function(le){X!==le&&!W&&(e.stencilMask(le),X=le)},setFunc:function(le,Se,De){(me!==le||Te!==Se||Ce!==De)&&(e.stencilFunc(le,Se,De),me=le,Te=Se,Ce=De)},setOp:function(le,Se,De){(Ie!==le||ze!==Se||$e!==De)&&(e.stencilOp(le,Se,De),Ie=le,ze=Se,$e=De)},setLocked:function(le){W=le},setClear:function(le){Fe!==le&&(e.clearStencil(le),Fe=le)},reset:function(){W=!1,X=null,me=null,Te=null,Ce=null,Ie=null,ze=null,$e=null,Fe=null}}}const s=new o,l=new r,c=new a;let u={},d=null,f=null,h=null,p=null,y=null,b=null,g=null,m=null,_=null,x=!1,M=null,w=null,T=null,B=null,D=null;const z=e.getParameter(35661);let A=!1,O=0;const C=e.getParameter(7938);C.indexOf("WebGL")!==-1?(O=parseFloat(/^WebGL (\d)/.exec(C)[1]),A=O>=1):C.indexOf("OpenGL ES")!==-1&&(O=parseFloat(/^OpenGL ES (\d)/.exec(C)[1]),A=O>=2);let P=null,L={};const q=new _t,F=new _t;function j(W,X,me){const Te=new Uint8Array(4),Ce=e.createTexture();e.bindTexture(W,Ce),e.texParameteri(W,10241,9728),e.texParameteri(W,10240,9728);for(let Ie=0;Ie<me;Ie++)e.texImage2D(X+Ie,0,6408,1,1,0,6408,5121,Te);return Ce}const G={};G[3553]=j(3553,3553,1),G[34067]=j(34067,34069,6),s.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Y(2929),l.setFunc(Cc),de(!1),ne(Od),Y(2884),te(Gi);function Y(W){u[W]!==!0&&(e.enable(W),u[W]=!0)}function ee(W){u[W]!==!1&&(e.disable(W),u[W]=!1)}function U(W){return d!==W?(e.useProgram(W),d=W,!0):!1}const oe={[jo]:32774,[og]:32778,[rg]:32779};if(i)oe[qd]=32775,oe[Vd]=32776;else{const W=t.get("EXT_blend_minmax");W!==null&&(oe[qd]=W.MIN_EXT,oe[Vd]=W.MAX_EXT)}const J={[ag]:0,[sg]:1,[lg]:768,[zh]:770,[pg]:776,[hg]:774,[ug]:772,[cg]:769,[qh]:771,[fg]:775,[dg]:773};function te(W,X,me,Te,Ce,Ie,ze,$e){if(W===Gi){f&&(ee(3042),f=!1);return}if(f||(Y(3042),f=!0),W!==ig){if(W!==h||$e!==x){if((p!==jo||g!==jo)&&(e.blendEquation(32774),p=jo,g=jo),$e)switch(W){case oa:e.blendFuncSeparate(1,771,1,771);break;case Nd:e.blendFunc(1,1);break;case Dd:e.blendFuncSeparate(0,0,769,771);break;case zd:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",W);break}else switch(W){case oa:e.blendFuncSeparate(770,771,1,771);break;case Nd:e.blendFunc(770,1);break;case Dd:e.blendFunc(0,769);break;case zd:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",W);break}y=null,b=null,m=null,_=null,h=W,x=$e}return}Ce=Ce||X,Ie=Ie||me,ze=ze||Te,(X!==p||Ce!==g)&&(e.blendEquationSeparate(oe[X],oe[Ce]),p=X,g=Ce),(me!==y||Te!==b||Ie!==m||ze!==_)&&(e.blendFuncSeparate(J[me],J[Te],J[Ie],J[ze]),y=me,b=Te,m=Ie,_=ze),h=W,x=null}function ve(W,X){W.side===Ys?ee(2884):Y(2884);let me=W.side===Zt;X&&(me=!me),de(me),W.blending===oa&&W.transparent===!1?te(Gi):te(W.blending,W.blendEquation,W.blendSrc,W.blendDst,W.blendEquationAlpha,W.blendSrcAlpha,W.blendDstAlpha,W.premultipliedAlpha),l.setFunc(W.depthFunc),l.setTest(W.depthTest),l.setMask(W.depthWrite),s.setMask(W.colorWrite);const Te=W.stencilWrite;c.setTest(Te),Te&&(c.setMask(W.stencilWriteMask),c.setFunc(W.stencilFunc,W.stencilRef,W.stencilFuncMask),c.setOp(W.stencilFail,W.stencilZFail,W.stencilZPass)),$(W.polygonOffset,W.polygonOffsetFactor,W.polygonOffsetUnits)}function de(W){M!==W&&(W?e.frontFace(2304):e.frontFace(2305),M=W)}function ne(W){W!==eg?(Y(2884),W!==w&&(W===Od?e.cullFace(1029):W===tg?e.cullFace(1028):e.cullFace(1032))):ee(2884),w=W}function E(W){W!==T&&(A&&e.lineWidth(W),T=W)}function $(W,X,me){W?(Y(32823),(B!==X||D!==me)&&(e.polygonOffset(X,me),B=X,D=me)):ee(32823)}function he(W){W?Y(3089):ee(3089)}function ie(W){W===void 0&&(W=33984+z-1),P!==W&&(e.activeTexture(W),P=W)}function fe(W,X){P===null&&ie();let me=L[P];me===void 0&&(me={type:void 0,texture:void 0},L[P]=me),(me.type!==W||me.texture!==X)&&(e.bindTexture(W,X||G[W]),me.type=W,me.texture=X)}function pe(){const W=L[P];W!==void 0&&W.type!==void 0&&(e.bindTexture(W.type,null),W.type=void 0,W.texture=void 0)}function Pe(){try{e.compressedTexImage2D.apply(e,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function _e(){try{e.texImage2D.apply(e,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function R(){try{e.texImage3D.apply(e,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function k(W){q.equals(W)===!1&&(e.scissor(W.x,W.y,W.z,W.w),q.copy(W))}function re(W){F.equals(W)===!1&&(e.viewport(W.x,W.y,W.z,W.w),F.copy(W))}function ue(){u={},P=null,L={},d=null,f=null,h=null,p=null,y=null,b=null,g=null,m=null,_=null,x=!1,M=null,w=null,T=null,B=null,D=null,s.reset(),l.reset(),c.reset()}return{buffers:{color:s,depth:l,stencil:c},enable:Y,disable:ee,useProgram:U,setBlending:te,setMaterial:ve,setFlipSided:de,setCullFace:ne,setLineWidth:E,setPolygonOffset:$,setScissorTest:he,activeTexture:ie,bindTexture:fe,unbindTexture:pe,compressedTexImage2D:Pe,texImage2D:_e,texImage3D:R,scissor:k,viewport:re,reset:ue}}function ZM(e,t,n,i,o,r,a){const s=o.isWebGL2,l=o.maxTextures,c=o.maxCubemapSize,u=o.maxTextureSize,d=o.maxSamples,f=new WeakMap;let h,p=!1;try{p=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(R,k){return p?new OffscreenCanvas(R,k):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function b(R,k,re,ue){let W=1;if((R.width>ue||R.height>ue)&&(W=ue/Math.max(R.width,R.height)),W<1||k===!0)if(typeof HTMLImageElement!="undefined"&&R instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&R instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&R instanceof ImageBitmap){const X=k?it.floorPowerOfTwo:Math.floor,me=X(W*R.width),Te=X(W*R.height);h===void 0&&(h=y(me,Te));const Ce=re?y(me,Te):h;return Ce.width=me,Ce.height=Te,Ce.getContext("2d").drawImage(R,0,0,me,Te),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+R.width+"x"+R.height+") to ("+me+"x"+Te+")."),Ce}else return"data"in R&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+R.width+"x"+R.height+")."),R;return R}function g(R){return it.isPowerOfTwo(R.width)&&it.isPowerOfTwo(R.height)}function m(R){return s?!1:R.wrapS!==wn||R.wrapT!==wn||R.minFilter!==Jt&&R.minFilter!==nn}function _(R,k){return R.generateMipmaps&&k&&R.minFilter!==Jt&&R.minFilter!==nn}function x(R,k,re,ue){e.generateMipmap(R);const W=i.get(k);W.__maxMipLevel=Math.log(Math.max(re,ue))*Math.LOG2E}function M(R,k,re){if(s===!1)return k;if(R!==null){if(e[R]!==void 0)return e[R];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+R+"'")}let ue=k;return k===6403&&(re===5126&&(ue=33326),re===5131&&(ue=33325),re===5121&&(ue=33321)),k===6407&&(re===5126&&(ue=34837),re===5131&&(ue=34843),re===5121&&(ue=32849)),k===6408&&(re===5126&&(ue=34836),re===5131&&(ue=34842),re===5121&&(ue=32856)),(ue===33325||ue===33326||ue===34842||ue===34836)&&t.get("EXT_color_buffer_float"),ue}function w(R){return R===Jt||R===Lc||R===Pc?9728:9729}function T(R){const k=R.target;k.removeEventListener("dispose",T),D(k),k.isVideoTexture&&f.delete(k),a.memory.textures--}function B(R){const k=R.target;k.removeEventListener("dispose",B),z(k),a.memory.textures--}function D(R){const k=i.get(R);k.__webglInit!==void 0&&(e.deleteTexture(k.__webglTexture),i.remove(R))}function z(R){const k=i.get(R),re=i.get(R.texture);if(!!R){if(re.__webglTexture!==void 0&&e.deleteTexture(re.__webglTexture),R.depthTexture&&R.depthTexture.dispose(),R.isWebGLCubeRenderTarget)for(let ue=0;ue<6;ue++)e.deleteFramebuffer(k.__webglFramebuffer[ue]),k.__webglDepthbuffer&&e.deleteRenderbuffer(k.__webglDepthbuffer[ue]);else e.deleteFramebuffer(k.__webglFramebuffer),k.__webglDepthbuffer&&e.deleteRenderbuffer(k.__webglDepthbuffer),k.__webglMultisampledFramebuffer&&e.deleteFramebuffer(k.__webglMultisampledFramebuffer),k.__webglColorRenderbuffer&&e.deleteRenderbuffer(k.__webglColorRenderbuffer),k.__webglDepthRenderbuffer&&e.deleteRenderbuffer(k.__webglDepthRenderbuffer);i.remove(R.texture),i.remove(R)}}let A=0;function O(){A=0}function C(){const R=A;return R>=l&&console.warn("THREE.WebGLTextures: Trying to use "+R+" texture units while this GPU supports only "+l),A+=1,R}function P(R,k){const re=i.get(R);if(R.isVideoTexture&&ie(R),R.version>0&&re.__version!==R.version){const ue=R.image;if(ue===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(ue.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{U(re,R,k);return}}n.activeTexture(33984+k),n.bindTexture(3553,re.__webglTexture)}function L(R,k){const re=i.get(R);if(R.version>0&&re.__version!==R.version){U(re,R,k);return}n.activeTexture(33984+k),n.bindTexture(35866,re.__webglTexture)}function q(R,k){const re=i.get(R);if(R.version>0&&re.__version!==R.version){U(re,R,k);return}n.activeTexture(33984+k),n.bindTexture(32879,re.__webglTexture)}function F(R,k){const re=i.get(R);if(R.version>0&&re.__version!==R.version){oe(re,R,k);return}n.activeTexture(33984+k),n.bindTexture(34067,re.__webglTexture)}const j={[vs]:10497,[wn]:33071,[gs]:33648},G={[Jt]:9728,[Lc]:9984,[Pc]:9986,[nn]:9729,[Vh]:9985,[La]:9987};function Y(R,k,re){re?(e.texParameteri(R,10242,j[k.wrapS]),e.texParameteri(R,10243,j[k.wrapT]),(R===32879||R===35866)&&e.texParameteri(R,32882,j[k.wrapR]),e.texParameteri(R,10240,G[k.magFilter]),e.texParameteri(R,10241,G[k.minFilter])):(e.texParameteri(R,10242,33071),e.texParameteri(R,10243,33071),(R===32879||R===35866)&&e.texParameteri(R,32882,33071),(k.wrapS!==wn||k.wrapT!==wn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(R,10240,w(k.magFilter)),e.texParameteri(R,10241,w(k.minFilter)),k.minFilter!==Jt&&k.minFilter!==nn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const ue=t.get("EXT_texture_filter_anisotropic");if(ue){if(k.type===Hi&&t.get("OES_texture_float_linear")===null||k.type===bs&&(s||t.get("OES_texture_half_float_linear"))===null)return;(k.anisotropy>1||i.get(k).__currentAnisotropy)&&(e.texParameterf(R,ue.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,o.getMaxAnisotropy())),i.get(k).__currentAnisotropy=k.anisotropy)}}function ee(R,k){R.__webglInit===void 0&&(R.__webglInit=!0,k.addEventListener("dispose",T),R.__webglTexture=e.createTexture(),a.memory.textures++)}function U(R,k,re){let ue=3553;k.isDataTexture2DArray&&(ue=35866),k.isDataTexture3D&&(ue=32879),ee(R,k),n.activeTexture(33984+re),n.bindTexture(ue,R.__webglTexture),e.pixelStorei(37440,k.flipY),e.pixelStorei(37441,k.premultiplyAlpha),e.pixelStorei(3317,k.unpackAlignment);const W=m(k)&&g(k.image)===!1,X=b(k.image,W,!1,u),me=g(X)||s,Te=r.convert(k.format);let Ce=r.convert(k.type),Ie=M(k.internalFormat,Te,Ce);Y(ue,k,me);let ze;const $e=k.mipmaps;if(k.isDepthTexture)Ie=6402,s?k.type===Hi?Ie=36012:k.type===ls?Ie=33190:k.type===ra?Ie=35056:Ie=33189:k.type===Hi&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),k.format===Ko&&Ie===6402&&k.type!==ys&&k.type!==ls&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),k.type=ys,Ce=r.convert(k.type)),k.format===ha&&Ie===6402&&(Ie=34041,k.type!==ra&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),k.type=ra,Ce=r.convert(k.type))),n.texImage2D(3553,0,Ie,X.width,X.height,0,Te,Ce,null);else if(k.isDataTexture)if($e.length>0&&me){for(let Fe=0,le=$e.length;Fe<le;Fe++)ze=$e[Fe],n.texImage2D(3553,Fe,Ie,ze.width,ze.height,0,Te,Ce,ze.data);k.generateMipmaps=!1,R.__maxMipLevel=$e.length-1}else n.texImage2D(3553,0,Ie,X.width,X.height,0,Te,Ce,X.data),R.__maxMipLevel=0;else if(k.isCompressedTexture){for(let Fe=0,le=$e.length;Fe<le;Fe++)ze=$e[Fe],k.format!==Dn&&k.format!==go?Te!==null?n.compressedTexImage2D(3553,Fe,Ie,ze.width,ze.height,0,ze.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,Fe,Ie,ze.width,ze.height,0,Te,Ce,ze.data);R.__maxMipLevel=$e.length-1}else if(k.isDataTexture2DArray)n.texImage3D(35866,0,Ie,X.width,X.height,X.depth,0,Te,Ce,X.data),R.__maxMipLevel=0;else if(k.isDataTexture3D)n.texImage3D(32879,0,Ie,X.width,X.height,X.depth,0,Te,Ce,X.data),R.__maxMipLevel=0;else if($e.length>0&&me){for(let Fe=0,le=$e.length;Fe<le;Fe++)ze=$e[Fe],n.texImage2D(3553,Fe,Ie,Te,Ce,ze);k.generateMipmaps=!1,R.__maxMipLevel=$e.length-1}else n.texImage2D(3553,0,Ie,Te,Ce,X),R.__maxMipLevel=0;_(k,me)&&x(ue,k,X.width,X.height),R.__version=k.version,k.onUpdate&&k.onUpdate(k)}function oe(R,k,re){if(k.image.length!==6)return;ee(R,k),n.activeTexture(33984+re),n.bindTexture(34067,R.__webglTexture),e.pixelStorei(37440,k.flipY);const ue=k&&(k.isCompressedTexture||k.image[0].isCompressedTexture),W=k.image[0]&&k.image[0].isDataTexture,X=[];for(let Fe=0;Fe<6;Fe++)!ue&&!W?X[Fe]=b(k.image[Fe],!1,!0,c):X[Fe]=W?k.image[Fe].image:k.image[Fe];const me=X[0],Te=g(me)||s,Ce=r.convert(k.format),Ie=r.convert(k.type),ze=M(k.internalFormat,Ce,Ie);Y(34067,k,Te);let $e;if(ue){for(let Fe=0;Fe<6;Fe++){$e=X[Fe].mipmaps;for(let le=0;le<$e.length;le++){const Se=$e[le];k.format!==Dn&&k.format!==go?Ce!==null?n.compressedTexImage2D(34069+Fe,le,ze,Se.width,Se.height,0,Se.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+Fe,le,ze,Se.width,Se.height,0,Ce,Ie,Se.data)}}R.__maxMipLevel=$e.length-1}else{$e=k.mipmaps;for(let Fe=0;Fe<6;Fe++)if(W){n.texImage2D(34069+Fe,0,ze,X[Fe].width,X[Fe].height,0,Ce,Ie,X[Fe].data);for(let le=0;le<$e.length;le++){const De=$e[le].image[Fe].image;n.texImage2D(34069+Fe,le+1,ze,De.width,De.height,0,Ce,Ie,De.data)}}else{n.texImage2D(34069+Fe,0,ze,Ce,Ie,X[Fe]);for(let le=0;le<$e.length;le++){const Se=$e[le];n.texImage2D(34069+Fe,le+1,ze,Ce,Ie,Se.image[Fe])}}R.__maxMipLevel=$e.length}_(k,Te)&&x(34067,k,me.width,me.height),R.__version=k.version,k.onUpdate&&k.onUpdate(k)}function J(R,k,re,ue){const W=r.convert(k.texture.format),X=r.convert(k.texture.type),me=M(k.texture.internalFormat,W,X);n.texImage2D(ue,0,me,k.width,k.height,0,W,X,null),e.bindFramebuffer(36160,R),e.framebufferTexture2D(36160,re,ue,i.get(k.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function te(R,k,re){if(e.bindRenderbuffer(36161,R),k.depthBuffer&&!k.stencilBuffer){let ue=33189;if(re){const W=k.depthTexture;W&&W.isDepthTexture&&(W.type===Hi?ue=36012:W.type===ls&&(ue=33190));const X=he(k);e.renderbufferStorageMultisample(36161,X,ue,k.width,k.height)}else e.renderbufferStorage(36161,ue,k.width,k.height);e.framebufferRenderbuffer(36160,36096,36161,R)}else if(k.depthBuffer&&k.stencilBuffer){if(re){const ue=he(k);e.renderbufferStorageMultisample(36161,ue,35056,k.width,k.height)}else e.renderbufferStorage(36161,34041,k.width,k.height);e.framebufferRenderbuffer(36160,33306,36161,R)}else{const ue=r.convert(k.texture.format),W=r.convert(k.texture.type),X=M(k.texture.internalFormat,ue,W);if(re){const me=he(k);e.renderbufferStorageMultisample(36161,me,X,k.width,k.height)}else e.renderbufferStorage(36161,X,k.width,k.height)}e.bindRenderbuffer(36161,null)}function ve(R,k){if(k&&k.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,R),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(k.depthTexture).__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),P(k.depthTexture,0);const ue=i.get(k.depthTexture).__webglTexture;if(k.depthTexture.format===Ko)e.framebufferTexture2D(36160,36096,3553,ue,0);else if(k.depthTexture.format===ha)e.framebufferTexture2D(36160,33306,3553,ue,0);else throw new Error("Unknown depthTexture format")}function de(R){const k=i.get(R),re=R.isWebGLCubeRenderTarget===!0;if(R.depthTexture){if(re)throw new Error("target.depthTexture not supported in Cube render targets");ve(k.__webglFramebuffer,R)}else if(re){k.__webglDepthbuffer=[];for(let ue=0;ue<6;ue++)e.bindFramebuffer(36160,k.__webglFramebuffer[ue]),k.__webglDepthbuffer[ue]=e.createRenderbuffer(),te(k.__webglDepthbuffer[ue],R,!1)}else e.bindFramebuffer(36160,k.__webglFramebuffer),k.__webglDepthbuffer=e.createRenderbuffer(),te(k.__webglDepthbuffer,R,!1);e.bindFramebuffer(36160,null)}function ne(R){const k=i.get(R),re=i.get(R.texture);R.addEventListener("dispose",B),re.__webglTexture=e.createTexture(),a.memory.textures++;const ue=R.isWebGLCubeRenderTarget===!0,W=R.isWebGLMultisampleRenderTarget===!0,X=g(R)||s;if(s&&R.texture.format===go&&(R.texture.type===Hi||R.texture.type===bs)&&(R.texture.format=Dn,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),ue){k.__webglFramebuffer=[];for(let me=0;me<6;me++)k.__webglFramebuffer[me]=e.createFramebuffer()}else if(k.__webglFramebuffer=e.createFramebuffer(),W)if(s){k.__webglMultisampledFramebuffer=e.createFramebuffer(),k.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,k.__webglColorRenderbuffer);const me=r.convert(R.texture.format),Te=r.convert(R.texture.type),Ce=M(R.texture.internalFormat,me,Te),Ie=he(R);e.renderbufferStorageMultisample(36161,Ie,Ce,R.width,R.height),e.bindFramebuffer(36160,k.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,k.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),R.depthBuffer&&(k.__webglDepthRenderbuffer=e.createRenderbuffer(),te(k.__webglDepthRenderbuffer,R,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(ue){n.bindTexture(34067,re.__webglTexture),Y(34067,R.texture,X);for(let me=0;me<6;me++)J(k.__webglFramebuffer[me],R,36064,34069+me);_(R.texture,X)&&x(34067,R.texture,R.width,R.height),n.bindTexture(34067,null)}else n.bindTexture(3553,re.__webglTexture),Y(3553,R.texture,X),J(k.__webglFramebuffer,R,36064,3553),_(R.texture,X)&&x(3553,R.texture,R.width,R.height),n.bindTexture(3553,null);R.depthBuffer&&de(R)}function E(R){const k=R.texture,re=g(R)||s;if(_(k,re)){const ue=R.isWebGLCubeRenderTarget?34067:3553,W=i.get(k).__webglTexture;n.bindTexture(ue,W),x(ue,k,R.width,R.height),n.bindTexture(ue,null)}}function $(R){if(R.isWebGLMultisampleRenderTarget)if(s){const k=i.get(R);e.bindFramebuffer(36008,k.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,k.__webglFramebuffer);const re=R.width,ue=R.height;let W=16384;R.depthBuffer&&(W|=256),R.stencilBuffer&&(W|=1024),e.blitFramebuffer(0,0,re,ue,0,0,re,ue,W,9728),e.bindFramebuffer(36160,k.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function he(R){return s&&R.isWebGLMultisampleRenderTarget?Math.min(d,R.samples):0}function ie(R){const k=a.render.frame;f.get(R)!==k&&(f.set(R,k),R.update())}let fe=!1,pe=!1;function Pe(R,k){R&&R.isWebGLRenderTarget&&(fe===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),fe=!0),R=R.texture),P(R,k)}function _e(R,k){R&&R.isWebGLCubeRenderTarget&&(pe===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),pe=!0),R=R.texture),F(R,k)}this.allocateTextureUnit=C,this.resetTextureUnits=O,this.setTexture2D=P,this.setTexture2DArray=L,this.setTexture3D=q,this.setTextureCube=F,this.setupRenderTarget=ne,this.updateRenderTargetMipmap=E,this.updateMultisampleRenderTarget=$,this.safeSetTexture2D=Pe,this.safeSetTextureCube=_e}function U0(e,t,n){const i=n.isWebGL2;function o(r){let a;if(r===Pa)return 5121;if(r===kg)return 32819;if(r===Bg)return 32820;if(r===Ig)return 33635;if(r===Lg)return 5120;if(r===Pg)return 5122;if(r===ys)return 5123;if(r===Rg)return 5124;if(r===ls)return 5125;if(r===Hi)return 5126;if(r===bs)return i?5131:(a=t.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(r===Fg)return 6406;if(r===go)return 6407;if(r===Dn)return 6408;if(r===Og)return 6409;if(r===Ng)return 6410;if(r===Ko)return 6402;if(r===ha)return 34041;if(r===zg)return 6403;if(r===qg)return 36244;if(r===Vg)return 33319;if(r===Hg)return 33320;if(r===Ug)return 36248;if(r===Gg)return 36249;if(r===Hd||r===Ud||r===Gd||r===Wd)if(a=t.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===Hd)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Ud)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Gd)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Wd)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===$d||r===jd||r===Qd||r===Yd)if(a=t.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===$d)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===jd)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===Qd)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===Yd)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===Wg)return a=t.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if((r===Xd||r===Zd)&&(a=t.get("WEBGL_compressed_texture_etc"),a!==null)){if(r===Xd)return a.COMPRESSED_RGB8_ETC2;if(r===Zd)return a.COMPRESSED_RGBA8_ETC2_EAC}if(r===$g||r===jg||r===Qg||r===Yg||r===Xg||r===Zg||r===Kg||r===Jg||r===e0||r===t0||r===n0||r===i0||r===o0||r===r0||r===s0||r===l0||r===c0||r===u0||r===d0||r===h0||r===f0||r===p0||r===m0||r===v0||r===g0||r===y0||r===b0||r===x0)return a=t.get("WEBGL_compressed_texture_astc"),a!==null?r:null;if(r===a0)return a=t.get("EXT_texture_compression_bptc"),a!==null?r:null;if(r===ra)return i?34042:(a=t.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:o}}function Rc(e=[]){Qt.call(this),this.cameras=e}Rc.prototype=Object.assign(Object.create(Qt.prototype),{constructor:Rc,isArrayCamera:!0});function mo(){Qe.call(this),this.type="Group"}mo.prototype=Object.assign(Object.create(Qe.prototype),{constructor:mo,isGroup:!0});function ds(){this._targetRay=null,this._grip=null,this._hand=null}Object.assign(ds.prototype,{constructor:ds,getHandSpace:function(){if(this._hand===null&&(this._hand=new mo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(let e=0;e<=window.XRHand.LITTLE_PHALANX_TIP;e++){const t=new mo;t.matrixAutoUpdate=!1,t.visible=!1,this._hand.joints.push(t),this._hand.add(t)}return this._hand},getTargetRaySpace:function(){return this._targetRay===null&&(this._targetRay=new mo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return this._grip===null&&(this._grip=new mo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this},update:function(e,t,n){let i=null,o=null,r=null;const a=this._targetRay,s=this._grip,l=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(l&&e.hand){r=!0;for(let c=0;c<=window.XRHand.LITTLE_PHALANX_TIP;c++)if(e.hand[c]){const u=t.getJointPose(e.hand[c],n),d=l.joints[c];u!==null&&(d.matrix.fromArray(u.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.jointRadius=u.radius),d.visible=u!==null;const f=l.joints[window.XRHand.INDEX_PHALANX_TIP],h=l.joints[window.XRHand.THUMB_PHALANX_TIP],p=f.position.distanceTo(h.position),y=.02,b=.005;l.inputState.pinching&&p>y+b?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&p<=y-b&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}}else a!==null&&(i=t.getPose(e.targetRaySpace,n),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale))),s!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,n),o!==null&&(s.matrix.fromArray(o.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale)));return a!==null&&(a.visible=i!==null),s!==null&&(s.visible=o!==null),l!==null&&(l.visible=r!==null),this}});function G0(e,t){const n=this;let i=null,o=1,r=null,a="local-floor",s=null;const l=[],c=new Map,u=new Qt;u.layers.enable(1),u.viewport=new _t;const d=new Qt;d.layers.enable(2),d.viewport=new _t;const f=[u,d],h=new Rc;h.layers.enable(1),h.layers.enable(2);let p=null,y=null;this.enabled=!1,this.isPresenting=!1,this.getController=function(A){let O=l[A];return O===void 0&&(O=new ds,l[A]=O),O.getTargetRaySpace()},this.getControllerGrip=function(A){let O=l[A];return O===void 0&&(O=new ds,l[A]=O),O.getGripSpace()},this.getHand=function(A){let O=l[A];return O===void 0&&(O=new ds,l[A]=O),O.getHandSpace()};function b(A){const O=c.get(A.inputSource);O&&O.dispatchEvent({type:A.type,data:A.inputSource})}function g(){c.forEach(function(A,O){A.disconnect(O)}),c.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),z.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function m(A){r=A,z.setContext(i),z.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}this.setFramebufferScaleFactor=function(A){o=A,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(A){a=A,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return r},this.getSession=function(){return i},this.setSession=function(A){if(i=A,i!==null){i.addEventListener("select",b),i.addEventListener("selectstart",b),i.addEventListener("selectend",b),i.addEventListener("squeeze",b),i.addEventListener("squeezestart",b),i.addEventListener("squeezeend",b),i.addEventListener("end",g);const O=t.getContextAttributes();O.xrCompatible!==!0&&t.makeXRCompatible();const C={antialias:O.antialias,alpha:O.alpha,depth:O.depth,stencil:O.stencil,framebufferScaleFactor:o},P=new XRWebGLLayer(i,t,C);i.updateRenderState({baseLayer:P}),i.requestReferenceSpace(a).then(m),i.addEventListener("inputsourceschange",_)}};function _(A){const O=i.inputSources;for(let C=0;C<l.length;C++)c.set(O[C],l[C]);for(let C=0;C<A.removed.length;C++){const P=A.removed[C],L=c.get(P);L&&(L.dispatchEvent({type:"disconnected",data:P}),c.delete(P))}for(let C=0;C<A.added.length;C++){const P=A.added[C],L=c.get(P);L&&L.dispatchEvent({type:"connected",data:P})}}const x=new H,M=new H;function w(A,O,C){x.setFromMatrixPosition(O.matrixWorld),M.setFromMatrixPosition(C.matrixWorld);const P=x.distanceTo(M),L=O.projectionMatrix.elements,q=C.projectionMatrix.elements,F=L[14]/(L[10]-1),j=L[14]/(L[10]+1),G=(L[9]+1)/L[5],Y=(L[9]-1)/L[5],ee=(L[8]-1)/L[0],U=(q[8]+1)/q[0],oe=F*ee,J=F*U,te=P/(-ee+U),ve=te*-ee;O.matrixWorld.decompose(A.position,A.quaternion,A.scale),A.translateX(ve),A.translateZ(te),A.matrixWorld.compose(A.position,A.quaternion,A.scale),A.matrixWorldInverse.copy(A.matrixWorld).invert();const de=F+te,ne=j+te,E=oe-ve,$=J+(P-ve),he=G*j/ne*de,ie=Y*j/ne*de;A.projectionMatrix.makePerspective(E,$,he,ie,de,ne)}function T(A,O){O===null?A.matrixWorld.copy(A.matrix):A.matrixWorld.multiplyMatrices(O.matrixWorld,A.matrix),A.matrixWorldInverse.copy(A.matrixWorld).invert()}this.getCamera=function(A){h.near=d.near=u.near=A.near,h.far=d.far=u.far=A.far,(p!==h.near||y!==h.far)&&(i.updateRenderState({depthNear:h.near,depthFar:h.far}),p=h.near,y=h.far);const O=A.parent,C=h.cameras;T(h,O);for(let L=0;L<C.length;L++)T(C[L],O);A.matrixWorld.copy(h.matrixWorld);const P=A.children;for(let L=0,q=P.length;L<q;L++)P[L].updateMatrixWorld(!0);return C.length===2?w(h,u,d):h.projectionMatrix.copy(u.projectionMatrix),h};let B=null;function D(A,O){if(s=O.getViewerPose(r),s!==null){const P=s.views,L=i.renderState.baseLayer;e.setFramebuffer(L.framebuffer);let q=!1;P.length!==h.cameras.length&&(h.cameras.length=0,q=!0);for(let F=0;F<P.length;F++){const j=P[F],G=L.getViewport(j),Y=f[F];Y.matrix.fromArray(j.transform.matrix),Y.projectionMatrix.fromArray(j.projectionMatrix),Y.viewport.set(G.x,G.y,G.width,G.height),F===0&&h.matrix.copy(Y.matrix),q===!0&&h.cameras.push(Y)}}const C=i.inputSources;for(let P=0;P<l.length;P++){const L=l[P],q=C[P];L.update(q,O,r)}B&&B(A,O)}const z=new I0;z.setAnimationLoop(D),this.setAnimationLoop=function(A){B=A},this.dispose=function(){}}Object.assign(G0.prototype,Li.prototype);function KM(e){function t(g,m){g.fogColor.value.copy(m.color),m.isFog?(g.fogNear.value=m.near,g.fogFar.value=m.far):m.isFogExp2&&(g.fogDensity.value=m.density)}function n(g,m,_,x){m.isMeshBasicMaterial?i(g,m):m.isMeshLambertMaterial?(i(g,m),l(g,m)):m.isMeshToonMaterial?(i(g,m),u(g,m)):m.isMeshPhongMaterial?(i(g,m),c(g,m)):m.isMeshStandardMaterial?(i(g,m),m.isMeshPhysicalMaterial?f(g,m):d(g,m)):m.isMeshMatcapMaterial?(i(g,m),h(g,m)):m.isMeshDepthMaterial?(i(g,m),p(g,m)):m.isMeshDistanceMaterial?(i(g,m),y(g,m)):m.isMeshNormalMaterial?(i(g,m),b(g,m)):m.isLineBasicMaterial?(o(g,m),m.isLineDashedMaterial&&r(g,m)):m.isPointsMaterial?a(g,m,_,x):m.isSpriteMaterial?s(g,m):m.isShadowMaterial?(g.color.value.copy(m.color),g.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function i(g,m){g.opacity.value=m.opacity,m.color&&g.diffuse.value.copy(m.color),m.emissive&&g.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(g.map.value=m.map),m.alphaMap&&(g.alphaMap.value=m.alphaMap),m.specularMap&&(g.specularMap.value=m.specularMap);const _=e.get(m).envMap;if(_){g.envMap.value=_,g.flipEnvMap.value=_.isCubeTexture&&_._needsFlipEnvMap?-1:1,g.reflectivity.value=m.reflectivity,g.refractionRatio.value=m.refractionRatio;const w=e.get(_).__maxMipLevel;w!==void 0&&(g.maxMipLevel.value=w)}m.lightMap&&(g.lightMap.value=m.lightMap,g.lightMapIntensity.value=m.lightMapIntensity),m.aoMap&&(g.aoMap.value=m.aoMap,g.aoMapIntensity.value=m.aoMapIntensity);let x;m.map?x=m.map:m.specularMap?x=m.specularMap:m.displacementMap?x=m.displacementMap:m.normalMap?x=m.normalMap:m.bumpMap?x=m.bumpMap:m.roughnessMap?x=m.roughnessMap:m.metalnessMap?x=m.metalnessMap:m.alphaMap?x=m.alphaMap:m.emissiveMap?x=m.emissiveMap:m.clearcoatMap?x=m.clearcoatMap:m.clearcoatNormalMap?x=m.clearcoatNormalMap:m.clearcoatRoughnessMap&&(x=m.clearcoatRoughnessMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),g.uvTransform.value.copy(x.matrix));let M;m.aoMap?M=m.aoMap:m.lightMap&&(M=m.lightMap),M!==void 0&&(M.isWebGLRenderTarget&&(M=M.texture),M.matrixAutoUpdate===!0&&M.updateMatrix(),g.uv2Transform.value.copy(M.matrix))}function o(g,m){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity}function r(g,m){g.dashSize.value=m.dashSize,g.totalSize.value=m.dashSize+m.gapSize,g.scale.value=m.scale}function a(g,m,_,x){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity,g.size.value=m.size*_,g.scale.value=x*.5,m.map&&(g.map.value=m.map),m.alphaMap&&(g.alphaMap.value=m.alphaMap);let M;m.map?M=m.map:m.alphaMap&&(M=m.alphaMap),M!==void 0&&(M.matrixAutoUpdate===!0&&M.updateMatrix(),g.uvTransform.value.copy(M.matrix))}function s(g,m){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity,g.rotation.value=m.rotation,m.map&&(g.map.value=m.map),m.alphaMap&&(g.alphaMap.value=m.alphaMap);let _;m.map?_=m.map:m.alphaMap&&(_=m.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),g.uvTransform.value.copy(_.matrix))}function l(g,m){m.emissiveMap&&(g.emissiveMap.value=m.emissiveMap)}function c(g,m){g.specular.value.copy(m.specular),g.shininess.value=Math.max(m.shininess,1e-4),m.emissiveMap&&(g.emissiveMap.value=m.emissiveMap),m.bumpMap&&(g.bumpMap.value=m.bumpMap,g.bumpScale.value=m.bumpScale,m.side===Zt&&(g.bumpScale.value*=-1)),m.normalMap&&(g.normalMap.value=m.normalMap,g.normalScale.value.copy(m.normalScale),m.side===Zt&&g.normalScale.value.negate()),m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias)}function u(g,m){m.gradientMap&&(g.gradientMap.value=m.gradientMap),m.emissiveMap&&(g.emissiveMap.value=m.emissiveMap),m.bumpMap&&(g.bumpMap.value=m.bumpMap,g.bumpScale.value=m.bumpScale,m.side===Zt&&(g.bumpScale.value*=-1)),m.normalMap&&(g.normalMap.value=m.normalMap,g.normalScale.value.copy(m.normalScale),m.side===Zt&&g.normalScale.value.negate()),m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias)}function d(g,m){g.roughness.value=m.roughness,g.metalness.value=m.metalness,m.roughnessMap&&(g.roughnessMap.value=m.roughnessMap),m.metalnessMap&&(g.metalnessMap.value=m.metalnessMap),m.emissiveMap&&(g.emissiveMap.value=m.emissiveMap),m.bumpMap&&(g.bumpMap.value=m.bumpMap,g.bumpScale.value=m.bumpScale,m.side===Zt&&(g.bumpScale.value*=-1)),m.normalMap&&(g.normalMap.value=m.normalMap,g.normalScale.value.copy(m.normalScale),m.side===Zt&&g.normalScale.value.negate()),m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias),e.get(m).envMap&&(g.envMapIntensity.value=m.envMapIntensity)}function f(g,m){d(g,m),g.reflectivity.value=m.reflectivity,g.clearcoat.value=m.clearcoat,g.clearcoatRoughness.value=m.clearcoatRoughness,m.sheen&&g.sheen.value.copy(m.sheen),m.clearcoatMap&&(g.clearcoatMap.value=m.clearcoatMap),m.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap),m.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),g.clearcoatNormalMap.value=m.clearcoatNormalMap,m.side===Zt&&g.clearcoatNormalScale.value.negate()),g.transmission.value=m.transmission,m.transmissionMap&&(g.transmissionMap.value=m.transmissionMap)}function h(g,m){m.matcap&&(g.matcap.value=m.matcap),m.bumpMap&&(g.bumpMap.value=m.bumpMap,g.bumpScale.value=m.bumpScale,m.side===Zt&&(g.bumpScale.value*=-1)),m.normalMap&&(g.normalMap.value=m.normalMap,g.normalScale.value.copy(m.normalScale),m.side===Zt&&g.normalScale.value.negate()),m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias)}function p(g,m){m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias)}function y(g,m){m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias),g.referencePosition.value.copy(m.referencePosition),g.nearDistance.value=m.nearDistance,g.farDistance.value=m.farDistance}function b(g,m){m.bumpMap&&(g.bumpMap.value=m.bumpMap,g.bumpScale.value=m.bumpScale,m.side===Zt&&(g.bumpScale.value*=-1)),m.normalMap&&(g.normalMap.value=m.normalMap,g.normalScale.value.copy(m.normalScale),m.side===Zt&&g.normalScale.value.negate()),m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias)}return{refreshFogUniforms:t,refreshMaterialUniforms:n}}function JM(){const e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return e.style.display="block",e}function ol(e){e=e||{};const t=e.canvas!==void 0?e.canvas:JM(),n=e.context!==void 0?e.context:null,i=e.alpha!==void 0?e.alpha:!1,o=e.depth!==void 0?e.depth:!0,r=e.stencil!==void 0?e.stencil:!0,a=e.antialias!==void 0?e.antialias:!1,s=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,l=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,c=e.powerPreference!==void 0?e.powerPreference:"default",u=e.failIfMajorPerformanceCaveat!==void 0?e.failIfMajorPerformanceCaveat:!1;let d=null,f=null;const h=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Tn,this.physicallyCorrectLights=!1,this.toneMapping=Zo,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const p=this;let y=!1,b=null,g=0,m=0,_=null,x=null,M=-1,w=null;const T=new _t,B=new _t;let D=null,z=t.width,A=t.height,O=1,C=null,P=null;const L=new _t(0,0,z,A),q=new _t(0,0,z,A);let F=!1;const j=new il;let G=!1,Y=!1;const ee=new lt,U=new H,oe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function J(){return _===null?O:1}let te=n;function ve(N,se){for(let ce=0;ce<N.length;ce++){const be=N[ce],I=t.getContext(be,se);if(I!==null)return I}return null}try{const N={alpha:i,depth:o,stencil:r,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if(t.addEventListener("webglcontextlost",Se,!1),t.addEventListener("webglcontextrestored",De,!1),te===null){const se=["webgl2","webgl","experimental-webgl"];if(p.isWebGL1Renderer===!0&&se.shift(),te=ve(se,N),te===null)throw ve(se)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}te.getShaderPrecisionFormat===void 0&&(te.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(N){throw console.error("THREE.WebGLRenderer: "+N.message),N}let de,ne,E,$,he,ie,fe,pe,Pe,_e,R,k,re,ue,W,X,me,Te,Ce,Ie,ze;function $e(){de=new RS(te),ne=new AS(te,de,e),ne.isWebGL2===!1&&(de.get("WEBGL_depth_texture"),de.get("OES_texture_float"),de.get("OES_texture_half_float"),de.get("OES_texture_half_float_linear"),de.get("OES_standard_derivatives"),de.get("OES_element_index_uint"),de.get("OES_vertex_array_object"),de.get("ANGLE_instanced_arrays")),de.get("OES_texture_float_linear"),Ie=new U0(te,de,ne),E=new XM(te,de,ne),E.scissor(B.copy(q).multiplyScalar(O).floor()),E.viewport(T.copy(L).multiplyScalar(O).floor()),$=new IS,he=new DM,ie=new ZM(te,de,E,he,ne,Ie,$),fe=new PS(p),pe=new iw(te,ne),ze=new CS(te,de,pe,ne),Pe=new kS(te,pe,$,ze),_e=new DS(te,Pe,pe,$),me=new NS(te),W=new LS(he),R=new NM(p,fe,de,ne,ze,W),k=new KM(he),re=new VM(he),ue=new jM(de,ne),X=new TS(p,fe,E,_e,s),Te=new ES(te,de,$,ne),Ce=new BS(te,de,$,ne),$.programs=R.programs,p.capabilities=ne,p.extensions=de,p.properties=he,p.renderLists=re,p.state=E,p.info=$}$e();const Fe=new G0(p,te);this.xr=Fe;const le=new H0(p,_e,ne.maxTextureSize);this.shadowMap=le,this.getContext=function(){return te},this.getContextAttributes=function(){return te.getContextAttributes()},this.forceContextLoss=function(){const N=de.get("WEBGL_lose_context");N&&N.loseContext()},this.forceContextRestore=function(){const N=de.get("WEBGL_lose_context");N&&N.restoreContext()},this.getPixelRatio=function(){return O},this.setPixelRatio=function(N){N!==void 0&&(O=N,this.setSize(z,A,!1))},this.getSize=function(N){return N===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),N=new Ae),N.set(z,A)},this.setSize=function(N,se,ce){if(Fe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}z=N,A=se,t.width=Math.floor(N*O),t.height=Math.floor(se*O),ce!==!1&&(t.style.width=N+"px",t.style.height=se+"px"),this.setViewport(0,0,N,se)},this.getDrawingBufferSize=function(N){return N===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),N=new Ae),N.set(z*O,A*O).floor()},this.setDrawingBufferSize=function(N,se,ce){z=N,A=se,O=ce,t.width=Math.floor(N*ce),t.height=Math.floor(se*ce),this.setViewport(0,0,N,se)},this.getCurrentViewport=function(N){return N===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),N=new _t),N.copy(T)},this.getViewport=function(N){return N.copy(L)},this.setViewport=function(N,se,ce,be){N.isVector4?L.set(N.x,N.y,N.z,N.w):L.set(N,se,ce,be),E.viewport(T.copy(L).multiplyScalar(O).floor())},this.getScissor=function(N){return N.copy(q)},this.setScissor=function(N,se,ce,be){N.isVector4?q.set(N.x,N.y,N.z,N.w):q.set(N,se,ce,be),E.scissor(B.copy(q).multiplyScalar(O).floor())},this.getScissorTest=function(){return F},this.setScissorTest=function(N){E.setScissorTest(F=N)},this.setOpaqueSort=function(N){C=N},this.setTransparentSort=function(N){P=N},this.getClearColor=function(N){return N===void 0&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),N=new We),N.copy(X.getClearColor())},this.setClearColor=function(){X.setClearColor.apply(X,arguments)},this.getClearAlpha=function(){return X.getClearAlpha()},this.setClearAlpha=function(){X.setClearAlpha.apply(X,arguments)},this.clear=function(N,se,ce){let be=0;(N===void 0||N)&&(be|=16384),(se===void 0||se)&&(be|=256),(ce===void 0||ce)&&(be|=1024),te.clear(be)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Se,!1),t.removeEventListener("webglcontextrestored",De,!1),re.dispose(),ue.dispose(),he.dispose(),fe.dispose(),_e.dispose(),ze.dispose(),Fe.dispose(),Et.stop()};function Se(N){N.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function De(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1,$e()}function ge(N){const se=N.target;se.removeEventListener("dispose",ge),Be(se)}function Be(N){Ze(N),he.remove(N)}function Ze(N){const se=he.get(N).program;se!==void 0&&R.releaseProgram(se)}function Ge(N,se){N.render(function(ce){p.renderBufferImmediate(ce,se)})}this.renderBufferImmediate=function(N,se){ze.initAttributes();const ce=he.get(N);N.hasPositions&&!ce.position&&(ce.position=te.createBuffer()),N.hasNormals&&!ce.normal&&(ce.normal=te.createBuffer()),N.hasUvs&&!ce.uv&&(ce.uv=te.createBuffer()),N.hasColors&&!ce.color&&(ce.color=te.createBuffer());const be=se.getAttributes();N.hasPositions&&(te.bindBuffer(34962,ce.position),te.bufferData(34962,N.positionArray,35048),ze.enableAttribute(be.position),te.vertexAttribPointer(be.position,3,5126,!1,0,0)),N.hasNormals&&(te.bindBuffer(34962,ce.normal),te.bufferData(34962,N.normalArray,35048),ze.enableAttribute(be.normal),te.vertexAttribPointer(be.normal,3,5126,!1,0,0)),N.hasUvs&&(te.bindBuffer(34962,ce.uv),te.bufferData(34962,N.uvArray,35048),ze.enableAttribute(be.uv),te.vertexAttribPointer(be.uv,2,5126,!1,0,0)),N.hasColors&&(te.bindBuffer(34962,ce.color),te.bufferData(34962,N.colorArray,35048),ze.enableAttribute(be.color),te.vertexAttribPointer(be.color,3,5126,!1,0,0)),ze.disableUnusedAttributes(),te.drawArrays(4,0,N.count),N.count=0},this.renderBufferDirect=function(N,se,ce,be,I,Q){se===null&&(se=oe);const ae=I.isMesh&&I.matrixWorld.determinant()<0,Le=kn(N,se,be,I);E.setMaterial(be,ae);let Ee=ce.index;const Ke=ce.attributes.position;if(Ee===null){if(Ke===void 0||Ke.count===0)return}else if(Ee.count===0)return;let ke=1;be.wireframe===!0&&(Ee=Pe.getWireframeAttribute(ce),ke=2),(be.morphTargets||be.morphNormals)&&me.update(I,ce,be,Le),ze.setup(I,be,Le,ce,Ee);let Re,Ye=Te;Ee!==null&&(Re=pe.get(Ee),Ye=Ce,Ye.setIndex(Re));const jt=Ee!==null?Ee.count:Ke.count,gt=ce.drawRange.start*ke,ki=ce.drawRange.count*ke,Ut=Q!==null?Q.start*ke:0,_r=Q!==null?Q.count*ke:1/0,on=Math.max(gt,Ut),eo=Math.min(jt,gt+ki,Ut+_r)-1,Z=Math.max(0,eo-on+1);if(Z!==0){if(I.isMesh)be.wireframe===!0?(E.setLineWidth(be.wireframeLinewidth*J()),Ye.setMode(1)):Ye.setMode(4);else if(I.isLine){let Ve=be.linewidth;Ve===void 0&&(Ve=1),E.setLineWidth(Ve*J()),I.isLineSegments?Ye.setMode(1):I.isLineLoop?Ye.setMode(2):Ye.setMode(3)}else I.isPoints?Ye.setMode(0):I.isSprite&&Ye.setMode(4);if(I.isInstancedMesh)Ye.renderInstances(on,Z,I.count);else if(ce.isInstancedBufferGeometry){const Ve=Math.min(ce.instanceCount,ce._maxInstanceCount);Ye.renderInstances(on,Z,Ve)}else Ye.render(on,Z)}},this.compile=function(N,se){f=ue.get(N),f.init(),N.traverseVisible(function(be){be.isLight&&be.layers.test(se.layers)&&(f.pushLight(be),be.castShadow&&f.pushShadow(be))}),f.setupLights();const ce=new WeakMap;N.traverse(function(be){const I=be.material;if(I)if(Array.isArray(I))for(let Q=0;Q<I.length;Q++){const ae=I[Q];ce.has(ae)===!1&&(Yt(ae,N,be),ce.set(ae))}else ce.has(I)===!1&&(Yt(I,N,be),ce.set(I))})};let et=null;function pt(N){Fe.isPresenting||et&&et(N)}const Et=new I0;Et.setAnimationLoop(pt),typeof window!="undefined"&&Et.setContext(window),this.setAnimationLoop=function(N){et=N,Fe.setAnimationLoop(N),N===null?Et.stop():Et.start()},this.render=function(N,se){let ce,be;if(arguments[2]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),ce=arguments[2]),arguments[3]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),be=arguments[3]),se!==void 0&&se.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;ze.resetDefaultState(),M=-1,w=null,N.autoUpdate===!0&&N.updateMatrixWorld(),se.parent===null&&se.updateMatrixWorld(),Fe.enabled===!0&&Fe.isPresenting===!0&&(se=Fe.getCamera(se)),N.isScene===!0&&N.onBeforeRender(p,N,se,ce||_),f=ue.get(N,h.length),f.init(),h.push(f),ee.multiplyMatrices(se.projectionMatrix,se.matrixWorldInverse),j.setFromProjectionMatrix(ee),Y=this.localClippingEnabled,G=W.init(this.clippingPlanes,Y,se),d=re.get(N,se),d.init(),Tt(N,se,0,p.sortObjects),d.finish(),p.sortObjects===!0&&d.sort(C,P),G===!0&&W.beginShadows();const I=f.state.shadowsArray;le.render(I,N,se),f.setupLights(),f.setupLightsView(se),G===!0&&W.endShadows(),this.info.autoReset===!0&&this.info.reset(),ce!==void 0&&this.setRenderTarget(ce),X.render(d,N,se,be);const Q=d.opaque,ae=d.transparent;Q.length>0&&bn(Q,N,se),ae.length>0&&bn(ae,N,se),N.isScene===!0&&N.onAfterRender(p,N,se),_!==null&&(ie.updateRenderTargetMipmap(_),ie.updateMultisampleRenderTarget(_)),E.buffers.depth.setTest(!0),E.buffers.depth.setMask(!0),E.buffers.color.setMask(!0),E.setPolygonOffset(!1),h.pop(),h.length>0?f=h[h.length-1]:f=null,d=null};function Tt(N,se,ce,be){if(N.visible===!1)return;if(N.layers.test(se.layers)){if(N.isGroup)ce=N.renderOrder;else if(N.isLOD)N.autoUpdate===!0&&N.update(se);else if(N.isLight)f.pushLight(N),N.castShadow&&f.pushShadow(N);else if(N.isSprite){if(!N.frustumCulled||j.intersectsSprite(N)){be&&U.setFromMatrixPosition(N.matrixWorld).applyMatrix4(ee);const ae=_e.update(N),Le=N.material;Le.visible&&d.push(N,ae,Le,ce,U.z,null)}}else if(N.isImmediateRenderObject)be&&U.setFromMatrixPosition(N.matrixWorld).applyMatrix4(ee),d.push(N,null,N.material,ce,U.z,null);else if((N.isMesh||N.isLine||N.isPoints)&&(N.isSkinnedMesh&&N.skeleton.frame!==$.render.frame&&(N.skeleton.update(),N.skeleton.frame=$.render.frame),!N.frustumCulled||j.intersectsObject(N))){be&&U.setFromMatrixPosition(N.matrixWorld).applyMatrix4(ee);const ae=_e.update(N),Le=N.material;if(Array.isArray(Le)){const Ee=ae.groups;for(let Ke=0,ke=Ee.length;Ke<ke;Ke++){const Re=Ee[Ke],Ye=Le[Re.materialIndex];Ye&&Ye.visible&&d.push(N,ae,Ye,ce,U.z,Re)}}else Le.visible&&d.push(N,ae,Le,ce,U.z,null)}}const Q=N.children;for(let ae=0,Le=Q.length;ae<Le;ae++)Tt(Q[ae],se,ce,be)}function bn(N,se,ce){const be=se.isScene===!0?se.overrideMaterial:null;for(let I=0,Q=N.length;I<Q;I++){const ae=N[I],Le=ae.object,Ee=ae.geometry,Ke=be===null?ae.material:be,ke=ae.group;if(ce.isArrayCamera){const Re=ce.cameras;for(let Ye=0,jt=Re.length;Ye<jt;Ye++){const gt=Re[Ye];Le.layers.test(gt.layers)&&(E.viewport(T.copy(gt.viewport)),f.setupLightsView(gt),dn(Le,se,gt,Ee,Ke,ke))}}else dn(Le,se,ce,Ee,Ke,ke)}}function dn(N,se,ce,be,I,Q){if(N.onBeforeRender(p,se,ce,be,I,Q),N.modelViewMatrix.multiplyMatrices(ce.matrixWorldInverse,N.matrixWorld),N.normalMatrix.getNormalMatrix(N.modelViewMatrix),N.isImmediateRenderObject){const ae=kn(ce,se,I,N);E.setMaterial(I),ze.reset(),Ge(N,ae)}else p.renderBufferDirect(ce,se,be,I,N,Q);N.onAfterRender(p,se,ce,be,I,Q)}function Yt(N,se,ce){se.isScene!==!0&&(se=oe);const be=he.get(N),I=f.state.lights,Q=f.state.shadowsArray,ae=I.state.version,Le=R.getParameters(N,I.state,Q,se,ce),Ee=R.getProgramCacheKey(Le);let Ke=be.program,ke=!0;if(Ke===void 0)N.addEventListener("dispose",ge);else if(Ke.cacheKey!==Ee)Ze(N);else if(be.lightsStateVersion!==ae)ke=!1;else if(Le.shaderID!==void 0){const gt=N.isMeshStandardMaterial?se.environment:null;be.envMap=fe.get(N.envMap||gt);return}else ke=!1;ke&&(Le.uniforms=R.getUniforms(N),N.onBeforeCompile(Le,p),Ke=R.acquireProgram(Le,Ee),be.program=Ke,be.uniforms=Le.uniforms,be.outputEncoding=Le.outputEncoding);const Re=be.uniforms;(!N.isShaderMaterial&&!N.isRawShaderMaterial||N.clipping===!0)&&(be.numClippingPlanes=W.numPlanes,be.numIntersection=W.numIntersection,Re.clippingPlanes=W.uniform),be.environment=N.isMeshStandardMaterial?se.environment:null,be.fog=se.fog,be.envMap=fe.get(N.envMap||be.environment),be.needsLights=Oe(N),be.lightsStateVersion=ae,be.needsLights&&(Re.ambientLightColor.value=I.state.ambient,Re.lightProbe.value=I.state.probe,Re.directionalLights.value=I.state.directional,Re.directionalLightShadows.value=I.state.directionalShadow,Re.spotLights.value=I.state.spot,Re.spotLightShadows.value=I.state.spotShadow,Re.rectAreaLights.value=I.state.rectArea,Re.ltc_1.value=I.state.rectAreaLTC1,Re.ltc_2.value=I.state.rectAreaLTC2,Re.pointLights.value=I.state.point,Re.pointLightShadows.value=I.state.pointShadow,Re.hemisphereLights.value=I.state.hemi,Re.directionalShadowMap.value=I.state.directionalShadowMap,Re.directionalShadowMatrix.value=I.state.directionalShadowMatrix,Re.spotShadowMap.value=I.state.spotShadowMap,Re.spotShadowMatrix.value=I.state.spotShadowMatrix,Re.pointShadowMap.value=I.state.pointShadowMap,Re.pointShadowMatrix.value=I.state.pointShadowMatrix);const Ye=be.program.getUniforms(),jt=yo.seqWithValue(Ye.seq,Re);be.uniformsList=jt}function kn(N,se,ce,be){se.isScene!==!0&&(se=oe),ie.resetTextureUnits();const I=se.fog,Q=ce.isMeshStandardMaterial?se.environment:null,ae=_===null?p.outputEncoding:_.texture.encoding,Le=fe.get(ce.envMap||Q),Ee=he.get(ce),Ke=f.state.lights;if(G===!0&&(Y===!0||N!==w)){const Ut=N===w&&ce.id===M;W.setState(ce,N,Ut)}ce.version===Ee.__version?(ce.fog&&Ee.fog!==I||Ee.environment!==Q||Ee.needsLights&&Ee.lightsStateVersion!==Ke.state.version||Ee.numClippingPlanes!==void 0&&(Ee.numClippingPlanes!==W.numPlanes||Ee.numIntersection!==W.numIntersection)||Ee.outputEncoding!==ae||Ee.envMap!==Le)&&Yt(ce,se,be):(Yt(ce,se,be),Ee.__version=ce.version);let ke=!1,Re=!1,Ye=!1;const jt=Ee.program,gt=jt.getUniforms(),ki=Ee.uniforms;if(E.useProgram(jt.program)&&(ke=!0,Re=!0,Ye=!0),ce.id!==M&&(M=ce.id,Re=!0),ke||w!==N){if(gt.setValue(te,"projectionMatrix",N.projectionMatrix),ne.logarithmicDepthBuffer&&gt.setValue(te,"logDepthBufFC",2/(Math.log(N.far+1)/Math.LN2)),w!==N&&(w=N,Re=!0,Ye=!0),ce.isShaderMaterial||ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshStandardMaterial||ce.envMap){const Ut=gt.map.cameraPosition;Ut!==void 0&&Ut.setValue(te,U.setFromMatrixPosition(N.matrixWorld))}(ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshLambertMaterial||ce.isMeshBasicMaterial||ce.isMeshStandardMaterial||ce.isShaderMaterial)&&gt.setValue(te,"isOrthographic",N.isOrthographicCamera===!0),(ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshLambertMaterial||ce.isMeshBasicMaterial||ce.isMeshStandardMaterial||ce.isShaderMaterial||ce.isShadowMaterial||ce.skinning)&&gt.setValue(te,"viewMatrix",N.matrixWorldInverse)}if(ce.skinning){gt.setOptional(te,be,"bindMatrix"),gt.setOptional(te,be,"bindMatrixInverse");const Ut=be.skeleton;if(Ut){const _r=Ut.bones;if(ne.floatVertexTextures){if(Ut.boneTexture===null){let on=Math.sqrt(_r.length*4);on=it.ceilPowerOfTwo(on),on=Math.max(on,4);const eo=new Float32Array(on*on*4);eo.set(Ut.boneMatrices);const Z=new Qi(eo,on,on,Dn,Hi);Ut.boneMatrices=eo,Ut.boneTexture=Z,Ut.boneTextureSize=on}gt.setValue(te,"boneTexture",Ut.boneTexture,ie),gt.setValue(te,"boneTextureSize",Ut.boneTextureSize)}else gt.setOptional(te,Ut,"boneMatrices")}}return(Re||Ee.receiveShadow!==be.receiveShadow)&&(Ee.receiveShadow=be.receiveShadow,gt.setValue(te,"receiveShadow",be.receiveShadow)),Re&&(gt.setValue(te,"toneMappingExposure",p.toneMappingExposure),Ee.needsLights&&xe(ki,Ye),I&&ce.fog&&k.refreshFogUniforms(ki,I),k.refreshMaterialUniforms(ki,ce,O,A),yo.upload(te,Ee.uniformsList,ki,ie)),ce.isShaderMaterial&&ce.uniformsNeedUpdate===!0&&(yo.upload(te,Ee.uniformsList,ki,ie),ce.uniformsNeedUpdate=!1),ce.isSpriteMaterial&&gt.setValue(te,"center",be.center),gt.setValue(te,"modelViewMatrix",be.modelViewMatrix),gt.setValue(te,"normalMatrix",be.normalMatrix),gt.setValue(te,"modelMatrix",be.matrixWorld),jt}function xe(N,se){N.ambientLightColor.needsUpdate=se,N.lightProbe.needsUpdate=se,N.directionalLights.needsUpdate=se,N.directionalLightShadows.needsUpdate=se,N.pointLights.needsUpdate=se,N.pointLightShadows.needsUpdate=se,N.spotLights.needsUpdate=se,N.spotLightShadows.needsUpdate=se,N.rectAreaLights.needsUpdate=se,N.hemisphereLights.needsUpdate=se}function Oe(N){return N.isMeshLambertMaterial||N.isMeshToonMaterial||N.isMeshPhongMaterial||N.isMeshStandardMaterial||N.isShadowMaterial||N.isShaderMaterial&&N.lights===!0}this.setFramebuffer=function(N){b!==N&&_===null&&te.bindFramebuffer(36160,N),b=N},this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return m},this.getRenderList=function(){return d},this.setRenderList=function(N){d=N},this.getRenderTarget=function(){return _},this.setRenderTarget=function(N,se=0,ce=0){_=N,g=se,m=ce,N&&he.get(N).__webglFramebuffer===void 0&&ie.setupRenderTarget(N);let be=b,I=!1;if(N){const Q=he.get(N).__webglFramebuffer;N.isWebGLCubeRenderTarget?(be=Q[se],I=!0):N.isWebGLMultisampleRenderTarget?be=he.get(N).__webglMultisampledFramebuffer:be=Q,T.copy(N.viewport),B.copy(N.scissor),D=N.scissorTest}else T.copy(L).multiplyScalar(O).floor(),B.copy(q).multiplyScalar(O).floor(),D=F;if(x!==be&&(te.bindFramebuffer(36160,be),x=be),E.viewport(T),E.scissor(B),E.setScissorTest(D),I){const Q=he.get(N.texture);te.framebufferTexture2D(36160,36064,34069+se,Q.__webglTexture,ce)}},this.readRenderTargetPixels=function(N,se,ce,be,I,Q,ae){if(!(N&&N.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Le=he.get(N).__webglFramebuffer;if(N.isWebGLCubeRenderTarget&&ae!==void 0&&(Le=Le[ae]),Le){let Ee=!1;Le!==x&&(te.bindFramebuffer(36160,Le),Ee=!0);try{const Ke=N.texture,ke=Ke.format,Re=Ke.type;if(ke!==Dn&&Ie.convert(ke)!==te.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(Re!==Pa&&Ie.convert(Re)!==te.getParameter(35738)&&!(Re===Hi&&(ne.isWebGL2||de.get("OES_texture_float")||de.get("WEBGL_color_buffer_float")))&&!(Re===bs&&(ne.isWebGL2?de.get("EXT_color_buffer_float"):de.get("EXT_color_buffer_half_float")))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}te.checkFramebufferStatus(36160)===36053?se>=0&&se<=N.width-be&&ce>=0&&ce<=N.height-I&&te.readPixels(se,ce,be,I,Ie.convert(ke),Ie.convert(Re),Q):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{Ee&&te.bindFramebuffer(36160,x)}}},this.copyFramebufferToTexture=function(N,se,ce=0){const be=Math.pow(2,-ce),I=Math.floor(se.image.width*be),Q=Math.floor(se.image.height*be),ae=Ie.convert(se.format);ie.setTexture2D(se,0),te.copyTexImage2D(3553,ce,ae,N.x,N.y,I,Q,0),E.unbindTexture()},this.copyTextureToTexture=function(N,se,ce,be=0){const I=se.image.width,Q=se.image.height,ae=Ie.convert(ce.format),Le=Ie.convert(ce.type);ie.setTexture2D(ce,0),te.pixelStorei(37440,ce.flipY),te.pixelStorei(37441,ce.premultiplyAlpha),te.pixelStorei(3317,ce.unpackAlignment),se.isDataTexture?te.texSubImage2D(3553,be,N.x,N.y,I,Q,ae,Le,se.image.data):se.isCompressedTexture?te.compressedTexSubImage2D(3553,be,N.x,N.y,se.mipmaps[0].width,se.mipmaps[0].height,ae,se.mipmaps[0].data):te.texSubImage2D(3553,be,N.x,N.y,ae,Le,se.image),be===0&&ce.generateMipmaps&&te.generateMipmap(3553),E.unbindTexture()},this.initTexture=function(N){ie.setTexture2D(N,0),E.unbindTexture()},this.resetState=function(){E.reset(),ze.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function th(e){ol.call(this,e)}th.prototype=Object.assign(Object.create(ol.prototype),{constructor:th,isWebGL1Renderer:!0});class _u{constructor(t,n){Object.defineProperty(this,"isFogExp2",{value:!0}),this.name="",this.color=new We(t),this.density=n!==void 0?n:25e-5}clone(){return new _u(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class wu{constructor(t,n,i){Object.defineProperty(this,"isFog",{value:!0}),this.name="",this.color=new We(t),this.near=n!==void 0?n:1,this.far=i!==void 0?i:1e3}clone(){return new wu(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class jh extends Qe{constructor(){super(),Object.defineProperty(this,"isScene",{value:!0}),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,n){return super.copy(t,n),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const n=super.toJSON(t);return this.background!==null&&(n.object.background=this.background.toJSON(t)),this.environment!==null&&(n.object.environment=this.environment.toJSON(t)),this.fog!==null&&(n.object.fog=this.fog.toJSON()),n}}function Nn(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=tl,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=it.generateUUID()}Object.defineProperty(Nn.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(Nn.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=t.array[n+i];return this},set:function(e,t=0){return this.array.set(e,t),this},clone:function(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=it.generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new Nn(t,this.stride);return n.setUsage(this.usage),n},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=it.generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const No=new H;function Mo(e,t,n,i){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i===!0}Object.defineProperties(Mo.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(e){this.data.needsUpdate=e}}});Object.assign(Mo.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(let t=0,n=this.data.count;t<n;t++)No.x=this.getX(t),No.y=this.getY(t),No.z=this.getZ(t),No.applyMatrix4(e),this.setXYZ(t,No.x,No.y,No.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,t,n,i,o){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=o,this},clone:function(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[i+o])}return new tt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Mo(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}});function To(e){nt.call(this),this.type="SpriteMaterial",this.color=new We(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}To.prototype=Object.create(nt.prototype);To.prototype.constructor=To;To.prototype.isSpriteMaterial=!0;To.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};let Ir;const $a=new H,Fr=new H,Or=new H,Nr=new Ae,ja=new Ae,W0=new lt,Rl=new H,Qa=new H,kl=new H,Bp=new Ae,rd=new Ae,Ip=new Ae;function Ps(e){if(Qe.call(this),this.type="Sprite",Ir===void 0){Ir=new Je;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Nn(t,5);Ir.setIndex([0,1,2,0,2,3]),Ir.setAttribute("position",new Mo(n,3,0,!1)),Ir.setAttribute("uv",new Mo(n,2,3,!1))}this.geometry=Ir,this.material=e!==void 0?e:new To,this.center=new Ae(.5,.5)}Ps.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Ps,isSprite:!0,raycast:function(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Fr.setFromMatrixScale(this.matrixWorld),W0.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Or.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Fr.multiplyScalar(-Or.z);const n=this.material.rotation;let i,o;n!==0&&(o=Math.cos(n),i=Math.sin(n));const r=this.center;Bl(Rl.set(-.5,-.5,0),Or,r,Fr,i,o),Bl(Qa.set(.5,-.5,0),Or,r,Fr,i,o),Bl(kl.set(.5,.5,0),Or,r,Fr,i,o),Bp.set(0,0),rd.set(1,0),Ip.set(1,1);let a=e.ray.intersectTriangle(Rl,Qa,kl,!1,$a);if(a===null&&(Bl(Qa.set(-.5,.5,0),Or,r,Fr,i,o),rd.set(0,1),a=e.ray.intersectTriangle(Rl,kl,Qa,!1,$a),a===null))return;const s=e.ray.origin.distanceTo($a);s<e.near||s>e.far||t.push({distance:s,point:$a.clone(),uv:cn.getUV($a,Rl,Qa,kl,Bp,rd,Ip,new Ae),face:null,object:this})},copy:function(e){return Qe.prototype.copy.call(this,e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}});function Bl(e,t,n,i,o,r){Nr.subVectors(e,n).addScalar(.5).multiply(i),o!==void 0?(ja.x=r*Nr.x-o*Nr.y,ja.y=o*Nr.x+r*Nr.y):ja.copy(Nr),e.copy(t),e.x+=ja.x,e.y+=ja.y,e.applyMatrix4(W0)}const Il=new H,Fp=new H;function Rs(){Qe.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}Rs.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Rs,isLOD:!0,copy:function(e){Qe.prototype.copy.call(this,e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const o=t[n];this.addLevel(o.object.clone(),o.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t=0){t=Math.abs(t);const n=this.levels;let i;for(i=0;i<n.length&&!(t<n[i].distance);i++);return n.splice(i,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){if(this.levels.length>0){Il.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Il);this.getObjectForDistance(i).raycast(e,t)}},update:function(e){const t=this.levels;if(t.length>1){Il.setFromMatrixPosition(e.matrixWorld),Fp.setFromMatrixPosition(this.matrixWorld);const n=Il.distanceTo(Fp)/e.zoom;t[0].object.visible=!0;let i,o;for(i=1,o=t.length;i<o&&n>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<o;i++)t[i].object.visible=!1}},toJSON:function(e){const t=Qe.prototype.toJSON.call(this,e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,o=n.length;i<o;i++){const r=n[i];t.object.levels.push({object:r.object.uuid,distance:r.distance})}return t}});const Op=new H,Np=new _t,Dp=new _t,eT=new H,zp=new lt;function ks(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Bt.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new lt,this.bindMatrixInverse=new lt}ks.prototype=Object.assign(Object.create(Bt.prototype),{constructor:ks,isSkinnedMesh:!0,copy:function(e){return Bt.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const e=new _t,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Bt.prototype.updateMatrixWorld.call(this,e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(e,t){const n=this.skeleton,i=this.geometry;Np.fromBufferAttribute(i.attributes.skinIndex,e),Dp.fromBufferAttribute(i.attributes.skinWeight,e),Op.fromBufferAttribute(i.attributes.position,e).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const r=Dp.getComponent(o);if(r!==0){const a=Np.getComponent(o);zp.multiplyMatrices(n.bones[a].matrixWorld,n.boneInverses[a]),t.addScaledVector(eT.copy(Op).applyMatrix4(zp),r)}}return t.applyMatrix4(this.bindMatrixInverse)}});function Bs(){Qe.call(this),this.type="Bone"}Bs.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Bs,isBone:!0});const qp=new lt,tT=new lt;function Is(e=[],t=[]){this.uuid=it.generateUUID(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}Object.assign(Is.prototype,{init:function(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new lt)}},calculateInverses:function(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new lt;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}},pose:function(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}},update:function(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let o=0,r=e.length;o<r;o++){const a=e[o]?e[o].matrixWorld:tT;qp.multiplyMatrices(a,t[o]),qp.toArray(n,o*16)}i!==null&&(i.needsUpdate=!0)},clone:function(){return new Is(this.bones,this.boneInverses)},getBoneByName:function(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}},dispose:function(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)},fromJSON:function(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const o=e.bones[n];let r=t[o];r===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),r=new Bs),this.bones.push(r),this.boneInverses.push(new lt().fromArray(e.boneInverses[n]))}return this.init(),this},toJSON:function(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,o=t.length;i<o;i++){const r=t[i];e.bones.push(r.uuid);const a=n[i];e.boneInverses.push(a.toArray())}return e}});const Vp=new lt,Hp=new lt,Fl=[],Ya=new Bt;function kc(e,t,n){Bt.call(this,e,t),this.instanceMatrix=new tt(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}kc.prototype=Object.assign(Object.create(Bt.prototype),{constructor:kc,isInstancedMesh:!0,copy:function(e){return Bt.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),this.count=e.count,this},getColorAt:function(e,t){t.fromArray(this.instanceColor.array,e*3)},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,e*16)},raycast:function(e,t){const n=this.matrixWorld,i=this.count;if(Ya.geometry=this.geometry,Ya.material=this.material,Ya.material!==void 0)for(let o=0;o<i;o++){this.getMatrixAt(o,Vp),Hp.multiplyMatrices(n,Vp),Ya.matrixWorld=Hp,Ya.raycast(e,Fl);for(let r=0,a=Fl.length;r<a;r++){const s=Fl[r];s.instanceId=o,s.object=this,t.push(s)}Fl.length=0}},setColorAt:function(e,t){this.instanceColor===null&&(this.instanceColor=new tt(new Float32Array(this.count*3),3)),t.toArray(this.instanceColor.array,e*3)},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,e*16)},updateMorphTargets:function(){},dispose:function(){this.dispatchEvent({type:"dispose"})}});function Ot(e){nt.call(this),this.type="LineBasicMaterial",this.color=new We(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}Ot.prototype=Object.create(nt.prototype);Ot.prototype.constructor=Ot;Ot.prototype.isLineBasicMaterial=!0;Ot.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};const Up=new H,Gp=new H,Wp=new lt,Ol=new Ra,Nl=new Zi;function Yn(e=new Je,t=new Ot){Qe.call(this),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}Yn.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Yn,isLine:!0,copy:function(e){return Qe.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,n=[0];for(let i=1,o=t.count;i<o;i++)Up.fromBufferAttribute(t,i-1),Gp.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=Up.distanceTo(Gp);e.setAttribute("lineDistance",new He(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;n[0]=0;for(let i=1,o=t.length;i<o;i++)n[i]=n[i-1],n[i]+=t[i-1].distanceTo(t[i])}return this},raycast:function(e,t){const n=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold;if(n.boundingSphere===null&&n.computeBoundingSphere(),Nl.copy(n.boundingSphere),Nl.applyMatrix4(i),Nl.radius+=o,e.ray.intersectsSphere(Nl)===!1)return;Wp.copy(i).invert(),Ol.copy(e.ray).applyMatrix4(Wp);const r=o/((this.scale.x+this.scale.y+this.scale.z)/3),a=r*r,s=new H,l=new H,c=new H,u=new H,d=this.isLineSegments?2:1;if(n.isBufferGeometry){const f=n.index,p=n.attributes.position;if(f!==null){const y=f.array;for(let b=0,g=y.length-1;b<g;b+=d){const m=y[b],_=y[b+1];if(s.fromBufferAttribute(p,m),l.fromBufferAttribute(p,_),Ol.distanceSqToSegment(s,l,u,c)>a)continue;u.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(u);M<e.near||M>e.far||t.push({distance:M,point:c.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else for(let y=0,b=p.count-1;y<b;y+=d){if(s.fromBufferAttribute(p,y),l.fromBufferAttribute(p,y+1),Ol.distanceSqToSegment(s,l,u,c)>a)continue;u.applyMatrix4(this.matrixWorld);const m=e.ray.origin.distanceTo(u);m<e.near||m>e.far||t.push({distance:m,point:c.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else if(n.isGeometry){const f=n.vertices,h=f.length;for(let p=0;p<h-1;p+=d){if(Ol.distanceSqToSegment(f[p],f[p+1],u,c)>a)continue;u.applyMatrix4(this.matrixWorld);const b=e.ray.origin.distanceTo(u);b<e.near||b>e.far||t.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,r=i.length;o<r;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const Dl=new H,zl=new H;function En(e,t){Yn.call(this,e,t),this.type="LineSegments"}En.prototype=Object.assign(Object.create(Yn.prototype),{constructor:En,isLineSegments:!0,computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,n=[];for(let i=0,o=t.count;i<o;i+=2)Dl.fromBufferAttribute(t,i),zl.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+Dl.distanceTo(zl);e.setAttribute("lineDistance",new He(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;for(let i=0,o=t.length;i<o;i+=2)Dl.copy(t[i]),zl.copy(t[i+1]),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+Dl.distanceTo(zl)}return this}});function Bc(e,t){Yn.call(this,e,t),this.type="LineLoop"}Bc.prototype=Object.assign(Object.create(Yn.prototype),{constructor:Bc,isLineLoop:!0});function ui(e){nt.call(this),this.type="PointsMaterial",this.color=new We(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}ui.prototype=Object.create(nt.prototype);ui.prototype.constructor=ui;ui.prototype.isPointsMaterial=!0;ui.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};const $p=new lt,nh=new Ra,ql=new Zi,Vl=new H;function va(e=new Je,t=new ui){Qe.call(this),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}va.prototype=Object.assign(Object.create(Qe.prototype),{constructor:va,isPoints:!0,copy:function(e){return Qe.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){const n=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold;if(n.boundingSphere===null&&n.computeBoundingSphere(),ql.copy(n.boundingSphere),ql.applyMatrix4(i),ql.radius+=o,e.ray.intersectsSphere(ql)===!1)return;$p.copy(i).invert(),nh.copy(e.ray).applyMatrix4($p);const r=o/((this.scale.x+this.scale.y+this.scale.z)/3),a=r*r;if(n.isBufferGeometry){const s=n.index,c=n.attributes.position;if(s!==null){const u=s.array;for(let d=0,f=u.length;d<f;d++){const h=u[d];Vl.fromBufferAttribute(c,h),ad(Vl,h,a,i,e,t,this)}}else for(let u=0,d=c.count;u<d;u++)Vl.fromBufferAttribute(c,u),ad(Vl,u,a,i,e,t,this)}else{const s=n.vertices;for(let l=0,c=s.length;l<c;l++)ad(s[l],l,a,i,e,t,this)}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,r=i.length;o<r;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});function ad(e,t,n,i,o,r,a){const s=nh.distanceSqToPoint(e);if(s<n){const l=new H;nh.closestPointToPoint(e,l),l.applyMatrix4(i);const c=o.ray.origin.distanceTo(l);if(c<o.near||c>o.far)return;r.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:t,face:null,object:a})}}function ih(e,t,n,i,o,r,a,s,l){Mt.call(this,e,t,n,i,o,r,a,s,l),this.format=a!==void 0?a:go,this.minFilter=r!==void 0?r:nn,this.magFilter=o!==void 0?o:nn,this.generateMipmaps=!1;const c=this;function u(){c.needsUpdate=!0,e.requestVideoFrameCallback(u)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(u)}ih.prototype=Object.assign(Object.create(Mt.prototype),{constructor:ih,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});function ga(e,t,n,i,o,r,a,s,l,c,u,d){Mt.call(this,null,r,a,s,l,c,i,o,u,d),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}ga.prototype=Object.create(Mt.prototype);ga.prototype.constructor=ga;ga.prototype.isCompressedTexture=!0;function Fs(e,t,n,i,o,r,a,s,l){Mt.call(this,e,t,n,i,o,r,a,s,l),this.needsUpdate=!0}Fs.prototype=Object.create(Mt.prototype);Fs.prototype.constructor=Fs;Fs.prototype.isCanvasTexture=!0;function Os(e,t,n,i,o,r,a,s,l,c){if(c=c!==void 0?c:Ko,c!==Ko&&c!==ha)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&c===Ko&&(n=ys),n===void 0&&c===ha&&(n=ra),Mt.call(this,null,i,o,r,a,s,c,n,l),this.image={width:e,height:t},this.magFilter=a!==void 0?a:Jt,this.minFilter=s!==void 0?s:Jt,this.flipY=!1,this.generateMipmaps=!1}Os.prototype=Object.create(Mt.prototype);Os.prototype.constructor=Os;Os.prototype.isDepthTexture=!0;let nT=0;const yi=new lt,sd=new Qe,Hl=new H;function St(){Object.defineProperty(this,"id",{value:nT+=2}),this.uuid=it.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}St.prototype=Object.assign(Object.create(Li.prototype),{constructor:St,isGeometry:!0,applyMatrix4:function(e){const t=new Mn().getNormalMatrix(e);for(let n=0,i=this.vertices.length;n<i;n++)this.vertices[n].applyMatrix4(e);for(let n=0,i=this.faces.length;n<i;n++){const o=this.faces[n];o.normal.applyMatrix3(t).normalize();for(let r=0,a=o.vertexNormals.length;r<a;r++)o.vertexNormals[r].applyMatrix3(t).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return yi.makeRotationX(e),this.applyMatrix4(yi),this},rotateY:function(e){return yi.makeRotationY(e),this.applyMatrix4(yi),this},rotateZ:function(e){return yi.makeRotationZ(e),this.applyMatrix4(yi),this},translate:function(e,t,n){return yi.makeTranslation(e,t,n),this.applyMatrix4(yi),this},scale:function(e,t,n){return yi.makeScale(e,t,n),this.applyMatrix4(yi),this},lookAt:function(e){return sd.lookAt(e),sd.updateMatrix(),this.applyMatrix4(sd.matrix),this},fromBufferGeometry:function(e){const t=this,n=e.index!==null?e.index:void 0,i=e.attributes;if(i.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const o=i.position,r=i.normal,a=i.color,s=i.uv,l=i.uv2;l!==void 0&&(this.faceVertexUvs[1]=[]);for(let d=0;d<o.count;d++)t.vertices.push(new H().fromBufferAttribute(o,d)),a!==void 0&&t.colors.push(new We().fromBufferAttribute(a,d));function c(d,f,h,p){const y=a===void 0?[]:[t.colors[d].clone(),t.colors[f].clone(),t.colors[h].clone()],b=r===void 0?[]:[new H().fromBufferAttribute(r,d),new H().fromBufferAttribute(r,f),new H().fromBufferAttribute(r,h)],g=new ws(d,f,h,b,y,p);t.faces.push(g),s!==void 0&&t.faceVertexUvs[0].push([new Ae().fromBufferAttribute(s,d),new Ae().fromBufferAttribute(s,f),new Ae().fromBufferAttribute(s,h)]),l!==void 0&&t.faceVertexUvs[1].push([new Ae().fromBufferAttribute(l,d),new Ae().fromBufferAttribute(l,f),new Ae().fromBufferAttribute(l,h)])}const u=e.groups;if(u.length>0)for(let d=0;d<u.length;d++){const f=u[d],h=f.start,p=f.count;for(let y=h,b=h+p;y<b;y+=3)n!==void 0?c(n.getX(y),n.getX(y+1),n.getX(y+2),f.materialIndex):c(y,y+1,y+2,f.materialIndex)}else if(n!==void 0)for(let d=0;d<n.count;d+=3)c(n.getX(d),n.getX(d+1),n.getX(d+2));else for(let d=0;d<o.count;d+=3)c(d,d+1,d+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Hl).negate(),this.translate(Hl.x,Hl.y,Hl.z),this},normalize:function(){this.computeBoundingSphere();const e=this.boundingSphere.center,t=this.boundingSphere.radius,n=t===0?1:1/t,i=new lt;return i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(i),this},computeFaceNormals:function(){const e=new H,t=new H;for(let n=0,i=this.faces.length;n<i;n++){const o=this.faces[n],r=this.vertices[o.a],a=this.vertices[o.b],s=this.vertices[o.c];e.subVectors(s,a),t.subVectors(r,a),e.cross(t),e.normalize(),o.normal.copy(e)}},computeVertexNormals:function(e=!0){const t=new Array(this.vertices.length);for(let n=0,i=this.vertices.length;n<i;n++)t[n]=new H;if(e){const n=new H,i=new H;for(let o=0,r=this.faces.length;o<r;o++){const a=this.faces[o],s=this.vertices[a.a],l=this.vertices[a.b],c=this.vertices[a.c];n.subVectors(c,l),i.subVectors(s,l),n.cross(i),t[a.a].add(n),t[a.b].add(n),t[a.c].add(n)}}else{this.computeFaceNormals();for(let n=0,i=this.faces.length;n<i;n++){const o=this.faces[n];t[o.a].add(o.normal),t[o.b].add(o.normal),t[o.c].add(o.normal)}}for(let n=0,i=this.vertices.length;n<i;n++)t[n].normalize();for(let n=0,i=this.faces.length;n<i;n++){const o=this.faces[n],r=o.vertexNormals;r.length===3?(r[0].copy(t[o.a]),r[1].copy(t[o.b]),r[2].copy(t[o.c])):(r[0]=t[o.a].clone(),r[1]=t[o.b].clone(),r[2]=t[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){const n=this.faces[e],i=n.vertexNormals;i.length===3?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let t=0,n=this.faces.length;t<n;t++){const i=this.faces[t];i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]);for(let o=0,r=i.vertexNormals.length;o<r;o++)i.__originalVertexNormals[o]?i.__originalVertexNormals[o].copy(i.vertexNormals[o]):i.__originalVertexNormals[o]=i.vertexNormals[o].clone()}const e=new St;e.faces=this.faces;for(let t=0,n=this.morphTargets.length;t<n;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];const o=this.morphNormals[t].faceNormals,r=this.morphNormals[t].vertexNormals;for(let a=0,s=this.faces.length;a<s;a++){const l=new H,c={a:new H,b:new H,c:new H};o.push(l),r.push(c)}}const i=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let o=0,r=this.faces.length;o<r;o++){const a=this.faces[o],s=i.faceNormals[o],l=i.vertexNormals[o];s.copy(a.normal),l.a.copy(a.vertexNormals[0]),l.b.copy(a.vertexNormals[1]),l.c.copy(a.vertexNormals[2])}}for(let t=0,n=this.faces.length;t<n;t++){const i=this.faces[t];i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals}},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Pi),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new Zi),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n=0){if(!(e&&e.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);return}let i;const o=this.vertices.length,r=this.vertices,a=e.vertices,s=this.faces,l=e.faces,c=this.colors,u=e.colors;t!==void 0&&(i=new Mn().getNormalMatrix(t));for(let d=0,f=a.length;d<f;d++){const p=a[d].clone();t!==void 0&&p.applyMatrix4(t),r.push(p)}for(let d=0,f=u.length;d<f;d++)c.push(u[d].clone());for(let d=0,f=l.length;d<f;d++){const h=l[d];let p,y;const b=h.vertexNormals,g=h.vertexColors,m=new ws(h.a+o,h.b+o,h.c+o);m.normal.copy(h.normal),i!==void 0&&m.normal.applyMatrix3(i).normalize();for(let _=0,x=b.length;_<x;_++)p=b[_].clone(),i!==void 0&&p.applyMatrix3(i).normalize(),m.vertexNormals.push(p);m.color.copy(h.color);for(let _=0,x=g.length;_<x;_++)y=g[_],m.vertexColors.push(y.clone());m.materialIndex=h.materialIndex+n,s.push(m)}for(let d=0,f=e.faceVertexUvs.length;d<f;d++){const h=e.faceVertexUvs[d];this.faceVertexUvs[d]===void 0&&(this.faceVertexUvs[d]=[]);for(let p=0,y=h.length;p<y;p++){const b=h[p],g=[];for(let m=0,_=b.length;m<_;m++)g.push(b[m].clone());this.faceVertexUvs[d].push(g)}}},mergeMesh:function(e){if(!(e&&e.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)},mergeVertices:function(e=4){const t={},n=[],i=[],o=Math.pow(10,e);for(let s=0,l=this.vertices.length;s<l;s++){const c=this.vertices[s],u=Math.round(c.x*o)+"_"+Math.round(c.y*o)+"_"+Math.round(c.z*o);t[u]===void 0?(t[u]=s,n.push(this.vertices[s]),i[s]=n.length-1):i[s]=i[t[u]]}const r=[];for(let s=0,l=this.faces.length;s<l;s++){const c=this.faces[s];c.a=i[c.a],c.b=i[c.b],c.c=i[c.c];const u=[c.a,c.b,c.c];for(let d=0;d<3;d++)if(u[d]===u[(d+1)%3]){r.push(s);break}}for(let s=r.length-1;s>=0;s--){const l=r[s];this.faces.splice(l,1);for(let c=0,u=this.faceVertexUvs.length;c<u;c++)this.faceVertexUvs[c].splice(l,1)}const a=this.vertices.length-n.length;return this.vertices=n,a},setFromPoints:function(e){this.vertices=[];for(let t=0,n=e.length;t<n;t++){const i=e[t];this.vertices.push(new H(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){const e=this.faces,t=e.length;for(let s=0;s<t;s++)e[s]._id=s;function n(s,l){return s.materialIndex-l.materialIndex}e.sort(n);const i=this.faceVertexUvs[0],o=this.faceVertexUvs[1];let r,a;i&&i.length===t&&(r=[]),o&&o.length===t&&(a=[]);for(let s=0;s<t;s++){const l=e[s]._id;r&&r.push(i[l]),a&&a.push(o[l])}r&&(this.faceVertexUvs[0]=r),a&&(this.faceVertexUvs[1]=a)},toJSON:function(){const e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),this.parameters!==void 0){const h=this.parameters;for(const p in h)h[p]!==void 0&&(e[p]=h[p]);return e}const t=[];for(let h=0;h<this.vertices.length;h++){const p=this.vertices[h];t.push(p.x,p.y,p.z)}const n=[],i=[],o={},r=[],a={},s=[],l={};for(let h=0;h<this.faces.length;h++){const p=this.faces[h],y=!0,b=!1,g=this.faceVertexUvs[0][h]!==void 0,m=p.normal.length()>0,_=p.vertexNormals.length>0,x=p.color.r!==1||p.color.g!==1||p.color.b!==1,M=p.vertexColors.length>0;let w=0;if(w=c(w,0,0),w=c(w,1,y),w=c(w,2,b),w=c(w,3,g),w=c(w,4,m),w=c(w,5,_),w=c(w,6,x),w=c(w,7,M),n.push(w),n.push(p.a,p.b,p.c),n.push(p.materialIndex),g){const T=this.faceVertexUvs[0][h];n.push(f(T[0]),f(T[1]),f(T[2]))}if(m&&n.push(u(p.normal)),_){const T=p.vertexNormals;n.push(u(T[0]),u(T[1]),u(T[2]))}if(x&&n.push(d(p.color)),M){const T=p.vertexColors;n.push(d(T[0]),d(T[1]),d(T[2]))}}function c(h,p,y){return y?h|1<<p:h&~(1<<p)}function u(h){const p=h.x.toString()+h.y.toString()+h.z.toString();return o[p]!==void 0||(o[p]=i.length/3,i.push(h.x,h.y,h.z)),o[p]}function d(h){const p=h.r.toString()+h.g.toString()+h.b.toString();return a[p]!==void 0||(a[p]=r.length,r.push(h.getHex())),a[p]}function f(h){const p=h.x.toString()+h.y.toString();return l[p]!==void 0||(l[p]=s.length/2,s.push(h.x,h.y)),l[p]}return e.data={},e.data.vertices=t,e.data.normals=i,r.length>0&&(e.data.colors=r),s.length>0&&(e.data.uvs=[s]),e.data.faces=n,e},clone:function(){return new St().copy(this)},copy:function(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;const t=e.vertices;for(let d=0,f=t.length;d<f;d++)this.vertices.push(t[d].clone());const n=e.colors;for(let d=0,f=n.length;d<f;d++)this.colors.push(n[d].clone());const i=e.faces;for(let d=0,f=i.length;d<f;d++)this.faces.push(i[d].clone());for(let d=0,f=e.faceVertexUvs.length;d<f;d++){const h=e.faceVertexUvs[d];this.faceVertexUvs[d]===void 0&&(this.faceVertexUvs[d]=[]);for(let p=0,y=h.length;p<y;p++){const b=h[p],g=[];for(let m=0,_=b.length;m<_;m++){const x=b[m];g.push(x.clone())}this.faceVertexUvs[d].push(g)}}const o=e.morphTargets;for(let d=0,f=o.length;d<f;d++){const h={};if(h.name=o[d].name,o[d].vertices!==void 0){h.vertices=[];for(let p=0,y=o[d].vertices.length;p<y;p++)h.vertices.push(o[d].vertices[p].clone())}if(o[d].normals!==void 0){h.normals=[];for(let p=0,y=o[d].normals.length;p<y;p++)h.normals.push(o[d].normals[p].clone())}this.morphTargets.push(h)}const r=e.morphNormals;for(let d=0,f=r.length;d<f;d++){const h={};if(r[d].vertexNormals!==void 0){h.vertexNormals=[];for(let p=0,y=r[d].vertexNormals.length;p<y;p++){const b=r[d].vertexNormals[p],g={};g.a=b.a.clone(),g.b=b.b.clone(),g.c=b.c.clone(),h.vertexNormals.push(g)}}if(r[d].faceNormals!==void 0){h.faceNormals=[];for(let p=0,y=r[d].faceNormals.length;p<y;p++)h.faceNormals.push(r[d].faceNormals[p].clone())}this.morphNormals.push(h)}const a=e.skinWeights;for(let d=0,f=a.length;d<f;d++)this.skinWeights.push(a[d].clone());const s=e.skinIndices;for(let d=0,f=s.length;d<f;d++)this.skinIndices.push(s[d].clone());const l=e.lineDistances;for(let d=0,f=l.length;d<f;d++)this.lineDistances.push(l[d]);const c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class oh extends St{constructor(t,n,i,o,r,a){super(),this.type="BoxGeometry",this.parameters={width:t,height:n,depth:i,widthSegments:o,heightSegments:r,depthSegments:a},this.fromBufferGeometry(new nl(t,n,i,o,r,a)),this.mergeVertices()}}class Qh extends Je{constructor(t=1,n=8,i=0,o=Math.PI*2){super(),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:n,thetaStart:i,thetaLength:o},n=Math.max(3,n);const r=[],a=[],s=[],l=[],c=new H,u=new Ae;a.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=n;d++,f+=3){const h=i+d/n*o;c.x=t*Math.cos(h),c.y=t*Math.sin(h),a.push(c.x,c.y,c.z),s.push(0,0,1),u.x=(a[f]/t+1)/2,u.y=(a[f+1]/t+1)/2,l.push(u.x,u.y)}for(let d=1;d<=n;d++)r.push(d,d+1,0);this.setIndex(r),this.setAttribute("position",new He(a,3)),this.setAttribute("normal",new He(s,3)),this.setAttribute("uv",new He(l,2))}}class $0 extends St{constructor(t,n,i,o){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:n,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new Qh(t,n,i,o)),this.mergeVertices()}}class rl extends Je{constructor(t=1,n=1,i=1,o=8,r=1,a=!1,s=0,l=Math.PI*2){super(),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:n,height:i,radialSegments:o,heightSegments:r,openEnded:a,thetaStart:s,thetaLength:l};const c=this;o=Math.floor(o),r=Math.floor(r);const u=[],d=[],f=[],h=[];let p=0;const y=[],b=i/2;let g=0;m(),a===!1&&(t>0&&_(!0),n>0&&_(!1)),this.setIndex(u),this.setAttribute("position",new He(d,3)),this.setAttribute("normal",new He(f,3)),this.setAttribute("uv",new He(h,2));function m(){const x=new H,M=new H;let w=0;const T=(n-t)/i;for(let B=0;B<=r;B++){const D=[],z=B/r,A=z*(n-t)+t;for(let O=0;O<=o;O++){const C=O/o,P=C*l+s,L=Math.sin(P),q=Math.cos(P);M.x=A*L,M.y=-z*i+b,M.z=A*q,d.push(M.x,M.y,M.z),x.set(L,T,q).normalize(),f.push(x.x,x.y,x.z),h.push(C,1-z),D.push(p++)}y.push(D)}for(let B=0;B<o;B++)for(let D=0;D<r;D++){const z=y[D][B],A=y[D+1][B],O=y[D+1][B+1],C=y[D][B+1];u.push(z,A,C),u.push(A,O,C),w+=6}c.addGroup(g,w,0),g+=w}function _(x){const M=p,w=new Ae,T=new H;let B=0;const D=x===!0?t:n,z=x===!0?1:-1;for(let O=1;O<=o;O++)d.push(0,b*z,0),f.push(0,z,0),h.push(.5,.5),p++;const A=p;for(let O=0;O<=o;O++){const P=O/o*l+s,L=Math.cos(P),q=Math.sin(P);T.x=D*q,T.y=b*z,T.z=D*L,d.push(T.x,T.y,T.z),f.push(0,z,0),w.x=L*.5+.5,w.y=q*.5*z+.5,h.push(w.x,w.y),p++}for(let O=0;O<o;O++){const C=M+O,P=A+O;x===!0?u.push(P,P+1,C):u.push(P+1,P,C),B+=3}c.addGroup(g,B,x===!0?1:2),g+=B}}}class Yh extends St{constructor(t,n,i,o,r,a,s,l){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:n,height:i,radialSegments:o,heightSegments:r,openEnded:a,thetaStart:s,thetaLength:l},this.fromBufferGeometry(new rl(t,n,i,o,r,a,s,l)),this.mergeVertices()}}class j0 extends Yh{constructor(t,n,i,o,r,a,s){super(0,t,n,i,o,r,a,s),this.type="ConeGeometry",this.parameters={radius:t,height:n,radialSegments:i,heightSegments:o,openEnded:r,thetaStart:a,thetaLength:s}}}class Q0 extends rl{constructor(t=1,n=1,i=8,o=1,r=!1,a=0,s=Math.PI*2){super(0,t,n,i,o,r,a,s),this.type="ConeBufferGeometry",this.parameters={radius:t,height:n,radialSegments:i,heightSegments:o,openEnded:r,thetaStart:a,thetaLength:s}}}class yr extends Je{constructor(t,n,i=1,o=0){super(),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:n,radius:i,detail:o};const r=[],a=[];s(o),c(i),u(),this.setAttribute("position",new He(r,3)),this.setAttribute("normal",new He(r.slice(),3)),this.setAttribute("uv",new He(a,2)),o===0?this.computeVertexNormals():this.normalizeNormals();function s(m){const _=new H,x=new H,M=new H;for(let w=0;w<n.length;w+=3)h(n[w+0],_),h(n[w+1],x),h(n[w+2],M),l(_,x,M,m)}function l(m,_,x,M){const w=M+1,T=[];for(let B=0;B<=w;B++){T[B]=[];const D=m.clone().lerp(x,B/w),z=_.clone().lerp(x,B/w),A=w-B;for(let O=0;O<=A;O++)O===0&&B===w?T[B][O]=D:T[B][O]=D.clone().lerp(z,O/A)}for(let B=0;B<w;B++)for(let D=0;D<2*(w-B)-1;D++){const z=Math.floor(D/2);D%2===0?(f(T[B][z+1]),f(T[B+1][z]),f(T[B][z])):(f(T[B][z+1]),f(T[B+1][z+1]),f(T[B+1][z]))}}function c(m){const _=new H;for(let x=0;x<r.length;x+=3)_.x=r[x+0],_.y=r[x+1],_.z=r[x+2],_.normalize().multiplyScalar(m),r[x+0]=_.x,r[x+1]=_.y,r[x+2]=_.z}function u(){const m=new H;for(let _=0;_<r.length;_+=3){m.x=r[_+0],m.y=r[_+1],m.z=r[_+2];const x=b(m)/2/Math.PI+.5,M=g(m)/Math.PI+.5;a.push(x,1-M)}p(),d()}function d(){for(let m=0;m<a.length;m+=6){const _=a[m+0],x=a[m+2],M=a[m+4],w=Math.max(_,x,M),T=Math.min(_,x,M);w>.9&&T<.1&&(_<.2&&(a[m+0]+=1),x<.2&&(a[m+2]+=1),M<.2&&(a[m+4]+=1))}}function f(m){r.push(m.x,m.y,m.z)}function h(m,_){const x=m*3;_.x=t[x+0],_.y=t[x+1],_.z=t[x+2]}function p(){const m=new H,_=new H,x=new H,M=new H,w=new Ae,T=new Ae,B=new Ae;for(let D=0,z=0;D<r.length;D+=9,z+=6){m.set(r[D+0],r[D+1],r[D+2]),_.set(r[D+3],r[D+4],r[D+5]),x.set(r[D+6],r[D+7],r[D+8]),w.set(a[z+0],a[z+1]),T.set(a[z+2],a[z+3]),B.set(a[z+4],a[z+5]),M.copy(m).add(_).add(x).divideScalar(3);const A=b(M);y(w,z+0,m,A),y(T,z+2,_,A),y(B,z+4,x,A)}}function y(m,_,x,M){M<0&&m.x===1&&(a[_]=m.x-1),x.x===0&&x.z===0&&(a[_]=M/2/Math.PI+.5)}function b(m){return Math.atan2(m.z,-m.x)}function g(m){return Math.atan2(-m.y,Math.sqrt(m.x*m.x+m.z*m.z))}}}class Xh extends yr{constructor(t=1,n=0){const i=(1+Math.sqrt(5))/2,o=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-i,0,-o,i,0,o,-i,0,o,i,-o,-i,0,-o,i,0,o,-i,0,o,i,0,-i,0,-o,i,0,-o,-i,0,o,i,0,o],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,a,t,n),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:n}}}class Y0 extends St{constructor(t,n){super(),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:n},this.fromBufferGeometry(new Xh(t,n)),this.mergeVertices()}}const Ul=new H,Gl=new H,ld=new H,Wl=new cn;class Zh extends Je{constructor(t,n){super(),this.type="EdgesGeometry",this.parameters={thresholdAngle:n},n=n!==void 0?n:1,t.isGeometry&&(t=new Je().fromGeometry(t));const o=Math.pow(10,4),r=Math.cos(it.DEG2RAD*n),a=t.getIndex(),s=t.getAttribute("position"),l=a?a.count:s.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),f={},h=[];for(let p=0;p<l;p+=3){a?(c[0]=a.getX(p),c[1]=a.getX(p+1),c[2]=a.getX(p+2)):(c[0]=p,c[1]=p+1,c[2]=p+2);const{a:y,b,c:g}=Wl;if(y.fromBufferAttribute(s,c[0]),b.fromBufferAttribute(s,c[1]),g.fromBufferAttribute(s,c[2]),Wl.getNormal(ld),d[0]=`${Math.round(y.x*o)},${Math.round(y.y*o)},${Math.round(y.z*o)}`,d[1]=`${Math.round(b.x*o)},${Math.round(b.y*o)},${Math.round(b.z*o)}`,d[2]=`${Math.round(g.x*o)},${Math.round(g.y*o)},${Math.round(g.z*o)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let m=0;m<3;m++){const _=(m+1)%3,x=d[m],M=d[_],w=Wl[u[m]],T=Wl[u[_]],B=`${x}_${M}`,D=`${M}_${x}`;D in f&&f[D]?(ld.dot(f[D].normal)<=r&&(h.push(w.x,w.y,w.z),h.push(T.x,T.y,T.z)),f[D]=null):B in f||(f[B]={index0:c[m],index1:c[_],normal:ld.clone()})}}for(const p in f)if(f[p]){const{index0:y,index1:b}=f[p];Ul.fromBufferAttribute(s,y),Gl.fromBufferAttribute(s,b),h.push(Ul.x,Ul.y,Ul.z),h.push(Gl.x,Gl.y,Gl.z)}this.setAttribute("position",new He(h,3))}}const iT={triangulate:function(e,t,n){n=n||2;const i=t&&t.length,o=i?t[0]*n:e.length;let r=X0(e,0,o,n,!0);const a=[];if(!r||r.next===r.prev)return a;let s,l,c,u,d,f,h;if(i&&(r=lT(e,t,r,n)),e.length>80*n){s=c=e[0],l=u=e[1];for(let p=n;p<o;p+=n)d=e[p],f=e[p+1],d<s&&(s=d),f<l&&(l=f),d>c&&(c=d),f>u&&(u=f);h=Math.max(c-s,u-l),h=h!==0?1/h:0}return Ns(r,a,n,s,l,h),a}};function X0(e,t,n,i,o){let r,a;if(o===bT(e,t,n,i)>0)for(r=t;r<n;r+=i)a=jp(r,e[r],e[r+1],a);else for(r=n-i;r>=t;r-=i)a=jp(r,e[r],e[r+1],a);return a&&Su(a,a.next)&&(zs(a),a=a.next),a}function Co(e,t){if(!e)return e;t||(t=e);let n=e,i;do if(i=!1,!n.steiner&&(Su(n,n.next)||Dt(n.prev,n,n.next)===0)){if(zs(n),n=t=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==t);return t}function Ns(e,t,n,i,o,r,a){if(!e)return;!a&&r&&fT(e,i,o,r);let s=e,l,c;for(;e.prev!==e.next;){if(l=e.prev,c=e.next,r?rT(e,i,o,r):oT(e)){t.push(l.i/n),t.push(e.i/n),t.push(c.i/n),zs(e),e=c.next,s=c.next;continue}if(e=c,e===s){a?a===1?(e=aT(Co(e),t,n),Ns(e,t,n,i,o,r,2)):a===2&&sT(e,t,n,i,o,r):Ns(Co(e),t,n,i,o,r,1);break}}}function oT(e){const t=e.prev,n=e,i=e.next;if(Dt(t,n,i)>=0)return!1;let o=e.next.next;for(;o!==e.prev;){if(ta(t.x,t.y,n.x,n.y,i.x,i.y,o.x,o.y)&&Dt(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function rT(e,t,n,i){const o=e.prev,r=e,a=e.next;if(Dt(o,r,a)>=0)return!1;const s=o.x<r.x?o.x<a.x?o.x:a.x:r.x<a.x?r.x:a.x,l=o.y<r.y?o.y<a.y?o.y:a.y:r.y<a.y?r.y:a.y,c=o.x>r.x?o.x>a.x?o.x:a.x:r.x>a.x?r.x:a.x,u=o.y>r.y?o.y>a.y?o.y:a.y:r.y>a.y?r.y:a.y,d=rh(s,l,t,n,i),f=rh(c,u,t,n,i);let h=e.prevZ,p=e.nextZ;for(;h&&h.z>=d&&p&&p.z<=f;){if(h!==e.prev&&h!==e.next&&ta(o.x,o.y,r.x,r.y,a.x,a.y,h.x,h.y)&&Dt(h.prev,h,h.next)>=0||(h=h.prevZ,p!==e.prev&&p!==e.next&&ta(o.x,o.y,r.x,r.y,a.x,a.y,p.x,p.y)&&Dt(p.prev,p,p.next)>=0))return!1;p=p.nextZ}for(;h&&h.z>=d;){if(h!==e.prev&&h!==e.next&&ta(o.x,o.y,r.x,r.y,a.x,a.y,h.x,h.y)&&Dt(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;p&&p.z<=f;){if(p!==e.prev&&p!==e.next&&ta(o.x,o.y,r.x,r.y,a.x,a.y,p.x,p.y)&&Dt(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function aT(e,t,n){let i=e;do{const o=i.prev,r=i.next.next;!Su(o,r)&&Z0(o,i,i.next,r)&&Ds(o,r)&&Ds(r,o)&&(t.push(o.i/n),t.push(i.i/n),t.push(r.i/n),zs(i),zs(i.next),i=e=r),i=i.next}while(i!==e);return Co(i)}function sT(e,t,n,i,o,r){let a=e;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&vT(a,s)){let l=K0(a,s);a=Co(a,a.next),l=Co(l,l.next),Ns(a,t,n,i,o,r),Ns(l,t,n,i,o,r);return}s=s.next}a=a.next}while(a!==e)}function lT(e,t,n,i){const o=[];let r,a,s,l,c;for(r=0,a=t.length;r<a;r++)s=t[r]*i,l=r<a-1?t[r+1]*i:e.length,c=X0(e,s,l,i,!1),c===c.next&&(c.steiner=!0),o.push(mT(c));for(o.sort(cT),r=0;r<o.length;r++)uT(o[r],n),n=Co(n,n.next);return n}function cT(e,t){return e.x-t.x}function uT(e,t){if(t=dT(e,t),t){const n=K0(t,e);Co(t,t.next),Co(n,n.next)}}function dT(e,t){let n=t;const i=e.x,o=e.y;let r=-1/0,a;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const f=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=i&&f>r){if(r=f,f===i){if(o===n.y)return n;if(o===n.next.y)return n.next}a=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!a)return null;if(i===r)return a;const s=a,l=a.x,c=a.y;let u=1/0,d;n=a;do i>=n.x&&n.x>=l&&i!==n.x&&ta(o<c?i:r,o,l,c,o<c?r:i,o,n.x,n.y)&&(d=Math.abs(o-n.y)/(i-n.x),Ds(n,e)&&(d<u||d===u&&(n.x>a.x||n.x===a.x&&hT(a,n)))&&(a=n,u=d)),n=n.next;while(n!==s);return a}function hT(e,t){return Dt(e.prev,e,t.prev)<0&&Dt(t.next,e,e.next)<0}function fT(e,t,n,i){let o=e;do o.z===null&&(o.z=rh(o.x,o.y,t,n,i)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,pT(o)}function pT(e){let t,n,i,o,r,a,s,l,c=1;do{for(n=e,e=null,r=null,a=0;n;){for(a++,i=n,s=0,t=0;t<c&&(s++,i=i.nextZ,!!i);t++);for(l=c;s>0||l>0&&i;)s!==0&&(l===0||!i||n.z<=i.z)?(o=n,n=n.nextZ,s--):(o=i,i=i.nextZ,l--),r?r.nextZ=o:e=o,o.prevZ=r,r=o;n=i}r.nextZ=null,c*=2}while(a>1);return e}function rh(e,t,n,i,o){return e=32767*(e-n)*o,t=32767*(t-i)*o,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function mT(e){let t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function ta(e,t,n,i,o,r,a,s){return(o-a)*(t-s)-(e-a)*(r-s)>=0&&(e-a)*(i-s)-(n-a)*(t-s)>=0&&(n-a)*(r-s)-(o-a)*(i-s)>=0}function vT(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!gT(e,t)&&(Ds(e,t)&&Ds(t,e)&&yT(e,t)&&(Dt(e.prev,e,t.prev)||Dt(e,t.prev,t))||Su(e,t)&&Dt(e.prev,e,e.next)>0&&Dt(t.prev,t,t.next)>0)}function Dt(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Su(e,t){return e.x===t.x&&e.y===t.y}function Z0(e,t,n,i){const o=jl(Dt(e,t,n)),r=jl(Dt(e,t,i)),a=jl(Dt(n,i,e)),s=jl(Dt(n,i,t));return!!(o!==r&&a!==s||o===0&&$l(e,n,t)||r===0&&$l(e,i,t)||a===0&&$l(n,e,i)||s===0&&$l(n,t,i))}function $l(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function jl(e){return e>0?1:e<0?-1:0}function gT(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Z0(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function Ds(e,t){return Dt(e.prev,e,e.next)<0?Dt(e,t,e.next)>=0&&Dt(e,e.prev,t)>=0:Dt(e,t,e.prev)<0||Dt(e,e.next,t)<0}function yT(e,t){let n=e,i=!1;const o=(e.x+t.x)/2,r=(e.y+t.y)/2;do n.y>r!=n.next.y>r&&n.next.y!==n.y&&o<(n.next.x-n.x)*(r-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==e);return i}function K0(e,t){const n=new ah(e.i,e.x,e.y),i=new ah(t.i,t.x,t.y),o=e.next,r=t.prev;return e.next=t,t.prev=e,n.next=o,o.prev=n,i.next=n,n.prev=i,r.next=i,i.prev=r,i}function jp(e,t,n,i){const o=new ah(e,t,n);return i?(o.next=i.next,o.prev=i,i.next.prev=o,i.next=o):(o.prev=o,o.next=o),o}function zs(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function ah(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function bT(e,t,n,i){let o=0;for(let r=t,a=n-i;r<n;r+=i)o+=(e[a]-e[r])*(e[r+1]+e[a+1]),a=r;return o}const Wi={area:function(e){const t=e.length;let n=0;for(let i=t-1,o=0;o<t;i=o++)n+=e[i].x*e[o].y-e[o].x*e[i].y;return n*.5},isClockWise:function(e){return Wi.area(e)<0},triangulateShape:function(e,t){const n=[],i=[],o=[];Qp(e),Yp(n,e);let r=e.length;t.forEach(Qp);for(let s=0;s<t.length;s++)i.push(r),r+=t[s].length,Yp(n,t[s]);const a=iT.triangulate(n,i);for(let s=0;s<a.length;s+=3)o.push(a.slice(s,s+3));return o}};function Qp(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Yp(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class al extends Je{constructor(t,n){super(),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:n},t=Array.isArray(t)?t:[t];const i=this,o=[],r=[];for(let s=0,l=t.length;s<l;s++){const c=t[s];a(c)}this.setAttribute("position",new He(o,3)),this.setAttribute("uv",new He(r,2)),this.computeVertexNormals();function a(s){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1;let d=n.depth!==void 0?n.depth:100,f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,h=n.bevelThickness!==void 0?n.bevelThickness:6,p=n.bevelSize!==void 0?n.bevelSize:h-2,y=n.bevelOffset!==void 0?n.bevelOffset:0,b=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,m=n.UVGenerator!==void 0?n.UVGenerator:xT;n.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),d=n.amount);let _,x=!1,M,w,T,B;g&&(_=g.getSpacedPoints(u),x=!0,f=!1,M=g.computeFrenetFrames(u,!1),w=new H,T=new H,B=new H),f||(b=0,h=0,p=0,y=0);const D=s.extractPoints(c);let z=D.shape;const A=D.holes;if(!Wi.isClockWise(z)){z=z.reverse();for(let ie=0,fe=A.length;ie<fe;ie++){const pe=A[ie];Wi.isClockWise(pe)&&(A[ie]=pe.reverse())}}const C=Wi.triangulateShape(z,A),P=z;for(let ie=0,fe=A.length;ie<fe;ie++){const pe=A[ie];z=z.concat(pe)}function L(ie,fe,pe){return fe||console.error("THREE.ExtrudeGeometry: vec does not exist"),fe.clone().multiplyScalar(pe).add(ie)}const q=z.length,F=C.length;function j(ie,fe,pe){let Pe,_e,R;const k=ie.x-fe.x,re=ie.y-fe.y,ue=pe.x-ie.x,W=pe.y-ie.y,X=k*k+re*re,me=k*W-re*ue;if(Math.abs(me)>Number.EPSILON){const Te=Math.sqrt(X),Ce=Math.sqrt(ue*ue+W*W),Ie=fe.x-re/Te,ze=fe.y+k/Te,$e=pe.x-W/Ce,Fe=pe.y+ue/Ce,le=(($e-Ie)*W-(Fe-ze)*ue)/(k*W-re*ue);Pe=Ie+k*le-ie.x,_e=ze+re*le-ie.y;const Se=Pe*Pe+_e*_e;if(Se<=2)return new Ae(Pe,_e);R=Math.sqrt(Se/2)}else{let Te=!1;k>Number.EPSILON?ue>Number.EPSILON&&(Te=!0):k<-Number.EPSILON?ue<-Number.EPSILON&&(Te=!0):Math.sign(re)===Math.sign(W)&&(Te=!0),Te?(Pe=-re,_e=k,R=Math.sqrt(X)):(Pe=k,_e=re,R=Math.sqrt(X/2))}return new Ae(Pe/R,_e/R)}const G=[];for(let ie=0,fe=P.length,pe=fe-1,Pe=ie+1;ie<fe;ie++,pe++,Pe++)pe===fe&&(pe=0),Pe===fe&&(Pe=0),G[ie]=j(P[ie],P[pe],P[Pe]);const Y=[];let ee,U=G.concat();for(let ie=0,fe=A.length;ie<fe;ie++){const pe=A[ie];ee=[];for(let Pe=0,_e=pe.length,R=_e-1,k=Pe+1;Pe<_e;Pe++,R++,k++)R===_e&&(R=0),k===_e&&(k=0),ee[Pe]=j(pe[Pe],pe[R],pe[k]);Y.push(ee),U=U.concat(ee)}for(let ie=0;ie<b;ie++){const fe=ie/b,pe=h*Math.cos(fe*Math.PI/2),Pe=p*Math.sin(fe*Math.PI/2)+y;for(let _e=0,R=P.length;_e<R;_e++){const k=L(P[_e],G[_e],Pe);de(k.x,k.y,-pe)}for(let _e=0,R=A.length;_e<R;_e++){const k=A[_e];ee=Y[_e];for(let re=0,ue=k.length;re<ue;re++){const W=L(k[re],ee[re],Pe);de(W.x,W.y,-pe)}}}const oe=p+y;for(let ie=0;ie<q;ie++){const fe=f?L(z[ie],U[ie],oe):z[ie];x?(T.copy(M.normals[0]).multiplyScalar(fe.x),w.copy(M.binormals[0]).multiplyScalar(fe.y),B.copy(_[0]).add(T).add(w),de(B.x,B.y,B.z)):de(fe.x,fe.y,0)}for(let ie=1;ie<=u;ie++)for(let fe=0;fe<q;fe++){const pe=f?L(z[fe],U[fe],oe):z[fe];x?(T.copy(M.normals[ie]).multiplyScalar(pe.x),w.copy(M.binormals[ie]).multiplyScalar(pe.y),B.copy(_[ie]).add(T).add(w),de(B.x,B.y,B.z)):de(pe.x,pe.y,d/u*ie)}for(let ie=b-1;ie>=0;ie--){const fe=ie/b,pe=h*Math.cos(fe*Math.PI/2),Pe=p*Math.sin(fe*Math.PI/2)+y;for(let _e=0,R=P.length;_e<R;_e++){const k=L(P[_e],G[_e],Pe);de(k.x,k.y,d+pe)}for(let _e=0,R=A.length;_e<R;_e++){const k=A[_e];ee=Y[_e];for(let re=0,ue=k.length;re<ue;re++){const W=L(k[re],ee[re],Pe);x?de(W.x,W.y+_[u-1].y,_[u-1].x+pe):de(W.x,W.y,d+pe)}}}J(),te();function J(){const ie=o.length/3;if(f){let fe=0,pe=q*fe;for(let Pe=0;Pe<F;Pe++){const _e=C[Pe];ne(_e[2]+pe,_e[1]+pe,_e[0]+pe)}fe=u+b*2,pe=q*fe;for(let Pe=0;Pe<F;Pe++){const _e=C[Pe];ne(_e[0]+pe,_e[1]+pe,_e[2]+pe)}}else{for(let fe=0;fe<F;fe++){const pe=C[fe];ne(pe[2],pe[1],pe[0])}for(let fe=0;fe<F;fe++){const pe=C[fe];ne(pe[0]+q*u,pe[1]+q*u,pe[2]+q*u)}}i.addGroup(ie,o.length/3-ie,0)}function te(){const ie=o.length/3;let fe=0;ve(P,fe),fe+=P.length;for(let pe=0,Pe=A.length;pe<Pe;pe++){const _e=A[pe];ve(_e,fe),fe+=_e.length}i.addGroup(ie,o.length/3-ie,1)}function ve(ie,fe){let pe=ie.length;for(;--pe>=0;){const Pe=pe;let _e=pe-1;_e<0&&(_e=ie.length-1);for(let R=0,k=u+b*2;R<k;R++){const re=q*R,ue=q*(R+1),W=fe+Pe+re,X=fe+_e+re,me=fe+_e+ue,Te=fe+Pe+ue;E(W,X,me,Te)}}}function de(ie,fe,pe){l.push(ie),l.push(fe),l.push(pe)}function ne(ie,fe,pe){$(ie),$(fe),$(pe);const Pe=o.length/3,_e=m.generateTopUV(i,o,Pe-3,Pe-2,Pe-1);he(_e[0]),he(_e[1]),he(_e[2])}function E(ie,fe,pe,Pe){$(ie),$(fe),$(Pe),$(fe),$(pe),$(Pe);const _e=o.length/3,R=m.generateSideWallUV(i,o,_e-6,_e-3,_e-2,_e-1);he(R[0]),he(R[1]),he(R[3]),he(R[1]),he(R[2]),he(R[3])}function $(ie){o.push(l[ie*3+0]),o.push(l[ie*3+1]),o.push(l[ie*3+2])}function he(ie){r.push(ie.x),r.push(ie.y)}}}toJSON(){const t=Je.prototype.toJSON.call(this),n=this.parameters.shapes,i=this.parameters.options;return _T(n,i,t)}}const xT={generateTopUV:function(e,t,n,i,o){const r=t[n*3],a=t[n*3+1],s=t[i*3],l=t[i*3+1],c=t[o*3],u=t[o*3+1];return[new Ae(r,a),new Ae(s,l),new Ae(c,u)]},generateSideWallUV:function(e,t,n,i,o,r){const a=t[n*3],s=t[n*3+1],l=t[n*3+2],c=t[i*3],u=t[i*3+1],d=t[i*3+2],f=t[o*3],h=t[o*3+1],p=t[o*3+2],y=t[r*3],b=t[r*3+1],g=t[r*3+2];return Math.abs(s-u)<.01?[new Ae(a,1-l),new Ae(c,1-d),new Ae(f,1-p),new Ae(y,1-g)]:[new Ae(s,1-l),new Ae(u,1-d),new Ae(h,1-p),new Ae(b,1-g)]}};function _T(e,t,n){if(n.shapes=[],Array.isArray(e))for(let i=0,o=e.length;i<o;i++){const r=e[i];n.shapes.push(r.uuid)}else n.shapes.push(e.uuid);return t.extrudePath!==void 0&&(n.options.extrudePath=t.extrudePath.toJSON()),n}class Kh extends St{constructor(t,n){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:n},this.fromBufferGeometry(new al(t,n)),this.mergeVertices()}toJSON(){const t=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return wT(n,i,t)}}function wT(e,t,n){if(n.shapes=[],Array.isArray(e))for(let i=0,o=e.length;i<o;i++){const r=e[i];n.shapes.push(r.uuid)}else n.shapes.push(e.uuid);return t.extrudePath!==void 0&&(n.options.extrudePath=t.extrudePath.toJSON()),n}class Jh extends yr{constructor(t=1,n=0){const i=(1+Math.sqrt(5))/2,o=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(o,r,t,n),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:n}}}class J0 extends St{constructor(t,n){super(),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:n},this.fromBufferGeometry(new Jh(t,n)),this.mergeVertices()}}class ef extends Je{constructor(t,n=12,i=0,o=Math.PI*2){super(),this.type="LatheBufferGeometry",this.parameters={points:t,segments:n,phiStart:i,phiLength:o},n=Math.floor(n),o=it.clamp(o,0,Math.PI*2);const r=[],a=[],s=[],l=1/n,c=new H,u=new Ae;for(let d=0;d<=n;d++){const f=i+d*l*o,h=Math.sin(f),p=Math.cos(f);for(let y=0;y<=t.length-1;y++)c.x=t[y].x*h,c.y=t[y].y,c.z=t[y].x*p,a.push(c.x,c.y,c.z),u.x=d/n,u.y=y/(t.length-1),s.push(u.x,u.y)}for(let d=0;d<n;d++)for(let f=0;f<t.length-1;f++){const h=f+d*t.length,p=h,y=h+t.length,b=h+t.length+1,g=h+1;r.push(p,y,g),r.push(y,b,g)}if(this.setIndex(r),this.setAttribute("position",new He(a,3)),this.setAttribute("uv",new He(s,2)),this.computeVertexNormals(),o===Math.PI*2){const d=this.attributes.normal.array,f=new H,h=new H,p=new H,y=n*t.length*3;for(let b=0,g=0;b<t.length;b++,g+=3)f.x=d[g+0],f.y=d[g+1],f.z=d[g+2],h.x=d[y+g+0],h.y=d[y+g+1],h.z=d[y+g+2],p.addVectors(f,h).normalize(),d[g+0]=d[y+g+0]=p.x,d[g+1]=d[y+g+1]=p.y,d[g+2]=d[y+g+2]=p.z}}}class ey extends St{constructor(t,n,i,o){super(),this.type="LatheGeometry",this.parameters={points:t,segments:n,phiStart:i,phiLength:o},this.fromBufferGeometry(new ef(t,n,i,o)),this.mergeVertices()}}class Mu extends yr{constructor(t=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],o=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,o,t,n),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:n}}}class ty extends St{constructor(t,n){super(),this.type="OctahedronGeometry",this.parameters={radius:t,detail:n},this.fromBufferGeometry(new Mu(t,n)),this.mergeVertices()}}function ya(e,t,n){Je.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};const i=[],o=[],r=[],a=[],s=1e-5,l=new H,c=new H,u=new H,d=new H,f=new H;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const h=t+1;for(let p=0;p<=n;p++){const y=p/n;for(let b=0;b<=t;b++){const g=b/t;e(g,y,c),o.push(c.x,c.y,c.z),g-s>=0?(e(g-s,y,u),d.subVectors(c,u)):(e(g+s,y,u),d.subVectors(u,c)),y-s>=0?(e(g,y-s,u),f.subVectors(c,u)):(e(g,y+s,u),f.subVectors(u,c)),l.crossVectors(d,f).normalize(),r.push(l.x,l.y,l.z),a.push(g,y)}}for(let p=0;p<n;p++)for(let y=0;y<t;y++){const b=p*h+y,g=p*h+y+1,m=(p+1)*h+y+1,_=(p+1)*h+y;i.push(b,g,_),i.push(g,m,_)}this.setIndex(i),this.setAttribute("position",new He(o,3)),this.setAttribute("normal",new He(r,3)),this.setAttribute("uv",new He(a,2))}ya.prototype=Object.create(Je.prototype);ya.prototype.constructor=ya;function qs(e,t,n){St.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new ya(e,t,n)),this.mergeVertices()}qs.prototype=Object.create(St.prototype);qs.prototype.constructor=qs;class ny extends St{constructor(t,n,i,o){super(),this.type="PlaneGeometry",this.parameters={width:t,height:n,widthSegments:i,heightSegments:o},this.fromBufferGeometry(new xu(t,n,i,o)),this.mergeVertices()}}class iy extends St{constructor(t,n,i,o){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:n,radius:i,detail:o},this.fromBufferGeometry(new yr(t,n,i,o)),this.mergeVertices()}}class tf extends Je{constructor(t=.5,n=1,i=8,o=1,r=0,a=Math.PI*2){super(),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:n,thetaSegments:i,phiSegments:o,thetaStart:r,thetaLength:a},i=Math.max(3,i),o=Math.max(1,o);const s=[],l=[],c=[],u=[];let d=t;const f=(n-t)/o,h=new H,p=new Ae;for(let y=0;y<=o;y++){for(let b=0;b<=i;b++){const g=r+b/i*a;h.x=d*Math.cos(g),h.y=d*Math.sin(g),l.push(h.x,h.y,h.z),c.push(0,0,1),p.x=(h.x/n+1)/2,p.y=(h.y/n+1)/2,u.push(p.x,p.y)}d+=f}for(let y=0;y<o;y++){const b=y*(i+1);for(let g=0;g<i;g++){const m=g+b,_=m,x=m+i+1,M=m+i+2,w=m+1;s.push(_,x,w),s.push(x,M,w)}}this.setIndex(s),this.setAttribute("position",new He(l,3)),this.setAttribute("normal",new He(c,3)),this.setAttribute("uv",new He(u,2))}}class oy extends St{constructor(t,n,i,o,r,a){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:n,thetaSegments:i,phiSegments:o,thetaStart:r,thetaLength:a},this.fromBufferGeometry(new tf(t,n,i,o,r,a)),this.mergeVertices()}}class nf extends Je{constructor(t,n=12){super(),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:n};const i=[],o=[],r=[],a=[];let s=0,l=0;if(Array.isArray(t)===!1)c(t);else for(let u=0;u<t.length;u++)c(t[u]),this.addGroup(s,l,u),s+=l,l=0;this.setIndex(i),this.setAttribute("position",new He(o,3)),this.setAttribute("normal",new He(r,3)),this.setAttribute("uv",new He(a,2));function c(u){const d=o.length/3,f=u.extractPoints(n);let h=f.shape;const p=f.holes;Wi.isClockWise(h)===!1&&(h=h.reverse());for(let b=0,g=p.length;b<g;b++){const m=p[b];Wi.isClockWise(m)===!0&&(p[b]=m.reverse())}const y=Wi.triangulateShape(h,p);for(let b=0,g=p.length;b<g;b++){const m=p[b];h=h.concat(m)}for(let b=0,g=h.length;b<g;b++){const m=h[b];o.push(m.x,m.y,0),r.push(0,0,1),a.push(m.x,m.y)}for(let b=0,g=y.length;b<g;b++){const m=y[b],_=m[0]+d,x=m[1]+d,M=m[2]+d;i.push(_,x,M),l+=3}}}toJSON(){const t=Je.prototype.toJSON.call(this),n=this.parameters.shapes;return ST(n,t)}}function ST(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,i=e.length;n<i;n++){const o=e[n];t.shapes.push(o.uuid)}else t.shapes.push(e.uuid);return t}class of extends St{constructor(t,n){super(),this.type="ShapeGeometry",typeof n=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),n=n.curveSegments),this.parameters={shapes:t,curveSegments:n},this.fromBufferGeometry(new nf(t,n)),this.mergeVertices()}toJSON(){const t=St.prototype.toJSON.call(this),n=this.parameters.shapes;return MT(n,t)}}function MT(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,i=e.length;n<i;n++){const o=e[n];t.shapes.push(o.uuid)}else t.shapes.push(e.uuid);return t}class Tu extends Je{constructor(t=1,n=8,i=6,o=0,r=Math.PI*2,a=0,s=Math.PI){super(),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:n,heightSegments:i,phiStart:o,phiLength:r,thetaStart:a,thetaLength:s},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(a+s,Math.PI);let c=0;const u=[],d=new H,f=new H,h=[],p=[],y=[],b=[];for(let g=0;g<=i;g++){const m=[],_=g/i;let x=0;g==0&&a==0?x=.5/n:g==i&&l==Math.PI&&(x=-.5/n);for(let M=0;M<=n;M++){const w=M/n;d.x=-t*Math.cos(o+w*r)*Math.sin(a+_*s),d.y=t*Math.cos(a+_*s),d.z=t*Math.sin(o+w*r)*Math.sin(a+_*s),p.push(d.x,d.y,d.z),f.copy(d).normalize(),y.push(f.x,f.y,f.z),b.push(w+x,1-_),m.push(c++)}u.push(m)}for(let g=0;g<i;g++)for(let m=0;m<n;m++){const _=u[g][m+1],x=u[g][m],M=u[g+1][m],w=u[g+1][m+1];(g!==0||a>0)&&h.push(_,x,w),(g!==i-1||l<Math.PI)&&h.push(x,M,w)}this.setIndex(h),this.setAttribute("position",new He(p,3)),this.setAttribute("normal",new He(y,3)),this.setAttribute("uv",new He(b,2))}}class ry extends St{constructor(t,n,i,o,r,a,s){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:n,heightSegments:i,phiStart:o,phiLength:r,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new Tu(t,n,i,o,r,a,s)),this.mergeVertices()}}class rf extends yr{constructor(t=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],o=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,o,t,n),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:n}}}class ay extends St{constructor(t,n){super(),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:n},this.fromBufferGeometry(new rf(t,n)),this.mergeVertices()}}class af extends al{constructor(t,n={}){const i=n.font;if(!(i&&i.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Je;const o=i.generateShapes(t,n.size);n.depth=n.height!==void 0?n.height:50,n.bevelThickness===void 0&&(n.bevelThickness=10),n.bevelSize===void 0&&(n.bevelSize=8),n.bevelEnabled===void 0&&(n.bevelEnabled=!1),super(o,n),this.type="TextBufferGeometry"}}class sy extends St{constructor(t,n){super(),this.type="TextGeometry",this.parameters={text:t,parameters:n},this.fromBufferGeometry(new af(t,n)),this.mergeVertices()}}class sf extends Je{constructor(t=1,n=.4,i=8,o=6,r=Math.PI*2){super(),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:n,radialSegments:i,tubularSegments:o,arc:r},i=Math.floor(i),o=Math.floor(o);const a=[],s=[],l=[],c=[],u=new H,d=new H,f=new H;for(let h=0;h<=i;h++)for(let p=0;p<=o;p++){const y=p/o*r,b=h/i*Math.PI*2;d.x=(t+n*Math.cos(b))*Math.cos(y),d.y=(t+n*Math.cos(b))*Math.sin(y),d.z=n*Math.sin(b),s.push(d.x,d.y,d.z),u.x=t*Math.cos(y),u.y=t*Math.sin(y),f.subVectors(d,u).normalize(),l.push(f.x,f.y,f.z),c.push(p/o),c.push(h/i)}for(let h=1;h<=i;h++)for(let p=1;p<=o;p++){const y=(o+1)*h+p-1,b=(o+1)*(h-1)+p-1,g=(o+1)*(h-1)+p,m=(o+1)*h+p;a.push(y,b,m),a.push(b,g,m)}this.setIndex(a),this.setAttribute("position",new He(s,3)),this.setAttribute("normal",new He(l,3)),this.setAttribute("uv",new He(c,2))}}class ly extends St{constructor(t,n,i,o,r){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:n,radialSegments:i,tubularSegments:o,arc:r},this.fromBufferGeometry(new sf(t,n,i,o,r)),this.mergeVertices()}}class lf extends Je{constructor(t=1,n=.4,i=64,o=8,r=2,a=3){super(),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:n,tubularSegments:i,radialSegments:o,p:r,q:a},i=Math.floor(i),o=Math.floor(o);const s=[],l=[],c=[],u=[],d=new H,f=new H,h=new H,p=new H,y=new H,b=new H,g=new H;for(let _=0;_<=i;++_){const x=_/i*r*Math.PI*2;m(x,r,a,t,h),m(x+.01,r,a,t,p),b.subVectors(p,h),g.addVectors(p,h),y.crossVectors(b,g),g.crossVectors(y,b),y.normalize(),g.normalize();for(let M=0;M<=o;++M){const w=M/o*Math.PI*2,T=-n*Math.cos(w),B=n*Math.sin(w);d.x=h.x+(T*g.x+B*y.x),d.y=h.y+(T*g.y+B*y.y),d.z=h.z+(T*g.z+B*y.z),l.push(d.x,d.y,d.z),f.subVectors(d,h).normalize(),c.push(f.x,f.y,f.z),u.push(_/i),u.push(M/o)}}for(let _=1;_<=i;_++)for(let x=1;x<=o;x++){const M=(o+1)*(_-1)+(x-1),w=(o+1)*_+(x-1),T=(o+1)*_+x,B=(o+1)*(_-1)+x;s.push(M,w,B),s.push(w,T,B)}this.setIndex(s),this.setAttribute("position",new He(l,3)),this.setAttribute("normal",new He(c,3)),this.setAttribute("uv",new He(u,2));function m(_,x,M,w,T){const B=Math.cos(_),D=Math.sin(_),z=M/x*_,A=Math.cos(z);T.x=w*(2+A)*.5*B,T.y=w*(2+A)*D*.5,T.z=w*Math.sin(z)*.5}}}class cy extends St{constructor(t,n,i,o,r,a,s){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:n,tubularSegments:i,radialSegments:o,p:r,q:a},s!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new lf(t,n,i,o,r,a)),this.mergeVertices()}}class cf extends Je{constructor(t,n=64,i=1,o=8,r=!1){super(),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:n,radius:i,radialSegments:o,closed:r};const a=t.computeFrenetFrames(n,r);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const s=new H,l=new H,c=new Ae;let u=new H;const d=[],f=[],h=[],p=[];y(),this.setIndex(p),this.setAttribute("position",new He(d,3)),this.setAttribute("normal",new He(f,3)),this.setAttribute("uv",new He(h,2));function y(){for(let _=0;_<n;_++)b(_);b(r===!1?n:0),m(),g()}function b(_){u=t.getPointAt(_/n,u);const x=a.normals[_],M=a.binormals[_];for(let w=0;w<=o;w++){const T=w/o*Math.PI*2,B=Math.sin(T),D=-Math.cos(T);l.x=D*x.x+B*M.x,l.y=D*x.y+B*M.y,l.z=D*x.z+B*M.z,l.normalize(),f.push(l.x,l.y,l.z),s.x=u.x+i*l.x,s.y=u.y+i*l.y,s.z=u.z+i*l.z,d.push(s.x,s.y,s.z)}}function g(){for(let _=1;_<=n;_++)for(let x=1;x<=o;x++){const M=(o+1)*(_-1)+(x-1),w=(o+1)*_+(x-1),T=(o+1)*_+x,B=(o+1)*(_-1)+x;p.push(M,w,B),p.push(w,T,B)}}function m(){for(let _=0;_<=n;_++)for(let x=0;x<=o;x++)c.x=_/n,c.y=x/o,h.push(c.x,c.y)}}toJSON(){const t=Je.prototype.toJSON.call(this);return t.path=this.parameters.path.toJSON(),t}}class uy extends St{constructor(t,n,i,o,r,a){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:n,radius:i,radialSegments:o,closed:r},a!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed.");const s=new cf(t,n,i,o,r);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals,this.fromBufferGeometry(s),this.mergeVertices()}}class uf extends Je{constructor(t){super(),this.type="WireframeGeometry";const n=[],i=[0,0],o={},r=["a","b","c"];if(t&&t.isGeometry){const a=t.faces;for(let s=0,l=a.length;s<l;s++){const c=a[s];for(let u=0;u<3;u++){const d=c[r[u]],f=c[r[(u+1)%3]];i[0]=Math.min(d,f),i[1]=Math.max(d,f);const h=i[0]+","+i[1];o[h]===void 0&&(o[h]={index1:i[0],index2:i[1]})}}for(const s in o){const l=o[s];let c=t.vertices[l.index1];n.push(c.x,c.y,c.z),c=t.vertices[l.index2],n.push(c.x,c.y,c.z)}}else if(t&&t.isBufferGeometry){const a=new H;if(t.index!==null){const s=t.attributes.position,l=t.index;let c=t.groups;c.length===0&&(c=[{start:0,count:l.count,materialIndex:0}]);for(let u=0,d=c.length;u<d;++u){const f=c[u],h=f.start,p=f.count;for(let y=h,b=h+p;y<b;y+=3)for(let g=0;g<3;g++){const m=l.getX(y+g),_=l.getX(y+(g+1)%3);i[0]=Math.min(m,_),i[1]=Math.max(m,_);const x=i[0]+","+i[1];o[x]===void 0&&(o[x]={index1:i[0],index2:i[1]})}}for(const u in o){const d=o[u];a.fromBufferAttribute(s,d.index1),n.push(a.x,a.y,a.z),a.fromBufferAttribute(s,d.index2),n.push(a.x,a.y,a.z)}}else{const s=t.attributes.position;for(let l=0,c=s.count/3;l<c;l++)for(let u=0;u<3;u++){const d=3*l+u;a.fromBufferAttribute(s,d),n.push(a.x,a.y,a.z);const f=3*l+(u+1)%3;a.fromBufferAttribute(s,f),n.push(a.x,a.y,a.z)}}}this.setAttribute("position",new He(n,3))}}var _n=Object.freeze({__proto__:null,BoxGeometry:oh,BoxBufferGeometry:nl,CircleGeometry:$0,CircleBufferGeometry:Qh,ConeGeometry:j0,ConeBufferGeometry:Q0,CylinderGeometry:Yh,CylinderBufferGeometry:rl,DodecahedronGeometry:Y0,DodecahedronBufferGeometry:Xh,EdgesGeometry:Zh,ExtrudeGeometry:Kh,ExtrudeBufferGeometry:al,IcosahedronGeometry:J0,IcosahedronBufferGeometry:Jh,LatheGeometry:ey,LatheBufferGeometry:ef,OctahedronGeometry:ty,OctahedronBufferGeometry:Mu,ParametricGeometry:qs,ParametricBufferGeometry:ya,PlaneGeometry:ny,PlaneBufferGeometry:xu,PolyhedronGeometry:iy,PolyhedronBufferGeometry:yr,RingGeometry:oy,RingBufferGeometry:tf,ShapeGeometry:of,ShapeBufferGeometry:nf,SphereGeometry:ry,SphereBufferGeometry:Tu,TetrahedronGeometry:ay,TetrahedronBufferGeometry:rf,TextGeometry:sy,TextBufferGeometry:af,TorusGeometry:ly,TorusBufferGeometry:sf,TorusKnotGeometry:cy,TorusKnotBufferGeometry:lf,TubeGeometry:uy,TubeBufferGeometry:cf,WireframeGeometry:uf});function ar(e){nt.call(this),this.type="ShadowMaterial",this.color=new We(0),this.transparent=!0,this.setValues(e)}ar.prototype=Object.create(nt.prototype);ar.prototype.constructor=ar;ar.prototype.isShadowMaterial=!0;ar.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.color.copy(e.color),this};function Yi(e){Cn.call(this,e),this.type="RawShaderMaterial"}Yi.prototype=Object.create(Cn.prototype);Yi.prototype.constructor=Yi;Yi.prototype.isRawShaderMaterial=!0;function Ci(e){nt.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new We(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vr,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}Ci.prototype=Object.create(nt.prototype);Ci.prototype.constructor=Ci;Ci.prototype.isMeshStandardMaterial=!0;Ci.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this};function Eo(e){Ci.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ae(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(t){this.reflectivity=it.clamp(2.5*(t-1)/(t+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(e)}Eo.prototype=Object.create(Ci.prototype);Eo.prototype.constructor=Eo;Eo.prototype.isMeshPhysicalMaterial=!0;Eo.prototype.copy=function(e){return Ci.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new We).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this};function Ao(e){nt.call(this),this.type="MeshPhongMaterial",this.color=new We(16777215),this.specular=new We(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vr,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Xs,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Ao.prototype=Object.create(nt.prototype);Ao.prototype.constructor=Ao;Ao.prototype.isMeshPhongMaterial=!0;Ao.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function sr(e){nt.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new We(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vr,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}sr.prototype=Object.create(nt.prototype);sr.prototype.constructor=sr;sr.prototype.isMeshToonMaterial=!0;sr.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function lr(e){nt.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vr,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}lr.prototype=Object.create(nt.prototype);lr.prototype.constructor=lr;lr.prototype.isMeshNormalMaterial=!0;lr.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function cr(e){nt.call(this),this.type="MeshLambertMaterial",this.color=new We(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Xs,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}cr.prototype=Object.create(nt.prototype);cr.prototype.constructor=cr;cr.prototype.isMeshLambertMaterial=!0;cr.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function ur(e){nt.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new We(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vr,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}ur.prototype=Object.create(nt.prototype);ur.prototype.constructor=ur;ur.prototype.isMeshMatcapMaterial=!0;ur.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function dr(e){Ot.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}dr.prototype=Object.create(Ot.prototype);dr.prototype.constructor=dr;dr.prototype.isLineDashedMaterial=!0;dr.prototype.copy=function(e){return Ot.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var TT=Object.freeze({__proto__:null,ShadowMaterial:ar,SpriteMaterial:To,RawShaderMaterial:Yi,ShaderMaterial:Cn,PointsMaterial:ui,MeshPhysicalMaterial:Eo,MeshStandardMaterial:Ci,MeshPhongMaterial:Ao,MeshToonMaterial:sr,MeshNormalMaterial:lr,MeshLambertMaterial:cr,MeshDepthMaterial:wo,MeshDistanceMaterial:So,MeshBasicMaterial:jn,MeshMatcapMaterial:ur,LineDashedMaterial:dr,LineBasicMaterial:Ot,Material:nt});const Rt={arraySlice:function(e,t,n){return Rt.isTypedArray(e)?new e.constructor(e.subarray(t,n!==void 0?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:typeof t.BYTES_PER_ELEMENT=="number"?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(o,r){return e[o]-e[r]}const n=e.length,i=new Array(n);for(let o=0;o!==n;++o)i[o]=o;return i.sort(t),i},sortedArray:function(e,t,n){const i=e.length,o=new e.constructor(i);for(let r=0,a=0;a!==i;++r){const s=n[r]*t;for(let l=0;l!==t;++l)o[a++]=e[s+l]}return o},flattenJSON:function(e,t,n,i){let o=1,r=e[0];for(;r!==void 0&&r[i]===void 0;)r=e[o++];if(r===void 0)return;let a=r[i];if(a!==void 0)if(Array.isArray(a))do a=r[i],a!==void 0&&(t.push(r.time),n.push.apply(n,a)),r=e[o++];while(r!==void 0);else if(a.toArray!==void 0)do a=r[i],a!==void 0&&(t.push(r.time),a.toArray(n,n.length)),r=e[o++];while(r!==void 0);else do a=r[i],a!==void 0&&(t.push(r.time),n.push(a)),r=e[o++];while(r!==void 0)},subclip:function(e,t,n,i,o=30){const r=e.clone();r.name=t;const a=[];for(let l=0;l<r.tracks.length;++l){const c=r.tracks[l],u=c.getValueSize(),d=[],f=[];for(let h=0;h<c.times.length;++h){const p=c.times[h]*o;if(!(p<n||p>=i)){d.push(c.times[h]);for(let y=0;y<u;++y)f.push(c.values[h*u+y])}}d.length!==0&&(c.times=Rt.convertArray(d,c.times.constructor),c.values=Rt.convertArray(f,c.values.constructor),a.push(c))}r.tracks=a;let s=1/0;for(let l=0;l<r.tracks.length;++l)s>r.tracks[l].times[0]&&(s=r.tracks[l].times[0]);for(let l=0;l<r.tracks.length;++l)r.tracks[l].shift(-1*s);return r.resetDuration(),r},makeClipAdditive:function(e,t=0,n=e,i=30){i<=0&&(i=30);const o=n.tracks.length,r=t/i;for(let a=0;a<o;++a){const s=n.tracks[a],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const c=e.tracks.find(function(g){return g.name===s.name&&g.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let f=0;const h=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);const p=s.times.length-1;let y;if(r<=s.times[0]){const g=u,m=d-u;y=Rt.arraySlice(s.values,g,m)}else if(r>=s.times[p]){const g=p*d+u,m=g+d-u;y=Rt.arraySlice(s.values,g,m)}else{const g=s.createInterpolant(),m=u,_=d-u;g.evaluate(r),y=Rt.arraySlice(g.resultBuffer,m,_)}l==="quaternion"&&new mn().fromArray(y).normalize().conjugate().toArray(y);const b=c.times.length;for(let g=0;g<b;++g){const m=g*h+f;if(l==="quaternion")mn.multiplyQuaternionsFlat(c.values,m,y,0,c.values,m);else{const _=h-f*2;for(let x=0;x<_;++x)c.values[m+x]-=y[x]}}}return e.blendMode=Hh,e}};function qn(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n}Object.assign(qn.prototype,{evaluate:function(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],o=t[n-1];e:{t:{let r;n:{i:if(!(e<i)){for(let a=n+2;;){if(i===void 0){if(e<o)break i;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,o)}if(n===a)break;if(o=i,i=t[++n],e<i)break t}r=t.length;break n}if(!(e>=o)){const a=t[1];e<a&&(n=2,o=a);for(let s=n-2;;){if(o===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===s)break;if(i=o,o=t[--n-1],e>=o)break t}r=n,n=0;break n}break e}for(;n<r;){const a=n+r>>>1;e<t[a]?r=a:n=a+1}if(i=t[n],o=t[n-1],o===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,o,e)}this._cachedIndex=n,this.intervalChanged_(n,o,i)}return this.interpolate_(n,o,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,o=e*i;for(let r=0;r!==i;++r)t[r]=n[o+r];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}});Object.assign(qn.prototype,{beforeStart_:qn.prototype.copySampleValue_,afterEnd_:qn.prototype.copySampleValue_});function Ic(e,t,n,i){qn.call(this,e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}Ic.prototype=Object.assign(Object.create(qn.prototype),{constructor:Ic,DefaultSettings_:{endingStart:Qo,endingEnd:Qo},intervalChanged_:function(e,t,n){const i=this.parameterPositions;let o=e-2,r=e+1,a=i[o],s=i[r];if(a===void 0)switch(this.getSettings_().endingStart){case Yo:o=e,a=2*t-n;break;case _s:o=i.length-2,a=t+i[o]-i[o+1];break;default:o=e,a=n}if(s===void 0)switch(this.getSettings_().endingEnd){case Yo:r=e,s=2*n-t;break;case _s:r=1,s=n+i[1]-i[0];break;default:r=e-1,s=t}const l=(n-t)*.5,c=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(s-n),this._offsetPrev=o*c,this._offsetNext=r*c},interpolate_:function(e,t,n,i){const o=this.resultBuffer,r=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,f=this._weightNext,h=(n-t)/(i-t),p=h*h,y=p*h,b=-d*y+2*d*p-d*h,g=(1+d)*y+(-1.5-2*d)*p+(-.5+d)*h+1,m=(-1-f)*y+(1.5+f)*p+.5*h,_=f*y-f*p;for(let x=0;x!==a;++x)o[x]=b*r[c+x]+g*r[l+x]+m*r[s+x]+_*r[u+x];return o}});function Vs(e,t,n,i){qn.call(this,e,t,n,i)}Vs.prototype=Object.assign(Object.create(qn.prototype),{constructor:Vs,interpolate_:function(e,t,n,i){const o=this.resultBuffer,r=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=(n-t)/(i-t),u=1-c;for(let d=0;d!==a;++d)o[d]=r[l+d]*u+r[s+d]*c;return o}});function Fc(e,t,n,i){qn.call(this,e,t,n,i)}Fc.prototype=Object.assign(Object.create(qn.prototype),{constructor:Fc,interpolate_:function(e){return this.copySampleValue_(e-1)}});function un(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Rt.convertArray(t,this.TimeBufferType),this.values=Rt.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}Object.assign(un,{toJSON:function(e){const t=e.constructor;let n;if(t.toJSON!==void 0)n=t.toJSON(e);else{n={name:e.name,times:Rt.convertArray(e.times,Array),values:Rt.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}});Object.assign(un.prototype,{constructor:un,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:cs,InterpolantFactoryMethodDiscrete:function(e){return new Fc(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Vs(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Ic(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){let t;switch(e){case xs:t=this.InterpolantFactoryMethodDiscrete;break;case cs:t=this.InterpolantFactoryMethodLinear;break;case bc:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return xs;case this.InterpolantFactoryMethodLinear:return cs;case this.InterpolantFactoryMethodSmooth:return bc}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(e!==0){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this},scale:function(e){if(e!==1){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this},trim:function(e,t){const n=this.times,i=n.length;let o=0,r=i-1;for(;o!==i&&n[o]<e;)++o;for(;r!==-1&&n[r]>t;)--r;if(++r,o!==0||r!==i){o>=r&&(r=Math.max(r,1),o=r-1);const a=this.getValueSize();this.times=Rt.arraySlice(n,o,r),this.values=Rt.arraySlice(this.values,o*a,r*a)}return this},validate:function(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,o=n.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let r=null;for(let a=0;a!==o;a++){const s=n[a];if(typeof s=="number"&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),e=!1;break}if(r!==null&&r>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,r),e=!1;break}r=s}if(i!==void 0&&Rt.isTypedArray(i))for(let a=0,s=i.length;a!==s;++a){const l=i[a];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,l),e=!1;break}}return e},optimize:function(){const e=Rt.arraySlice(this.times),t=Rt.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===bc,o=e.length-1;let r=1;for(let a=1;a<o;++a){let s=!1;const l=e[a],c=e[a+1];if(l!==c&&(a!==1||l!==l[0]))if(i)s=!0;else{const u=a*n,d=u-n,f=u+n;for(let h=0;h!==n;++h){const p=t[u+h];if(p!==t[d+h]||p!==t[f+h]){s=!0;break}}}if(s){if(a!==r){e[r]=e[a];const u=a*n,d=r*n;for(let f=0;f!==n;++f)t[d+f]=t[u+f]}++r}}if(o>0){e[r]=e[o];for(let a=o*n,s=r*n,l=0;l!==n;++l)t[s+l]=t[a+l];++r}return r!==e.length?(this.times=Rt.arraySlice(e,0,r),this.values=Rt.arraySlice(t,0,r*n)):(this.times=e,this.values=t),this},clone:function(){const e=Rt.arraySlice(this.times,0),t=Rt.arraySlice(this.values,0),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}});function Oc(e,t,n){un.call(this,e,t,n)}Oc.prototype=Object.assign(Object.create(un.prototype),{constructor:Oc,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:xs,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function Nc(e,t,n,i){un.call(this,e,t,n,i)}Nc.prototype=Object.assign(Object.create(un.prototype),{constructor:Nc,ValueTypeName:"color"});function ba(e,t,n,i){un.call(this,e,t,n,i)}ba.prototype=Object.assign(Object.create(un.prototype),{constructor:ba,ValueTypeName:"number"});function Dc(e,t,n,i){qn.call(this,e,t,n,i)}Dc.prototype=Object.assign(Object.create(qn.prototype),{constructor:Dc,interpolate_:function(e,t,n,i){const o=this.resultBuffer,r=this.sampleValues,a=this.valueSize,s=(n-t)/(i-t);let l=e*a;for(let c=l+a;l!==c;l+=4)mn.slerpFlat(o,0,r,l-a,r,l,s);return o}});function Hs(e,t,n,i){un.call(this,e,t,n,i)}Hs.prototype=Object.assign(Object.create(un.prototype),{constructor:Hs,ValueTypeName:"quaternion",DefaultInterpolation:cs,InterpolantFactoryMethodLinear:function(e){return new Dc(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0});function zc(e,t,n,i){un.call(this,e,t,n,i)}zc.prototype=Object.assign(Object.create(un.prototype),{constructor:zc,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:xs,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function xa(e,t,n,i){un.call(this,e,t,n,i)}xa.prototype=Object.assign(Object.create(un.prototype),{constructor:xa,ValueTypeName:"vector"});function Fn(e,t=-1,n,i=gu){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=it.generateUUID(),this.duration<0&&this.resetDuration()}function CT(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ba;case"vector":case"vector2":case"vector3":case"vector4":return xa;case"color":return Nc;case"quaternion":return Hs;case"bool":case"boolean":return Oc;case"string":return zc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function ET(e){if(e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=CT(e.type);if(e.times===void 0){const n=[],i=[];Rt.flattenJSON(e.keys,n,i,"value"),e.times=n,e.values=i}return t.parse!==void 0?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(Fn,{parse:function(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let r=0,a=n.length;r!==a;++r)t.push(ET(n[r]).scale(i));const o=new Fn(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o},toJSON:function(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,r=n.length;o!==r;++o)t.push(un.toJSON(n[o]));return i},CreateFromMorphTargetSequence:function(e,t,n,i){const o=t.length,r=[];for(let a=0;a<o;a++){let s=[],l=[];s.push((a+o-1)%o,a,(a+1)%o),l.push(0,1,0);const c=Rt.getKeyframeOrder(s);s=Rt.sortedArray(s,1,c),l=Rt.sortedArray(l,1,c),!i&&s[0]===0&&(s.push(o),l.push(l[0])),r.push(new ba(".morphTargetInfluences["+t[a].name+"]",s,l).scale(1/n))}return new Fn(e,-1,r)},findByName:function(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){const i={},o=/^([\w-]*?)([\d]+)$/;for(let a=0,s=e.length;a<s;a++){const l=e[a],c=l.name.match(o);if(c&&c.length>1){const u=c[1];let d=i[u];d||(i[u]=d=[]),d.push(l)}}const r=[];for(const a in i)r.push(Fn.CreateFromMorphTargetSequence(a,i[a],t,n));return r},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(u,d,f,h,p){if(f.length!==0){const y=[],b=[];Rt.flattenJSON(f,y,b,h),y.length!==0&&p.push(new u(d,y,b))}},i=[],o=e.name||"default",r=e.fps||30,a=e.blendMode;let s=e.length||-1;const l=e.hierarchy||[];for(let u=0;u<l.length;u++){const d=l[u].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const f={};let h;for(h=0;h<d.length;h++)if(d[h].morphTargets)for(let p=0;p<d[h].morphTargets.length;p++)f[d[h].morphTargets[p]]=-1;for(const p in f){const y=[],b=[];for(let g=0;g!==d[h].morphTargets.length;++g){const m=d[h];y.push(m.time),b.push(m.morphTarget===p?1:0)}i.push(new ba(".morphTargetInfluence["+p+"]",y,b))}s=f.length*(r||1)}else{const f=".bones["+t[u].name+"]";n(xa,f+".position",d,"pos",i),n(Hs,f+".quaternion",d,"rot",i),n(xa,f+".scale",d,"scl",i)}}return i.length===0?null:new Fn(o,s,i,a)}});Object.assign(Fn.prototype,{resetDuration:function(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const o=this.tracks[n];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this},trim:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new Fn(this.name,this.duration,e,this.blendMode)},toJSON:function(){return Fn.toJSON(this)}});const hr={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function df(e,t,n){const i=this;let o=!1,r=0,a=0,s;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(c){a++,o===!1&&i.onStart!==void 0&&i.onStart(c,r,a),o=!0},this.itemEnd=function(c){r++,i.onProgress!==void 0&&i.onProgress(c,r,a),r===a&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return s?s(c):c},this.setURLModifier=function(c){return s=c,this},this.addHandler=function(c,u){return l.push(c,u),this},this.removeHandler=function(c){const u=l.indexOf(c);return u!==-1&&l.splice(u,2),this},this.getHandler=function(c){for(let u=0,d=l.length;u<d;u+=2){const f=l[u],h=l[u+1];if(f.global&&(f.lastIndex=0),f.test(c))return h}return null}}const dy=new df;function bt(e){this.manager=e!==void 0?e:dy,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(bt.prototype,{load:function(){},loadAsync:function(e,t){const n=this;return new Promise(function(i,o){n.load(e,i,t,o)})},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});const oi={};function Xn(e){bt.call(this,e)}Xn.prototype=Object.assign(Object.create(bt.prototype),{constructor:Xn,load:function(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,r=hr.get(e);if(r!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(r),o.manager.itemEnd(e)},0),r;if(oi[e]!==void 0){oi[e].push({onLoad:t,onProgress:n,onError:i});return}const a=/^data:(.*?)(;base64)?,(.*)$/,s=e.match(a);let l;if(s){const c=s[1],u=!!s[2];let d=s[3];d=decodeURIComponent(d),u&&(d=atob(d));try{let f;const h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":const p=new Uint8Array(d.length);for(let b=0;b<d.length;b++)p[b]=d.charCodeAt(b);h==="blob"?f=new Blob([p.buffer],{type:c}):f=p.buffer;break;case"document":f=new DOMParser().parseFromString(d,c);break;case"json":f=JSON.parse(d);break;default:f=d;break}setTimeout(function(){t&&t(f),o.manager.itemEnd(e)},0)}catch(f){setTimeout(function(){i&&i(f),o.manager.itemError(e),o.manager.itemEnd(e)},0)}}else{oi[e]=[],oi[e].push({onLoad:t,onProgress:n,onError:i}),l=new XMLHttpRequest,l.open("GET",e,!0),l.addEventListener("load",function(c){const u=this.response,d=oi[e];if(delete oi[e],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),hr.add(e,u);for(let f=0,h=d.length;f<h;f++){const p=d[f];p.onLoad&&p.onLoad(u)}o.manager.itemEnd(e)}else{for(let f=0,h=d.length;f<h;f++){const p=d[f];p.onError&&p.onError(c)}o.manager.itemError(e),o.manager.itemEnd(e)}},!1),l.addEventListener("progress",function(c){const u=oi[e];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onProgress&&h.onProgress(c)}},!1),l.addEventListener("error",function(c){const u=oi[e];delete oi[e];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onError&&h.onError(c)}o.manager.itemError(e),o.manager.itemEnd(e)},!1),l.addEventListener("abort",function(c){const u=oi[e];delete oi[e];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onError&&h.onError(c)}o.manager.itemError(e),o.manager.itemEnd(e)},!1),this.responseType!==void 0&&(l.responseType=this.responseType),this.withCredentials!==void 0&&(l.withCredentials=this.withCredentials),l.overrideMimeType&&l.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(const c in this.requestHeader)l.setRequestHeader(c,this.requestHeader[c]);l.send(null)}return o.manager.itemStart(e),l},setResponseType:function(e){return this.responseType=e,this},setMimeType:function(e){return this.mimeType=e,this}});function sh(e){bt.call(this,e)}sh.prototype=Object.assign(Object.create(bt.prototype),{constructor:sh,load:function(e,t,n,i){const o=this,r=new Xn(o.manager);r.setPath(o.path),r.setRequestHeader(o.requestHeader),r.setWithCredentials(o.withCredentials),r.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(s){i?i(s):console.error(s),o.manager.itemError(e)}},n,i)},parse:function(e){const t=[];for(let n=0;n<e.length;n++){const i=Fn.parse(e[n]);t.push(i)}return t}});function lh(e){bt.call(this,e)}lh.prototype=Object.assign(Object.create(bt.prototype),{constructor:lh,load:function(e,t,n,i){const o=this,r=[],a=new ga,s=new Xn(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(o.withCredentials);let l=0;function c(u){s.load(e[u],function(d){const f=o.parse(d,!0);r[u]={width:f.width,height:f.height,format:f.format,mipmaps:f.mipmaps},l+=1,l===6&&(f.mipmapCount===1&&(a.minFilter=nn),a.image=r,a.format=f.format,a.needsUpdate=!0,t&&t(a))},n,i)}if(Array.isArray(e))for(let u=0,d=e.length;u<d;++u)c(u);else s.load(e,function(u){const d=o.parse(u,!0);if(d.isCubemap){const f=d.mipmaps.length/d.mipmapCount;for(let h=0;h<f;h++){r[h]={mipmaps:[]};for(let p=0;p<d.mipmapCount;p++)r[h].mipmaps.push(d.mipmaps[h*d.mipmapCount+p]),r[h].format=d.format,r[h].width=d.width,r[h].height=d.height}a.image=r}else a.image.width=d.width,a.image.height=d.height,a.mipmaps=d.mipmaps;d.mipmapCount===1&&(a.minFilter=nn),a.format=d.format,a.needsUpdate=!0,t&&t(a)},n,i);return a}});function _a(e){bt.call(this,e)}_a.prototype=Object.assign(Object.create(bt.prototype),{constructor:_a,load:function(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,r=hr.get(e);if(r!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(r),o.manager.itemEnd(e)},0),r;const a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1),hr.add(e,this),t&&t(this),o.manager.itemEnd(e)}function l(c){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1),i&&i(c),o.manager.itemError(e),o.manager.itemEnd(e)}return a.addEventListener("load",s,!1),a.addEventListener("error",l,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}});function qc(e){bt.call(this,e)}qc.prototype=Object.assign(Object.create(bt.prototype),{constructor:qc,load:function(e,t,n,i){const o=new Ti,r=new _a(this.manager);r.setCrossOrigin(this.crossOrigin),r.setPath(this.path);let a=0;function s(l){r.load(e[l],function(c){o.images[l]=c,a++,a===6&&(o.needsUpdate=!0,t&&t(o))},void 0,i)}for(let l=0;l<e.length;++l)s(l);return o}});function Vc(e){bt.call(this,e)}Vc.prototype=Object.assign(Object.create(bt.prototype),{constructor:Vc,load:function(e,t,n,i){const o=this,r=new Qi,a=new Xn(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(o.withCredentials),a.load(e,function(s){const l=o.parse(s);!l||(l.image!==void 0?r.image=l.image:l.data!==void 0&&(r.image.width=l.width,r.image.height=l.height,r.image.data=l.data),r.wrapS=l.wrapS!==void 0?l.wrapS:wn,r.wrapT=l.wrapT!==void 0?l.wrapT:wn,r.magFilter=l.magFilter!==void 0?l.magFilter:nn,r.minFilter=l.minFilter!==void 0?l.minFilter:nn,r.anisotropy=l.anisotropy!==void 0?l.anisotropy:1,l.format!==void 0&&(r.format=l.format),l.type!==void 0&&(r.type=l.type),l.mipmaps!==void 0&&(r.mipmaps=l.mipmaps,r.minFilter=La),l.mipmapCount===1&&(r.minFilter=nn),r.needsUpdate=!0,t&&t(r,l))},n,i),r}});function Hc(e){bt.call(this,e)}Hc.prototype=Object.assign(Object.create(bt.prototype),{constructor:Hc,load:function(e,t,n,i){const o=new Mt,r=new _a(this.manager);return r.setCrossOrigin(this.crossOrigin),r.setPath(this.path),r.load(e,function(a){o.image=a;const s=e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0;o.format=s?go:Dn,o.needsUpdate=!0,t!==void 0&&t(o)},n,i),o}});function Xe(){this.type="Curve",this.arcLengthDivisions=200}Object.assign(Xe.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){const e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),o=0;t.push(0);for(let r=1;r<=e;r++)n=this.getPoint(r/e),o+=n.distanceTo(i),t.push(o),i=n;return this.cacheArcLengths=t,t},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){const n=this.getLengths();let i=0;const o=n.length;let r;t?r=t:r=e*n[o-1];let a=0,s=o-1,l;for(;a<=s;)if(i=Math.floor(a+(s-a)/2),l=n[i]-r,l<0)a=i+1;else if(l>0)s=i-1;else{s=i;break}if(i=s,n[i]===r)return i/(o-1);const c=n[i],d=n[i+1]-c,f=(r-c)/d;return(i+f)/(o-1)},getTangent:function(e,t){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const r=this.getPoint(i),a=this.getPoint(o),s=t||(r.isVector2?new Ae:new H);return s.copy(a).sub(r).normalize(),s},getTangentAt:function(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)},computeFrenetFrames:function(e,t){const n=new H,i=[],o=[],r=[],a=new H,s=new lt;for(let f=0;f<=e;f++){const h=f/e;i[f]=this.getTangentAt(h,new H),i[f].normalize()}o[0]=new H,r[0]=new H;let l=Number.MAX_VALUE;const c=Math.abs(i[0].x),u=Math.abs(i[0].y),d=Math.abs(i[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),d<=l&&n.set(0,0,1),a.crossVectors(i[0],n).normalize(),o[0].crossVectors(i[0],a),r[0].crossVectors(i[0],o[0]);for(let f=1;f<=e;f++){if(o[f]=o[f-1].clone(),r[f]=r[f-1].clone(),a.crossVectors(i[f-1],i[f]),a.length()>Number.EPSILON){a.normalize();const h=Math.acos(it.clamp(i[f-1].dot(i[f]),-1,1));o[f].applyMatrix4(s.makeRotationAxis(a,h))}r[f].crossVectors(i[f],o[f])}if(t===!0){let f=Math.acos(it.clamp(o[0].dot(o[e]),-1,1));f/=e,i[0].dot(a.crossVectors(o[0],o[e]))>0&&(f=-f);for(let h=1;h<=e;h++)o[h].applyMatrix4(s.makeRotationAxis(i[h],f*h)),r[h].crossVectors(i[h],o[h])}return{tangents:i,normals:o,binormals:r}},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}});function Un(e,t,n,i,o,r,a,s){Xe.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=o||0,this.aEndAngle=r||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}Un.prototype=Object.create(Xe.prototype);Un.prototype.constructor=Un;Un.prototype.isEllipseCurve=!0;Un.prototype.getPoint=function(e,t){const n=t||new Ae,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const r=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(r?o=0:o=i),this.aClockwise===!0&&!r&&(o===i?o=-i:o=o-i);const a=this.aStartAngle+e*o;let s=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),u=Math.sin(this.aRotation),d=s-this.aX,f=l-this.aY;s=d*c-f*u+this.aX,l=d*u+f*c+this.aY}return n.set(s,l)};Un.prototype.copy=function(e){return Xe.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};Un.prototype.toJSON=function(){const e=Xe.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e};Un.prototype.fromJSON=function(e){return Xe.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};function wa(e,t,n,i,o,r){Un.call(this,e,t,n,n,i,o,r),this.type="ArcCurve"}wa.prototype=Object.create(Un.prototype);wa.prototype.constructor=wa;wa.prototype.isArcCurve=!0;function hf(){let e=0,t=0,n=0,i=0;function o(r,a,s,l){e=r,t=s,n=-3*r+3*a-2*s-l,i=2*r-2*a+s+l}return{initCatmullRom:function(r,a,s,l,c){o(a,s,c*(s-r),c*(l-a))},initNonuniformCatmullRom:function(r,a,s,l,c,u,d){let f=(a-r)/c-(s-r)/(c+u)+(s-a)/u,h=(s-a)/u-(l-a)/(u+d)+(l-s)/d;f*=u,h*=u,o(a,s,f,h)},calc:function(r){const a=r*r,s=a*r;return e+t*r+n*a+i*s}}}const Ql=new H,cd=new hf,ud=new hf,dd=new hf;function yn(e=[],t=!1,n="centripetal",i=.5){Xe.call(this),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}yn.prototype=Object.create(Xe.prototype);yn.prototype.constructor=yn;yn.prototype.isCatmullRomCurve3=!0;yn.prototype.getPoint=function(e,t=new H){const n=t,i=this.points,o=i.length,r=(o-(this.closed?0:1))*e;let a=Math.floor(r),s=r-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/o)+1)*o:s===0&&a===o-1&&(a=o-2,s=1);let l,c;this.closed||a>0?l=i[(a-1)%o]:(Ql.subVectors(i[0],i[1]).add(i[0]),l=Ql);const u=i[a%o],d=i[(a+1)%o];if(this.closed||a+2<o?c=i[(a+2)%o]:(Ql.subVectors(i[o-1],i[o-2]).add(i[o-1]),c=Ql),this.curveType==="centripetal"||this.curveType==="chordal"){const f=this.curveType==="chordal"?.5:.25;let h=Math.pow(l.distanceToSquared(u),f),p=Math.pow(u.distanceToSquared(d),f),y=Math.pow(d.distanceToSquared(c),f);p<1e-4&&(p=1),h<1e-4&&(h=p),y<1e-4&&(y=p),cd.initNonuniformCatmullRom(l.x,u.x,d.x,c.x,h,p,y),ud.initNonuniformCatmullRom(l.y,u.y,d.y,c.y,h,p,y),dd.initNonuniformCatmullRom(l.z,u.z,d.z,c.z,h,p,y)}else this.curveType==="catmullrom"&&(cd.initCatmullRom(l.x,u.x,d.x,c.x,this.tension),ud.initCatmullRom(l.y,u.y,d.y,c.y,this.tension),dd.initCatmullRom(l.z,u.z,d.z,c.z,this.tension));return n.set(cd.calc(s),ud.calc(s),dd.calc(s)),n};yn.prototype.copy=function(e){Xe.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};yn.prototype.toJSON=function(){const e=Xe.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e};yn.prototype.fromJSON=function(e){Xe.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new H().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};function Xp(e,t,n,i,o){const r=(i-t)*.5,a=(o-n)*.5,s=e*e,l=e*s;return(2*n-2*i+r+a)*l+(-3*n+3*i-2*r-a)*s+r*e+n}function AT(e,t){const n=1-e;return n*n*t}function LT(e,t){return 2*(1-e)*e*t}function PT(e,t){return e*e*t}function hs(e,t,n,i){return AT(e,t)+LT(e,n)+PT(e,i)}function RT(e,t){const n=1-e;return n*n*n*t}function kT(e,t){const n=1-e;return 3*n*n*e*t}function BT(e,t){return 3*(1-e)*e*e*t}function IT(e,t){return e*e*e*t}function fs(e,t,n,i,o){return RT(e,t)+kT(e,n)+BT(e,i)+IT(e,o)}function di(e=new Ae,t=new Ae,n=new Ae,i=new Ae){Xe.call(this),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}di.prototype=Object.create(Xe.prototype);di.prototype.constructor=di;di.prototype.isCubicBezierCurve=!0;di.prototype.getPoint=function(e,t=new Ae){const n=t,i=this.v0,o=this.v1,r=this.v2,a=this.v3;return n.set(fs(e,i.x,o.x,r.x,a.x),fs(e,i.y,o.y,r.y,a.y)),n};di.prototype.copy=function(e){return Xe.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};di.prototype.toJSON=function(){const e=Xe.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};di.prototype.fromJSON=function(e){return Xe.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function Ei(e=new H,t=new H,n=new H,i=new H){Xe.call(this),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}Ei.prototype=Object.create(Xe.prototype);Ei.prototype.constructor=Ei;Ei.prototype.isCubicBezierCurve3=!0;Ei.prototype.getPoint=function(e,t=new H){const n=t,i=this.v0,o=this.v1,r=this.v2,a=this.v3;return n.set(fs(e,i.x,o.x,r.x,a.x),fs(e,i.y,o.y,r.y,a.y),fs(e,i.z,o.z,r.z,a.z)),n};Ei.prototype.copy=function(e){return Xe.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};Ei.prototype.toJSON=function(){const e=Xe.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};Ei.prototype.fromJSON=function(e){return Xe.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function Rn(e=new Ae,t=new Ae){Xe.call(this),this.type="LineCurve",this.v1=e,this.v2=t}Rn.prototype=Object.create(Xe.prototype);Rn.prototype.constructor=Rn;Rn.prototype.isLineCurve=!0;Rn.prototype.getPoint=function(e,t=new Ae){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};Rn.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};Rn.prototype.getTangent=function(e,t){const n=t||new Ae;return n.copy(this.v2).sub(this.v1).normalize(),n};Rn.prototype.copy=function(e){return Xe.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Rn.prototype.toJSON=function(){const e=Xe.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Rn.prototype.fromJSON=function(e){return Xe.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function hi(e=new H,t=new H){Xe.call(this),this.type="LineCurve3",this.v1=e,this.v2=t}hi.prototype=Object.create(Xe.prototype);hi.prototype.constructor=hi;hi.prototype.isLineCurve3=!0;hi.prototype.getPoint=function(e,t=new H){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};hi.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};hi.prototype.copy=function(e){return Xe.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};hi.prototype.toJSON=function(){const e=Xe.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};hi.prototype.fromJSON=function(e){return Xe.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function fi(e=new Ae,t=new Ae,n=new Ae){Xe.call(this),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}fi.prototype=Object.create(Xe.prototype);fi.prototype.constructor=fi;fi.prototype.isQuadraticBezierCurve=!0;fi.prototype.getPoint=function(e,t=new Ae){const n=t,i=this.v0,o=this.v1,r=this.v2;return n.set(hs(e,i.x,o.x,r.x),hs(e,i.y,o.y,r.y)),n};fi.prototype.copy=function(e){return Xe.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};fi.prototype.toJSON=function(){const e=Xe.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};fi.prototype.fromJSON=function(e){return Xe.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Ai(e=new H,t=new H,n=new H){Xe.call(this),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}Ai.prototype=Object.create(Xe.prototype);Ai.prototype.constructor=Ai;Ai.prototype.isQuadraticBezierCurve3=!0;Ai.prototype.getPoint=function(e,t=new H){const n=t,i=this.v0,o=this.v1,r=this.v2;return n.set(hs(e,i.x,o.x,r.x),hs(e,i.y,o.y,r.y),hs(e,i.z,o.z,r.z)),n};Ai.prototype.copy=function(e){return Xe.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Ai.prototype.toJSON=function(){const e=Xe.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Ai.prototype.fromJSON=function(e){return Xe.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function pi(e=[]){Xe.call(this),this.type="SplineCurve",this.points=e}pi.prototype=Object.create(Xe.prototype);pi.prototype.constructor=pi;pi.prototype.isSplineCurve=!0;pi.prototype.getPoint=function(e,t=new Ae){const n=t,i=this.points,o=(i.length-1)*e,r=Math.floor(o),a=o-r,s=i[r===0?r:r-1],l=i[r],c=i[r>i.length-2?i.length-1:r+1],u=i[r>i.length-3?i.length-1:r+2];return n.set(Xp(a,s.x,l.x,c.x,u.x),Xp(a,s.y,l.y,c.y,u.y)),n};pi.prototype.copy=function(e){Xe.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this};pi.prototype.toJSON=function(){const e=Xe.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e};pi.prototype.fromJSON=function(e){Xe.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new Ae().fromArray(i))}return this};var ch=Object.freeze({__proto__:null,ArcCurve:wa,CatmullRomCurve3:yn,CubicBezierCurve:di,CubicBezierCurve3:Ei,EllipseCurve:Un,LineCurve:Rn,LineCurve3:hi,QuadraticBezierCurve:fi,QuadraticBezierCurve3:Ai,SplineCurve:pi});function Ui(){Xe.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}Ui.prototype=Object.assign(Object.create(Xe.prototype),{constructor:Ui,add:function(e){this.curves.push(e)},closePath:function(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Rn(t,e))},getPoint:function(e){const t=e*this.getLength(),n=this.getCurveLengths();let i=0;for(;i<n.length;){if(n[i]>=t){const o=n[i]-t,r=this.curves[i],a=r.getLength(),s=a===0?0:1-o/a;return r.getPointAt(s)}i++}return null},getLength:function(){const e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e=12){const t=[];let n;for(let i=0,o=this.curves;i<o.length;i++){const r=o[i],a=r&&r.isEllipseCurve?e*2:r&&(r.isLineCurve||r.isLineCurve3)?1:r&&r.isSplineCurve?e*r.points.length:e,s=r.getPoints(a);for(let l=0;l<s.length;l++){const c=s[l];n&&n.equals(c)||(t.push(c),n=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t},copy:function(e){Xe.prototype.copy.call(this,e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){const e=Xe.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e},fromJSON:function(e){Xe.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(new ch[i.type]().fromJSON(i))}return this}});function si(e){Ui.call(this),this.type="Path",this.currentPoint=new Ae,e&&this.setFromPoints(e)}si.prototype=Object.assign(Object.create(Ui.prototype),{constructor:si,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){const n=new Rn(this.currentPoint.clone(),new Ae(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,i){const o=new fi(this.currentPoint.clone(),new Ae(e,t),new Ae(n,i));return this.curves.push(o),this.currentPoint.set(n,i),this},bezierCurveTo:function(e,t,n,i,o,r){const a=new di(this.currentPoint.clone(),new Ae(e,t),new Ae(n,i),new Ae(o,r));return this.curves.push(a),this.currentPoint.set(o,r),this},splineThru:function(e){const t=[this.currentPoint.clone()].concat(e),n=new pi(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,i,o,r){const a=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+a,t+s,n,i,o,r),this},absarc:function(e,t,n,i,o,r){return this.absellipse(e,t,n,n,i,o,r),this},ellipse:function(e,t,n,i,o,r,a,s){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,i,o,r,a,s),this},absellipse:function(e,t,n,i,o,r,a,s){const l=new Un(e,t,n,i,o,r,a,s);if(this.curves.length>0){const u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this},copy:function(e){return Ui.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){const e=Ui.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Ui.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}});function bo(e){si.call(this,e),this.uuid=it.generateUUID(),this.type="Shape",this.holes=[]}bo.prototype=Object.assign(Object.create(si.prototype),{constructor:bo,getPointsHoles:function(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){si.prototype.copy.call(this,e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(i.clone())}return this},toJSON:function(){const e=si.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e},fromJSON:function(e){si.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(new si().fromJSON(i))}return this}});function Pt(e,t=1){Qe.call(this),this.type="Light",this.color=new We(e),this.intensity=t}Pt.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Pt,isLight:!0,copy:function(e){return Qe.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){const t=Qe.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}});function Uc(e,t,n){Pt.call(this,e,n),this.type="HemisphereLight",this.position.copy(Qe.DefaultUp),this.updateMatrix(),this.groundColor=new We(t)}Uc.prototype=Object.assign(Object.create(Pt.prototype),{constructor:Uc,isHemisphereLight:!0,copy:function(e){return Pt.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}});function Xi(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Ae(512,512),this.map=null,this.mapPass=null,this.matrix=new lt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new il,this._frameExtents=new Ae(1,1),this._viewportCount=1,this._viewports=[new _t(0,0,1,1)]}Object.assign(Xi.prototype,{_projScreenMatrix:new lt,_lightPositionWorld:new H,_lookTarget:new H,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){const t=this.camera,n=this.matrix,i=this._projScreenMatrix,o=this._lookTarget,r=this._lightPositionWorld;r.setFromMatrixPosition(e.matrixWorld),t.position.copy(r),o.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(o),t.updateMatrixWorld(),i.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}});function uh(){Xi.call(this,new Qt(50,1,.5,500)),this.focus=1}uh.prototype=Object.assign(Object.create(Xi.prototype),{constructor:uh,isSpotLightShadow:!0,updateMatrices:function(e){const t=this.camera,n=it.RAD2DEG*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(n!==t.fov||i!==t.aspect||o!==t.far)&&(t.fov=n,t.aspect=i,t.far=o,t.updateProjectionMatrix()),Xi.prototype.updateMatrices.call(this,e)}});function Gc(e,t,n,i,o,r){Pt.call(this,e,t),this.type="SpotLight",this.position.copy(Qe.DefaultUp),this.updateMatrix(),this.target=new Qe,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(a){this.intensity=a/Math.PI}}),this.distance=n!==void 0?n:0,this.angle=i!==void 0?i:Math.PI/3,this.penumbra=o!==void 0?o:0,this.decay=r!==void 0?r:1,this.shadow=new uh}Gc.prototype=Object.assign(Object.create(Pt.prototype),{constructor:Gc,isSpotLight:!0,copy:function(e){return Pt.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function dh(){Xi.call(this,new Qt(90,1,.5,500)),this._frameExtents=new Ae(4,2),this._viewportCount=6,this._viewports=[new _t(2,1,1,1),new _t(0,1,1,1),new _t(3,1,1,1),new _t(1,1,1,1),new _t(3,0,1,1),new _t(1,0,1,1)],this._cubeDirections=[new H(1,0,0),new H(-1,0,0),new H(0,0,1),new H(0,0,-1),new H(0,1,0),new H(0,-1,0)],this._cubeUps=[new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,0,1),new H(0,0,-1)]}dh.prototype=Object.assign(Object.create(Xi.prototype),{constructor:dh,isPointLightShadow:!0,updateMatrices:function(e,t=0){const n=this.camera,i=this.matrix,o=this._lightPositionWorld,r=this._lookTarget,a=this._projScreenMatrix;o.setFromMatrixPosition(e.matrixWorld),n.position.copy(o),r.copy(n.position),r.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(r),n.updateMatrixWorld(),i.makeTranslation(-o.x,-o.y,-o.z),a.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(a)}});function Wc(e,t,n,i){Pt.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(o){this.intensity=o/(4*Math.PI)}}),this.distance=n!==void 0?n:0,this.decay=i!==void 0?i:1,this.shadow=new dh}Wc.prototype=Object.assign(Object.create(Pt.prototype),{constructor:Wc,isPointLight:!0,copy:function(e){return Pt.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}});function Sa(e=-1,t=1,n=1,i=-1,o=.1,r=2e3){Mi.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=o,this.far=r,this.updateProjectionMatrix()}Sa.prototype=Object.assign(Object.create(Mi.prototype),{constructor:Sa,isOrthographicCamera:!0,copy:function(e,t){return Mi.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,i,o,r){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=o,this.view.height=r,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=n-e,r=n+e,a=i+t,s=i-t;if(this.view!==null&&this.view.enabled){const l=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=l*this.view.offsetX,r=o+l*this.view.width,a-=c*this.view.offsetY,s=a-c*this.view.height}this.projectionMatrix.makeOrthographic(o,r,a,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(e){const t=Qe.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}});function hh(){Xi.call(this,new Sa(-5,5,5,-5,.5,500))}hh.prototype=Object.assign(Object.create(Xi.prototype),{constructor:hh,isDirectionalLightShadow:!0,updateMatrices:function(e){Xi.prototype.updateMatrices.call(this,e)}});function $c(e,t){Pt.call(this,e,t),this.type="DirectionalLight",this.position.copy(Qe.DefaultUp),this.updateMatrix(),this.target=new Qe,this.shadow=new hh}$c.prototype=Object.assign(Object.create(Pt.prototype),{constructor:$c,isDirectionalLight:!0,copy:function(e){return Pt.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function jc(e,t){Pt.call(this,e,t),this.type="AmbientLight"}jc.prototype=Object.assign(Object.create(Pt.prototype),{constructor:jc,isAmbientLight:!0});function Qc(e,t,n,i){Pt.call(this,e,t),this.type="RectAreaLight",this.width=n!==void 0?n:10,this.height=i!==void 0?i:10}Qc.prototype=Object.assign(Object.create(Pt.prototype),{constructor:Qc,isRectAreaLight:!0,copy:function(e){return Pt.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){const t=Pt.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});class hy{constructor(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new H)}set(t){for(let n=0;n<9;n++)this.coefficients[n].copy(t[n]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,n){const i=t.x,o=t.y,r=t.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*o),n.addScaledVector(a[2],.488603*r),n.addScaledVector(a[3],.488603*i),n.addScaledVector(a[4],1.092548*(i*o)),n.addScaledVector(a[5],1.092548*(o*r)),n.addScaledVector(a[6],.315392*(3*r*r-1)),n.addScaledVector(a[7],1.092548*(i*r)),n.addScaledVector(a[8],.546274*(i*i-o*o)),n}getIrradianceAt(t,n){const i=t.x,o=t.y,r=t.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*o),n.addScaledVector(a[2],2*.511664*r),n.addScaledVector(a[3],2*.511664*i),n.addScaledVector(a[4],2*.429043*i*o),n.addScaledVector(a[5],2*.429043*o*r),n.addScaledVector(a[6],.743125*r*r-.247708),n.addScaledVector(a[7],2*.429043*i*r),n.addScaledVector(a[8],.429043*(i*i-o*o)),n}add(t){for(let n=0;n<9;n++)this.coefficients[n].add(t.coefficients[n]);return this}addScaledSH(t,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],n);return this}scale(t){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(t);return this}lerp(t,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],n);return this}equals(t){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(t.coefficients[n]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,n=0){const i=this.coefficients;for(let o=0;o<9;o++)i[o].fromArray(t,n+o*3);return this}toArray(t=[],n=0){const i=this.coefficients;for(let o=0;o<9;o++)i[o].toArray(t,n+o*3);return t}static getBasisAt(t,n){const i=t.x,o=t.y,r=t.z;n[0]=.282095,n[1]=.488603*o,n[2]=.488603*r,n[3]=.488603*i,n[4]=1.092548*i*o,n[5]=1.092548*o*r,n[6]=.315392*(3*r*r-1),n[7]=1.092548*i*r,n[8]=.546274*(i*i-o*o)}}function $n(e,t){Pt.call(this,void 0,t),this.type="LightProbe",this.sh=e!==void 0?e:new hy}$n.prototype=Object.assign(Object.create(Pt.prototype),{constructor:$n,isLightProbe:!0,copy:function(e){return Pt.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){const t=Pt.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}});function Yc(e){bt.call(this,e),this.textures={}}Yc.prototype=Object.assign(Object.create(bt.prototype),{constructor:Yc,load:function(e,t,n,i){const o=this,r=new Xn(o.manager);r.setPath(o.path),r.setRequestHeader(o.requestHeader),r.setWithCredentials(o.withCredentials),r.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(s){i?i(s):console.error(s),o.manager.itemError(e)}},n,i)},parse:function(e){const t=this.textures;function n(o){return t[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),t[o]}const i=new TT[e.type];if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=new We().setHex(e.sheen)),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.skinning!==void 0&&(i.skinning=e.skinning),e.morphTargets!==void 0&&(i.morphTargets=e.morphTargets),e.morphNormals!==void 0&&(i.morphNormals=e.morphNormals),e.dithering!==void 0&&(i.dithering=e.dithering),e.vertexTangents!==void 0&&(i.vertexTangents=e.vertexTangents),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const r=e.uniforms[o];switch(i.uniforms[o]={},r.type){case"t":i.uniforms[o].value=n(r.value);break;case"c":i.uniforms[o].value=new We().setHex(r.value);break;case"v2":i.uniforms[o].value=new Ae().fromArray(r.value);break;case"v3":i.uniforms[o].value=new H().fromArray(r.value);break;case"v4":i.uniforms[o].value=new _t().fromArray(r.value);break;case"m3":i.uniforms[o].value=new Mn().fromArray(r.value);break;case"m4":i.uniforms[o].value=new lt().fromArray(r.value);break;default:i.uniforms[o].value=r.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=n(e.map)),e.matcap!==void 0&&(i.matcap=n(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new Ae().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=n(e.specularMap)),e.envMap!==void 0&&(i.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ae().fromArray(e.clearcoatNormalScale)),e.transmission!==void 0&&(i.transmission=e.transmission),e.transmissionMap!==void 0&&(i.transmissionMap=n(e.transmissionMap)),i},setTextures:function(e){return this.textures=e,this}});const ff={decodeText:function(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}},extractUrlBase:function(e){const t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}};function Us(){Je.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}Us.prototype=Object.assign(Object.create(Je.prototype),{constructor:Us,isInstancedBufferGeometry:!0,copy:function(e){return Je.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const e=Je.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}});function Xc(e,t,n,i){typeof n=="number"&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),tt.call(this,e,t,n),this.meshPerAttribute=i||1}Xc.prototype=Object.assign(Object.create(tt.prototype),{constructor:Xc,isInstancedBufferAttribute:!0,copy:function(e){return tt.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){const e=tt.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}});function Zc(e){bt.call(this,e)}Zc.prototype=Object.assign(Object.create(bt.prototype),{constructor:Zc,load:function(e,t,n,i){const o=this,r=new Xn(o.manager);r.setPath(o.path),r.setRequestHeader(o.requestHeader),r.setWithCredentials(o.withCredentials),r.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(s){i?i(s):console.error(s),o.manager.itemError(e)}},n,i)},parse:function(e){const t={},n={};function i(f,h){if(t[h]!==void 0)return t[h];const y=f.interleavedBuffers[h],b=o(f,y.buffer),g=is(y.type,b),m=new Nn(g,y.stride);return m.uuid=y.uuid,t[h]=m,m}function o(f,h){if(n[h]!==void 0)return n[h];const y=f.arrayBuffers[h],b=new Uint32Array(y).buffer;return n[h]=b,b}const r=e.isInstancedBufferGeometry?new Us:new Je,a=e.data.index;if(a!==void 0){const f=is(a.type,a.array);r.setIndex(new tt(f,1))}const s=e.data.attributes;for(const f in s){const h=s[f];let p;if(h.isInterleavedBufferAttribute){const y=i(e.data,h.data);p=new Mo(y,h.itemSize,h.offset,h.normalized)}else{const y=is(h.type,h.array),b=h.isInstancedBufferAttribute?Xc:tt;p=new b(y,h.itemSize,h.normalized)}h.name!==void 0&&(p.name=h.name),r.setAttribute(f,p)}const l=e.data.morphAttributes;if(l)for(const f in l){const h=l[f],p=[];for(let y=0,b=h.length;y<b;y++){const g=h[y];let m;if(g.isInterleavedBufferAttribute){const _=i(e.data,g.data);m=new Mo(_,g.itemSize,g.offset,g.normalized)}else{const _=is(g.type,g.array);m=new tt(_,g.itemSize,g.normalized)}g.name!==void 0&&(m.name=g.name),p.push(m)}r.morphAttributes[f]=p}e.data.morphTargetsRelative&&(r.morphTargetsRelative=!0);const u=e.data.groups||e.data.drawcalls||e.data.offsets;if(u!==void 0)for(let f=0,h=u.length;f!==h;++f){const p=u[f];r.addGroup(p.start,p.count,p.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const f=new H;d.center!==void 0&&f.fromArray(d.center),r.boundingSphere=new Zi(f,d.radius)}return e.name&&(r.name=e.name),e.userData&&(r.userData=e.userData),r}});class FT extends bt{constructor(t){super(t)}load(t,n,i,o){const r=this,a=this.path===""?ff.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||a;const s=new Xn(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(t,function(l){let c=null;try{c=JSON.parse(l)}catch(d){o!==void 0&&o(d),console.error("THREE:ObjectLoader: Can't parse "+t+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+t);return}r.parse(c,n)},i,o)}parse(t,n){const i=this.parseAnimations(t.animations),o=this.parseShapes(t.shapes),r=this.parseGeometries(t.geometries,o),a=this.parseImages(t.images,function(){n!==void 0&&n(c)}),s=this.parseTextures(t.textures,a),l=this.parseMaterials(t.materials,s),c=this.parseObject(t.object,r,l,i),u=this.parseSkeletons(t.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let d=!1;for(const f in a)if(a[f]instanceof HTMLImageElement){d=!0;break}d===!1&&n(c)}return c}parseShapes(t){const n={};if(t!==void 0)for(let i=0,o=t.length;i<o;i++){const r=new bo().fromJSON(t[i]);n[r.uuid]=r}return n}parseSkeletons(t,n){const i={},o={};if(n.traverse(function(r){r.isBone&&(o[r.uuid]=r)}),t!==void 0)for(let r=0,a=t.length;r<a;r++){const s=new Is().fromJSON(t[r],o);i[s.uuid]=s}return i}parseGeometries(t,n){const i={};let o;if(t!==void 0){const r=new Zc;for(let a=0,s=t.length;a<s;a++){let l;const c=t[a];switch(c.type){case"PlaneGeometry":case"PlaneBufferGeometry":l=new _n[c.type](c.width,c.height,c.widthSegments,c.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":l=new _n[c.type](c.width,c.height,c.depth,c.widthSegments,c.heightSegments,c.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":l=new _n[c.type](c.radius,c.segments,c.thetaStart,c.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":l=new _n[c.type](c.radiusTop,c.radiusBottom,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":l=new _n[c.type](c.radius,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":l=new _n[c.type](c.radius,c.widthSegments,c.heightSegments,c.phiStart,c.phiLength,c.thetaStart,c.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":l=new _n[c.type](c.radius,c.detail);break;case"RingGeometry":case"RingBufferGeometry":l=new _n[c.type](c.innerRadius,c.outerRadius,c.thetaSegments,c.phiSegments,c.thetaStart,c.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":l=new _n[c.type](c.radius,c.tube,c.radialSegments,c.tubularSegments,c.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":l=new _n[c.type](c.radius,c.tube,c.tubularSegments,c.radialSegments,c.p,c.q);break;case"TubeGeometry":case"TubeBufferGeometry":l=new _n[c.type](new ch[c.path.type]().fromJSON(c.path),c.tubularSegments,c.radius,c.radialSegments,c.closed);break;case"LatheGeometry":case"LatheBufferGeometry":l=new _n[c.type](c.points,c.segments,c.phiStart,c.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":l=new _n[c.type](c.vertices,c.indices,c.radius,c.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":o=[];for(let d=0,f=c.shapes.length;d<f;d++){const h=n[c.shapes[d]];o.push(h)}l=new _n[c.type](o,c.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":o=[];for(let d=0,f=c.shapes.length;d<f;d++){const h=n[c.shapes[d]];o.push(h)}const u=c.options.extrudePath;u!==void 0&&(c.options.extrudePath=new ch[u.type]().fromJSON(u)),l=new _n[c.type](o,c.options);break;case"BufferGeometry":case"InstancedBufferGeometry":l=r.parse(c);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+c.type+'"');continue}l.uuid=c.uuid,c.name!==void 0&&(l.name=c.name),l.isBufferGeometry===!0&&c.userData!==void 0&&(l.userData=c.userData),i[c.uuid]=l}}return i}parseMaterials(t,n){const i={},o={};if(t!==void 0){const r=new Yc;r.setTextures(n);for(let a=0,s=t.length;a<s;a++){const l=t[a];if(l.type==="MultiMaterial"){const c=[];for(let u=0;u<l.materials.length;u++){const d=l.materials[u];i[d.uuid]===void 0&&(i[d.uuid]=r.parse(d)),c.push(i[d.uuid])}o[l.uuid]=c}else i[l.uuid]===void 0&&(i[l.uuid]=r.parse(l)),o[l.uuid]=i[l.uuid]}}return o}parseAnimations(t){const n={};if(t!==void 0)for(let i=0;i<t.length;i++){const o=t[i],r=Fn.parse(o);n[r.uuid]=r}return n}parseImages(t,n){const i=this,o={};let r;function a(l){return i.manager.itemStart(l),r.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return a(u)}else return l.data?{data:is(l.type,l.data),width:l.width,height:l.height}:null}if(t!==void 0&&t.length>0){const l=new df(n);r=new _a(l),r.setCrossOrigin(this.crossOrigin);for(let c=0,u=t.length;c<u;c++){const d=t[c],f=d.url;if(Array.isArray(f)){o[d.uuid]=[];for(let h=0,p=f.length;h<p;h++){const y=f[h],b=s(y);b!==null&&(b instanceof HTMLImageElement?o[d.uuid].push(b):o[d.uuid].push(new Qi(b.data,b.width,b.height)))}}else{const h=s(d.url);h!==null&&(o[d.uuid]=h)}}}return o}parseTextures(t,n){function i(r,a){return typeof r=="number"?r:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",r),a[r])}const o={};if(t!==void 0)for(let r=0,a=t.length;r<a;r++){const s=t[r];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),n[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);let l;const c=n[s.image];Array.isArray(c)?(l=new Ti(c),c.length===6&&(l.needsUpdate=!0)):(c&&c.data?l=new Qi(c.data,c.width,c.height):l=new Mt(c),c&&(l.needsUpdate=!0)),l.uuid=s.uuid,s.name!==void 0&&(l.name=s.name),s.mapping!==void 0&&(l.mapping=i(s.mapping,OT)),s.offset!==void 0&&l.offset.fromArray(s.offset),s.repeat!==void 0&&l.repeat.fromArray(s.repeat),s.center!==void 0&&l.center.fromArray(s.center),s.rotation!==void 0&&(l.rotation=s.rotation),s.wrap!==void 0&&(l.wrapS=i(s.wrap[0],Zp),l.wrapT=i(s.wrap[1],Zp)),s.format!==void 0&&(l.format=s.format),s.type!==void 0&&(l.type=s.type),s.encoding!==void 0&&(l.encoding=s.encoding),s.minFilter!==void 0&&(l.minFilter=i(s.minFilter,Kp)),s.magFilter!==void 0&&(l.magFilter=i(s.magFilter,Kp)),s.anisotropy!==void 0&&(l.anisotropy=s.anisotropy),s.flipY!==void 0&&(l.flipY=s.flipY),s.premultiplyAlpha!==void 0&&(l.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(l.unpackAlignment=s.unpackAlignment),o[s.uuid]=l}return o}parseObject(t,n,i,o){let r;function a(u){return n[u]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",u),n[u]}function s(u){if(u!==void 0){if(Array.isArray(u)){const d=[];for(let f=0,h=u.length;f<h;f++){const p=u[f];i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),d.push(i[p])}return d}return i[u]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",u),i[u]}}let l,c;switch(t.type){case"Scene":r=new jh,t.background!==void 0&&Number.isInteger(t.background)&&(r.background=new We(t.background)),t.fog!==void 0&&(t.fog.type==="Fog"?r.fog=new wu(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&&(r.fog=new _u(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":r=new Qt(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&&(r.focus=t.focus),t.zoom!==void 0&&(r.zoom=t.zoom),t.filmGauge!==void 0&&(r.filmGauge=t.filmGauge),t.filmOffset!==void 0&&(r.filmOffset=t.filmOffset),t.view!==void 0&&(r.view=Object.assign({},t.view));break;case"OrthographicCamera":r=new Sa(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&&(r.zoom=t.zoom),t.view!==void 0&&(r.view=Object.assign({},t.view));break;case"AmbientLight":r=new jc(t.color,t.intensity);break;case"DirectionalLight":r=new $c(t.color,t.intensity);break;case"PointLight":r=new Wc(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":r=new Qc(t.color,t.intensity,t.width,t.height);break;case"SpotLight":r=new Gc(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":r=new Uc(t.color,t.groundColor,t.intensity);break;case"LightProbe":r=new $n().fromJSON(t);break;case"SkinnedMesh":l=a(t.geometry),c=s(t.material),r=new ks(l,c),t.bindMode!==void 0&&(r.bindMode=t.bindMode),t.bindMatrix!==void 0&&r.bindMatrix.fromArray(t.bindMatrix),t.skeleton!==void 0&&(r.skeleton=t.skeleton);break;case"Mesh":l=a(t.geometry),c=s(t.material),r=new Bt(l,c);break;case"InstancedMesh":l=a(t.geometry),c=s(t.material);const u=t.count,d=t.instanceMatrix;r=new kc(l,c,u),r.instanceMatrix=new tt(new Float32Array(d.array),16);break;case"LOD":r=new Rs;break;case"Line":r=new Yn(a(t.geometry),s(t.material));break;case"LineLoop":r=new Bc(a(t.geometry),s(t.material));break;case"LineSegments":r=new En(a(t.geometry),s(t.material));break;case"PointCloud":case"Points":r=new va(a(t.geometry),s(t.material));break;case"Sprite":r=new Ps(s(t.material));break;case"Group":r=new mo;break;case"Bone":r=new Bs;break;default:r=new Qe}if(r.uuid=t.uuid,t.name!==void 0&&(r.name=t.name),t.matrix!==void 0?(r.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&&(r.matrixAutoUpdate=t.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(t.position!==void 0&&r.position.fromArray(t.position),t.rotation!==void 0&&r.rotation.fromArray(t.rotation),t.quaternion!==void 0&&r.quaternion.fromArray(t.quaternion),t.scale!==void 0&&r.scale.fromArray(t.scale)),t.castShadow!==void 0&&(r.castShadow=t.castShadow),t.receiveShadow!==void 0&&(r.receiveShadow=t.receiveShadow),t.shadow&&(t.shadow.bias!==void 0&&(r.shadow.bias=t.shadow.bias),t.shadow.normalBias!==void 0&&(r.shadow.normalBias=t.shadow.normalBias),t.shadow.radius!==void 0&&(r.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&&r.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&&(r.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&&(r.visible=t.visible),t.frustumCulled!==void 0&&(r.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&&(r.renderOrder=t.renderOrder),t.userData!==void 0&&(r.userData=t.userData),t.layers!==void 0&&(r.layers.mask=t.layers),t.children!==void 0){const u=t.children;for(let d=0;d<u.length;d++)r.add(this.parseObject(u[d],n,i,o))}if(t.animations!==void 0){const u=t.animations;for(let d=0;d<u.length;d++){const f=u[d];r.animations.push(o[f])}}if(t.type==="LOD"){t.autoUpdate!==void 0&&(r.autoUpdate=t.autoUpdate);const u=t.levels;for(let d=0;d<u.length;d++){const f=u[d],h=r.getObjectByProperty("uuid",f.object);h!==void 0&&r.addLevel(h,f.distance)}}return r}bindSkeletons(t,n){Object.keys(n).length!==0&&t.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const o=n[i.skeleton];o===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(o,i.bindMatrix)}})}setTexturePath(t){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)}}const OT={UVMapping:vu,CubeReflectionMapping:Zs,CubeRefractionMapping:Ks,EquirectangularReflectionMapping:Ec,EquirectangularRefractionMapping:Ac,CubeUVReflectionMapping:Aa,CubeUVRefractionMapping:Js},Zp={RepeatWrapping:vs,ClampToEdgeWrapping:wn,MirroredRepeatWrapping:gs},Kp={NearestFilter:Jt,NearestMipmapNearestFilter:Lc,NearestMipmapLinearFilter:Pc,LinearFilter:nn,LinearMipmapNearestFilter:Vh,LinearMipmapLinearFilter:La};function fh(e){typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),bt.call(this,e),this.options={premultiplyAlpha:"none"}}fh.prototype=Object.assign(Object.create(bt.prototype),{constructor:fh,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:function(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,r=hr.get(e);if(r!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(r),o.manager.itemEnd(e)},0),r;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",fetch(e,a).then(function(s){return s.blob()}).then(function(s){return createImageBitmap(s,o.options)}).then(function(s){hr.add(e,s),t&&t(s),o.manager.itemEnd(e)}).catch(function(s){i&&i(s),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}});function pf(){this.type="ShapePath",this.color=new We,this.subPaths=[],this.currentPath=null}Object.assign(pf.prototype,{moveTo:function(e,t){return this.currentPath=new si,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this},bezierCurveTo:function(e,t,n,i,o,r){return this.currentPath.bezierCurveTo(e,t,n,i,o,r),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(g){const m=[];for(let _=0,x=g.length;_<x;_++){const M=g[_],w=new bo;w.curves=M.curves,m.push(w)}return m}function i(g,m){const _=m.length;let x=!1;for(let M=_-1,w=0;w<_;M=w++){let T=m[M],B=m[w],D=B.x-T.x,z=B.y-T.y;if(Math.abs(z)>Number.EPSILON){if(z<0&&(T=m[w],D=-D,B=m[M],z=-z),g.y<T.y||g.y>B.y)continue;if(g.y===T.y){if(g.x===T.x)return!0}else{const A=z*(g.x-T.x)-D*(g.y-T.y);if(A===0)return!0;if(A<0)continue;x=!x}}else{if(g.y!==T.y)continue;if(B.x<=g.x&&g.x<=T.x||T.x<=g.x&&g.x<=B.x)return!0}}return x}const o=Wi.isClockWise,r=this.subPaths;if(r.length===0)return[];if(t===!0)return n(r);let a,s,l;const c=[];if(r.length===1)return s=r[0],l=new bo,l.curves=s.curves,c.push(l),c;let u=!o(r[0].getPoints());u=e?!u:u;const d=[],f=[];let h=[],p=0,y;f[p]=void 0,h[p]=[];for(let g=0,m=r.length;g<m;g++)s=r[g],y=s.getPoints(),a=o(y),a=e?!a:a,a?(!u&&f[p]&&p++,f[p]={s:new bo,p:y},f[p].s.curves=s.curves,u&&p++,h[p]=[]):h[p].push({h:s,p:y[0]});if(!f[0])return n(r);if(f.length>1){let g=!1;const m=[];for(let _=0,x=f.length;_<x;_++)d[_]=[];for(let _=0,x=f.length;_<x;_++){const M=h[_];for(let w=0;w<M.length;w++){const T=M[w];let B=!0;for(let D=0;D<f.length;D++)i(T.p,f[D].p)&&(_!==D&&m.push({froms:_,tos:D,hole:w}),B?(B=!1,d[D].push(T)):g=!0);B&&d[_].push(T)}}m.length>0&&(g||(h=d))}let b;for(let g=0,m=f.length;g<m;g++){l=f[g].s,c.push(l),b=h[g];for(let _=0,x=b.length;_<x;_++)l.holes.push(b[_].h)}return c}});function mf(e){this.type="Font",this.data=e}Object.assign(mf.prototype,{isFont:!0,generateShapes:function(e,t=100){const n=[],i=NT(e,t,this.data);for(let o=0,r=i.length;o<r;o++)Array.prototype.push.apply(n,i[o].toShapes());return n}});function NT(e,t,n){const i=Array.from?Array.from(e):String(e).split(""),o=t/n.resolution,r=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*o,a=[];let s=0,l=0;for(let c=0;c<i.length;c++){const u=i[c];if(u===`
`)s=0,l-=r;else{const d=DT(u,o,s,l,n);s+=d.offsetX,a.push(d.path)}}return a}function DT(e,t,n,i,o){const r=o.glyphs[e]||o.glyphs["?"];if(!r){console.error('THREE.Font: character "'+e+'" does not exists in font family '+o.familyName+".");return}const a=new pf;let s,l,c,u,d,f,h,p;if(r.o){const y=r._cachedOutline||(r._cachedOutline=r.o.split(" "));for(let b=0,g=y.length;b<g;)switch(y[b++]){case"m":s=y[b++]*t+n,l=y[b++]*t+i,a.moveTo(s,l);break;case"l":s=y[b++]*t+n,l=y[b++]*t+i,a.lineTo(s,l);break;case"q":c=y[b++]*t+n,u=y[b++]*t+i,d=y[b++]*t+n,f=y[b++]*t+i,a.quadraticCurveTo(d,f,c,u);break;case"b":c=y[b++]*t+n,u=y[b++]*t+i,d=y[b++]*t+n,f=y[b++]*t+i,h=y[b++]*t+n,p=y[b++]*t+i,a.bezierCurveTo(d,f,h,p,c,u);break}}return{offsetX:r.ha*t,path:a}}function ph(e){bt.call(this,e)}ph.prototype=Object.assign(Object.create(bt.prototype),{constructor:ph,load:function(e,t,n,i){const o=this,r=new Xn(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(o.withCredentials),r.load(e,function(a){let s;try{s=JSON.parse(a)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),s=JSON.parse(a.substring(65,a.length-2))}const l=o.parse(s);t&&t(l)},n,i)},parse:function(e){return new mf(e)}});let Yl;const vf={getContext:function(){return Yl===void 0&&(Yl=new(window.AudioContext||window.webkitAudioContext)),Yl},setContext:function(e){Yl=e}};function Kc(e){bt.call(this,e)}Kc.prototype=Object.assign(Object.create(bt.prototype),{constructor:Kc,load:function(e,t,n,i){const o=this,r=new Xn(o.manager);r.setResponseType("arraybuffer"),r.setPath(o.path),r.setRequestHeader(o.requestHeader),r.setWithCredentials(o.withCredentials),r.load(e,function(a){try{const s=a.slice(0);vf.getContext().decodeAudioData(s,function(c){t(c)})}catch(s){i?i(s):console.error(s),o.manager.itemError(e)}},n,i)}});function mh(e,t,n){$n.call(this,void 0,n);const i=new We().set(e),o=new We().set(t),r=new H(i.r,i.g,i.b),a=new H(o.r,o.g,o.b),s=Math.sqrt(Math.PI),l=s*Math.sqrt(.75);this.sh.coefficients[0].copy(r).add(a).multiplyScalar(s),this.sh.coefficients[1].copy(r).sub(a).multiplyScalar(l)}mh.prototype=Object.assign(Object.create($n.prototype),{constructor:mh,isHemisphereLightProbe:!0,copy:function(e){return $n.prototype.copy.call(this,e),this},toJSON:function(e){return $n.prototype.toJSON.call(this,e)}});function vh(e,t){$n.call(this,void 0,t);const n=new We().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}vh.prototype=Object.assign(Object.create($n.prototype),{constructor:vh,isAmbientLightProbe:!0,copy:function(e){return $n.prototype.copy.call(this,e),this},toJSON:function(e){return $n.prototype.toJSON.call(this,e)}});const Jp=new lt,em=new lt;function fy(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Qt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Qt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(fy.prototype,{update:function(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;const i=e.projectionMatrix.clone(),o=t.eyeSep/2,r=o*t.near/t.focus,a=t.near*Math.tan(it.DEG2RAD*t.fov*.5)/t.zoom;let s,l;em.elements[12]=-o,Jp.elements[12]=o,s=-a*t.aspect+r,l=a*t.aspect+r,i.elements[0]=2*t.near/(l-s),i.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(i),s=-a*t.aspect-r,l=a*t.aspect-r,i.elements[0]=2*t.near/(l-s),i.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(em),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Jp)}});class py{constructor(t){this.autoStart=t!==void 0?t:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=tm(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=tm();t=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=t}return t}}function tm(){return(typeof performance=="undefined"?Date:performance).now()}const Do=new H,nm=new mn,zT=new H,zo=new H;class qT extends Qe{constructor(){super(),this.type="AudioListener",this.context=vf.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new py}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const n=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Do,nm,zT),zo.set(0,0,-1).applyQuaternion(nm),n.positionX){const o=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Do.x,o),n.positionY.linearRampToValueAtTime(Do.y,o),n.positionZ.linearRampToValueAtTime(Do.z,o),n.forwardX.linearRampToValueAtTime(zo.x,o),n.forwardY.linearRampToValueAtTime(zo.y,o),n.forwardZ.linearRampToValueAtTime(zo.z,o),n.upX.linearRampToValueAtTime(i.x,o),n.upY.linearRampToValueAtTime(i.y,o),n.upZ.linearRampToValueAtTime(i.z,o)}else n.setPosition(Do.x,Do.y,Do.z),n.setOrientation(zo.x,zo.y,zo.z,i.x,i.y,i.z)}}class gf extends Qe{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,n=this.filters.length;t<n;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,n=this.filters.length;t<n;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}const qo=new H,im=new mn,VT=new H,Vo=new H;class HT extends gf{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,n,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(qo,im,VT),Vo.set(0,0,1).applyQuaternion(im);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(qo.x,i),n.positionY.linearRampToValueAtTime(qo.y,i),n.positionZ.linearRampToValueAtTime(qo.z,i),n.orientationX.linearRampToValueAtTime(Vo.x,i),n.orientationY.linearRampToValueAtTime(Vo.y,i),n.orientationZ.linearRampToValueAtTime(Vo.z,i)}else n.setPosition(qo.x,qo.y,qo.z),n.setOrientation(Vo.x,Vo.y,Vo.z)}}class my{constructor(t,n=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)t+=n[i];return t/n.length}}function yf(e,t,n){this.binding=e,this.valueSize=n;let i,o,r;switch(t){case"quaternion":i=this._slerp,o=this._slerpAdditive,r=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,r=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,o=this._lerpAdditive,r=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=r,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(yf.prototype,{accumulate:function(e,t){const n=this.buffer,i=this.valueSize,o=e*i+i;let r=this.cumulativeWeight;if(r===0){for(let a=0;a!==i;++a)n[o+a]=n[a];r=t}else{r+=t;const a=t/r;this._mixBufferRegion(n,o,0,a,i)}this.cumulativeWeight=r},accumulateAdditive:function(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e},apply:function(e){const t=this.valueSize,n=this.buffer,i=e*t+t,o=this.cumulativeWeight,r=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const s=t*this._origIndex;this._mixBufferRegion(n,i,s,1-o,t)}r>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let s=t,l=t+t;s!==l;++s)if(n[s]!==n[s+t]){a.setValue(n,i);break}},saveOriginalState:function(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let o=n,r=i;o!==r;++o)t[o]=t[i+o%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]},_select:function(e,t,n,i,o){if(i>=.5)for(let r=0;r!==o;++r)e[t+r]=e[n+r]},_slerp:function(e,t,n,i){mn.slerpFlat(e,t,e,t,e,n,i)},_slerpAdditive:function(e,t,n,i,o){const r=this._workIndex*o;mn.multiplyQuaternionsFlat(e,r,e,t,e,n),mn.slerpFlat(e,t,e,t,e,r,i)},_lerp:function(e,t,n,i,o){const r=1-i;for(let a=0;a!==o;++a){const s=t+a;e[s]=e[s]*r+e[n+a]*i}},_lerpAdditive:function(e,t,n,i,o){for(let r=0;r!==o;++r){const a=t+r;e[a]=e[a]+e[n+r]*i}}});const bf="\\[\\]\\.:\\/",UT=new RegExp("["+bf+"]","g"),xf="[^"+bf+"]",GT="[^"+bf.replace("\\.","")+"]",WT=/((?:WC+[\/:])*)/.source.replace("WC",xf),$T=/(WCOD+)?/.source.replace("WCOD",GT),jT=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",xf),QT=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",xf),YT=new RegExp("^"+WT+$T+jT+QT+"$"),XT=["material","materials","bones"];function vy(e,t,n){const i=n||vn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}Object.assign(vy.prototype,{getValue:function(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)},setValue:function(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=n.length;i!==o;++i)n[i].setValue(e,t)},bind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}});function vn(e,t,n){this.path=t,this.parsedPath=n||vn.parseTrackName(t),this.node=vn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}Object.assign(vn,{Composite:vy,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new vn.Composite(e,t,n):new vn(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(UT,"")},parseTrackName:function(e){const t=YT.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=n.nodeName.substring(i+1);XT.indexOf(o)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=o)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(o){for(let r=0;r<o.length;r++){const a=o[r];if(a.name===t||a.uuid===t)return a;const s=n(a.children);if(s)return s}return null},i=n(e.children);if(i)return i}return null}});Object.assign(vn.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,n){t[n]=this.node[this.propertyName]},function(t,n){const i=this.resolvedProperty;for(let o=0,r=i.length;o!==r;++o)t[n++]=i[o]},function(t,n){t[n]=this.resolvedProperty[this.propertyIndex]},function(t,n){this.resolvedProperty.toArray(t,n)}],SetterByBindingTypeAndVersioning:[[function(t,n){this.targetObject[this.propertyName]=t[n]},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){const i=this.resolvedProperty;for(let o=0,r=i.length;o!==r;++o)i[o]=t[n++]},function(t,n){const i=this.resolvedProperty;for(let o=0,r=i.length;o!==r;++o)i[o]=t[n++];this.targetObject.needsUpdate=!0},function(t,n){const i=this.resolvedProperty;for(let o=0,r=i.length;o!==r;++o)i[o]=t[n++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty[this.propertyIndex]=t[n]},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty.fromArray(t,n)},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,n){this.bind(),this.getValue(t,n)},setValue:function(t,n){this.bind(),this.setValue(t,n)},bind:function(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let o=t.propertyIndex;if(e||(e=vn.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let l=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===l){l=c;break}break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(l!==void 0){if(e[l]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[l]}}const r=e[i];if(r===void 0){const l=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}s=this.BindingType.ArrayElement,this.resolvedProperty=r,this.propertyIndex=o}else r.fromArray!==void 0&&r.toArray!==void 0?(s=this.BindingType.HasFromToArray,this.resolvedProperty=r):Array.isArray(r)?(s=this.BindingType.EntireArray,this.resolvedProperty=r):this.propertyName=i;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][a]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}});Object.assign(vn.prototype,{_getValue_unbound:vn.prototype.getValue,_setValue_unbound:vn.prototype.setValue});function gy(){this.uuid=it.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}Object.assign(gy.prototype,{isAnimationObjectGroup:!0,add:function(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,o=this._bindings,r=o.length;let a,s=e.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const d=arguments[c],f=d.uuid;let h=t[f];if(h===void 0){h=s++,t[f]=h,e.push(d);for(let p=0,y=r;p!==y;++p)o[p].push(new vn(d,n[p],i[p]))}else if(h<l){a=e[h];const p=--l,y=e[p];t[y.uuid]=h,e[h]=y,t[f]=p,e[p]=d;for(let b=0,g=r;b!==g;++b){const m=o[b],_=m[p];let x=m[h];m[h]=_,x===void 0&&(x=new vn(d,n[b],i[b])),m[p]=x}}else e[h]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l},remove:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let o=this.nCachedObjects_;for(let r=0,a=arguments.length;r!==a;++r){const s=arguments[r],l=s.uuid,c=t[l];if(c!==void 0&&c>=o){const u=o++,d=e[u];t[d.uuid]=c,e[c]=d,t[l]=u,e[u]=s;for(let f=0,h=i;f!==h;++f){const p=n[f],y=p[u],b=p[c];p[c]=y,p[u]=b}}}this.nCachedObjects_=o},uncache:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let o=this.nCachedObjects_,r=e.length;for(let a=0,s=arguments.length;a!==s;++a){const l=arguments[a],c=l.uuid,u=t[c];if(u!==void 0)if(delete t[c],u<o){const d=--o,f=e[d],h=--r,p=e[h];t[f.uuid]=u,e[u]=f,t[p.uuid]=d,e[d]=p,e.pop();for(let y=0,b=i;y!==b;++y){const g=n[y],m=g[d],_=g[h];g[u]=m,g[d]=_,g.pop()}}else{const d=--r,f=e[d];d>0&&(t[f.uuid]=u),e[u]=f,e.pop();for(let h=0,p=i;h!==p;++h){const y=n[h];y[u]=y[d],y.pop()}}}this.nCachedObjects_=o},subscribe_:function(e,t){const n=this._bindingsIndicesByPath;let i=n[e];const o=this._bindings;if(i!==void 0)return o[i];const r=this._paths,a=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);i=o.length,n[e]=i,r.push(e),a.push(t),o.push(u);for(let d=c,f=s.length;d!==f;++d){const h=s[d];u[d]=new vn(h,e,t)}return u},unsubscribe_:function(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const i=this._paths,o=this._parsedPaths,r=this._bindings,a=r.length-1,s=r[a],l=e[a];t[l]=n,r[n]=s,r.pop(),o[n]=o[a],o.pop(),i[n]=i[a],i.pop()}}});class ZT{constructor(t,n,i=null,o=n.blendMode){this._mixer=t,this._clip=n,this._localRoot=i,this.blendMode=o;const r=n.tracks,a=r.length,s=new Array(a),l={endingStart:Qo,endingEnd:Qo};for(let c=0;c!==a;++c){const u=r[c].createInterpolant(null);s[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=w0,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,n){return this.loop=t,this.repetitions=n,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,n,i){if(t.fadeOut(n),this.fadeIn(n),i){const o=this._clip.duration,r=t._clip.duration,a=r/o,s=o/r;t.warp(1,a,n),this.warp(s,1,n)}return this}crossFadeTo(t,n,i){return t.crossFadeFrom(this,n,i)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,n,i){const o=this._mixer,r=o.time,a=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=o._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,c=s.sampleValues;return l[0]=r,l[1]=r+i,c[0]=t/a,c[1]=n/a,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,n,i,o){if(!this.enabled){this._updateWeight(t);return}const r=this._startTime;if(r!==null){const l=(t-r)*i;if(l<0||i===0)return;this._startTime=null,n=i*l}n*=this._updateTimeScale(t);const a=this._updateTime(n),s=this._updateWeight(t);if(s>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case Hh:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(a),c[u].accumulateAdditive(s);break;case gu:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(a),c[u].accumulate(o,s)}}}_updateWeight(t){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const o=i.evaluate(t)[0];n*=o,t>i.parameterPositions[1]&&(this.stopFading(),o===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(t){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;i!==null&&(n*=i.evaluate(t)[0],t>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n))}return this._effectiveTimeScale=n,n}_updateTime(t){const n=this._clip.duration,i=this.loop;let o=this.time+t,r=this._loopCount;const a=i===S0;if(t===0)return r===-1?o:a&&(r&1)===1?n-o:o;if(i===_0){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(o>=n)o=n;else if(o<0)o=0;else{this.time=o;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=o,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(r===-1&&(t>=0?(r=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),o>=n||o<0){const s=Math.floor(o/n);o-=n*s,r+=Math.abs(s);const l=this.repetitions-r;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,o=t>0?n:0,this.time=o,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(l===1){const c=t<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this.time=o,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=o;if(a&&(r&1)===1)return n-o}return o}_setEndings(t,n,i){const o=this._interpolantSettings;i?(o.endingStart=Yo,o.endingEnd=Yo):(t?o.endingStart=this.zeroSlopeAtStart?Yo:Qo:o.endingStart=_s,n?o.endingEnd=this.zeroSlopeAtEnd?Yo:Qo:o.endingEnd=_s)}_scheduleFading(t,n,i){const o=this._mixer,r=o.time;let a=this._weightInterpolant;a===null&&(a=o._lendControlInterpolant(),this._weightInterpolant=a);const s=a.parameterPositions,l=a.sampleValues;return s[0]=r,l[0]=n,s[1]=r+t,l[1]=i,this}}function gh(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}gh.prototype=Object.assign(Object.create(Li.prototype),{constructor:gh,_bindAction:function(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,o=i.length,r=e._propertyBindings,a=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName;let c=l[s];c===void 0&&(c={},l[s]=c);for(let u=0;u!==o;++u){const d=i[u],f=d.name;let h=c[f];if(h!==void 0)r[u]=h;else{if(h=r[u],h!==void 0){h._cacheIndex===null&&(++h.referenceCount,this._addInactiveBinding(h,s,f));continue}const p=t&&t._propertyBindings[u].binding.parsedPath;h=new yf(vn.create(n,f,p),d.ValueTypeName,d.getValueSize()),++h.referenceCount,this._addInactiveBinding(h,s,f),r[u]=h}a[u].resultBuffer=h.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,n)}const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const o=t[n];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const o=t[n];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){const i=this._actions,o=this._actionsByClip;let r=o[t];if(r===void 0)r={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=r;else{const a=r.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),r.actionByRoot[n]=e},_removeInactiveAction:function(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,r=this._actionsByClip,a=r[o],s=a.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),e._byClipCacheIndex=null;const u=a.actionByRoot,d=(e._localRoot||this._root).uuid;delete u[d],s.length===0&&delete r[o],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const o=t[n];--o.referenceCount===0&&this._removeInactiveBinding(o)}},_lendAction:function(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=n,t[n]=o},_takeBackAction:function(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=n,t[n]=o},_addInactiveBinding:function(e,t,n){const i=this._bindingsByRootAndName,o=this._bindings;let r=i[t];r===void 0&&(r={},i[t]=r),r[n]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,o=n.path,r=this._bindingsByRootAndName,a=r[i],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete a[o],Object.keys(a).length===0&&delete r[i]},_lendBinding:function(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=n,t[n]=o},_takeBackBinding:function(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=n,t[n]=o},_lendControlInterpolant:function(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new Vs(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=t[i];e.__cacheIndex=i,t[i]=e,o.__cacheIndex=n,t[n]=o},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,n){const i=t||this._root,o=i.uuid;let r=typeof e=="string"?Fn.findByName(i,e):e;const a=r!==null?r.uuid:e,s=this._actionsByClip[a];let l=null;if(n===void 0&&(r!==null?n=r.blendMode:n=gu),s!==void 0){const u=s.actionByRoot[o];if(u!==void 0&&u.blendMode===n)return u;l=s.knownActions[0],r===null&&(r=l._clip)}if(r===null)return null;const c=new ZT(this,r,t,n);return this._bindAction(c,l),this._addInactiveAction(c,a,o),c},existingAction:function(e,t){const n=t||this._root,i=n.uuid,o=typeof e=="string"?Fn.findByName(n,e):e,r=o?o.uuid:e,a=this._actionsByClip[r];return a!==void 0&&a.actionByRoot[i]||null},stopAllAction:function(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this},update:function(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,o=Math.sign(e),r=this._accuIndex^=1;for(let l=0;l!==n;++l)t[l]._update(i,e,o,r);const a=this._bindings,s=this._nActiveBindings;for(let l=0;l!==s;++l)a[l].apply(r);return this},setTime:function(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,o=i[n];if(o!==void 0){const r=o.knownActions;for(let a=0,s=r.length;a!==s;++a){const l=r[a];this._deactivateAction(l);const c=l._cacheIndex,u=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,u._cacheIndex=c,t[c]=u,t.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}},uncacheRoot:function(e){const t=e.uuid,n=this._actionsByClip;for(const r in n){const a=n[r].actionByRoot,s=a[t];s!==void 0&&(this._deactivateAction(s),this._removeInactiveAction(s))}const i=this._bindingsByRootAndName,o=i[t];if(o!==void 0)for(const r in o){const a=o[r];a.restoreOriginalState(),this._removeInactiveBinding(a)}},uncacheAction:function(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}});class Cu{constructor(t){typeof t=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}clone(){return new Cu(this.value.clone===void 0?this.value:this.value.clone())}}function yh(e,t,n){Nn.call(this,e,t),this.meshPerAttribute=n||1}yh.prototype=Object.assign(Object.create(Nn.prototype),{constructor:yh,isInstancedInterleavedBuffer:!0,copy:function(e){return Nn.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){const t=Nn.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){const t=Nn.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}});function _f(e,t,n,i,o){this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=o,this.version=0}Object.defineProperty(_f.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(_f.prototype,{isGLBufferAttribute:!0,setBuffer:function(e){return this.buffer=e,this},setType:function(e,t){return this.type=e,this.elementSize=t,this},setItemSize:function(e){return this.itemSize=e,this},setCount:function(e){return this.count=e,this}});function wf(e,t,n,i){this.ray=new Ra(e,t),this.near=n||0,this.far=i||1/0,this.camera=null,this.layers=new $h,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function om(e,t){return e.distance-t.distance}function bh(e,t,n,i){if(e.layers.test(t.layers)&&e.raycast(t,n),i===!0){const o=e.children;for(let r=0,a=o.length;r<a;r++)bh(o[r],t,n,!0)}}Object.assign(wf.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)},intersectObject:function(e,t,n){const i=n||[];return bh(e,this,i,t),i.sort(om),i},intersectObjects:function(e,t,n){const i=n||[];if(Array.isArray(e)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(let o=0,r=e.length;o<r;o++)bh(e[o],this,i,t);return i.sort(om),i}});class KT{constructor(t=1,n=0,i=0){return this.radius=t,this.phi=n,this.theta=i,this}set(t,n,i){return this.radius=t,this.phi=n,this.theta=i,this}clone(){return new this.constructor().copy(this)}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,n,i){return this.radius=Math.sqrt(t*t+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(it.clamp(n/this.radius,-1,1))),this}}class JT{constructor(t,n,i){return this.radius=t!==void 0?t:1,this.theta=n!==void 0?n:0,this.y=i!==void 0?i:0,this}set(t,n,i){return this.radius=t,this.theta=n,this.y=i,this}clone(){return new this.constructor().copy(this)}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,n,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=n,this}}const rm=new Ae;class yy{constructor(t,n){Object.defineProperty(this,"isBox2",{value:!0}),this.min=t!==void 0?t:new Ae(1/0,1/0),this.max=n!==void 0?n:new Ae(-1/0,-1/0)}set(t,n){return this.min.copy(t),this.max.copy(n),this}setFromPoints(t){this.makeEmpty();for(let n=0,i=t.length;n<i;n++)this.expandByPoint(t[n]);return this}setFromCenterAndSize(t,n){const i=rm.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return t===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new Ae),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return t===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new Ae),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,n){return n===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),n=new Ae),n.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,n){return n===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),n=new Ae),n.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return rm.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const am=new H,Xl=new H;class by{constructor(t,n){this.start=t!==void 0?t:new H,this.end=n!==void 0?n:new H}set(t,n){return this.start.copy(t),this.end.copy(n),this}clone(){return new this.constructor().copy(this)}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new H),t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),t=new H),t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,n){return n===void 0&&(console.warn("THREE.Line3: .at() target is now required"),n=new H),this.delta(n).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,n){am.subVectors(t,this.start),Xl.subVectors(this.end,this.start);const i=Xl.dot(Xl);let r=Xl.dot(am)/i;return n&&(r=it.clamp(r,0,1)),r}closestPointToPoint(t,n,i){const o=this.closestPointToPointParameter(t,n);return i===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),i=new H),this.delta(i).multiplyScalar(o).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}function Gs(e){Qe.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}Gs.prototype=Object.create(Qe.prototype);Gs.prototype.constructor=Gs;Gs.prototype.isImmediateRenderObject=!0;const sm=new H;class eC extends Qe{constructor(t,n){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const i=new Je,o=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,s=1,l=32;a<l;a++,s++){const c=a/l*Math.PI*2,u=s/l*Math.PI*2;o.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}i.setAttribute("position",new He(o,3));const r=new Ot({fog:!1,toneMapped:!1});this.cone=new En(i,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const t=this.light.distance?this.light.distance:1e3,n=t*Math.tan(this.light.angle);this.cone.scale.set(n,n,t),sm.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(sm),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const lo=new H,Zl=new lt,hd=new lt;class xy extends En{constructor(t){const n=_y(t),i=new Je,o=[],r=[],a=new We(0,0,1),s=new We(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),r.push(a.r,a.g,a.b),r.push(s.r,s.g,s.b))}i.setAttribute("position",new He(o,3)),i.setAttribute("color",new He(r,3));const l=new Ot({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=t,this.bones=n,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const n=this.bones,i=this.geometry,o=i.getAttribute("position");hd.copy(this.root.matrixWorld).invert();for(let r=0,a=0;r<n.length;r++){const s=n[r];s.parent&&s.parent.isBone&&(Zl.multiplyMatrices(hd,s.matrixWorld),lo.setFromMatrixPosition(Zl),o.setXYZ(a,lo.x,lo.y,lo.z),Zl.multiplyMatrices(hd,s.parent.matrixWorld),lo.setFromMatrixPosition(Zl),o.setXYZ(a+1,lo.x,lo.y,lo.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}}function _y(e){const t=[];e&&e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,_y(e.children[n]));return t}class tC extends Bt{constructor(t,n,i){const o=new Tu(n,4,2),r=new jn({wireframe:!0,fog:!1,toneMapped:!1});super(o,r),this.light=t,this.light.updateMatrixWorld(),this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const nC=new H,lm=new We,cm=new We;class iC extends Qe{constructor(t,n,i){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;const o=new Mu(n);o.rotateY(Math.PI*.5),this.material=new jn({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=o.getAttribute("position"),a=new Float32Array(r.count*3);o.setAttribute("color",new tt(a,3)),this.add(new Bt(o,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=t.geometry.getAttribute("color");lm.copy(this.light.color),cm.copy(this.light.groundColor);for(let i=0,o=n.count;i<o;i++){const r=i<o/2?lm:cm;n.setXYZ(i,r.r,r.g,r.b)}n.needsUpdate=!0}t.lookAt(nC.setFromMatrixPosition(this.light.matrixWorld).negate())}}class wy extends En{constructor(t=10,n=10,i=4473924,o=8947848){i=new We(i),o=new We(o);const r=n/2,a=t/n,s=t/2,l=[],c=[];for(let f=0,h=0,p=-s;f<=n;f++,p+=a){l.push(-s,0,p,s,0,p),l.push(p,0,-s,p,0,s);const y=f===r?i:o;y.toArray(c,h),h+=3,y.toArray(c,h),h+=3,y.toArray(c,h),h+=3,y.toArray(c,h),h+=3}const u=new Je;u.setAttribute("position",new He(l,3)),u.setAttribute("color",new He(c,3));const d=new Ot({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}}class oC extends En{constructor(t=10,n=16,i=8,o=64,r=4473924,a=8947848){r=new We(r),a=new We(a);const s=[],l=[];for(let d=0;d<=n;d++){const f=d/n*(Math.PI*2),h=Math.sin(f)*t,p=Math.cos(f)*t;s.push(0,0,0),s.push(h,0,p);const y=d&1?r:a;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let d=0;d<=i;d++){const f=d&1?r:a,h=t-t/i*d;for(let p=0;p<o;p++){let y=p/o*(Math.PI*2),b=Math.sin(y)*h,g=Math.cos(y)*h;s.push(b,0,g),l.push(f.r,f.g,f.b),y=(p+1)/o*(Math.PI*2),b=Math.sin(y)*h,g=Math.cos(y)*h,s.push(b,0,g),l.push(f.r,f.g,f.b)}}const c=new Je;c.setAttribute("position",new He(s,3)),c.setAttribute("color",new He(l,3));const u=new Ot({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}}const um=new H,Kl=new H,dm=new H;class rC extends Qe{constructor(t,n,i){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,n===void 0&&(n=1);let o=new Je;o.setAttribute("position",new He([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const r=new Ot({fog:!1,toneMapped:!1});this.lightPlane=new Yn(o,r),this.add(this.lightPlane),o=new Je,o.setAttribute("position",new He([0,0,0,0,0,1],3)),this.targetLine=new Yn(o,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){um.setFromMatrixPosition(this.light.matrixWorld),Kl.setFromMatrixPosition(this.light.target.matrixWorld),dm.subVectors(Kl,um),this.lightPlane.lookAt(Kl),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Kl),this.targetLine.scale.z=dm.length()}}const Jl=new H,Ht=new Mi;class aC extends En{constructor(t){const n=new Je,i=new Ot({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],r=[],a={},s=new We(16755200),l=new We(16711680),c=new We(43775),u=new We(16777215),d=new We(3355443);f("n1","n2",s),f("n2","n4",s),f("n4","n3",s),f("n3","n1",s),f("f1","f2",s),f("f2","f4",s),f("f4","f3",s),f("f3","f1",s),f("n1","f1",s),f("n2","f2",s),f("n3","f3",s),f("n4","f4",s),f("p","n1",l),f("p","n2",l),f("p","n3",l),f("p","n4",l),f("u1","u2",c),f("u2","u3",c),f("u3","u1",c),f("c","t",u),f("p","c",d),f("cn1","cn2",d),f("cn3","cn4",d),f("cf1","cf2",d),f("cf3","cf4",d);function f(p,y,b){h(p,b),h(y,b)}function h(p,y){o.push(0,0,0),r.push(y.r,y.g,y.b),a[p]===void 0&&(a[p]=[]),a[p].push(o.length/3-1)}n.setAttribute("position",new He(o,3)),n.setAttribute("color",new He(r,3)),super(n,i),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}update(){const t=this.geometry,n=this.pointMap,i=1,o=1;Ht.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Wt("c",n,t,Ht,0,0,-1),Wt("t",n,t,Ht,0,0,1),Wt("n1",n,t,Ht,-i,-o,-1),Wt("n2",n,t,Ht,i,-o,-1),Wt("n3",n,t,Ht,-i,o,-1),Wt("n4",n,t,Ht,i,o,-1),Wt("f1",n,t,Ht,-i,-o,1),Wt("f2",n,t,Ht,i,-o,1),Wt("f3",n,t,Ht,-i,o,1),Wt("f4",n,t,Ht,i,o,1),Wt("u1",n,t,Ht,i*.7,o*1.1,-1),Wt("u2",n,t,Ht,-i*.7,o*1.1,-1),Wt("u3",n,t,Ht,0,o*2,-1),Wt("cf1",n,t,Ht,-i,0,1),Wt("cf2",n,t,Ht,i,0,1),Wt("cf3",n,t,Ht,0,-o,1),Wt("cf4",n,t,Ht,0,o,1),Wt("cn1",n,t,Ht,-i,0,-1),Wt("cn2",n,t,Ht,i,0,-1),Wt("cn3",n,t,Ht,0,-o,-1),Wt("cn4",n,t,Ht,0,o,-1),t.getAttribute("position").needsUpdate=!0}}function Wt(e,t,n,i,o,r,a){Jl.set(o,r,a).unproject(i);const s=t[e];if(s!==void 0){const l=n.getAttribute("position");for(let c=0,u=s.length;c<u;c++)l.setXYZ(s[c],Jl.x,Jl.y,Jl.z)}}const ec=new Pi;class Sy extends En{constructor(t,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(8*3),r=new Je;r.setIndex(new tt(i,1)),r.setAttribute("position",new tt(o,3)),super(r,new Ot({color:n,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(t){if(t!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&ec.setFromObject(this.object),ec.isEmpty())return;const n=ec.min,i=ec.max,o=this.geometry.attributes.position,r=o.array;r[0]=i.x,r[1]=i.y,r[2]=i.z,r[3]=n.x,r[4]=i.y,r[5]=i.z,r[6]=n.x,r[7]=n.y,r[8]=i.z,r[9]=i.x,r[10]=n.y,r[11]=i.z,r[12]=i.x,r[13]=i.y,r[14]=n.z,r[15]=n.x,r[16]=i.y,r[17]=n.z,r[18]=n.x,r[19]=n.y,r[20]=n.z,r[21]=i.x,r[22]=n.y,r[23]=n.z,o.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t){return En.prototype.copy.call(this,t),this.object=t.object,this}}class sC extends En{constructor(t,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new Je;r.setIndex(new tt(i,1)),r.setAttribute("position",new He(o,3)),super(r,new Ot({color:n,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}}class lC extends Yn{constructor(t,n=1,i=16776960){const o=i,r=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],a=new Je;a.setAttribute("position",new He(r,3)),a.computeBoundingSphere(),super(a,new Ot({color:o,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=n;const s=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],l=new Je;l.setAttribute("position",new He(s,3)),l.computeBoundingSphere(),this.add(new Bt(l,new jn({color:o,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){let n=-this.plane.constant;Math.abs(n)<1e-8&&(n=1e-8),this.scale.set(.5*this.size,.5*this.size,n),this.children[0].material.side=n<0?Zt:Ea,this.lookAt(this.plane.normal),super.updateMatrixWorld(t)}}const hm=new H;let tc,fd;class cC extends Qe{constructor(t,n,i,o,r,a){super(),this.type="ArrowHelper",t===void 0&&(t=new H(0,0,1)),n===void 0&&(n=new H(0,0,0)),i===void 0&&(i=1),o===void 0&&(o=16776960),r===void 0&&(r=.2*i),a===void 0&&(a=.2*r),tc===void 0&&(tc=new Je,tc.setAttribute("position",new He([0,0,0,0,1,0],3)),fd=new rl(0,.5,1,5,1),fd.translate(0,-.5,0)),this.position.copy(n),this.line=new Yn(tc,new Ot({color:o,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Bt(fd,new jn({color:o,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,r,a)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{hm.set(t.z,0,-t.x).normalize();const n=Math.acos(t.y);this.quaternion.setFromAxisAngle(hm,n)}}setLength(t,n,i){n===void 0&&(n=.2*t),i===void 0&&(i=.2*n),this.line.scale.set(1,Math.max(1e-4,t-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}}class My extends En{constructor(t=1){const n=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],o=new Je;o.setAttribute("position",new He(n,3)),o.setAttribute("color",new He(i,3));const r=new Ot({vertexColors:!0,toneMapped:!1});super(o,r),this.type="AxesHelper"}}const Ty=new Float32Array(1),uC=new Int32Array(Ty.buffer),dC={toHalfFloat:function(e){Ty[0]=e;const t=uC[0];let n=t>>16&32768,i=t>>12&2047;const o=t>>23&255;return o<103?n:o>142?(n|=31744,n|=(o==255?0:1)&&t&8388607,n):o<113?(i|=2048,n|=(i>>114-o)+(i>>113-o&1),n):(n|=o-112<<10|i>>1,n+=i&1,n)}},aa=4,xo=8,bi=Math.pow(2,xo),Cy=[.125,.215,.35,.446,.526,.582],Ey=xo-aa+1+Cy.length,Dr=20,wi={[Tn]:0,[el]:1,[bu]:2,[Uh]:3,[Gh]:4,[Wh]:5,[yu]:6},pd=new Sa,{_lodPlanes:Xa,_sizeLods:fm,_sigmas:nc}=pC(),pm=new We;let md=null;const Wo=(1+Math.sqrt(5))/2,zr=1/Wo,mm=[new H(1,1,1),new H(-1,1,1),new H(1,1,-1),new H(-1,1,-1),new H(0,Wo,zr),new H(0,Wo,-zr),new H(zr,0,Wo),new H(-zr,0,Wo),new H(Wo,zr,0),new H(-Wo,zr,0)];class hC{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._blurMaterial=mC(Dr),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(t,n=0,i=.1,o=100){md=this._renderer.getRenderTarget();const r=this._allocateTargets();return this._sceneToCubeUV(t,i,o,r),n>0&&this._blur(r,0,0,n),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(t){return this._fromTexture(t)}fromCubemap(t){return this._fromTexture(t)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=ym(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=gm(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let t=0;t<Xa.length;t++)Xa[t].dispose()}_cleanup(t){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(md),t.scissorTest=!1,ic(t,0,0,t.width,t.height)}_fromTexture(t){md=this._renderer.getRenderTarget();const n=this._allocateTargets(t);return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(t){const n={magFilter:Jt,minFilter:Jt,generateMipmaps:!1,type:Pa,format:Dg,encoding:fC(t)?t.encoding:bu,depthBuffer:!1},i=vm(n);return i.depthBuffer=!t,this._pingPongRenderTarget=vm(n),i}_compileMaterial(t){const n=new Bt(Xa[0],t);this._renderer.compile(n,pd)}_sceneToCubeUV(t,n,i,o){const s=new Qt(90,1,n,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.outputEncoding,f=u.toneMapping;u.getClearColor(pm);const h=u.getClearAlpha();u.toneMapping=Zo,u.outputEncoding=Tn;let p=t.background;if(p&&p.isColor){p.convertSRGBToLinear();const y=Math.max(p.r,p.g,p.b),b=Math.min(Math.max(Math.ceil(Math.log2(y)),-128),127);p=p.multiplyScalar(Math.pow(2,-b));const g=(b+128)/255;u.setClearColor(p,g),t.background=null}for(let y=0;y<6;y++){const b=y%3;b==0?(s.up.set(0,l[y],0),s.lookAt(c[y],0,0)):b==1?(s.up.set(0,0,l[y]),s.lookAt(0,c[y],0)):(s.up.set(0,l[y],0),s.lookAt(0,0,c[y])),ic(o,b*bi,y>2?bi:0,bi,bi),u.setRenderTarget(o),u.render(t,s)}u.toneMapping=f,u.outputEncoding=d,u.setClearColor(pm,h)}_textureToCubeUV(t,n){const i=this._renderer;t.isCubeTexture?this._cubemapShader==null&&(this._cubemapShader=ym()):this._equirectShader==null&&(this._equirectShader=gm());const o=t.isCubeTexture?this._cubemapShader:this._equirectShader,r=new Bt(Xa[0],o),a=o.uniforms;a.envMap.value=t,t.isCubeTexture||a.texelSize.value.set(1/t.image.width,1/t.image.height),a.inputEncoding.value=wi[t.encoding],a.outputEncoding.value=wi[n.texture.encoding],ic(n,0,0,3*bi,2*bi),i.setRenderTarget(n),i.render(r,pd)}_applyPMREM(t){const n=this._renderer,i=n.autoClear;n.autoClear=!1;for(let o=1;o<Ey;o++){const r=Math.sqrt(nc[o]*nc[o]-nc[o-1]*nc[o-1]),a=mm[(o-1)%mm.length];this._blur(t,o-1,o,r,a)}n.autoClear=i}_blur(t,n,i,o,r){const a=this._pingPongRenderTarget;this._halfBlur(t,a,n,i,o,"latitudinal",r),this._halfBlur(a,t,i,i,o,"longitudinal",r)}_halfBlur(t,n,i,o,r,a,s){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new Bt(Xa[o],c),f=c.uniforms,h=fm[i]-1,p=isFinite(r)?Math.PI/(2*h):2*Math.PI/(2*Dr-1),y=r/p,b=isFinite(r)?1+Math.floor(u*y):Dr;b>Dr&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${b} samples when the maximum is set to ${Dr}`);const g=[];let m=0;for(let w=0;w<Dr;++w){const T=w/y,B=Math.exp(-T*T/2);g.push(B),w==0?m+=B:w<b&&(m+=2*B)}for(let w=0;w<g.length;w++)g[w]=g[w]/m;f.envMap.value=t.texture,f.samples.value=b,f.weights.value=g,f.latitudinal.value=a==="latitudinal",s&&(f.poleAxis.value=s),f.dTheta.value=p,f.mipInt.value=xo-i,f.inputEncoding.value=wi[t.texture.encoding],f.outputEncoding.value=wi[t.texture.encoding];const _=fm[o],x=3*Math.max(0,bi-2*_),M=(o===0?0:2*bi)+2*_*(o>xo-aa?o-xo+aa:0);ic(n,x,M,3*_,2*_),l.setRenderTarget(n),l.render(d,pd)}}function fC(e){return e===void 0||e.type!==Pa?!1:e.encoding===Tn||e.encoding===el||e.encoding===yu}function pC(){const e=[],t=[],n=[];let i=xo;for(let o=0;o<Ey;o++){const r=Math.pow(2,i);t.push(r);let a=1/r;o>xo-aa?a=Cy[o-xo+aa-1]:o==0&&(a=0),n.push(a);const s=1/(r-1),l=-s/2,c=1+s/2,u=[l,l,c,l,c,c,l,l,c,c,l,c],d=6,f=6,h=3,p=2,y=1,b=new Float32Array(h*f*d),g=new Float32Array(p*f*d),m=new Float32Array(y*f*d);for(let x=0;x<d;x++){const M=x%3*2/3-1,w=x>2?0:-1,T=[M,w,0,M+2/3,w,0,M+2/3,w+1,0,M,w,0,M+2/3,w+1,0,M,w+1,0];b.set(T,h*f*x),g.set(u,p*f*x);const B=[x,x,x,x,x,x];m.set(B,y*f*x)}const _=new Je;_.setAttribute("position",new tt(b,h)),_.setAttribute("uv",new tt(g,p)),_.setAttribute("faceIndex",new tt(m,y)),e.push(_),i>aa&&i--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}function vm(e){const t=new zn(3*bi,3*bi,e);return t.texture.mapping=Aa,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function ic(e,t,n,i,o){e.viewport.set(t,n,i,o),e.scissor.set(t,n,i,o)}function mC(e){const t=new Float32Array(e),n=new H(0,1,0);return new Yi({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:wi[Tn]},outputEncoding:{value:wi[Tn]}},vertexShader:Sf(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${Mf()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Gi,depthTest:!1,depthWrite:!1})}function gm(){const e=new Ae(1,1);return new Yi({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:e},inputEncoding:{value:wi[Tn]},outputEncoding:{value:wi[Tn]}},vertexShader:Sf(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${Mf()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Gi,depthTest:!1,depthWrite:!1})}function ym(){return new Yi({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:wi[Tn]},outputEncoding:{value:wi[Tn]}},vertexShader:Sf(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${Mf()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Gi,depthTest:!1,depthWrite:!1})}function Sf(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Mf(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function vC(e,t,n,i,o,r,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new ws(e,t,n,o,r,a)}const gC=0,yC=1,bC=0,xC=1,_C=2;function wC(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function SC(e=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function MC(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new va(e,t)}function TC(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Ps(e)}function CC(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new va(e,t)}function EC(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new ui(e)}function AC(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new ui(e)}function LC(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new ui(e)}function PC(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new H(e,t,n)}function RC(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new tt(e,t).setUsage(nr)}function kC(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Ss(e,t)}function BC(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Ms(e,t)}function IC(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Ts(e,t)}function FC(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Cs(e,t)}function OC(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new ir(e,t)}function NC(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Es(e,t)}function DC(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new or(e,t)}function zC(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new He(e,t)}function qC(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Ls(e,t)}Xe.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Xe.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e};Object.assign(Ui.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=new St;for(let n=0,i=e.length;n<i;n++){const o=e[n];t.vertices.push(new H(o.x,o.y,o.z||0))}return t}});Object.assign(si.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}});function Ay(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),yn.call(this,e),this.type="catmullrom",this.closed=!0}Ay.prototype=Object.create(yn.prototype);function Ly(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),yn.call(this,e),this.type="catmullrom"}Ly.prototype=Object.create(yn.prototype);function Tf(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),yn.call(this,e),this.type="catmullrom"}Tf.prototype=Object.create(yn.prototype);Object.assign(Tf.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});function VC(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new My(e)}function HC(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Sy(e,t)}function UC(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new En(new Zh(e.geometry),new Ot({color:t!==void 0?t:16777215}))}wy.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};xy.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function GC(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new En(new uf(e.geometry),new Ot({color:t!==void 0?t:16777215}))}Object.assign(bt.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),ff.extractUrlBase(e)}});bt.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};function WC(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Xn(e)}function $C(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Vc(e)}Object.assign(yy.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}});Object.assign(Pi.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}});Object.assign(Zi.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}});il.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)};by.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)};Object.assign(it,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),it.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),it.ceilPowerOfTwo(e)}});Object.assign(Mn.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},getInverse:function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()}});Object.assign(lt.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new H().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,i,o,r){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,n,o,r)},getInverse:function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()}});xi.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)};Object.assign(mn.prototype,{multiplyVector3:function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},inverse:function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()}});Object.assign(Ra.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}});Object.assign(cn.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}});Object.assign(cn,{barycoordFromPoint:function(e,t,n,i,o){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),cn.getBarycoord(e,t,n,i,o)},normal:function(e,t,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),cn.getNormal(e,t,n,i)}});Object.assign(bo.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Kh(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new of(this,e)}});Object.assign(Ae.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(H.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(_t.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(St.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.assign(Qe.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.defineProperties(Qe.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.assign(Bt.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}});Object.defineProperties(Bt.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),M0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});Object.defineProperties(Rs.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}});Object.defineProperty(Is.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});ks.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Object.defineProperty(Xe.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}});Qt.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),t!==void 0&&(this.filmGauge=t),this.setFocalLength(e)};Object.defineProperties(Pt.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}});Object.defineProperties(tt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===nr},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(nr)}}});Object.assign(tt.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?nr:tl),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(Je.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(t&&t.isBufferAttribute)&&!(t&&t.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new tt(arguments[1],arguments[2]))):e==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t)},addDrawCall:function(e,t,n){n!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.defineProperties(Je.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Object.defineProperties(Us.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}});Object.defineProperties(wf.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}});Object.defineProperties(Nn.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===nr},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}});Object.assign(Nn.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?nr:tl),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(al.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}});Object.assign(jh.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}});Object.defineProperties(Cu.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}});Object.defineProperties(nt.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new We}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===Dh}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}});Object.defineProperties(Ao.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(Eo.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(e){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=e}}});Object.defineProperties(Cn.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}});Object.assign(ol.prototype,{clearTarget:function(e,t,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,i)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}});Object.defineProperties(ol.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=e===!0?el:Tn}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(H0.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});function jC(e,t,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new ji(e,n)}Object.defineProperties(zn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}});Object.defineProperties(gf.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return new Kc().load(e,function(i){t.setBuffer(i)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}});my.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};rr.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};rr.prototype.clear=function(e,t,n,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,n,i)};const QC={merge:function(e,t,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");let i;t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),i=t.matrix,t=t.geometry),e.merge(t,i,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};gr.crossOrigin=void 0;gr.loadTexture=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const o=new Hc;o.setCrossOrigin(this.crossOrigin);const r=o.load(e,n,void 0,i);return t&&(r.mapping=t),r};gr.loadTextureCube=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const o=new qc;o.setCrossOrigin(this.crossOrigin);const r=o.load(e,n,void 0,i);return t&&(r.mapping=t),r};gr.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};gr.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function YC(){console.error("THREE.CanvasRenderer has been removed")}function XC(){console.error("THREE.JSONLoader has been removed.")}const ZC={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function KC(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Jv}}));var vd=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Eg,AddEquation:jo,AddOperation:Sg,AdditiveAnimationBlendMode:Hh,AdditiveBlending:Nd,AlphaFormat:Fg,AlwaysDepth:vg,AlwaysStencilFunc:L0,AmbientLight:jc,AmbientLightProbe:vh,AnimationClip:Fn,AnimationLoader:sh,AnimationMixer:gh,AnimationObjectGroup:gy,AnimationUtils:Rt,ArcCurve:wa,ArrayCamera:Rc,ArrowHelper:cC,Audio:gf,AudioAnalyser:my,AudioContext:vf,AudioListener:qT,AudioLoader:Kc,AxesHelper:My,AxisHelper:VC,BackSide:Zt,BasicDepthPacking:C0,BasicShadowMap:d_,BinaryTextureLoader:$C,Bone:Bs,BooleanKeyframeTrack:Oc,BoundingBoxHelper:HC,Box2:yy,Box3:Pi,Box3Helper:sC,BoxBufferGeometry:nl,BoxGeometry:oh,BoxHelper:Sy,BufferAttribute:tt,BufferGeometry:Je,BufferGeometryLoader:Zc,ByteType:Lg,Cache:hr,Camera:Mi,CameraHelper:aC,CanvasRenderer:YC,CanvasTexture:Fs,CatmullRomCurve3:yn,CineonToneMapping:Cg,CircleBufferGeometry:Qh,CircleGeometry:$0,ClampToEdgeWrapping:wn,Clock:py,ClosedSplineCurve3:Ay,Color:We,ColorKeyframeTrack:Nc,CompressedTexture:ga,CompressedTextureLoader:lh,ConeBufferGeometry:Q0,ConeGeometry:j0,CubeCamera:rr,CubeGeometry:oh,CubeReflectionMapping:Zs,CubeRefractionMapping:Ks,CubeTexture:Ti,CubeTextureLoader:qc,CubeUVReflectionMapping:Aa,CubeUVRefractionMapping:Js,CubicBezierCurve:di,CubicBezierCurve3:Ei,CubicInterpolant:Ic,CullFaceBack:Od,CullFaceFront:tg,CullFaceFrontBack:u_,CullFaceNone:eg,Curve:Xe,CurvePath:Ui,CustomBlending:ig,CustomToneMapping:Ag,CylinderBufferGeometry:rl,CylinderGeometry:Yh,Cylindrical:JT,DataTexture:Qi,DataTexture2DArray:pa,DataTexture3D:ma,DataTextureLoader:Vc,DataUtils:dC,DecrementStencilOp:w_,DecrementWrapStencilOp:M_,DefaultLoadingManager:dy,DepthFormat:Ko,DepthStencilFormat:ha,DepthTexture:Os,DirectionalLight:$c,DirectionalLightHelper:rC,DiscreteInterpolant:Fc,DodecahedronBufferGeometry:Xh,DodecahedronGeometry:Y0,DoubleSide:Ys,DstAlphaFactor:ug,DstColorFactor:hg,DynamicBufferAttribute:RC,DynamicCopyUsage:D_,DynamicDrawUsage:nr,DynamicReadUsage:F_,EdgesGeometry:Zh,EdgesHelper:UC,EllipseCurve:Un,EqualDepth:yg,EqualStencilFunc:A_,EquirectangularReflectionMapping:Ec,EquirectangularRefractionMapping:Ac,Euler:ka,EventDispatcher:Li,ExtrudeBufferGeometry:al,ExtrudeGeometry:Kh,Face3:ws,Face4:vC,FaceColors:xC,FileLoader:Xn,FlatShading:Dh,Float16BufferAttribute:As,Float32Attribute:zC,Float32BufferAttribute:He,Float64Attribute:qC,Float64BufferAttribute:Ls,FloatType:Hi,Fog:wu,FogExp2:_u,Font:mf,FontLoader:ph,FrontSide:Ea,Frustum:il,GLBufferAttribute:_f,GLSL1:q_,GLSL3:Kd,GammaEncoding:yu,Geometry:St,GeometryUtils:QC,GreaterDepth:xg,GreaterEqualDepth:bg,GreaterEqualStencilFunc:k_,GreaterStencilFunc:P_,GridHelper:wy,Group:mo,HalfFloatType:bs,HemisphereLight:Uc,HemisphereLightHelper:iC,HemisphereLightProbe:mh,IcosahedronBufferGeometry:Jh,IcosahedronGeometry:J0,ImageBitmapLoader:fh,ImageLoader:_a,ImageUtils:gr,ImmediateRenderObject:Gs,IncrementStencilOp:__,IncrementWrapStencilOp:S_,InstancedBufferAttribute:Xc,InstancedBufferGeometry:Us,InstancedInterleavedBuffer:yh,InstancedMesh:kc,Int16Attribute:FC,Int16BufferAttribute:Cs,Int32Attribute:NC,Int32BufferAttribute:Es,Int8Attribute:kC,Int8BufferAttribute:Ss,IntType:Rg,InterleavedBuffer:Nn,InterleavedBufferAttribute:Mo,Interpolant:qn,InterpolateDiscrete:xs,InterpolateLinear:cs,InterpolateSmooth:bc,InvertStencilOp:T_,JSONLoader:XC,KeepStencilOp:xc,KeyframeTrack:un,LOD:Rs,LatheBufferGeometry:ef,LatheGeometry:ey,Layers:$h,LensFlare:KC,LessDepth:gg,LessEqualDepth:Cc,LessEqualStencilFunc:L_,LessStencilFunc:E_,Light:Pt,LightProbe:$n,Line:Yn,Line3:by,LineBasicMaterial:Ot,LineCurve:Rn,LineCurve3:hi,LineDashedMaterial:dr,LineLoop:Bc,LinePieces:yC,LineSegments:En,LineStrip:gC,LinearEncoding:Tn,LinearFilter:nn,LinearInterpolant:Vs,LinearMipMapLinearFilter:v_,LinearMipMapNearestFilter:m_,LinearMipmapLinearFilter:La,LinearMipmapNearestFilter:Vh,LinearToneMapping:Mg,Loader:bt,LoaderUtils:ff,LoadingManager:df,LogLuvEncoding:T0,LoopOnce:_0,LoopPingPong:S0,LoopRepeat:w0,LuminanceAlphaFormat:Ng,LuminanceFormat:Og,MOUSE:l_,Material:nt,MaterialLoader:Yc,Math:it,MathUtils:it,Matrix3:Mn,Matrix4:lt,MaxEquation:Vd,Mesh:Bt,MeshBasicMaterial:jn,MeshDepthMaterial:wo,MeshDistanceMaterial:So,MeshFaceMaterial:wC,MeshLambertMaterial:cr,MeshMatcapMaterial:ur,MeshNormalMaterial:lr,MeshPhongMaterial:Ao,MeshPhysicalMaterial:Eo,MeshStandardMaterial:Ci,MeshToonMaterial:sr,MinEquation:qd,MirroredRepeatWrapping:gs,MixOperation:wg,MultiMaterial:SC,MultiplyBlending:zd,MultiplyOperation:Xs,NearestFilter:Jt,NearestMipMapLinearFilter:p_,NearestMipMapNearestFilter:f_,NearestMipmapLinearFilter:Pc,NearestMipmapNearestFilter:Lc,NeverDepth:mg,NeverStencilFunc:C_,NoBlending:Gi,NoColors:bC,NoToneMapping:Zo,NormalAnimationBlendMode:gu,NormalBlending:oa,NotEqualDepth:_g,NotEqualStencilFunc:R_,NumberKeyframeTrack:ba,Object3D:Qe,ObjectLoader:FT,ObjectSpaceNormalMap:A0,OctahedronBufferGeometry:Mu,OctahedronGeometry:ty,OneFactor:sg,OneMinusDstAlphaFactor:dg,OneMinusDstColorFactor:fg,OneMinusSrcAlphaFactor:qh,OneMinusSrcColorFactor:cg,OrthographicCamera:Sa,PCFShadowMap:Nh,PCFSoftShadowMap:ng,PMREMGenerator:hC,ParametricBufferGeometry:ya,ParametricGeometry:qs,Particle:TC,ParticleBasicMaterial:AC,ParticleSystem:CC,ParticleSystemMaterial:LC,Path:si,PerspectiveCamera:Qt,Plane:xi,PlaneBufferGeometry:xu,PlaneGeometry:ny,PlaneHelper:lC,PointCloud:MC,PointCloudMaterial:EC,PointLight:Wc,PointLightHelper:tC,Points:va,PointsMaterial:ui,PolarGridHelper:oC,PolyhedronBufferGeometry:yr,PolyhedronGeometry:iy,PositionalAudio:HT,PropertyBinding:vn,PropertyMixer:yf,QuadraticBezierCurve:fi,QuadraticBezierCurve3:Ai,Quaternion:mn,QuaternionKeyframeTrack:Hs,QuaternionLinearInterpolant:Dc,REVISION:Jv,RGBADepthPacking:E0,RGBAFormat:Dn,RGBAIntegerFormat:Gg,RGBA_ASTC_10x10_Format:i0,RGBA_ASTC_10x5_Format:e0,RGBA_ASTC_10x6_Format:t0,RGBA_ASTC_10x8_Format:n0,RGBA_ASTC_12x10_Format:o0,RGBA_ASTC_12x12_Format:r0,RGBA_ASTC_4x4_Format:$g,RGBA_ASTC_5x4_Format:jg,RGBA_ASTC_5x5_Format:Qg,RGBA_ASTC_6x5_Format:Yg,RGBA_ASTC_6x6_Format:Xg,RGBA_ASTC_8x5_Format:Zg,RGBA_ASTC_8x6_Format:Kg,RGBA_ASTC_8x8_Format:Jg,RGBA_BPTC_Format:a0,RGBA_ETC2_EAC_Format:Zd,RGBA_PVRTC_2BPPV1_Format:Yd,RGBA_PVRTC_4BPPV1_Format:Qd,RGBA_S3TC_DXT1_Format:Ud,RGBA_S3TC_DXT3_Format:Gd,RGBA_S3TC_DXT5_Format:Wd,RGBDEncoding:Wh,RGBEEncoding:bu,RGBEFormat:Dg,RGBFormat:go,RGBIntegerFormat:Ug,RGBM16Encoding:Gh,RGBM7Encoding:Uh,RGB_ETC1_Format:Wg,RGB_ETC2_Format:Xd,RGB_PVRTC_2BPPV1_Format:jd,RGB_PVRTC_4BPPV1_Format:$d,RGB_S3TC_DXT1_Format:Hd,RGFormat:Vg,RGIntegerFormat:Hg,RawShaderMaterial:Yi,Ray:Ra,Raycaster:wf,RectAreaLight:Qc,RedFormat:zg,RedIntegerFormat:qg,ReinhardToneMapping:Tg,RepeatWrapping:vs,ReplaceStencilOp:x_,ReverseSubtractEquation:rg,RingBufferGeometry:tf,RingGeometry:oy,SRGB8_ALPHA8_ASTC_10x10_Format:y0,SRGB8_ALPHA8_ASTC_10x5_Format:m0,SRGB8_ALPHA8_ASTC_10x6_Format:v0,SRGB8_ALPHA8_ASTC_10x8_Format:g0,SRGB8_ALPHA8_ASTC_12x10_Format:b0,SRGB8_ALPHA8_ASTC_12x12_Format:x0,SRGB8_ALPHA8_ASTC_4x4_Format:s0,SRGB8_ALPHA8_ASTC_5x4_Format:l0,SRGB8_ALPHA8_ASTC_5x5_Format:c0,SRGB8_ALPHA8_ASTC_6x5_Format:u0,SRGB8_ALPHA8_ASTC_6x6_Format:d0,SRGB8_ALPHA8_ASTC_8x5_Format:h0,SRGB8_ALPHA8_ASTC_8x6_Format:f0,SRGB8_ALPHA8_ASTC_8x8_Format:p0,Scene:jh,SceneUtils:ZC,ShaderChunk:ut,ShaderLib:ri,ShaderMaterial:Cn,ShadowMaterial:ar,Shape:bo,ShapeBufferGeometry:nf,ShapeGeometry:of,ShapePath:pf,ShapeUtils:Wi,ShortType:Pg,Skeleton:Is,SkeletonHelper:xy,SkinnedMesh:ks,SmoothShading:h_,Sphere:Zi,SphereBufferGeometry:Tu,SphereGeometry:ry,Spherical:KT,SphericalHarmonics3:hy,Spline:Tf,SplineCurve:pi,SplineCurve3:Ly,SpotLight:Gc,SpotLightHelper:eC,Sprite:Ps,SpriteMaterial:To,SrcAlphaFactor:zh,SrcAlphaSaturateFactor:pg,SrcColorFactor:lg,StaticCopyUsage:N_,StaticDrawUsage:tl,StaticReadUsage:I_,StereoCamera:fy,StreamCopyUsage:z_,StreamDrawUsage:B_,StreamReadUsage:O_,StringKeyframeTrack:zc,SubtractEquation:og,SubtractiveBlending:Dd,TOUCH:c_,TangentSpaceNormalMap:vr,TetrahedronBufferGeometry:rf,TetrahedronGeometry:ay,TextBufferGeometry:af,TextGeometry:sy,Texture:Mt,TextureLoader:Hc,TorusBufferGeometry:sf,TorusGeometry:ly,TorusKnotBufferGeometry:lf,TorusKnotGeometry:cy,Triangle:cn,TriangleFanDrawMode:y_,TriangleStripDrawMode:g_,TrianglesDrawMode:M0,TubeBufferGeometry:cf,TubeGeometry:uy,UVMapping:vu,Uint16Attribute:OC,Uint16BufferAttribute:ir,Uint32Attribute:DC,Uint32BufferAttribute:or,Uint8Attribute:BC,Uint8BufferAttribute:Ms,Uint8ClampedAttribute:IC,Uint8ClampedBufferAttribute:Ts,Uniform:Cu,UniformsLib:qe,UniformsUtils:B0,UnsignedByteType:Pa,UnsignedInt248Type:ra,UnsignedIntType:ls,UnsignedShort4444Type:kg,UnsignedShort5551Type:Bg,UnsignedShort565Type:Ig,UnsignedShortType:ys,VSMShadowMap:Zr,Vector2:Ae,Vector3:H,Vector4:_t,VectorKeyframeTrack:xa,Vertex:PC,VertexColors:_C,VideoTexture:ih,WebGL1Renderer:th,WebGLCubeRenderTarget:ji,WebGLMultisampleRenderTarget:Jd,WebGLRenderTarget:zn,WebGLRenderTargetCube:jC,WebGLRenderer:ol,WebGLUtils:U0,WireframeGeometry:uf,WireframeHelper:GC,WrapAroundEnding:_s,XHRLoader:WC,ZeroCurvatureEnding:Qo,ZeroFactor:ag,ZeroSlopeEnding:Yo,ZeroStencilOp:b_,sRGBEncoding:el},Symbol.toStringTag,{value:"Module"}));Number.prototype.clamp=function(e,t){return Math.min(Math.max(this,e),t)};function Py(){return typeof navigator!="undefined"?/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600:null}function Ry(e,t){return e==null&&(e=0),t==null&&(t=1),e+Math.random()*(t-e)}function ho(e,t){return e==null&&(e=0),t==null&&(t=1),Math.floor(e+Math.random()*(t-e+1))}const JC=e=>document.querySelector(e),eE=e=>typeof e=="number"?"#"+("00000"+e.toString(16)).slice(-6):e,bm=e=>.299*e.r+.587*e.g+.114*e.b;function ky(e){for(;e.children&&e.children.length>0;)ky(e.children[0]),e.remove(e.children[0]);e.geometry&&e.geometry.dispose(),e.material&&(Object.keys(e.material).forEach(t=>{!e.material[t]||e.material[t]!==null&&typeof e.material[t].dispose=="function"&&e.material[t].dispose()}),e.material.dispose())}const Eu=typeof window=="object";let oc=Eu&&window.THREE||{};Eu&&!window.VANTA&&(window.VANTA={});const Si=Eu&&window.VANTA||{};Si.register=(e,t)=>Si[e]=n=>new t(n);Si.version="0.5.22";const gd=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};Si.VantaBase=class{constructor(t={}){if(!Eu)return!1;Si.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const n=typeof this.getDefaultOptions=="function"?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},n),(t instanceof HTMLElement||typeof t=="string")&&(t={el:t}),Object.assign(this.options,t),this.options.THREE&&(oc=this.options.THREE),this.el=this.options.el,this.el==null)gd('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const o=this.el;if(this.el=JC(o),!this.el){gd("Cannot find element",o);return}}this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(o){gd("Init error",o),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=eE(this.options.backgroundColor));return}this.initMouse(),this.resize(),this.animationLoop();const i=window.addEventListener;i("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(i("scroll",this.windowMouseMoveWrapper),i("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(i("touchstart",this.windowTouchWrapper),i("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&i("deviceorientation",this.windowGyroWrapper)}setOptions(t={}){Object.assign(this.options,t),this.triggerMouseMove()}prepareEl(){let t,n;if(typeof Node!="undefined"&&Node.TEXT_NODE)for(t=0;t<this.el.childNodes.length;t++){const i=this.el.childNodes[t];if(i.nodeType===Node.TEXT_NODE){const o=document.createElement("span");o.textContent=i.textContent,i.parentElement.insertBefore(o,i),i.remove()}}for(t=0;t<this.el.children.length;t++)n=this.el.children[t],getComputedStyle(n).position==="static"&&(n.style.position="relative"),getComputedStyle(n).zIndex==="auto"&&(n.style.zIndex=1);getComputedStyle(this.el).position==="static"&&(this.el.style.position="relative")}applyCanvasStyles(t,n={}){Object.assign(t.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(t.style,n),t.classList.add("vanta-canvas")}initThree(){if(!oc.WebGLRenderer){console.warn("[VANTA] No THREE defined on window");return}this.renderer=new oc.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new oc.Scene}getCanvasElement(){if(this.renderer)return this.renderer.domElement;if(this.p5renderer)return this.p5renderer.canvas}getCanvasRect(){const t=this.getCanvasElement();return t?t.getBoundingClientRect():!1}windowMouseMoveWrapper(t){const n=this.getCanvasRect();if(!n)return!1;const i=t.clientX-n.left,o=t.clientY-n.top;i>=0&&o>=0&&i<=n.width&&o<=n.height&&(this.mouseX=i,this.mouseY=o,this.options.mouseEase||this.triggerMouseMove(i,o))}windowTouchWrapper(t){const n=this.getCanvasRect();if(!n)return!1;if(t.touches.length===1){const i=t.touches[0].clientX-n.left,o=t.touches[0].clientY-n.top;i>=0&&o>=0&&i<=n.width&&o<=n.height&&(this.mouseX=i,this.mouseY=o,this.options.mouseEase||this.triggerMouseMove(i,o))}}windowGyroWrapper(t){const n=this.getCanvasRect();if(!n)return!1;const i=Math.round(t.alpha*2)-n.left,o=Math.round(t.beta*2)-n.top;i>=0&&o>=0&&i<=n.width&&o<=n.height&&(this.mouseX=i,this.mouseY=o,this.options.mouseEase||this.triggerMouseMove(i,o))}triggerMouseMove(t,n){t===void 0&&n===void 0&&(this.options.mouseEase?(t=this.mouseEaseX,n=this.mouseEaseY):(t=this.mouseX,n=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=t/this.scale,this.uniforms.iMouse.value.y=n/this.scale);const i=t/this.width,o=n/this.height;typeof this.onMouseMove=="function"&&this.onMouseMove(i,o)}setSize(){this.scale||(this.scale=1),Py()&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,typeof this.camera.updateProjectionMatrix=="function"&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),typeof this.onResize=="function"&&this.onResize()}isOnScreen(){const t=this.el.offsetHeight,n=this.el.getBoundingClientRect(),i=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,o=n.top+i,r=o-window.innerHeight,a=o+t;return r<=i&&i<=a}animationLoop(){return this.t||(this.t=0),this.t+=1,this.t2||(this.t2=0),this.t2+=this.options.speed||1,this.uniforms&&(this.uniforms.iTime.value=this.t2*.016667),this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=(this.mouseX-this.mouseEaseX)*.05,this.mouseEaseY+=(this.mouseY-this.mouseEaseY)*.05,this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&(typeof this.onUpdate=="function"&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),typeof this.afterRender=="function"&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);typeof this.onRestart=="function"&&this.onRestart(),this.init()}init(){typeof this.onInit=="function"&&this.onInit()}destroy(){typeof this.onDestroy=="function"&&this.onDestroy();const t=window.removeEventListener;t("touchstart",this.windowTouchWrapper),t("touchmove",this.windowTouchWrapper),t("scroll",this.windowMouseMoveWrapper),t("mousemove",this.windowMouseMoveWrapper),t("deviceorientation",this.windowGyroWrapper),t("resize",this.resize),window.cancelAnimationFrame(this.req);const n=this.scene;n&&n.children&&ky(n),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),Si.current===this&&(Si.current=null)}};var By=Si.VantaBase;const tE=typeof window=="object";let Ct=tE&&window.THREE;class Iy extends By{static initClass(){this.prototype.defaultOptions={color:16727937,backgroundColor:2299196,points:10,maxDistance:20,spacing:15,showDots:!0}}constructor(t){Ct=t.THREE||Ct,super(t)}genPoint(t,n,i){let o;if(this.points||(this.points=[]),this.options.showDots){const r=new Ct.SphereGeometry(.25,12,12),a=new Ct.MeshLambertMaterial({color:this.options.color});o=new Ct.Mesh(r,a)}else o=new Ct.Object3D;return this.cont.add(o),o.ox=t,o.oy=n,o.oz=i,o.position.set(t,n,i),o.r=Ry(-2,2),this.points.push(o)}onInit(){this.cont=new Ct.Group,this.cont.position.set(0,0,0),this.scene.add(this.cont);let t=this.options.points,{spacing:n}=this.options;Py()&&(t=~~(t*.75),n=~~(n*.65));const i=t*t*2;this.linePositions=new Float32Array(i*i*3),this.lineColors=new Float32Array(i*i*3);const o=bm(new Ct.Color(this.options.color)),r=bm(new Ct.Color(this.options.backgroundColor));this.blending=o>r?"additive":"subtractive";const a=new Ct.BufferGeometry;a.setAttribute("position",new Ct.BufferAttribute(this.linePositions,3).setUsage(Ct.DynamicDrawUsage)),a.setAttribute("color",new Ct.BufferAttribute(this.lineColors,3).setUsage(Ct.DynamicDrawUsage)),a.computeBoundingSphere(),a.setDrawRange(0,0);const s=new Ct.LineBasicMaterial({vertexColors:Ct.VertexColors,blending:this.blending==="additive"?Ct.AdditiveBlending:null,transparent:!0});this.linesMesh=new Ct.LineSegments(a,s),this.cont.add(this.linesMesh);for(let c=0;c<=t;c++)for(let u=0;u<=t;u++){const d=ho(-3,3),f=(c-t/2)*n+ho(-5,5);let h=(u-t/2)*n+ho(-5,5);c%2&&(h+=n*.5),this.genPoint(f,d-ho(5,15),h),this.genPoint(f+ho(-5,5),d+ho(5,15),h+ho(-5,5))}this.camera=new Ct.PerspectiveCamera(25,this.width/this.height,.01,1e4),this.camera.position.set(50,100,150),this.scene.add(this.camera);const l=new Ct.AmbientLight(16777215,.75);return this.scene.add(l),this.spot=new Ct.SpotLight(16777215,1),this.spot.position.set(0,200,0),this.spot.distance=400,this.spot.target=this.cont,this.scene.add(this.spot)}onDestroy(){this.scene&&this.scene.remove(this.linesMesh),this.spot=this.points=this.linesMesh=this.lineColors=this.linePositions=null}setOptions(t){super.setOptions(t),t.color&&this.points.forEach(n=>{n.material.color=new Ct.Color(t.color)})}onUpdate(){let t;const n=this.camera;Math.abs(n.tx-n.position.x)>.01&&(t=n.tx-n.position.x,n.position.x+=t*.02),Math.abs(n.ty-n.position.y)>.01&&(t=n.ty-n.position.y,n.position.y+=t*.02),n.lookAt(new Ct.Vector3(0,0,0));let i=0,o=0,r=0;const a=new Ct.Color(this.options.backgroundColor),s=new Ct.Color(this.options.color),l=s.clone().sub(a);this.rayCaster&&this.rayCaster.setFromCamera(new Ct.Vector2(this.rcMouseX,this.rcMouseY),this.camera);for(let c=0;c<this.points.length;c++){let u,d;const f=this.points[c];this.rayCaster?d=this.rayCaster.ray.distanceToPoint(f.position):d=1e3;const h=d.clamp(5,15);if(f.scale.x=f.scale.y=f.scale.z=((15-h)*.25).clamp(1,100),f.r!==0){let p=Math.atan2(f.position.z,f.position.x);u=Math.sqrt(f.position.z*f.position.z+f.position.x*f.position.x),p+=25e-5*f.r,f.position.x=u*Math.cos(p),f.position.z=u*Math.sin(p)}for(let p=c;p<this.points.length;p++){const y=this.points[p],b=f.position.x-y.position.x,g=f.position.y-y.position.y,m=f.position.z-y.position.z;if(u=Math.sqrt(b*b+g*g+m*m),u<this.options.maxDistance){let _;const x=((1-u/this.options.maxDistance)*2).clamp(0,1);this.blending==="additive"?_=new Ct.Color(0).lerp(l,x):_=a.clone().lerp(s,x),this.linePositions[i++]=f.position.x,this.linePositions[i++]=f.position.y,this.linePositions[i++]=f.position.z,this.linePositions[i++]=y.position.x,this.linePositions[i++]=y.position.y,this.linePositions[i++]=y.position.z,this.lineColors[o++]=_.r,this.lineColors[o++]=_.g,this.lineColors[o++]=_.b,this.lineColors[o++]=_.r,this.lineColors[o++]=_.g,this.lineColors[o++]=_.b,r++}}}return this.linesMesh.geometry.setDrawRange(0,r*2),this.linesMesh.geometry.attributes.position.needsUpdate=!0,this.linesMesh.geometry.attributes.color.needsUpdate=!0,this.t*.001}onMouseMove(t,n){const i=this.camera;i.oy||(i.oy=i.position.y,i.ox=i.position.x,i.oz=i.position.z);const o=Math.atan2(i.oz,i.ox),r=Math.sqrt(i.oz*i.oz+i.ox*i.ox),a=o+(t-.5)*2*(this.options.mouseCoeffX||1);i.tz=r*Math.sin(a),i.tx=r*Math.cos(a),i.ty=i.oy+(n-.5)*50*(this.options.mouseCoeffY||1),this.rayCaster,this.rcMouseX=t*2-1,this.rcMouseY=-t*2+1}onRestart(){this.scene&&this.scene.remove(this.linesMesh),this.points=[]}}Iy.initClass();Si.register("NET",Iy);let rn=typeof window=="object"&&window.THREE;const nE={color:21896,shininess:30,waveHeight:15,waveSpeed:1,zoom:1};class Cf extends By{static initClass(){this.prototype.ww=100,this.prototype.hh=80,this.prototype.waveNoise=4}constructor(t){rn=t.THREE||rn,super(t)}getMaterial(){const t={color:this.options.color,shininess:this.options.shininess,flatShading:!0,vertexColors:rn.FaceColors,side:rn.DoubleSide};return new rn.MeshPhongMaterial(t)}onInit(){let t,n;const o=this.getMaterial(),r=new rn.Geometry;for(this.gg=[],t=0;t<=this.ww;t++)for(this.gg[t]=[],n=0;n<=this.hh;n++){const u=r.vertices.length,d=new rn.Vector3((t-this.ww*.5)*18,Ry(0,this.waveNoise)-10,(this.hh*.5-n)*18);r.vertices.push(d),this.gg[t][n]=u}for(t=1;t<=this.ww;t++)for(n=1;n<=this.hh;n++){let u,d;const f=this.gg[t][n],h=this.gg[t][n-1],p=this.gg[t-1][n],y=this.gg[t-1][n-1];ho(0,1)?(u=new rn.Face3(y,h,p),d=new rn.Face3(h,p,f)):(u=new rn.Face3(y,h,f),d=new rn.Face3(y,p,f)),r.faces.push(u,d)}this.plane=new rn.Mesh(r,o),this.scene.add(this.plane);const a=new rn.AmbientLight(16777215,.9);this.scene.add(a);const s=new rn.PointLight(16777215,.9);s.position.set(-100,250,-100),this.scene.add(s),this.camera=new rn.PerspectiveCamera(35,this.width/this.height,50,1e4);const l=-10,c=-10;this.cameraPosition=new rn.Vector3(250+l,200,400+c),this.cameraTarget=new rn.Vector3(150+l,-30,200+c),this.camera.position.copy(this.cameraPosition),this.scene.add(this.camera)}onUpdate(){let t;this.plane.material.color.set(this.options.color),this.plane.material.shininess=this.options.shininess,this.camera.ox=this.cameraPosition.x/this.options.zoom,this.camera.oy=this.cameraPosition.y/this.options.zoom,this.camera.oz=this.cameraPosition.z/this.options.zoom,this.controls!=null&&this.controls.update();const n=this.camera;Math.abs(n.tx-n.position.x)>.01&&(t=n.tx-n.position.x,n.position.x+=t*.02),Math.abs(n.ty-n.position.y)>.01&&(t=n.ty-n.position.y,n.position.y+=t*.02),Math.abs(n.tz-n.position.z)>.01&&(t=n.tz-n.position.z,n.position.z+=t*.02),n.lookAt(this.cameraTarget);for(let i=0;i<this.plane.geometry.vertices.length;i++){const o=this.plane.geometry.vertices[i];if(!o.oy)o.oy=o.y;else{const r=this.options.waveSpeed,a=Math.sqrt(r)*Math.cos(-o.x-o.z*.7),s=Math.sin(r*this.t*.02-r*o.x*.025+r*o.z*.015+a),l=Math.pow(s+1,2)/4;o.y=o.oy+l*this.options.waveHeight}}this.plane.geometry.dynamic=!0,this.plane.geometry.computeFaceNormals(),this.plane.geometry.verticesNeedUpdate=!0,this.plane.geometry.normalsNeedUpdate=!0,this.wireframe&&(this.wireframe.geometry.fromGeometry(this.plane.geometry),this.wireframe.geometry.computeFaceNormals())}onMouseMove(t,n){const i=this.camera;return i.oy||(i.oy=i.position.y,i.ox=i.position.x,i.oz=i.position.z),i.tx=i.ox+(t-.5)*100/this.options.zoom,i.ty=i.oy+(n-.5)*-100/this.options.zoom,i.tz=i.oz+(t-.5)*-50/this.options.zoom}}Cf.prototype.defaultOptions=nE;Cf.initClass();var xm=Si.register("WAVES",Cf);/*!
 * Quasar Framework v2.7.4
 * (c) 2015-present Razvan Stoenescu
 * Released under the MIT License.
 */function Ln(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0})}function iE(e,t){for(const n in t)Ln(e,n,t[n])}const mi=K(!1);let Ef;function oE(e,t){const n=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(vivaldi)[\/]([\w.]+)/.exec(e)||/(chrome|crios)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(firefox|fxios)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(e)||[];return{browser:n[5]||n[3]||n[1]||"",version:n[2]||n[4]||"0",versionNumber:n[4]||n[2]||"0",platform:t[0]||""}}function rE(e){return/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[]}const Fy="ontouchstart"in window||window.navigator.maxTouchPoints>0;function aE(e){Ef={is:V({},e)},delete e.mac,delete e.desktop;const t=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(e,{mobile:!0,ios:!0,platform:t,[t]:!0})}function sE(e){const t=e.toLowerCase(),n=rE(t),i=oE(t,n),o={};i.browser&&(o[i.browser]=!0,o.version=i.version,o.versionNumber=parseInt(i.versionNumber,10)),i.platform&&(o[i.platform]=!0);const r=o.android||o.ios||o.bb||o.blackberry||o.ipad||o.iphone||o.ipod||o.kindle||o.playbook||o.silk||o["windows phone"];return r===!0||t.indexOf("mobile")>-1?(o.mobile=!0,o.edga||o.edgios?(o.edge=!0,i.browser="edge"):o.crios?(o.chrome=!0,i.browser="chrome"):o.fxios&&(o.firefox=!0,i.browser="firefox")):o.desktop=!0,(o.ipod||o.ipad||o.iphone)&&(o.ios=!0),o["windows phone"]&&(o.winphone=!0,delete o["windows phone"]),(o.chrome||o.opr||o.safari||o.vivaldi||o.mobile===!0&&o.ios!==!0&&r!==!0)&&(o.webkit=!0),o.edg&&(i.browser="edgechromium",o.edgeChromium=!0),(o.safari&&o.blackberry||o.bb)&&(i.browser="blackberry",o.blackberry=!0),o.safari&&o.playbook&&(i.browser="playbook",o.playbook=!0),o.opr&&(i.browser="opera",o.opera=!0),o.safari&&o.android&&(i.browser="android",o.android=!0),o.safari&&o.kindle&&(i.browser="kindle",o.kindle=!0),o.safari&&o.silk&&(i.browser="silk",o.silk=!0),o.vivaldi&&(i.browser="vivaldi",o.vivaldi=!0),o.name=i.browser,o.platform=i.platform,t.indexOf("electron")>-1?o.electron=!0:document.location.href.indexOf("-extension://")>-1?o.bex=!0:(window.Capacitor!==void 0?(o.capacitor=!0,o.nativeMobile=!0,o.nativeMobileWrapper="capacitor"):window._cordovaNative===void 0&&window.cordova===void 0||(o.cordova=!0,o.nativeMobile=!0,o.nativeMobileWrapper="cordova"),Fy===!0&&o.mac===!0&&(o.desktop===!0&&o.safari===!0||o.nativeMobile===!0&&o.android!==!0&&o.ios!==!0&&o.ipad!==!0)&&aE(o)),o}const _m=navigator.userAgent||navigator.vendor||window.opera,lE={has:{touch:!1,webStorage:!1},within:{iframe:!1}},ot={userAgent:_m,is:sE(_m),has:{touch:Fy},within:{iframe:window.self!==window.top}},xh={install(e){const{$q:t}=e;mi.value===!0?(e.onSSRHydrated.push(()=>{mi.value=!1,Object.assign(t.platform,ot),Ef=void 0}),t.platform=Xr(this)):t.platform=this}};{let e;Ln(ot.has,"webStorage",()=>{if(e!==void 0)return e;try{if(window.localStorage)return e=!0,!0}catch{}return e=!1,!1}),ot.is.ios===!0&&window.navigator.vendor.toLowerCase().indexOf("apple"),mi.value===!0?Object.assign(xh,ot,Ef,lE):Object.assign(xh,ot)}var ko=(e,t)=>{const n=Xr(e);for(const i in e)Ln(t,i,()=>n[i],o=>{n[i]=o});return t};const xt={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const e=Object.defineProperty({},"passive",{get(){Object.assign(xt,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,e),window.removeEventListener("qtest",null,e)}catch{}function Ft(){}function Au(e){return e.button===0}function An(e){return e.touches&&e.touches[0]?e=e.touches[0]:e.changedTouches&&e.changedTouches[0]?e=e.changedTouches[0]:e.targetTouches&&e.targetTouches[0]&&(e=e.targetTouches[0]),{top:e.clientY,left:e.clientX}}function cE(e){if(e.path)return e.path;if(e.composedPath)return e.composedPath();const t=[];let n=e.target;for(;n;){if(t.push(n),n.tagName==="HTML")return t.push(document),t.push(window),t;n=n.parentElement}}function It(e){e.stopPropagation()}function en(e){e.cancelable!==!1&&e.preventDefault()}function rt(e){e.cancelable!==!1&&e.preventDefault(),e.stopPropagation()}function sa(e,t){if(e===void 0||t===!0&&e.__dragPrevented===!0)return;const n=t===!0?i=>{i.__dragPrevented=!0,i.addEventListener("dragstart",en,xt.notPassiveCapture)}:i=>{delete i.__dragPrevented,i.removeEventListener("dragstart",en,xt.notPassiveCapture)};e.querySelectorAll("a, img").forEach(n)}function Nt(e,t,n){const i=`__q_${t}_evt`;e[i]=e[i]!==void 0?e[i].concat(n):n,n.forEach(o=>{o[0].addEventListener(o[1],e[o[2]],xt[o[3]])})}function gn(e,t){const n=`__q_${t}_evt`;e[n]!==void 0&&(e[n].forEach(i=>{i[0].removeEventListener(i[1],e[i[2]],xt[i[3]])}),e[n]=void 0)}function Ia(e,t=250,n){let i;function o(){const r=arguments,a=()=>{i=void 0,n!==!0&&e.apply(this,r)};clearTimeout(i),n===!0&&i===void 0&&e.apply(this,r),i=setTimeout(a,t)}return o.cancel=()=>{clearTimeout(i)},o}const yd=["sm","md","lg","xl"],{passive:wm}=xt;ko({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:Ft,setDebounce:Ft,install({$q:e,onSSRHydrated:t}){if(e.screen=this,this.__installed===!0)return void(e.config.screen!==void 0&&(e.config.screen.bodyClasses===!1?document.body.classList.remove(`screen--${this.name}`):this.__update(!0)));const{visualViewport:n}=window,i=n||window,o=document.scrollingElement||document.documentElement,r=n===void 0||ot.is.mobile===!0?()=>[Math.max(window.innerWidth,o.clientWidth),Math.max(window.innerHeight,o.clientHeight)]:()=>[n.width*n.scale+window.innerWidth-o.clientWidth,n.height*n.scale+window.innerHeight-o.clientHeight],a=e.config.screen!==void 0&&e.config.screen.bodyClasses===!0;this.__update=d=>{const[f,h]=r();if(h!==this.height&&(this.height=h),f!==this.width)this.width=f;else if(d!==!0)return;let p=this.sizes;this.gt.xs=f>=p.sm,this.gt.sm=f>=p.md,this.gt.md=f>=p.lg,this.gt.lg=f>=p.xl,this.lt.sm=f<p.sm,this.lt.md=f<p.md,this.lt.lg=f<p.lg,this.lt.xl=f<p.xl,this.xs=this.lt.sm,this.sm=this.gt.xs===!0&&this.lt.md===!0,this.md=this.gt.sm===!0&&this.lt.lg===!0,this.lg=this.gt.md===!0&&this.lt.xl===!0,this.xl=this.gt.lg,p=(this.xs===!0?"xs":this.sm===!0&&"sm")||this.md===!0&&"md"||this.lg===!0&&"lg"||"xl",p!==this.name&&(a===!0&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${p}`)),this.name=p)};let s,l={},c=16;this.setSizes=d=>{yd.forEach(f=>{d[f]!==void 0&&(l[f]=d[f])})},this.setDebounce=d=>{c=d};const u=()=>{const d=getComputedStyle(document.body);d.getPropertyValue("--q-size-sm")&&yd.forEach(f=>{this.sizes[f]=parseInt(d.getPropertyValue(`--q-size-${f}`),10)}),this.setSizes=f=>{yd.forEach(h=>{f[h]&&(this.sizes[h]=f[h])}),this.__update(!0)},this.setDebounce=f=>{s!==void 0&&i.removeEventListener("resize",s,wm),s=f>0?Ia(this.__update,f):this.__update,i.addEventListener("resize",s,wm)},this.setDebounce(c),Object.keys(l).length>0?(this.setSizes(l),l=void 0):this.__update(),a===!0&&this.name==="xs"&&document.body.classList.add("screen--xs")};mi.value===!0?t.push(u):u()}});const hn=ko({isActive:!1,mode:!1},{__media:void 0,set(e){hn.mode=e,e==="auto"?(hn.__media===void 0&&(hn.__media=window.matchMedia("(prefers-color-scheme: dark)"),hn.__updateMedia=()=>{hn.set("auto")},hn.__media.addListener(hn.__updateMedia)),e=hn.__media.matches):hn.__media!==void 0&&(hn.__media.removeListener(hn.__updateMedia),hn.__media=void 0),hn.isActive=e===!0,document.body.classList.remove(`body--${e===!0?"light":"dark"}`),document.body.classList.add(`body--${e===!0?"dark":"light"}`)},toggle(){hn.set(hn.isActive===!1)},install({$q:e,onSSRHydrated:t,ssrContext:n}){const{dark:i}=e.config;if(e.dark=this,this.__installed===!0&&i===void 0)return;this.isActive=i===!0;const o=i!==void 0&&i;if(mi.value===!0){const r=s=>{this.__fromSSR=s},a=this.set;this.set=r,r(o),t.push(()=>{this.set=a,this.set(this.__fromSSR)})}else this.set(o)}}),Oy=()=>!0;function uE(e){return typeof e=="string"&&e!==""&&e!=="/"&&e!=="#/"}function dE(e){return e.startsWith("#")===!0&&(e=e.substring(1)),e.startsWith("/")===!1&&(e="/"+e),e.endsWith("/")===!0&&(e=e.substring(0,e.length-1)),"#"+e}function hE(e){if(e.backButtonExit===!1)return()=>!1;if(e.backButtonExit==="*")return Oy;const t=["#/"];return Array.isArray(e.backButtonExit)===!0&&t.push(...e.backButtonExit.filter(uE).map(dE)),()=>t.includes(window.location.hash)}var fE={__history:[],add:Ft,remove:Ft,install({$q:e}){if(this.__installed===!0)return;const{cordova:t,capacitor:n}=ot.is;if(t!==!0&&n!==!0)return;const i=e.config[t===!0?"cordova":"capacitor"];if(i!==void 0&&i.backButton===!1||n===!0&&(window.Capacitor===void 0||window.Capacitor.Plugins.App===void 0))return;this.add=a=>{a.condition===void 0&&(a.condition=Oy),this.__history.push(a)},this.remove=a=>{const s=this.__history.indexOf(a);s>=0&&this.__history.splice(s,1)};const o=hE(Object.assign({backButtonExit:!0},i)),r=()=>{if(this.__history.length){const a=this.__history[this.__history.length-1];a.condition()===!0&&(this.__history.pop(),a.handler())}else o()===!0?navigator.app.exitApp():window.history.back()};t===!0?document.addEventListener("deviceready",()=>{document.addEventListener("backbutton",r,!1)}):window.Capacitor.Plugins.App.addListener("backButton",r)}},_h={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:e=>e===1?"1 record selected.":(e===0?"No":e)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(e,t,n)=>e+"-"+t+" of "+n,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function Sm(){const e=Array.isArray(navigator.languages)===!0&&navigator.languages.length>0?navigator.languages[0]:navigator.language;if(typeof e=="string")return e.split(/[-_]/).map((t,n)=>n===0?t.toLowerCase():n>1||t.length<4?t.toUpperCase():t[0].toUpperCase()+t.slice(1).toLowerCase()).join("-")}const fo=ko({__langPack:{}},{getLocale:Sm,set(e=_h,t){const n=ye(V({},e),{rtl:e.rtl===!0,getLocale:Sm});{const i=document.documentElement;i.setAttribute("dir",n.rtl===!0?"rtl":"ltr"),i.setAttribute("lang",n.isoName),n.set=fo.set,Object.assign(fo.__langPack,n),fo.props=n,fo.isoName=n.isoName,fo.nativeName=n.nativeName}},install({$q:e,lang:t,ssrContext:n}){e.lang=fo.__langPack,this.__installed===!0?t!==void 0&&this.set(t):this.set(t||_h)}});function br(e){return e!==Object(e)||e.isComposing===!0||e.qKeyEvent===!0}function Zn(e,t){return br(e)!==!0&&[].concat(t).includes(e.keyCode)}var pE={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}};const Mm=ko({iconMapFn:null,__icons:{}},{set(e,t){const n=ye(V({},e),{rtl:e.rtl===!0});n.set=Mm.set,Object.assign(Mm.__icons,n)},install({$q:e,iconSet:t,ssrContext:n}){e.config.iconMapFn!==void 0&&(this.iconMapFn=e.config.iconMapFn),e.iconSet=this.__icons,Ln(e,"iconMapFn",()=>this.iconMapFn,i=>{this.iconMapFn=i}),this.__installed===!0?t!==void 0&&this.set(t):this.set(t||pE)}}),mE="_q_",Ny="_q_t_",Dy="_q_s_",xr="_q_l_",zy="_q_pc_",qy="_q_f_",na="_q_fo_",Vy="_q_tabs_",Hy="_q_u_",Tm={},vE=typeof Map=="function",gE=typeof Set=="function",yE=typeof ArrayBuffer=="function";function _i(e,t){if(e===t)return!0;if(e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,i;if(e.constructor===Array){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(_i(e[i],t[i])!==!0)return!1;return!0}if(vE===!0&&e.constructor===Map){if(e.size!==t.size)return!1;for(i=e.entries().next();i.done!==!0;){if(t.has(i.value[0])!==!0)return!1;i=i.next()}for(i=e.entries().next();i.done!==!0;){if(_i(i.value[1],t.get(i.value[0]))!==!0)return!1;i=i.next()}return!0}if(gE===!0&&e.constructor===Set){if(e.size!==t.size)return!1;for(i=e.entries().next();i.done!==!0;){if(t.has(i.value[0])!==!0)return!1;i=i.next()}return!0}if(yE===!0&&e.buffer!=null&&e.buffer.constructor===ArrayBuffer){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const o=Object.keys(e).filter(r=>e[r]!==void 0);if(n=o.length,n!==Object.keys(t).filter(r=>t[r]!==void 0).length)return!1;for(i=n;i--!==0;){const r=o[i];if(_i(e[r],t[r])!==!0)return!1}return!0}return e!==e&&t!==t}function Sn(e){return e!==null&&typeof e=="object"&&Array.isArray(e)!==!0}function wh(e){return Object.prototype.toString.call(e)==="[object Date]"}function bE(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Ws(e){return typeof e=="number"&&isFinite(e)}function xE(e,t){const n=Zv(e);n.config.globalProperties=t.config.globalProperties;const r=t._context,{reload:i}=r,o=qa(r,["reload"]);return Object.assign(n._context,o),n}const we=e=>$v(jv(e)),vi=e=>$v(e),Cm=["B","KB","MB","GB","TB","PB"];function Sh(e){let t=0;for(;parseInt(e,10)>=1024&&t<Cm.length-1;)e/=1024,++t;return`${e.toFixed(1)}${Cm[t]}`}function wt(e,t,n){return n<=t?t:Math.min(n,Math.max(t,e))}function Jc(e,t,n){if(n<=t)return t;const i=n-t+1;let o=t+(e-t)%i;return o<t&&(o=i+o),o===0?0:o}function vt(e,t=2,n="0"){if(e==null)return e;const i=""+e;return i.length>=t?i:new Array(t-i.length+1).join(n)+i}const Af=XMLHttpRequest,Uy=Af.prototype.open,_E=["top","right","bottom","left"];let eu=[],ps=0;function wE({p:e,pos:t,active:n,horiz:i,reverse:o,dir:r}){let a=1,s=1;return i===!0?(o===!0&&(a=-1),t==="bottom"&&(s=-1),{transform:`translate3d(${a*(e-100)}%,${n?0:-200*s}%,0)`}):(o===!0&&(s=-1),t==="right"&&(a=-1),{transform:`translate3d(${n?0:r*a*-200}%,${s*(e-100)}%,0)`})}function SE(e,t){return typeof t!="number"&&(t=e<25?3*Math.random()+3:e<65?3*Math.random():e<85?2*Math.random():e<99?.6:0),wt(e+t,0,100)}function ME(e){ps++,eu.push(e),ps>1||(Af.prototype.open=function(t,n){const i=[],o=()=>{eu.forEach(a=>{a.hijackFilter.value!==null&&a.hijackFilter.value(n)!==!0||(a.start(),i.push(a.stop))})},r=()=>{i.forEach(a=>{a()})};this.addEventListener("loadstart",o,{once:!0}),this.addEventListener("loadend",r,{once:!0}),Uy.apply(this,arguments)})}function TE(e){eu=eu.filter(t=>t.start!==e),ps=Math.max(0,ps-1),ps===0&&(Af.prototype.open=Uy)}var Gy=we({name:"QAjaxBar",props:{position:{type:String,default:"top",validator:e=>_E.includes(e)},size:{type:String,default:"2px"},color:String,skipHijack:Boolean,reverse:Boolean,hijackFilter:Function},emits:["start","stop"],setup(e,{emit:t}){const{proxy:n}=Ne(),i=K(0),o=K(!1),r=K(!0);let a,s,l=0;const c=S(()=>`q-loading-bar q-loading-bar--${e.position}`+(e.color!==void 0?` bg-${e.color}`:"")+(r.value===!0?"":" no-transition")),u=S(()=>e.position==="top"||e.position==="bottom"),d=S(()=>u.value===!0?"height":"width"),f=S(()=>{const _=o.value,x=wE({p:i.value,pos:e.position,active:_,horiz:u.value,reverse:n.$q.lang.rtl===!0&&["top","bottom"].includes(e.position)?e.reverse===!1:e.reverse,dir:n.$q.lang.rtl===!0?-1:1});return x[d.value]=e.size,x.opacity=_?1:0,x}),h=S(()=>o.value===!0?{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":i.value}:{"aria-hidden":"true"});function p(_=300){const x=s;return s=Math.max(0,_)||0,l++,l>1?(x===0&&_>0?g():x>0&&_<=0&&clearTimeout(a),l):(clearTimeout(a),t("start"),i.value=0,a=setTimeout(()=>{r.value=!0,_>0&&g()},o.value===!0?500:1),o.value!==!0&&(o.value=!0,r.value=!1),l)}function y(_){return l>0&&(i.value=SE(i.value,_)),l}function b(){if(l=Math.max(0,l-1),l>0)return l;clearTimeout(a),t("stop");const _=()=>{r.value=!0,i.value=100,a=setTimeout(()=>{o.value=!1},1e3)};return i.value===0?a=setTimeout(_,1):_(),l}function g(){i.value<100&&(a=setTimeout(()=>{y(),g()},s))}let m;return $t(()=>{e.skipHijack!==!0&&(m=!0,ME({start:p,stop:b,hijackFilter:S(()=>e.hijackFilter||null)}))}),ct(()=>{clearTimeout(a),m===!0&&TE(p)}),Object.assign(n,{start:p,stop:b,increment:y}),()=>v("div",V({class:c.value,style:f.value},h.value))}});const Mh={xs:18,sm:24,md:32,lg:38,xl:46},Ki={size:String};function Ji(e,t=Mh){return S(()=>e.size!==void 0?{fontSize:e.size in t?`${t[e.size]}px`:e.size}:null)}function je(e,t){return e!==void 0&&e()||t}function sl(e,t){if(e!==void 0){const n=e();if(n!=null)return n.slice()}return t}function zt(e,t){return e!==void 0?t.concat(e()):t}function Lf(e,t){return e===void 0?t:t!==void 0?t.concat(e()):e()}function Kn(e,t,n,i,o,r){t.key=i+o;const a=v(e,t,n);return o===!0?ci(a,r()):a}const Em="0 0 24 24",Am=e=>e,bd=e=>`ionicons ${e}`,Wy={"mdi-":e=>`mdi ${e}`,"icon-":Am,"bt-":e=>`bt ${e}`,"eva-":e=>`eva ${e}`,"ion-md":bd,"ion-ios":bd,"ion-logo":bd,"iconfont ":Am,"ti-":e=>`themify-icon ${e}`,"bi-":e=>`bootstrap-icons ${e}`},$y={o_:"-outlined",r_:"-round",s_:"-sharp"},jy={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},CE=new RegExp("^("+Object.keys(Wy).join("|")+")"),EE=new RegExp("^("+Object.keys($y).join("|")+")"),Lm=new RegExp("^("+Object.keys(jy).join("|")+")"),AE=/^[Mm]\s?[-+]?\.?\d/,LE=/^img:/,PE=/^svguse:/,RE=/^ion-/,kE=/^(fa-(solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /;var dt=we({name:"QIcon",props:ye(V({},Ki),{tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean}),setup(e,{slots:t}){const{proxy:{$q:n}}=Ne(),i=Ji(e),o=S(()=>"q-icon"+(e.left===!0?" on-left":"")+(e.right===!0?" on-right":"")+(e.color!==void 0?` text-${e.color}`:"")),r=S(()=>{let a,s=e.name;if(s==="none"||!s)return{none:!0};if(n.iconMapFn!==null){const u=n.iconMapFn(s);if(u!==void 0){if(u.icon===void 0)return{cls:u.cls,content:u.content!==void 0?u.content:" "};if(s=u.icon,s==="none"||!s)return{none:!0}}}if(AE.test(s)===!0){const[u,d=Em]=s.split("|");return{svg:!0,viewBox:d,nodes:u.split("&&").map(f=>{const[h,p,y]=f.split("@@");return v("path",{style:p,d:h,transform:y})})}}if(LE.test(s)===!0)return{img:!0,src:s.substring(4)};if(PE.test(s)===!0){const[u,d=Em]=s.split("|");return{svguse:!0,src:u.substring(7),viewBox:d}}let l=" ";const c=s.match(CE);if(c!==null)a=Wy[c[1]](s);else if(kE.test(s)===!0)a=s;else if(RE.test(s)===!0)a=`ionicons ion-${n.platform.is.ios===!0?"ios":"md"}${s.substring(3)}`;else if(Lm.test(s)===!0){a="notranslate material-symbols";const u=s.match(Lm);u!==null&&(s=s.substring(6),a+=jy[u[1]]),l=s}else{a="notranslate material-icons";const u=s.match(EE);u!==null&&(s=s.substring(2),a+=$y[u[1]]),l=s}return{cls:a,content:l}});return()=>{const a={class:o.value,style:i.value,"aria-hidden":"true",role:"presentation"};return r.value.none===!0?v(e.tag,a,je(t.default)):r.value.img===!0?v("span",a,zt(t.default,[v("img",{src:r.value.src})])):r.value.svg===!0?v("span",a,zt(t.default,[v("svg",{viewBox:r.value.viewBox||"0 0 24 24"},r.value.nodes)])):r.value.svguse===!0?v("span",a,zt(t.default,[v("svg",{viewBox:r.value.viewBox},[v("use",{"xlink:href":r.value.src})])])):(r.value.cls!==void 0&&(a.class+=" "+r.value.cls),v(e.tag,a,zt(t.default,[r.value.content])))}}}),BE=we({name:"QAvatar",props:ye(V({},Ki),{fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean}),setup(e,{slots:t}){const n=Ji(e),i=S(()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(e.square===!0?" q-avatar--square":e.rounded===!0?" rounded-borders":"")),o=S(()=>e.fontSize?{fontSize:e.fontSize}:null);return()=>{const r=e.icon!==void 0?[v(dt,{name:e.icon})]:void 0;return v("div",{class:i.value,style:n.value},[v("div",{class:"q-avatar__content row flex-center overflow-hidden",style:o.value},Lf(t.default,r))])}}});const IE=["top","middle","bottom"];var FE=we({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>IE.includes(e)}},setup(e,{slots:t}){const n=S(()=>e.align!==void 0?{verticalAlign:e.align}:null),i=S(()=>{const o=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(o!==void 0?` text-${o}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>v("div",{class:i.value,style:n.value,role:"alert","aria-label":e.label},zt(t.default,e.label!==void 0?[e.label]:[]))}});const ht={dark:{type:Boolean,default:null}};function ft(e,t){return S(()=>e.dark===null?t.dark.isActive:e.dark)}var OE=we({name:"QBanner",props:ye(V({},ht),{inlineActions:Boolean,dense:Boolean,rounded:Boolean}),setup(e,{slots:t}){const n=Ne(),i=ft(e,n.proxy.$q),o=S(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(i.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),r=S(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const a=[v("div",{class:"q-banner__avatar col-auto row items-center self-start"},je(t.avatar)),v("div",{class:"q-banner__content col text-body2"},je(t.default))],s=je(t.action);return s!==void 0&&a.push(v("div",{class:r.value},s)),v("div",{class:o.value+(e.inlineActions===!1&&s!==void 0?" q-banner--top-padding":""),role:"alert"},a)}}}),NE=we({name:"QBar",props:ye(V({},ht),{dense:Boolean}),setup(e,{slots:t}){const n=Ne(),i=ft(e,n.proxy.$q),o=S(()=>`q-bar row no-wrap items-center q-bar--${e.dense===!0?"dense":"standard"}  q-bar--${i.value===!0?"dark":"light"}`);return()=>v("div",{class:o.value,role:"toolbar"},je(t.default))}});const Qy={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},DE=Object.keys(Qy),Pf={align:{type:String,validator:e=>DE.includes(e)}};function Rf(e){return S(()=>{const t=e.align===void 0?e.vertical===!0?"stretch":"left":e.align;return`${e.vertical===!0?"items":"justify"}-${Qy[t]}`})}function _c(e){if(Object(e.$parent)===e.$parent)return e.$parent;for(e=e.$.parent;Object(e)===e;){if(Object(e.proxy)===e.proxy)return e.proxy;e=e.parent}}function Yy(e,t){typeof t.type=="symbol"?Array.isArray(t.children)===!0&&t.children.forEach(n=>{Yy(e,n)}):e.add(t)}function kf(e){const t=new Set;return e.forEach(n=>{Yy(t,n)}),Array.from(t)}function Bf(e){return e.appContext.config.globalProperties.$router!==void 0}const zE=[void 0,!0];var qE=we({name:"QBreadcrumbs",props:ye(V({},Pf),{separator:{type:String,default:"/"},separatorColor:String,activeColor:{type:String,default:"primary"},gutter:{type:String,validator:e=>["none","xs","sm","md","lg","xl"].includes(e),default:"sm"}}),setup(e,{slots:t}){const n=Rf(e),i=S(()=>`flex items-center ${n.value}${e.gutter==="none"?"":` q-gutter-${e.gutter}`}`),o=S(()=>e.separatorColor?` text-${e.separatorColor}`:""),r=S(()=>` text-${e.activeColor}`);return()=>{const a=kf(je(t.default));if(a.length===0)return;let s=1;const l=[],c=a.filter(d=>d.type!==void 0&&d.type.name==="QBreadcrumbsEl").length,u=t.separator!==void 0?t.separator:()=>e.separator;return a.forEach(d=>{if(d.type!==void 0&&d.type.name==="QBreadcrumbsEl"){const f=s<c,h=d.props!==null&&zE.includes(d.props.disable),p=(f===!0?"":" q-breadcrumbs--last")+(h!==!0&&f===!0?r.value:"");s++,l.push(v("div",{class:`flex items-center${p}`},[d])),f===!0&&l.push(v("div",{class:"q-breadcrumbs__separator"+o.value},u()))}else l.push(d)}),v("div",{class:"q-breadcrumbs"},[v("div",{class:i.value},l)])}}});function Pm(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}function Rm(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function VE(e,t){for(const n in t){const i=t[n],o=e[n];if(typeof i=="string"){if(i!==o)return!1}else if(Array.isArray(o)===!1||o.length!==i.length||i.some((r,a)=>r!==o[a]))return!1}return!0}function km(e,t){return Array.isArray(t)===!0?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function HE(e,t){return Array.isArray(e)===!0?km(e,t):Array.isArray(t)===!0?km(t,e):e===t}function UE(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(HE(e[n],t[n])===!1)return!1;return!0}const Fa={to:[String,Object],replace:Boolean,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"},href:String,target:String,disable:Boolean};function Lu(e){const t=Ne(),{props:n,proxy:i}=t,o=Bf(t),r=S(()=>n.disable!==!0&&n.href!==void 0),a=S(()=>o===!0&&n.disable!==!0&&r.value!==!0&&n.to!==void 0&&n.to!==null&&n.to!==""),s=S(()=>{if(a.value===!0)try{return i.$router.resolve(n.to)}catch{}return null}),l=S(()=>s.value!==null),c=S(()=>r.value===!0||l.value===!0),u=S(()=>n.type==="a"||c.value===!0?"a":n.tag||e||"div"),d=S(()=>r.value===!0?{href:n.href,target:n.target}:l.value===!0?{href:s.value.href,target:n.target}:{}),f=S(()=>{if(l.value===!1)return null;const{matched:g}=s.value,{length:m}=g,_=g[m-1];if(_===void 0)return-1;const x=i.$route.matched;if(x.length===0)return-1;const M=x.findIndex(Rm.bind(null,_));if(M>-1)return M;const w=Pm(g[m-2]);return m>1&&Pm(_)===w&&x[x.length-1].path!==w?x.findIndex(Rm.bind(null,g[m-2])):M}),h=S(()=>l.value===!0&&f.value>-1&&VE(i.$route.params,s.value.params)),p=S(()=>h.value===!0&&f.value===i.$route.matched.length-1&&UE(i.$route.params,s.value.params)),y=S(()=>l.value===!0?p.value===!0?` ${n.exactActiveClass} ${n.activeClass}`:n.exact===!0?"":h.value===!0?` ${n.activeClass}`:"":"");function b(g){return!(n.disable===!0||g.metaKey||g.altKey||g.ctrlKey||g.shiftKey||g.__qNavigate!==!0&&g.defaultPrevented===!0||g.button!==void 0&&g.button!==0||n.target==="_blank")&&(en(g),i.$router[n.replace===!0?"replace":"push"](n.to).catch(m=>m))}return{hasRouterLink:l,hasHrefLink:r,hasLink:c,linkTag:u,linkRoute:s,linkIsActive:h,linkIsExactActive:p,linkClass:y,linkProps:d,navigateToRouterLink:b}}var GE=we({name:"QBreadcrumbsEl",props:ye(V({},Fa),{label:String,icon:String,tag:{type:String,default:"span"}}),setup(e,{slots:t}){const{linkTag:n,linkProps:i,linkClass:o,hasRouterLink:r,navigateToRouterLink:a}=Lu(),s=S(()=>{const c=V({class:"q-breadcrumbs__el q-link flex inline items-center relative-position "+(e.disable!==!0?"q-link--focusable"+o.value:"q-breadcrumbs__el--disable")},i.value);return r.value===!0&&(c.onClick=a),c}),l=S(()=>"q-breadcrumbs__el-icon"+(e.label!==void 0?" q-breadcrumbs__el-icon--with-label":""));return()=>{const c=[];return e.icon!==void 0&&c.push(v(dt,{class:l.value,name:e.icon})),e.label!==void 0&&c.push(e.label),v(n.value,V({},s.value),zt(t.default,c))}}});const qt={size:{type:[Number,String],default:"1em"},color:String};function Vt(e){return{cSize:S(()=>e.size in Mh?`${Mh[e.size]}px`:e.size),classes:S(()=>"q-spinner"+(e.color?` text-${e.color}`:""))}}var Jn=we({name:"QSpinner",props:ye(V({},qt),{thickness:{type:Number,default:5}}),setup(e){const{cSize:t,classes:n}=Vt(e);return()=>v("svg",{class:n.value+" q-spinner-mat",width:t.value,height:t.value,viewBox:"25 25 50 50"},[v("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":e.thickness,"stroke-miterlimit":"10"})])}});function tu(e){if(e===window)return{top:0,left:0};const{top:t,left:n}=e.getBoundingClientRect();return{top:t,left:n}}function Ma(e){return e===window?window.innerHeight:e.getBoundingClientRect().height}function Th(e,t){const n=e.style;for(const i in t)n[i]=t[i]}function WE(e){if(e==null)return;if(typeof e=="string")try{return document.querySelector(e)||void 0}catch{return}const t=Kv(e)===!0?e.value:e;return t?t.$el||t:void 0}function Xy(e,t){if(e==null||e.contains(t)===!0)return!0;for(let n=e.nextElementSibling;n!==null;n=n.nextElementSibling)if(n.contains(t))return!0;return!1}function Zy(e,t=250){let n,i=!1;return function(){return i===!1&&(i=!0,setTimeout(()=>{i=!1},t),n=e.apply(this,arguments)),n}}function Bm(e,t,n,i){n.modifiers.stop===!0&&It(e);const o=n.modifiers.color;let r=n.modifiers.center;r=r===!0||i===!0;const a=document.createElement("span"),s=document.createElement("span"),l=An(e),{left:c,top:u,width:d,height:f}=t.getBoundingClientRect(),h=Math.sqrt(d*d+f*f),p=h/2,y=`${(d-h)/2}px`,b=r?y:`${l.left-c-p}px`,g=`${(f-h)/2}px`,m=r?g:`${l.top-u-p}px`;s.className="q-ripple__inner",Th(s,{height:`${h}px`,width:`${h}px`,transform:`translate3d(${b},${m},0) scale3d(.2,.2,1)`,opacity:0}),a.className=`q-ripple${o?" text-"+o:""}`,a.setAttribute("dir","ltr"),a.appendChild(s),t.appendChild(a);const _=()=>{a.remove(),clearTimeout(x)};n.abort.push(_);let x=setTimeout(()=>{s.classList.add("q-ripple__inner--enter"),s.style.transform=`translate3d(${y},${g},0) scale3d(1,1,1)`,s.style.opacity=.2,x=setTimeout(()=>{s.classList.remove("q-ripple__inner--enter"),s.classList.add("q-ripple__inner--leave"),s.style.opacity=0,x=setTimeout(()=>{a.remove(),n.abort.splice(n.abort.indexOf(_),1)},275)},250)},50)}function Im(e,{modifiers:t,value:n,arg:i}){const o=Object.assign({},e.cfg.ripple,t,n);e.modifiers={early:o.early===!0,stop:o.stop===!0,center:o.center===!0,color:o.color||i,keyCodes:[].concat(o.keyCodes||13)}}var ll=vi({name:"ripple",beforeMount(e,t){const n={cfg:t.instance.$.appContext.config.globalProperties.$q.config,enabled:t.value!==!1,modifiers:{},abort:[],start(i){n.enabled===!0&&i.qSkipRipple!==!0&&i.type===(n.modifiers.early===!0?"pointerdown":"click")&&Bm(i,e,n,i.qKeyEvent===!0)},keystart:Zy(i=>{n.enabled===!0&&i.qSkipRipple!==!0&&Zn(i,n.modifiers.keyCodes)===!0&&i.type===`key${n.modifiers.early===!0?"down":"up"}`&&Bm(i,e,n,!0)},300)};Im(n,t),e.__qripple=n,Nt(n,"main",[[e,"pointerdown","start","passive"],[e,"click","start","passive"],[e,"keydown","keystart","passive"],[e,"keyup","keystart","passive"]])},updated(e,t){if(t.oldValue!==t.value){const n=e.__qripple;n.enabled=t.value!==!1,n.enabled===!0&&Object(t.value)===t.value&&Im(n,t)}},beforeUnmount(e){const t=e.__qripple;t.abort.forEach(n=>{n()}),gn(t,"main"),delete e._qripple}});const Fm={none:0,xs:4,sm:8,md:16,lg:24,xl:32},$E={xs:8,sm:10,md:14,lg:20,xl:24},jE=["button","submit","reset"],QE=/[^\s]\/[^\s]/,Ky=ye(V(V({},Ki),Fa),{type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,round:Boolean,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:ye(V({},Pf.align),{default:"center"}),stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean});function YE(e){const t=Ji(e,$E),n=Rf(e),{hasRouterLink:i,hasLink:o,linkTag:r,linkProps:a,navigateToRouterLink:s}=Lu("button"),l=S(()=>{const b=e.fab===!1&&e.fabMini===!1?t.value:{};return e.padding!==void 0?Object.assign({},b,{padding:e.padding.split(/\s+/).map(g=>g in Fm?Fm[g]+"px":g).join(" "),minWidth:"0",minHeight:"0"}):b}),c=S(()=>e.rounded===!0||e.fab===!0||e.fabMini===!0),u=S(()=>e.disable!==!0&&e.loading!==!0),d=S(()=>u.value===!0?e.tabindex||0:-1),f=S(()=>e.flat===!0?"flat":e.outline===!0?"outline":e.push===!0?"push":e.unelevated===!0?"unelevated":"standard"),h=S(()=>{const b={tabindex:d.value};return o.value===!0?Object.assign(b,a.value):jE.includes(e.type)===!0&&(b.type=e.type),r.value==="a"?(e.disable===!0?b["aria-disabled"]="true":b.href===void 0&&(b.role="button"),i.value!==!0&&QE.test(e.type)===!0&&(b.type=e.type)):e.disable===!0&&(b.disabled="",b["aria-disabled"]="true"),e.loading===!0&&e.percentage!==void 0&&Object.assign(b,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":e.percentage}),b}),p=S(()=>{let b;return e.color!==void 0?b=e.flat===!0||e.outline===!0?`text-${e.textColor||e.color}`:`bg-${e.color} text-${e.textColor||"white"}`:e.textColor&&(b=`text-${e.textColor}`),`q-btn--${f.value} q-btn--${e.round===!0?"round":`rectangle${c.value===!0?" q-btn--rounded":""}`}`+(b!==void 0?" "+b:"")+(u.value===!0?" q-btn--actionable q-focusable q-hoverable":e.disable===!0?" disabled":"")+(e.fab===!0?" q-btn--fab":e.fabMini===!0?" q-btn--fab-mini":"")+(e.noCaps===!0?" q-btn--no-uppercase":"")+(e.dense===!0?" q-btn--dense":"")+(e.stretch===!0?" no-border-radius self-stretch":"")+(e.glossy===!0?" glossy":"")}),y=S(()=>n.value+(e.stack===!0?" column":" row")+(e.noWrap===!0?" no-wrap text-no-wrap":"")+(e.loading===!0?" q-btn__content--hidden":""));return{classes:p,style:l,innerClasses:y,attributes:h,hasRouterLink:i,hasLink:o,linkTag:r,navigateToRouterLink:s,isActionable:u}}const{passiveCapture:Gn}=xt;let qr=null,Vr=null,Hr=null;var mt=we({name:"QBtn",props:ye(V({},Ky),{percentage:Number,darkPercentage:Boolean}),emits:["click","keydown","touchstart","mousedown","keyup"],setup(e,{slots:t,emit:n}){const{proxy:i}=Ne(),{classes:o,style:r,innerClasses:a,attributes:s,hasRouterLink:l,hasLink:c,linkTag:u,navigateToRouterLink:d,isActionable:f}=YE(e),h=K(null),p=K(null);let y,b,g=null;const m=S(()=>e.label!==void 0&&e.label!==null&&e.label!==""),_=S(()=>e.disable!==!0&&e.ripple!==!1&&V({keyCodes:c.value===!0?[13,32]:[13]},e.ripple===!0?{}:e.ripple)),x=S(()=>({center:e.round})),M=S(()=>{const L=Math.max(0,Math.min(100,e.percentage));return L>0?{transition:"transform 0.6s",transform:`translateX(${L-100}%)`}:{}}),w=S(()=>e.loading===!0?{onMousedown:P,onTouchstartPassive:P,onClick:P,onKeydown:P,onKeyup:P}:f.value===!0?{onClick:B,onKeydown:D,onMousedown:A,onTouchstart:z}:{onClick:rt}),T=S(()=>V(V({ref:h,class:"q-btn q-btn-item non-selectable no-outline "+o.value,style:r.value},s.value),w.value));function B(L){if(h.value!==null){if(L!==void 0){if(L.defaultPrevented===!0)return;const q=document.activeElement;if(e.type==="submit"&&q!==document.body&&h.value.contains(q)===!1&&q.contains(h.value)===!1){h.value.focus();const F=()=>{document.removeEventListener("keydown",rt,!0),document.removeEventListener("keyup",F,Gn),h.value!==null&&h.value.removeEventListener("blur",F,Gn)};document.addEventListener("keydown",rt,!0),document.addEventListener("keyup",F,Gn),h.value.addEventListener("blur",F,Gn)}}if(l.value===!0){const q=()=>{L.__qNavigate=!0,d(L)};n("click",L,q),L.defaultPrevented!==!0&&q()}else n("click",L)}}function D(L){h.value!==null&&(n("keydown",L),Zn(L,[13,32])===!0&&Vr!==h.value&&(Vr!==null&&C(),L.defaultPrevented!==!0&&(h.value.focus(),Vr=h.value,h.value.classList.add("q-btn--active"),document.addEventListener("keyup",O,!0),h.value.addEventListener("blur",O,Gn)),rt(L)))}function z(L){h.value!==null&&(n("touchstart",L),L.defaultPrevented!==!0&&(qr!==h.value&&(qr!==null&&C(),qr=h.value,g=L.target,g.addEventListener("touchcancel",O,Gn),g.addEventListener("touchend",O,Gn)),y=!0,clearTimeout(b),b=setTimeout(()=>{y=!1},200)))}function A(L){h.value!==null&&(L.qSkipRipple=y===!0,n("mousedown",L),L.defaultPrevented!==!0&&Hr!==h.value&&(Hr!==null&&C(),Hr=h.value,h.value.classList.add("q-btn--active"),document.addEventListener("mouseup",O,Gn)))}function O(L){if(h.value!==null&&(L===void 0||L.type!=="blur"||document.activeElement!==h.value)){if(L!==void 0&&L.type==="keyup"){if(Vr===h.value&&Zn(L,[13,32])===!0){const q=new MouseEvent("click",L);q.qKeyEvent=!0,L.defaultPrevented===!0&&en(q),L.cancelBubble===!0&&It(q),h.value.dispatchEvent(q),rt(L),L.qKeyEvent=!0}n("keyup",L)}C()}}function C(L){const q=p.value;L===!0||qr!==h.value&&Hr!==h.value||q===null||q===document.activeElement||(q.setAttribute("tabindex",-1),q.focus()),qr===h.value&&(g!==null&&(g.removeEventListener("touchcancel",O,Gn),g.removeEventListener("touchend",O,Gn)),qr=g=null),Hr===h.value&&(document.removeEventListener("mouseup",O,Gn),Hr=null),Vr===h.value&&(document.removeEventListener("keyup",O,!0),h.value!==null&&h.value.removeEventListener("blur",O,Gn),Vr=null),h.value!==null&&h.value.classList.remove("q-btn--active")}function P(L){rt(L),L.qSkipRipple=!0}return ct(()=>{C(!0)}),Object.assign(i,{click:B}),()=>{let L=[];e.icon!==void 0&&L.push(v(dt,{name:e.icon,left:e.stack===!1&&m.value===!0,role:"img","aria-hidden":"true"})),m.value===!0&&L.push(v("span",{class:"block"},[e.label])),L=zt(t.default,L),e.iconRight!==void 0&&e.round===!1&&L.push(v(dt,{name:e.iconRight,right:e.stack===!1&&m.value===!0,role:"img","aria-hidden":"true"}));const q=[v("span",{class:"q-focus-helper",ref:p})];return e.loading===!0&&e.percentage!==void 0&&q.push(v("span",{class:"q-btn__progress absolute-full overflow-hidden"+(e.darkPercentage===!0?" q-btn__progress--dark":"")},[v("span",{class:"q-btn__progress-indicator fit block",style:M.value})])),q.push(v("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+a.value},L)),e.loading!==null&&q.push(v(Kt,{name:"q-transition--fade"},()=>e.loading===!0?[v("span",{key:"loading",class:"absolute-full flex flex-center"},t.loading!==void 0?t.loading():[v(Jn)])]:null)),ci(v(u.value,T.value,q),[[ll,_.value,void 0,x.value]])}}}),If=we({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=S(()=>{const i=["unelevated","outline","flat","rounded","push","stretch","glossy"].filter(o=>e[o]===!0).map(o=>`q-btn-group--${o}`).join(" ");return`q-btn-group row no-wrap${i.length>0?" "+i:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>v("div",{class:n.value},je(t.default))}});function li(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),xh.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const Ff={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function Of({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:i,proxy:o,emit:r}=Ne(),a=K(null);let s;function l(h){return a.value!==null&&(h===void 0||h.touches===void 0||h.touches.length<=1)}const c={};function u(){gn(c,"anchor")}function d(h){for(a.value=h;a.value.classList.contains("q-anchor--skip");)a.value=a.value.parentNode;n()}function f(){if(i.target===!1||i.target===""||o.$el.parentNode===null)a.value=null;else if(i.target===!0)d(o.$el.parentNode);else{let h=i.target;if(typeof i.target=="string")try{h=document.querySelector(i.target)}catch{h=void 0}h!=null?(a.value=h.$el||h,n()):(a.value=null,console.error(`Anchor: target "${i.target}" not found`))}}return n===void 0&&(Object.assign(c,{hide(h){o.hide(h)},toggle(h){o.toggle(h),h.qAnchorHandled=!0},toggleKey(h){Zn(h,13)===!0&&c.toggle(h)},contextClick(h){o.hide(h),en(h),st(()=>{o.show(h),h.qAnchorHandled=!0})},prevent:en,mobileTouch(h){if(c.mobileCleanup(h),l(h)!==!0)return;o.hide(h),a.value.classList.add("non-selectable");const p=h.target;Nt(c,"anchor",[[p,"touchmove","mobileCleanup","passive"],[p,"touchend","mobileCleanup","passive"],[p,"touchcancel","mobileCleanup","passive"],[a.value,"contextmenu","prevent","notPassive"]]),s=setTimeout(()=>{o.show(h),h.qAnchorHandled=!0},300)},mobileCleanup(h){a.value.classList.remove("non-selectable"),clearTimeout(s),e.value===!0&&h!==void 0&&li()}}),n=function(h=i.contextMenu){if(i.noParentEvent===!0||a.value===null)return;let p;p=h===!0?o.$q.platform.is.mobile===!0?[[a.value,"touchstart","mobileTouch","passive"]]:[[a.value,"mousedown","hide","passive"],[a.value,"contextmenu","contextClick","notPassive"]]:[[a.value,"click","toggle","passive"],[a.value,"keyup","toggleKey","passive"]],Nt(c,"anchor",p)}),Me(()=>i.contextMenu,h=>{a.value!==null&&(u(),n(h))}),Me(()=>i.target,()=>{a.value!==null&&u(),f()}),Me(()=>i.noParentEvent,h=>{a.value!==null&&(h===!0?u():n())}),$t(()=>{f(),t!==!0&&i.modelValue===!0&&a.value===null&&r("update:modelValue",!1)}),ct(()=>{clearTimeout(s),u()}),{anchorEl:a,canShow:l,anchorEvents:c}}function Jy(e,t){const n=K(null);let i;function o(s,l){const c=`${l!==void 0?"add":"remove"}EventListener`,u=l!==void 0?l:i;s!==window&&s[c]("scroll",u,xt.passive),window[c]("scroll",u,xt.passive),i=l}function r(){n.value!==null&&(o(n.value),n.value=null)}const a=Me(()=>e.noParentEvent,()=>{n.value!==null&&(r(),t())});return ct(a),{localScrollTarget:n,unconfigureScrollTarget:r,changeScrollEvent:o}}const Oa={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Na=["before-show","show","before-hide","hide"];function Da({showing:e,canShow:t,hideOnRouteChange:n,handleShow:i,handleHide:o,processOnMount:r}){const a=Ne(),{props:s,emit:l,proxy:c}=a;let u;function d(m){e.value===!0?p(m):f(m)}function f(m){if(s.disable===!0||m!==void 0&&m.qAnchorHandled===!0||t!==void 0&&t(m)!==!0)return;const _=s["onUpdate:modelValue"]!==void 0;_===!0&&(l("update:modelValue",!0),u=m,st(()=>{u===m&&(u=void 0)})),s.modelValue!==null&&_!==!1||h(m)}function h(m){e.value!==!0&&(e.value=!0,l("before-show",m),i!==void 0?i(m):l("show",m))}function p(m){if(s.disable===!0)return;const _=s["onUpdate:modelValue"]!==void 0;_===!0&&(l("update:modelValue",!1),u=m,st(()=>{u===m&&(u=void 0)})),s.modelValue!==null&&_!==!1||y(m)}function y(m){e.value!==!1&&(e.value=!1,l("before-hide",m),o!==void 0?o(m):l("hide",m))}function b(m){s.disable===!0&&m===!0?s["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!1):m===!0!==e.value&&(m===!0?h:y)(u)}Me(()=>s.modelValue,b),n!==void 0&&Bf(a)===!0&&Me(()=>c.$route.fullPath,()=>{n.value===!0&&e.value===!0&&p()}),r===!0&&$t(()=>{b(s.modelValue)});const g={show:f,hide:p,toggle:d};return Object.assign(c,g),g}let Xo=[],$s=[];function eb(e){$s=$s.filter(t=>t!==e)}function XE(e){eb(e),$s.push(e)}function Om(e){eb(e),$s.length===0&&Xo.length>0&&(Xo[Xo.length-1](),Xo=[])}function za(e){$s.length===0?e():Xo.push(e)}function ZE(e){Xo=Xo.filter(t=>t!==e)}const nu=[];let rs=document.body;function Nf(e){const t=document.createElement("div");if(e!==void 0&&(t.id=e),Tm.globalNodes!==void 0){const n=Tm.globalNodes.class;n!==void 0&&(t.className=n)}return rs.appendChild(t),nu.push(t),t}function tb(e){nu.splice(nu.indexOf(e),1),e.remove()}function KE(e){e!==rs&&(rs=e,nu.forEach(t=>{t.contains(rs)===!1&&rs.appendChild(t)}))}const la=[];function JE(e){return la.find(t=>t.__qPortalInnerRef.value!==null&&t.__qPortalInnerRef.value.contains(e))}function nb(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return _c(e)}else if(e.__qPortalInnerRef!==void 0){const n=_c(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=_c(e)}while(e!=null)}function e2(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortalInnerRef!==void 0){if(n--,e.$options.name==="QMenu"){e=nb(e,t);continue}e.hide(t)}e=_c(e)}}function t2(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Df(e,t,n,i){const o=K(!1),r=K(!1);let a=null;const s={},l=i===!0&&t2(e);function c(d){if(d===!0)return Om(s),void(r.value=!0);r.value=!1,o.value===!1&&(l===!1&&a===null&&(a=Nf()),o.value=!0,la.push(e.proxy),XE(s))}function u(d){if(r.value=!1,d!==!0)return;Om(s),o.value=!1;const f=la.indexOf(e.proxy);f>-1&&la.splice(f,1),a!==null&&(tb(a),a=null)}return Qv(()=>{u(!0)}),Object.assign(e.proxy,{__qPortalInnerRef:t}),{showPortal:c,hidePortal:u,portalIsActive:o,portalIsAccessible:r,renderPortal:()=>l===!0?n():o.value===!0?[v(e_,{to:a},n())]:void 0}}const Pu={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function zf(e,t){const n=K(t.value);return Me(t,i=>{st(()=>{n.value=i})}),{transition:S(()=>"q-transition--"+(n.value===!0?e.transitionHide:e.transitionShow)),transitionStyle:S(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function Ru(){let e;return ct(()=>{e=void 0}),{registerTick(t){e=t,st(()=>{e===t&&(e(),e=void 0)})},removeTick(){e=void 0}}}function Ta(){let e;return ct(()=>{clearTimeout(e)}),{registerTimeout(t,n){clearTimeout(e),e=setTimeout(t,n)},removeTimeout(){clearTimeout(e)}}}const n2=[null,document,document.body,document.scrollingElement,document.documentElement];function Ri(e,t){let n=WE(t);if(n===void 0){if(e==null)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return n2.includes(n)?window:n}function rc(e){return(e===window?document.body:e).scrollHeight}function _o(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function ku(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function ib(e,t,n=0){const i=arguments[3]===void 0?performance.now():arguments[3],o=_o(e);n<=0?o!==t&&Ch(e,t):requestAnimationFrame(r=>{const a=r-i,s=o+(t-o)/Math.max(a,n)*a;Ch(e,s),s!==t&&ib(e,t,n-a,r)})}function ob(e,t,n=0){const i=arguments[3]===void 0?performance.now():arguments[3],o=ku(e);n<=0?o!==t&&Eh(e,t):requestAnimationFrame(r=>{const a=r-i,s=o+(t-o)/Math.max(a,n)*a;Eh(e,s),s!==t&&ob(e,t,n-a,r)})}function Ch(e,t){e!==window?e.scrollTop=t:window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t)}function Eh(e,t){e!==window?e.scrollLeft=t:window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)}function ca(e,t,n){n?ib(e,t,n):Ch(e,t)}function Nm(e,t,n){n?ob(e,t,n):Eh(e,t)}let ac;function wc(){if(ac!==void 0)return ac;const e=document.createElement("p"),t=document.createElement("div");Th(e,{width:"100%",height:"200px"}),Th(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let i=e.offsetWidth;return n===i&&(i=t.clientWidth),t.remove(),ac=n-i,ac}function i2(e,t=!0){return!(!e||e.nodeType!==Node.ELEMENT_NODE)&&(t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"])))}const Jo=[];let Ca;function o2(e){Ca=e.keyCode===27}function r2(){Ca===!0&&(Ca=!1)}function a2(e){Ca===!0&&(Ca=!1,Zn(e,27)===!0&&Jo[Jo.length-1](e))}function rb(e){window[e]("keydown",o2),window[e]("blur",r2),window[e]("keyup",a2),Ca=!1}function ab(e){ot.is.desktop===!0&&(Jo.push(e),Jo.length===1&&rb("addEventListener"))}function iu(e){const t=Jo.indexOf(e);t>-1&&(Jo.splice(t,1),Jo.length===0&&rb("removeEventListener"))}const er=[];function sb(e){er[er.length-1](e)}function lb(e){ot.is.desktop===!0&&(er.push(e),er.length===1&&document.body.addEventListener("focusin",sb))}function Ah(e){const t=er.indexOf(e);t>-1&&(er.splice(t,1),er.length===0&&document.body.removeEventListener("focusin",sb))}let cb;const{notPassiveCapture:ou}=xt,tr=[];function ru(e){clearTimeout(cb);const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=la.length-1;for(;n>=0;){const i=la[n].$;if(i.type.name!=="QDialog")break;if(i.props.seamless!==!0)return;n--}for(let i=tr.length-1;i>=0;i--){const o=tr[i];if(o.anchorEl.value!==null&&o.anchorEl.value.contains(t)!==!1||t!==document.body&&(o.innerRef.value===null||o.innerRef.value.contains(t)!==!1))return;e.qClickOutside=!0,o.onClickOutside(e)}}function ub(e){tr.push(e),tr.length===1&&(document.addEventListener("mousedown",ru,ou),document.addEventListener("touchstart",ru,ou))}function au(e){const t=tr.findIndex(n=>n===e);t>-1&&(tr.splice(t,1),tr.length===0&&(clearTimeout(cb),document.removeEventListener("mousedown",ru,ou),document.removeEventListener("touchstart",ru,ou)))}let Dm,zm;function su(e){const t=e.split(" ");return t.length===2&&(["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])===!0||(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1))}function db(e){return!e||e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}const Lh={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};function lu(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:Lh[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function s2(e,t){let{top:n,left:i,right:o,bottom:r,width:a,height:s}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],i-=t[0],r+=t[1],o+=t[0],a+=t[0],s+=t[1]),{top:n,left:i,right:o,bottom:r,width:a,height:s,middle:i+(o-i)/2,center:n+(r-n)/2}}function l2(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function hb(e){if(ot.is.ios===!0&&window.visualViewport!==void 0){const s=document.body.style,{offsetLeft:l,offsetTop:c}=window.visualViewport;l!==Dm&&(s.setProperty("--q-pe-left",l+"px"),Dm=l),c!==zm&&(s.setProperty("--q-pe-top",c+"px"),zm=c)}let t;const{scrollLeft:n,scrollTop:i}=e.el;if(e.absoluteOffset===void 0)t=s2(e.anchorEl,e.cover===!0?[0,0]:e.offset);else{const{top:s,left:l}=e.anchorEl.getBoundingClientRect(),c=s+e.absoluteOffset.top,u=l+e.absoluteOffset.left;t={top:c,left:u,width:1,height:1,right:u+1,center:c,middle:u,bottom:c+1}}let o={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};e.fit!==!0&&e.cover!==!0||(o.minWidth=t.width+"px",e.cover===!0&&(o.minHeight=t.height+"px")),Object.assign(e.el.style,o);const r=l2(e.el),a={top:t[e.anchorOrigin.vertical]-r[e.selfOrigin.vertical],left:t[e.anchorOrigin.horizontal]-r[e.selfOrigin.horizontal]};c2(a,t,r,e.anchorOrigin,e.selfOrigin),o={top:a.top+"px",left:a.left+"px"},a.maxHeight!==void 0&&(o.maxHeight=a.maxHeight+"px",t.height>a.maxHeight&&(o.minHeight=o.maxHeight)),a.maxWidth!==void 0&&(o.maxWidth=a.maxWidth+"px",t.width>a.maxWidth&&(o.minWidth=o.maxWidth)),Object.assign(e.el.style,o),e.el.scrollTop!==i&&(e.el.scrollTop=i),e.el.scrollLeft!==n&&(e.el.scrollLeft=n)}function c2(e,t,n,i,o){const r=n.bottom,a=n.right,s=wc(),l=window.innerHeight-s,c=document.body.clientWidth;if(e.top<0||e.top+r>l)if(o.vertical==="center")e.top=t[i.vertical]>l/2?Math.max(0,l-r):0,e.maxHeight=Math.min(r,l);else if(t[i.vertical]>l/2){const u=Math.min(l,i.vertical==="center"?t.center:i.vertical===o.vertical?t.bottom:t.top);e.maxHeight=Math.min(r,u),e.top=Math.max(0,u-r)}else e.top=Math.max(0,i.vertical==="center"?t.center:i.vertical===o.vertical?t.top:t.bottom),e.maxHeight=Math.min(r,l-e.top);if(e.left<0||e.left+a>c)if(e.maxWidth=Math.min(a,c),o.horizontal==="middle")e.left=t[i.horizontal]>c/2?Math.max(0,c-a):0;else if(t[i.horizontal]>c/2){const u=Math.min(c,i.horizontal==="middle"?t.middle:i.horizontal===o.horizontal?t.right:t.left);e.maxWidth=Math.min(a,u),e.left=Math.max(0,u-e.maxWidth)}else e.left=Math.max(0,i.horizontal==="middle"?t.middle:i.horizontal===o.horizontal?t.left:t.right),e.maxWidth=Math.min(a,c-e.left)}["left","middle","right"].forEach(e=>{Lh[`${e}#ltr`]=e,Lh[`${e}#rtl`]=e});var cl=we({name:"QMenu",inheritAttrs:!1,props:ye(V(V(V(V({},Ff),Oa),ht),Pu),{persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:su},self:{type:String,validator:su},offset:{type:Array,validator:db},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}}),emits:[...Na,"click","escape-key"],setup(e,{slots:t,emit:n,attrs:i}){let o,r,a,s=null;const l=Ne(),{proxy:c}=l,{$q:u}=c,d=K(null),f=K(!1),h=S(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),p=ft(e,u),{registerTick:y,removeTick:b}=Ru(),{registerTimeout:g,removeTimeout:m}=Ta(),{transition:_,transitionStyle:x}=zf(e,f),{localScrollTarget:M,changeScrollEvent:w,unconfigureScrollTarget:T}=Jy(e,J),{anchorEl:B,canShow:D}=Of({showing:f}),{hide:z}=Da({showing:f,canShow:D,handleShow:ee,handleHide:U,hideOnRouteChange:h,processOnMount:!0}),{showPortal:A,hidePortal:O,renderPortal:C}=Df(l,d,E),P={anchorEl:B,innerRef:d,onClickOutside($){if(e.persistent!==!0&&f.value===!0)return z($),($.type==="touchstart"||$.target.classList.contains("q-dialog__backdrop"))&&rt($),!0}},L=S(()=>lu(e.anchor||(e.cover===!0?"center middle":"bottom start"),u.lang.rtl)),q=S(()=>e.cover===!0?L.value:lu(e.self||"top start",u.lang.rtl)),F=S(()=>(e.square===!0?" q-menu--square":"")+(p.value===!0?" q-menu--dark q-dark":"")),j=S(()=>e.autoClose===!0?{onClick:te}:{}),G=S(()=>f.value===!0&&e.persistent!==!0);function Y(){za(()=>{let $=d.value;$&&$.contains(document.activeElement)!==!0&&($=$.querySelector("[autofocus], [data-autofocus]")||$,$.focus({preventScroll:!0}))})}function ee($){if(b(),m(),s=e.noRefocus===!1?document.activeElement:null,lb(ve),A(),J(),o=void 0,$!==void 0&&(e.touchPosition||e.contextMenu)){const he=An($);if(he.left!==void 0){const{top:ie,left:fe}=B.value.getBoundingClientRect();o={left:he.left-fe,top:he.top-ie}}}r===void 0&&(r=Me(()=>u.screen.width+"|"+u.screen.height+"|"+e.self+"|"+e.anchor+"|"+u.lang.rtl,ne)),e.noFocus!==!0&&document.activeElement.blur(),y(()=>{ne(),e.noFocus!==!0&&Y()}),g(()=>{u.platform.is.ios===!0&&(a=e.autoClose,d.value.click()),ne(),A(!0),n("show",$)},e.transitionDuration)}function U($){b(),m(),O(),oe(!0),s===null||$!==void 0&&$.qClickOutside===!0||(s.focus(),s=null),g(()=>{O(!0),n("hide",$)},e.transitionDuration)}function oe($){o=void 0,r!==void 0&&(r(),r=void 0),$!==!0&&f.value!==!0||(Ah(ve),T(),au(P),iu(de)),$!==!0&&(s=null)}function J(){B.value===null&&e.scrollTarget===void 0||(M.value=Ri(B.value,e.scrollTarget),w(M.value,ne))}function te($){a!==!0?(nb(c,$),n("click",$)):a=!1}function ve($){G.value===!0&&e.noFocus!==!0&&Xy(d.value,$.target)!==!0&&Y()}function de($){n("escape-key"),z($)}function ne(){const $=d.value;$!==null&&B.value!==null&&hb({el:$,offset:e.offset,anchorEl:B.value,anchorOrigin:L.value,selfOrigin:q.value,absoluteOffset:o,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function E(){return v(Kt,{name:_.value,appear:!0},()=>f.value===!0?v("div",V(ye(V({},i),{ref:d,tabindex:-1,class:["q-menu q-position-engine scroll"+F.value,i.class],style:[i.style,x.value]}),j.value),je(t.default)):null)}return Me(G,$=>{$===!0?(ab(de),ub(P)):(iu(de),au(P))}),ct(oe),Object.assign(c,{focus:Y,updatePosition:ne}),C}}),fb=we({name:"QBtnDropdown",props:ye(V({},Ky),{modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean}),emits:["update:modelValue","click","before-show","show","before-hide","hide"],setup(e,{slots:t,emit:n}){const{proxy:i}=Ne(),o=K(e.modelValue),r=K(null),a=S(()=>{const g={"aria-expanded":o.value===!0?"true":"false","aria-haspopup":"true"};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(g["aria-disabled"]="true"),g}),s=S(()=>"q-btn-dropdown__arrow"+(o.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":""));function l(g){o.value=!0,n("before-show",g)}function c(g){n("show",g),n("update:modelValue",!0)}function u(g){o.value=!1,n("before-hide",g)}function d(g){n("hide",g),n("update:modelValue",!1)}function f(g){n("click",g)}function h(g){It(g),b(),n("click",g)}function p(g){r.value!==null&&r.value.toggle(g)}function y(g){r.value!==null&&r.value.show(g)}function b(g){r.value!==null&&r.value.hide(g)}return Me(()=>e.modelValue,g=>{r.value!==null&&r.value[g?"show":"hide"]()}),Me(()=>e.split,b),Object.assign(i,{show:y,hide:b,toggle:p}),$t(()=>{e.modelValue===!0&&y()}),()=>{const g=[v(dt,{class:s.value,name:e.dropdownIcon||i.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&g.push(v(cl,{ref:r,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,onBeforeShow:l,onShow:c,onBeforeHide:u,onHide:d},t.default)),e.split===!1?v(mt,ye(V(ye(V({class:"q-btn-dropdown q-btn-dropdown--simple"},e),{disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1}),a.value),{onClick:f}),()=>je(t.label,[]).concat(g)):v(If,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",outline:e.outline,flat:e.flat,rounded:e.rounded,push:e.push,unelevated:e.unelevated,glossy:e.glossy,stretch:e.stretch},()=>[v(mt,ye(V({class:"q-btn-dropdown--current"},e),{disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,iconRight:e.iconRight,round:!1,onClick:h}),t.label),v(mt,ye(V({class:"q-btn-dropdown__arrow-container q-anchor--skip"},a.value),{disable:e.disable===!0||e.disableDropdown===!0,outline:e.outline,flat:e.flat,rounded:e.rounded,push:e.push,size:e.size,color:e.color,textColor:e.textColor,dense:e.dense,ripple:e.ripple}),()=>g)])}}});const ei={name:String};function ul(e){return S(()=>({type:"hidden",name:e.name,value:e.modelValue}))}function Bo(e={}){return(t,n,i)=>{t[n](v("input",V({class:"hidden"+(i||"")},e.value)))}}function qf(e){return S(()=>e.name||e.for)}var u2=we({name:"QBtnToggle",props:ye(V({},ei),{modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(t=>("label"in t||"icon"in t||"slot"in t)&&"value"in t)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}}),emits:["update:modelValue","clear","click"],setup(e,{slots:t,emit:n}){const i=S(()=>e.options.find(u=>u.value===e.modelValue)!==void 0),o=S(()=>({type:"hidden",name:e.name,value:e.modelValue})),r=Bo(o),a=S(()=>e.options.map((u,d)=>{const b=u,{attrs:f,value:h,slot:p}=b,y=qa(b,["attrs","value","slot"]);return{slot:p,props:ye(V(V({key:d,onClick(g){s(h,u,g)},"aria-pressed":h===e.modelValue?"true":"false"},f),y),{outline:e.outline,flat:e.flat,rounded:e.rounded,push:e.push,unelevated:e.unelevated,dense:e.dense,disable:e.disable===!0||y.disable===!0,color:h===e.modelValue?l(y,"toggleColor"):l(y,"color"),textColor:h===e.modelValue?l(y,"toggleTextColor"):l(y,"textColor"),noCaps:l(y,"noCaps")===!0,noWrap:l(y,"noWrap")===!0,size:l(y,"size"),padding:l(y,"padding"),ripple:l(y,"ripple"),stack:l(y,"stack")===!0,stretch:l(y,"stretch")===!0})}}));function s(u,d,f){e.readonly!==!0&&(e.modelValue===u?e.clearable===!0&&(n("update:modelValue",null,null),n("clear")):n("update:modelValue",u,d),n("click",f))}function l(u,d){return u[d]===void 0?e[d]:u[d]}function c(){const u=a.value.map(d=>v(mt,d.props,d.slot!==void 0?t[d.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&i.value===!0&&r(u,"push"),zt(t.default,u)}return()=>v(If,{class:"q-btn-toggle",outline:e.outline,flat:e.flat,rounded:e.rounded,push:e.push,stretch:e.stretch,unelevated:e.unelevated,glossy:e.glossy,spread:e.spread},c)}}),Vf=we({name:"QCard",props:ye(V({},ht),{tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean}),setup(e,{slots:t}){const n=Ne(),i=ft(e,n.proxy.$q),o=S(()=>"q-card"+(i.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>v(e.tag,{class:o.value},je(t.default))}}),po=we({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=S(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>v(e.tag,{class:n.value},je(t.default))}}),pb=we({name:"QCardActions",props:ye(V({},Pf),{vertical:Boolean}),setup(e,{slots:t}){const n=Rf(e),i=S(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>v("div",{class:i.value},je(t.default))}});const Hf={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},d2=Object.keys(Hf);function cu(e){const t={};for(const n of d2)e[n]===!0&&(t[n]=!0);return Object.keys(t).length===0?Hf:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}function uu(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&e.target.nodeName.toUpperCase()!=="INPUT"&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function h2(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((n,i)=>{const o=parseFloat(n);o&&(t[i]=o)}),t}Hf.all=!0;var mb=vi({name:"touch-swipe",beforeMount(e,{value:t,arg:n,modifiers:i}){if(i.mouse!==!0&&ot.has.touch!==!0)return;const o=i.mouseCapture===!0?"Capture":"",r={handler:t,sensitivity:h2(n),direction:cu(i),noop:Ft,mouseStart(a){uu(a,r)&&Au(a)&&(Nt(r,"temp",[[document,"mousemove","move",`notPassive${o}`],[document,"mouseup","end","notPassiveCapture"]]),r.start(a,!0))},touchStart(a){if(uu(a,r)){const s=a.target;Nt(r,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","notPassiveCapture"],[s,"touchend","end","notPassiveCapture"]]),r.start(a)}},start(a,s){ot.is.firefox===!0&&sa(e,!0);const l=An(a);r.event={x:l.left,y:l.top,time:Date.now(),mouse:s===!0,dir:!1}},move(a){if(r.event===void 0)return;if(r.event.dir!==!1)return void rt(a);const s=Date.now()-r.event.time;if(s===0)return;const l=An(a),c=l.left-r.event.x,u=Math.abs(c),d=l.top-r.event.y,f=Math.abs(d);if(r.event.mouse!==!0){if(u<r.sensitivity[1]&&f<r.sensitivity[1])return void r.end(a)}else if(u<r.sensitivity[2]&&f<r.sensitivity[2])return;const h=u/s,p=f/s;r.direction.vertical===!0&&u<f&&u<100&&p>r.sensitivity[0]&&(r.event.dir=d<0?"up":"down"),r.direction.horizontal===!0&&u>f&&f<100&&h>r.sensitivity[0]&&(r.event.dir=c<0?"left":"right"),r.direction.up===!0&&u<f&&d<0&&u<100&&p>r.sensitivity[0]&&(r.event.dir="up"),r.direction.down===!0&&u<f&&d>0&&u<100&&p>r.sensitivity[0]&&(r.event.dir="down"),r.direction.left===!0&&u>f&&c<0&&f<100&&h>r.sensitivity[0]&&(r.event.dir="left"),r.direction.right===!0&&u>f&&c>0&&f<100&&h>r.sensitivity[0]&&(r.event.dir="right"),r.event.dir!==!1?(rt(a),r.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),li(),r.styleCleanup=y=>{r.styleCleanup=void 0,document.body.classList.remove("non-selectable");const b=()=>{document.body.classList.remove("no-pointer-events--children")};y===!0?setTimeout(b,50):b()}),r.handler({evt:a,touch:r.event.mouse!==!0,mouse:r.event.mouse,direction:r.event.dir,duration:s,distance:{x:u,y:f}})):r.end(a)},end(a){r.event!==void 0&&(gn(r,"temp"),ot.is.firefox===!0&&sa(e,!1),r.styleCleanup!==void 0&&r.styleCleanup(!0),a!==void 0&&r.event.dir!==!1&&rt(a),r.event=void 0)}};e.__qtouchswipe=r,i.mouse===!0&&Nt(r,"main",[[e,"mousedown","mouseStart",`passive${o}`]]),ot.has.touch===!0&&Nt(r,"main",[[e,"touchstart","touchStart",`passive${i.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchswipe;n!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&n.end(),n.handler=t.value),n.direction=cu(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(gn(t,"main"),gn(t,"temp"),ot.is.firefox===!0&&sa(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchswipe)}});function dl(){const e=new Map;return{getCache:function(t,n){return e[t]===void 0?e[t]=n:e[t]},getCacheWithFn:function(t,n){return e[t]===void 0?e[t]=n():e[t]}}}const Uf={name:{required:!0},disable:Boolean},qm={setup(e,{slots:t}){return()=>v("div",{class:"q-panel scroll",role:"tabpanel"},je(t.default))}},Gf={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Wf=["update:modelValue","before-transition","transition"];function $f(){const{props:e,emit:t,proxy:n}=Ne(),{getCacheWithFn:i}=dl();let o,r;const a=K(null),s=K(null);function l(C){const P=e.vertical===!0?"up":"left";T((n.$q.lang.rtl===!0?-1:1)*(C.direction===P?1:-1))}const c=S(()=>[[mb,l,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),u=S(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),d=S(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),f=S(()=>`--q-transition-duration: ${e.transitionDuration}ms`),h=S(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),p=S(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),y=S(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);function b(){T(1)}function g(){T(-1)}function m(C){t("update:modelValue",C)}function _(C){return C!=null&&C!==""}function x(C){return o.findIndex(P=>P.props.name===C&&P.props.disable!==""&&P.props.disable!==!0)}function M(){return o.filter(C=>C.props.disable!==""&&C.props.disable!==!0)}function w(C){const P=C!==0&&e.animated===!0&&a.value!==-1?"q-transition--"+(C===-1?u.value:d.value):null;s.value!==P&&(s.value=P)}function T(C,P=a.value){let L=P+C;for(;L>-1&&L<o.length;){const q=o[L];if(q!==void 0&&q.props.disable!==""&&q.props.disable!==!0)return w(C),r=!0,t("update:modelValue",q.props.name),void setTimeout(()=>{r=!1});L+=C}e.infinite===!0&&o.length>0&&P!==-1&&P!==o.length&&T(C,C===-1?o.length:-1)}function B(){const C=x(e.modelValue);return a.value!==C&&(a.value=C),!0}function D(){const C=_(e.modelValue)===!0&&B()&&o[a.value];return e.keepAlive===!0?[v(Yv,p.value,[v(y.value===!0?i(h.value,()=>ye(V({},qm),{name:h.value})):qm,{key:h.value,style:f.value},()=>C)])]:[v("div",{class:"q-panel scroll",style:f.value,key:h.value,role:"tabpanel"},[C])]}function z(){if(o.length!==0)return e.animated===!0?[v(Kt,{name:s.value},D)]:D()}function A(C){return o=kf(je(C.default,[])).filter(P=>P.props!==null&&P.props.slot===void 0&&_(P.props.name)===!0),o.length}function O(){return o}return Me(()=>e.modelValue,(C,P)=>{const L=_(C)===!0?x(C):-1;r!==!0&&w(L===-1?0:L<x(P)?-1:1),a.value!==L&&(a.value=L,t("before-transition",C,P),st(()=>{t("transition",C,P)}))}),Object.assign(n,{next:b,previous:g,goTo:m}),{panelIndex:a,panelDirectives:c,updatePanelsList:A,updatePanelIndex:B,getPanelContent:z,getEnabledPanels:M,getPanels:O,isValidPanelName:_,keepAliveProps:p,needsUniqueKeepAliveWrapper:y,goToPanelByOffset:T,goToPanel:m,nextPanel:b,previousPanel:g}}let Za=0;const jf={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Qf=["update:fullscreen","fullscreen"];function Yf(){const e=Ne(),{props:t,emit:n,proxy:i}=e;let o,r,a;const s=K(!1);function l(){s.value===!0?u():c()}function c(){s.value!==!0&&(s.value=!0,a=i.$el.parentNode,a.replaceChild(r,i.$el),document.body.appendChild(i.$el),Za++,Za===1&&document.body.classList.add("q-body--fullscreen-mixin"),o={handler:u},fE.add(o))}function u(){s.value===!0&&(o!==void 0&&(o=void 0),a.replaceChild(i.$el,r),s.value=!1,Za=Math.max(0,Za-1),Za===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),i.$el.scrollIntoView!==void 0&&setTimeout(()=>{i.$el.scrollIntoView()})))}return Bf(e)===!0&&Me(()=>i.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&u()}),Me(()=>t.fullscreen,d=>{s.value!==d&&l()}),Me(s,d=>{n("update:fullscreen",d),n("fullscreen",d)}),Oh(()=>{r=document.createElement("span")}),$t(()=>{t.fullscreen===!0&&c()}),ct(u),Object.assign(i,{toggleFullscreen:l,setFullscreen:c,exitFullscreen:u}),{inFullscreen:s,toggleFullscreen:l}}const f2=["top","right","bottom","left"],p2=["regular","flat","outline","push","unelevated"];var m2=we({name:"QCarousel",props:ye(V(V(V({},ht),Gf),jf),{transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>p2.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>f2.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean}),emits:[...Qf,...Wf],setup(e,{slots:t}){const{proxy:{$q:n}}=Ne(),i=ft(e,n);let o,r;const{updatePanelsList:a,getPanelContent:s,panelDirectives:l,goToPanel:c,previousPanel:u,nextPanel:d,getEnabledPanels:f,panelIndex:h}=$f(),{inFullscreen:p}=Yf(),y=S(()=>p.value!==!0&&e.height!==void 0?{height:e.height}:{}),b=S(()=>e.vertical===!0?"vertical":"horizontal"),g=S(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(p.value===!0?" fullscreen":"")+(i.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${b.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${M.value}`:"")),m=S(()=>{const z=[e.prevIcon||n.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||n.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&n.lang.rtl===!0?z.reverse():z}),_=S(()=>e.navigationIcon||n.iconSet.carousel.navigationIcon),x=S(()=>e.navigationActiveIcon||_.value),M=S(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),w=S(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));function T(){const z=Ws(e.autoplay)===!0?e.autoplay:5e3;o=setTimeout(z>=0?d:u,Math.abs(z))}function B(z,A){return v("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${z} q-carousel__navigation--${M.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[v("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},f().map(A))])}function D(){const z=[];if(e.navigation===!0){const A=t["navigation-icon"]!==void 0?t["navigation-icon"]:C=>v(mt,ye(V({key:"nav"+C.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${C.active===!0?"":"in"}active`},C.btnProps),{onClick:C.onClick})),O=r-1;z.push(B("buttons",(C,P)=>{const L=C.props.name,q=h.value===P;return A({index:P,maxIndex:O,name:L,active:q,btnProps:V({icon:q===!0?x.value:_.value,size:"sm"},w.value),onClick:()=>{c(L)}})}))}else if(e.thumbnails===!0){const A=e.controlColor!==void 0?` text-${e.controlColor}`:"";z.push(B("thumbnails",O=>{const C=O.props;return v("img",{key:"tmb#"+C.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${C.name===e.modelValue?"":"in"}active`+A,src:C.imgSrc||C["img-src"],onClick:()=>{c(C.name)}})}))}return e.arrows===!0&&h.value>=0&&((e.infinite===!0||h.value>0)&&z.push(v("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${b.value} absolute flex flex-center`},[v(mt,ye(V({icon:m.value[0]},w.value),{onClick:u}))])),(e.infinite===!0||h.value<r-1)&&z.push(v("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${b.value} absolute flex flex-center`},[v(mt,ye(V({icon:m.value[1]},w.value),{onClick:d}))]))),zt(t.control,z)}return Me(()=>e.modelValue,()=>{e.autoplay&&(clearInterval(o),T())}),Me(()=>e.autoplay,z=>{z?T():clearInterval(o)}),$t(()=>{e.autoplay&&T()}),ct(()=>{clearInterval(o)}),()=>(r=a(t),v("div",{class:g.value,style:y.value},[Kn("div",{class:"q-carousel__slides-container"},s(),"sl-cont",e.swipeable,()=>l.value)].concat(D())))}}),v2=we({name:"QCarouselSlide",props:ye(V({},Uf),{imgSrc:String}),setup(e,{slots:t}){const n=S(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>v("div",{class:"q-carousel__slide",style:n.value},je(t.default))}}),g2=we({name:"QCarouselControl",props:{position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,default:()=>[18,18],validator:e=>e.length===2}},setup(e,{slots:t}){const n=S(()=>`q-carousel__control absolute absolute-${e.position}`),i=S(()=>({margin:`${e.offset[1]}px ${e.offset[0]}px`}));return()=>v("div",{class:n.value,style:i.value},je(t.default))}}),y2=we({name:"QChatMessage",props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelHtml:Boolean,nameHtml:Boolean,textHtml:Boolean,stampHtml:Boolean},setup(e,{slots:t}){const n=S(()=>e.sent===!0?"sent":"received"),i=S(()=>`q-message-text-content q-message-text-content--${n.value}`+(e.textColor!==void 0?` text-${e.textColor}`:"")),o=S(()=>`q-message-text q-message-text--${n.value}`+(e.bgColor!==void 0?` text-${e.bgColor}`:"")),r=S(()=>"q-message-container row items-end no-wrap"+(e.sent===!0?" reverse":"")),a=S(()=>e.size!==void 0?`col-${e.size}`:""),s=S(()=>({msg:e.textHtml===!0?"innerHTML":"textContent",stamp:e.stampHtml===!0?"innerHTML":"textContent",name:e.nameHtml===!0?"innerHTML":"textContent",label:e.labelHtml===!0?"innerHTML":"textContent"}));function l(u){return t.stamp!==void 0?[u,v("div",{class:"q-message-stamp"},t.stamp())]:e.stamp?[u,v("div",{class:"q-message-stamp",[s.value.stamp]:e.stamp})]:[u]}function c(u,d){const f=d===!0?u.length>1?h=>h:h=>v("div",[h]):h=>v("div",{[s.value.msg]:h});return u.map((h,p)=>v("div",{key:p,class:o.value},[v("div",{class:i.value},l(f(h)))]))}return()=>{const u=[];t.avatar!==void 0?u.push(t.avatar()):e.avatar!==void 0&&u.push(v("img",{class:`q-message-avatar q-message-avatar--${n.value}`,src:e.avatar,"aria-hidden":"true"}));const d=[];t.name!==void 0?d.push(v("div",{class:`q-message-name q-message-name--${n.value}`},t.name())):e.name!==void 0&&d.push(v("div",{class:`q-message-name q-message-name--${n.value}`,[s.value.name]:e.name})),t.default!==void 0?d.push(c(kf(t.default()),!0)):e.text!==void 0&&d.push(c(e.text)),u.push(v("div",{class:a.value},d));const f=[];return t.label!==void 0?f.push(v("div",{class:"q-message-label"},t.label())):e.label!==void 0&&f.push(v("div",{class:"q-message-label",[s.value.label]:e.label})),f.push(v("div",{class:r.value},u)),v("div",{class:`q-message q-message-${n.value}`},f)}}});function vb(e,t){const n=K(null),i=S(()=>e.disable!==!0?null:v("span",{ref:n,class:"no-outline",tabindex:-1}));function o(r){const a=t.value;r!==void 0&&r.type.indexOf("key")===0?a!==null&&document.activeElement!==a&&a.contains(document.activeElement)===!0&&a.focus():n.value!==null&&(r===void 0||a!==null&&a.contains(r.target)===!0)&&n.value.focus()}return{refocusTargetEl:i,refocusTarget:o}}var gb={xs:30,sm:35,md:40,lg:50,xl:60};const yb=ye(V(V(V({},ht),Ki),ei),{modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]}),bb=["update:modelValue"];function xb(e,t){const{props:n,slots:i,emit:o,proxy:r}=Ne(),{$q:a}=r,s=ft(n,a),l=K(null),{refocusTargetEl:c,refocusTarget:u}=vb(n,l),d=Ji(n,gb),f=S(()=>n.val!==void 0&&Array.isArray(n.modelValue)),h=S(()=>{const O=Vi(n.val);return f.value===!0?n.modelValue.findIndex(C=>Vi(C)===O):-1}),p=S(()=>f.value===!0?h.value>-1:Vi(n.modelValue)===Vi(n.trueValue)),y=S(()=>f.value===!0?h.value===-1:Vi(n.modelValue)===Vi(n.falseValue)),b=S(()=>p.value===!1&&y.value===!1),g=S(()=>n.disable===!0?-1:n.tabindex||0),m=S(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(n.disable===!0?" disabled":"")+(s.value===!0?` q-${e}--dark`:"")+(n.dense===!0?` q-${e}--dense`:"")+(n.leftLabel===!0?" reverse":"")),_=S(()=>{const O=p.value===!0?"truthy":y.value===!0?"falsy":"indet",C=n.color===void 0||n.keepColor!==!0&&(e==="toggle"?p.value!==!0:y.value===!0)?"":` text-${n.color}`;return`q-${e}__inner relative-position non-selectable q-${e}__inner--${O}${C}`}),x=S(()=>{const O={type:"checkbox"};return n.name!==void 0&&Object.assign(O,{"^checked":p.value===!0?"checked":void 0,name:n.name,value:f.value===!0?n.val:n.trueValue}),O}),M=Bo(x),w=S(()=>{const O={tabindex:g.value,role:"checkbox","aria-label":n.label,"aria-checked":b.value===!0?"mixed":p.value===!0?"true":"false"};return n.disable===!0&&(O["aria-disabled"]="true"),O});function T(O){O!==void 0&&(rt(O),u(O)),n.disable!==!0&&o("update:modelValue",B(),O)}function B(){if(f.value===!0){if(p.value===!0){const O=n.modelValue.slice();return O.splice(h.value,1),O}return n.modelValue.concat([n.val])}if(p.value===!0){if(n.toggleOrder!=="ft"||n.toggleIndeterminate===!1)return n.falseValue}else{if(y.value!==!0)return n.toggleOrder!=="ft"?n.trueValue:n.falseValue;if(n.toggleOrder==="ft"||n.toggleIndeterminate===!1)return n.trueValue}return n.indeterminateValue}function D(O){O.keyCode!==13&&O.keyCode!==32||rt(O)}function z(O){O.keyCode!==13&&O.keyCode!==32||T(O)}const A=t(p,b);return Object.assign(r,{toggle:T}),()=>{const O=A();n.disable!==!0&&M(O,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const C=[v("div",{class:_.value,style:d.value},O)];c.value!==null&&C.push(c.value);const P=n.label!==void 0?zt(i.default,[n.label]):je(i.default);return P!==void 0&&C.push(v("div",{class:`q-${e}__label q-anchor--skip`},P)),v("div",ye(V({ref:l,class:m.value},w.value),{onClick:T,onKeydown:D,onKeyup:z}),C)}}const b2=v("div",{key:"svg",class:"q-checkbox__bg absolute"},[v("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24","aria-hidden":"true"},[v("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),v("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var ua=we({name:"QCheckbox",props:yb,emits:bb,setup(e){function t(n,i){const o=S(()=>(n.value===!0?e.checkedIcon:i.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>o.value!==null?[v("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[v(dt,{class:"q-checkbox__icon",name:o.value})])]:[b2]}return xb("checkbox",t)}});const x2={xs:8,sm:10,md:14,lg:20,xl:24};var Xf=we({name:"QChip",props:ye(V(V({},ht),Ki),{dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}}),emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=Ne(),o=ft(e,i),r=Ji(e,x2),a=S(()=>e.selected===!0||e.icon!==void 0),s=S(()=>e.selected===!0?e.iconSelected||i.iconSet.chip.selected:e.icon),l=S(()=>e.iconRemove||i.iconSet.chip.remove),c=S(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),u=S(()=>{const b=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(b?` text-${b} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(c.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(o.value===!0?" q-chip--dark q-dark":"")}),d=S(()=>e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0});function f(b){b.keyCode===13&&h(b)}function h(b){e.disable||(n("update:selected",!e.selected),n("click",b))}function p(b){b.keyCode!==void 0&&b.keyCode!==13||(rt(b),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function y(){const b=[];c.value===!0&&b.push(v("div",{class:"q-focus-helper"})),a.value===!0&&b.push(v(dt,{class:"q-chip__icon q-chip__icon--left",name:s.value}));const g=e.label!==void 0?[v("div",{class:"ellipsis"},[e.label])]:void 0;return b.push(v("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Lf(t.default,g))),e.iconRight&&b.push(v(dt,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&b.push(v(dt,ye(V({class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:l.value},d.value),{onClick:p,onKeyup:p}))),b}return()=>{if(e.modelValue===!1)return;const b={class:u.value,style:r.value};return c.value===!0&&Object.assign(b,d.value,{onClick:h,onKeyup:f}),Kn("div",b,y(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[ll,e.ripple]])}}});const Zf=ye(V({},Ki),{min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean}),Ph=50,_b=2*Ph,wb=_b*Math.PI,_2=Math.round(1e3*wb)/1e3;var Kf=we({name:"QCircularProgress",props:ye(V({},Zf),{value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean}),setup(e,{slots:t}){const{proxy:{$q:n}}=Ne(),i=Ji(e),o=S(()=>{const f=(n.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(n.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-f}deg)`:`rotate3d(0, 0, 1, ${f-90}deg)`}}),r=S(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),a=S(()=>_b/(1-e.thickness/2)),s=S(()=>`${a.value/2} ${a.value/2} ${a.value} ${a.value}`),l=S(()=>wt(e.value,e.min,e.max)),c=S(()=>wb*(1-(l.value-e.min)/(e.max-e.min))),u=S(()=>e.thickness/2*a.value);function d({thickness:f,offset:h,color:p,cls:y}){return v("circle",{class:"q-circular-progress__"+y+(p!==void 0?` text-${p}`:""),style:r.value,fill:"transparent",stroke:"currentColor","stroke-width":f,"stroke-dasharray":_2,"stroke-dashoffset":h,cx:a.value,cy:a.value,r:Ph})}return()=>{const f=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&f.push(v("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:Ph-u.value/2,cx:a.value,cy:a.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&f.push(d({cls:"track",thickness:u.value,offset:0,color:e.trackColor})),f.push(d({cls:"circle",thickness:u.value,offset:c.value,color:e.color}));const h=[v("svg",{class:"q-circular-progress__svg",style:o.value,viewBox:s.value,"aria-hidden":"true"},f)];return e.showValue===!0&&h.push(v("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},t.default!==void 0?t.default():[v("div",l.value)])),v("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:i.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:l.value},Lf(t.internal,h))}}});function xd(e,t,n){const i=An(e);let o,r=i.left-t.event.x,a=i.top-t.event.y,s=Math.abs(r),l=Math.abs(a);const c=t.direction;c.horizontal===!0&&c.vertical!==!0?o=r<0?"left":"right":c.horizontal!==!0&&c.vertical===!0?o=a<0?"up":"down":c.up===!0&&a<0?(o="up",s>l&&(c.left===!0&&r<0?o="left":c.right===!0&&r>0&&(o="right"))):c.down===!0&&a>0?(o="down",s>l&&(c.left===!0&&r<0?o="left":c.right===!0&&r>0&&(o="right"))):c.left===!0&&r<0?(o="left",s<l&&(c.up===!0&&a<0?o="up":c.down===!0&&a>0&&(o="down"))):c.right===!0&&r>0&&(o="right",s<l&&(c.up===!0&&a<0?o="up":c.down===!0&&a>0&&(o="down")));let u=!1;if(o===void 0&&n===!1){if(t.event.isFirst===!0||t.event.lastDir===void 0)return{};o=t.event.lastDir,u=!0,o==="left"||o==="right"?(i.left-=r,s=0,r=0):(i.top-=a,l=0,a=0)}return{synthetic:u,payload:{evt:e,touch:t.event.mouse!==!0,mouse:t.event.mouse===!0,position:i,direction:o,isFirst:t.event.isFirst,isFinal:n===!0,duration:Date.now()-t.event.time,distance:{x:s,y:l},offset:{x:r,y:a},delta:{x:i.left-t.event.lastX,y:i.top-t.event.lastY}}}}let w2=0;var Vn=vi({name:"touch-pan",beforeMount(e,{value:t,modifiers:n}){if(n.mouse!==!0&&ot.has.touch!==!0)return;function i(r,a){n.mouse===!0&&a===!0?rt(r):(n.stop===!0&&It(r),n.prevent===!0&&en(r))}const o={uid:"qvtp_"+w2++,handler:t,modifiers:n,direction:cu(n),noop:Ft,mouseStart(r){uu(r,o)&&Au(r)&&(Nt(o,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),o.start(r,!0))},touchStart(r){if(uu(r,o)){const a=r.target;Nt(o,"temp",[[a,"touchmove","move","notPassiveCapture"],[a,"touchcancel","end","passiveCapture"],[a,"touchend","end","passiveCapture"]]),o.start(r)}},start(r,a){if(ot.is.firefox===!0&&sa(e,!0),o.lastEvt=r,a===!0||n.stop===!0){if(o.direction.all!==!0&&(a!==!0||o.modifiers.mouseAllDir!==!0)){const c=r.type.indexOf("mouse")>-1?new MouseEvent(r.type,r):new TouchEvent(r.type,r);r.defaultPrevented===!0&&en(c),r.cancelBubble===!0&&It(c),Object.assign(c,{qKeyEvent:r.qKeyEvent,qClickOutside:r.qClickOutside,qAnchorHandled:r.qAnchorHandled,qClonedBy:r.qClonedBy===void 0?[o.uid]:r.qClonedBy.concat(o.uid)}),o.initialEvent={target:r.target,event:c}}It(r)}const{left:s,top:l}=An(r);o.event={x:s,y:l,time:Date.now(),mouse:a===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:s,lastY:l}},move(r){if(o.event===void 0)return;const a=An(r),s=a.left-o.event.x,l=a.top-o.event.y;if(s===0&&l===0)return;o.lastEvt=r;const c=o.event.mouse===!0,u=()=>{i(r,c),n.preserveCursor!==!0&&(document.documentElement.style.cursor="grabbing"),c===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),li(),o.styleCleanup=h=>{if(o.styleCleanup=void 0,n.preserveCursor!==!0&&(document.documentElement.style.cursor=""),document.body.classList.remove("non-selectable"),c===!0){const p=()=>{document.body.classList.remove("no-pointer-events--children")};h!==void 0?setTimeout(()=>{p(),h()},50):p()}else h!==void 0&&h()}};if(o.event.detected===!0){o.event.isFirst!==!0&&i(r,o.event.mouse);const{payload:h,synthetic:p}=xd(r,o,!1);return void(h!==void 0&&(o.handler(h)===!1?o.end(r):(o.styleCleanup===void 0&&o.event.isFirst===!0&&u(),o.event.lastX=h.position.left,o.event.lastY=h.position.top,o.event.lastDir=p===!0?void 0:h.direction,o.event.isFirst=!1)))}if(o.direction.all===!0||c===!0&&o.modifiers.mouseAllDir===!0)return u(),o.event.detected=!0,void o.move(r);const d=Math.abs(s),f=Math.abs(l);d!==f&&(o.direction.horizontal===!0&&d>f||o.direction.vertical===!0&&d<f||o.direction.up===!0&&d<f&&l<0||o.direction.down===!0&&d<f&&l>0||o.direction.left===!0&&d>f&&s<0||o.direction.right===!0&&d>f&&s>0?(o.event.detected=!0,o.move(r)):o.end(r,!0))},end(r,a){if(o.event!==void 0){if(gn(o,"temp"),ot.is.firefox===!0&&sa(e,!1),a===!0)o.styleCleanup!==void 0&&o.styleCleanup(),o.event.detected!==!0&&o.initialEvent!==void 0&&o.initialEvent.target.dispatchEvent(o.initialEvent.event);else if(o.event.detected===!0){o.event.isFirst===!0&&o.handler(xd(r===void 0?o.lastEvt:r,o).payload);const{payload:s}=xd(r===void 0?o.lastEvt:r,o,!0),l=()=>{o.handler(s)};o.styleCleanup!==void 0?o.styleCleanup(l):l()}o.event=void 0,o.initialEvent=void 0,o.lastEvt=void 0}}};e.__qtouchpan=o,n.mouse===!0&&Nt(o,"main",[[e,"mousedown","mouseStart",`passive${n.mouseCapture===!0?"Capture":""}`]]),ot.has.touch===!0&&Nt(o,"main",[[e,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchpan;n!==void 0&&(t.oldValue!==t.value&&(typeof value!="function"&&n.end(),n.handler=t.value),n.direction=cu(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;t!==void 0&&(t.event!==void 0&&t.end(),gn(t,"main"),gn(t,"temp"),ot.is.firefox===!0&&sa(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchpan)}});const Vm="q-slider__marker-labels",S2=e=>({value:e}),M2=({marker:e})=>v("div",{key:e.value,style:e.style,class:e.classes},e.label),Jf=[34,37,40,33,39,38],Sb=ye(V(V({},ht),ei),{min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}}),Mb=["pan","update:modelValue","change"];function Tb({updateValue:e,updatePosition:t,getDragging:n,formAttrs:i}){const{props:o,emit:r,slots:a,proxy:{$q:s}}=Ne(),l=ft(o,s),c=Bo(i),u=K(!1),d=K(!1),f=K(!1),h=K(!1),p=S(()=>o.vertical===!0?"--v":"--h"),y=S(()=>"-"+(o.switchLabelSide===!0?"switched":"standard")),b=S(()=>o.vertical===!0?o.reverse===!0:o.reverse!==(s.lang.rtl===!0)),g=S(()=>isNaN(o.innerMin)===!0||o.innerMin<o.min?o.min:o.innerMin),m=S(()=>isNaN(o.innerMax)===!0||o.innerMax>o.max?o.max:o.innerMax),_=S(()=>o.disable!==!0&&o.readonly!==!0&&g.value<m.value),x=S(()=>(String(o.step).trim().split(".")[1]||"").length),M=S(()=>o.step===0?1:o.step),w=S(()=>_.value===!0?o.tabindex||0:-1),T=S(()=>o.max-o.min),B=S(()=>m.value-g.value),D=S(()=>he(g.value)),z=S(()=>he(m.value)),A=S(()=>o.vertical===!0?b.value===!0?"bottom":"top":b.value===!0?"right":"left"),O=S(()=>o.vertical===!0?"height":"width"),C=S(()=>o.vertical===!0?"width":"height"),P=S(()=>o.vertical===!0?"vertical":"horizontal"),L=S(()=>{const ge={role:"slider","aria-valuemin":g.value,"aria-valuemax":m.value,"aria-orientation":P.value,"data-step":o.step};return o.disable===!0?ge["aria-disabled"]="true":o.readonly===!0&&(ge["aria-readonly"]="true"),ge}),q=S(()=>`q-slider q-slider${p.value} q-slider--${u.value===!0?"":"in"}active inline no-wrap `+(o.vertical===!0?"row":"column")+(o.disable===!0?" disabled":" q-slider--enabled"+(_.value===!0?" q-slider--editable":""))+(f.value==="both"?" q-slider--focus":"")+(o.label||o.labelAlways===!0?" q-slider--label":"")+(o.labelAlways===!0?" q-slider--label-always":"")+(l.value===!0?" q-slider--dark":"")+(o.dense===!0?" q-slider--dense q-slider--dense"+p.value:""));function F(ge){const Be="q-slider__"+ge;return`${Be} ${Be}${p.value} ${Be}${p.value}${y.value}`}function j(ge){const Be="q-slider__"+ge;return`${Be} ${Be}${p.value}`}const G=S(()=>{const ge=o.selectionColor||o.color;return"q-slider__selection absolute"+(ge!==void 0?` text-${ge}`:"")}),Y=S(()=>j("markers")+" absolute overflow-hidden"),ee=S(()=>j("track-container")),U=S(()=>F("pin")),oe=S(()=>F("label")),J=S(()=>F("text-container")),te=S(()=>F("marker-labels-container")+(o.markerLabelsClass!==void 0?` ${o.markerLabelsClass}`:"")),ve=S(()=>"q-slider__track relative-position no-outline"+(o.trackColor!==void 0?` bg-${o.trackColor}`:"")),de=S(()=>{const ge={[C.value]:o.trackSize};return o.trackImg!==void 0&&(ge.backgroundImage=`url(${o.trackImg}) !important`),ge}),ne=S(()=>"q-slider__inner absolute"+(o.innerTrackColor!==void 0?` bg-${o.innerTrackColor}`:"")),E=S(()=>{const ge={[A.value]:`${100*D.value}%`,[O.value]:`${100*(z.value-D.value)}%`};return o.innerTrackImg!==void 0&&(ge.backgroundImage=`url(${o.innerTrackImg}) !important`),ge});function $(ge){const{min:Be,max:Ze,step:Ge}=o;let et=Be+ge*(Ze-Be);if(Ge>0){const pt=(et-Be)%Ge;et+=(Math.abs(pt)>=Ge/2?(pt<0?-1:1)*Ge:0)-pt}return x.value>0&&(et=parseFloat(et.toFixed(x.value))),wt(et,g.value,m.value)}function he(ge){return T.value===0?0:(ge-o.min)/T.value}function ie(ge,Be){const Ze=An(ge),Ge=o.vertical===!0?wt((Ze.top-Be.top)/Be.height,0,1):wt((Ze.left-Be.left)/Be.width,0,1);return wt(b.value===!0?1-Ge:Ge,D.value,z.value)}const fe=S(()=>Ws(o.markers)===!0?o.markers:M.value),pe=S(()=>{const ge=[],Be=fe.value,Ze=o.max;let Ge=o.min;do ge.push(Ge),Ge+=Be;while(Ge<Ze);return ge.push(Ze),ge}),Pe=S(()=>{const ge=` ${Vm}${p.value}-`;return Vm+`${ge}${o.switchMarkerLabelsSide===!0?"switched":"standard"}${ge}${b.value===!0?"rtl":"ltr"}`}),_e=S(()=>o.markerLabels===!1?null:re(o.markerLabels).map((ge,Be)=>({index:Be,value:ge.value,label:ge.label||ge.value,classes:Pe.value+(ge.classes!==void 0?" "+ge.classes:""),style:V(V({},ue(ge.value)),ge.style||{})}))),R=S(()=>({markerList:_e.value,markerMap:W.value,classes:Pe.value,getStyle:ue})),k=S(()=>{if(B.value!==0){const ge=100*fe.value/B.value;return ye(V({},E.value),{backgroundSize:o.vertical===!0?`2px ${ge}%`:`${ge}% 2px`})}return null});function re(ge){if(ge===!1)return null;if(ge===!0)return pe.value.map(S2);if(typeof ge=="function")return pe.value.map(Ze=>{const Ge=ge(Ze);return Sn(Ge)===!0?ye(V({},Ge),{value:Ze}):{value:Ze,label:Ge}});const Be=({value:Ze})=>Ze>=o.min&&Ze<=o.max;return Array.isArray(ge)===!0?ge.map(Ze=>Sn(Ze)===!0?Ze:{value:Ze}).filter(Be):Object.keys(ge).map(Ze=>{const Ge=ge[Ze],et=Number(Ze);return Sn(Ge)===!0?ye(V({},Ge),{value:et}):{value:et,label:Ge}}).filter(Be)}function ue(ge){return{[A.value]:`${100*(ge-o.min)/T.value}%`}}const W=S(()=>{if(o.markerLabels===!1)return null;const ge={};return _e.value.forEach(Be=>{ge[Be.value]=Be}),ge});function X(){if(a["marker-label-group"]!==void 0)return a["marker-label-group"](R.value);const ge=a["marker-label"]||M2;return _e.value.map(Be=>ge(V({marker:Be},R.value)))}const me=S(()=>[[Vn,Te,void 0,{[P.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Te(ge){ge.isFinal===!0?(h.value!==void 0&&(t(ge.evt),ge.touch===!0&&e(!0),h.value=void 0,r("pan","end")),u.value=!1,f.value=!1):ge.isFirst===!0?(h.value=n(ge.evt),t(ge.evt),e(),u.value=!0,r("pan","start")):(t(ge.evt),e())}function Ce(){f.value=!1}function Ie(ge){t(ge,n(ge)),e(),d.value=!0,u.value=!0,document.addEventListener("mouseup",ze,!0)}function ze(){d.value=!1,u.value=!1,e(!0),Ce(),document.removeEventListener("mouseup",ze,!0)}function $e(ge){t(ge,n(ge)),e(!0)}function Fe(ge){Jf.includes(ge.keyCode)&&e(!0)}function le(ge){if(o.vertical===!0)return null;const Be=s.lang.rtl!==o.reverse?1-ge:ge;return{transform:`translateX(calc(${2*Be-1} * ${o.thumbSize} / 2 + ${50-100*Be}%))`}}function Se(ge){const Be=S(()=>d.value!==!1||f.value!==ge.focusValue&&f.value!=="both"?"":" q-slider--focus"),Ze=S(()=>`q-slider__thumb q-slider__thumb${p.value} q-slider__thumb${p.value}-${b.value===!0?"rtl":"ltr"} absolute non-selectable`+Be.value+(ge.thumbColor.value!==void 0?` text-${ge.thumbColor.value}`:"")),Ge=S(()=>({width:o.thumbSize,height:o.thumbSize,[A.value]:`${100*ge.ratio.value}%`,zIndex:f.value===ge.focusValue?2:void 0})),et=S(()=>ge.labelColor.value!==void 0?` text-${ge.labelColor.value}`:""),pt=S(()=>le(ge.ratio.value)),Et=S(()=>"q-slider__text"+(ge.labelTextColor.value!==void 0?` text-${ge.labelTextColor.value}`:""));return()=>{const Tt=[v("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[v("path",{d:o.thumbPath})]),v("div",{class:"q-slider__focus-ring fit"})];return o.label!==!0&&o.labelAlways!==!0||(Tt.push(v("div",{class:U.value+" absolute fit no-pointer-events"+et.value},[v("div",{class:oe.value,style:{minWidth:o.thumbSize}},[v("div",{class:J.value,style:pt.value},[v("span",{class:Et.value},ge.label.value)])])])),o.name!==void 0&&o.disable!==!0&&c(Tt,"push")),v("div",V({class:Ze.value,style:Ge.value},ge.getNodeData()),Tt)}}function De(ge,Be,Ze,Ge){const et=[];o.innerTrackColor!=="transparent"&&et.push(v("div",{key:"inner",class:ne.value,style:E.value})),o.selectionColor!=="transparent"&&et.push(v("div",{key:"selection",class:G.value,style:ge.value})),o.markers!==!1&&et.push(v("div",{key:"marker",class:Y.value,style:k.value})),Ge(et);const pt=[Kn("div",V({key:"trackC",class:ee.value,tabindex:Be.value},Ze.value),[v("div",{class:ve.value,style:de.value},et)],"slide",_.value,()=>me.value)];if(o.markerLabels!==!1){const Et=o.switchMarkerLabelsSide===!0?"unshift":"push";pt[Et](v("div",{key:"markerL",class:te.value},X()))}return pt}return ct(()=>{document.removeEventListener("mouseup",ze,!0)}),{state:{active:u,focus:f,preventFocus:d,dragging:h,editable:_,classes:q,tabindex:w,attributes:L,step:M,decimals:x,trackLen:T,innerMin:g,innerMinRatio:D,innerMax:m,innerMaxRatio:z,positionProp:A,sizeProp:O,isReversed:b},methods:{onActivate:Ie,onMobileClick:$e,onBlur:Ce,onKeyup:Fe,getContent:De,getThumbRenderFn:Se,convertRatioToModel:$,convertModelToRatio:he,getDraggingRatio:ie}}}const T2=()=>({});var $o=we({name:"QSlider",props:ye(V({},Sb),{modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]}),emits:Mb,setup(e,{emit:t}){const{proxy:{$q:n}}=Ne(),{state:i,methods:o}=Tb({updateValue:p,updatePosition:b,getDragging:y,formAttrs:ul(e)}),r=K(null),a=K(0),s=K(0);function l(){s.value=e.modelValue===null?i.innerMin.value:wt(e.modelValue,i.innerMin.value,i.innerMax.value)}Me(()=>`${e.modelValue}|${i.innerMin.value}|${i.innerMax.value}`,l),l();const c=S(()=>o.convertModelToRatio(s.value)),u=S(()=>i.active.value===!0?a.value:c.value),d=S(()=>{const _={[i.positionProp.value]:`${100*i.innerMinRatio.value}%`,[i.sizeProp.value]:`${100*(u.value-i.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(_.backgroundImage=`url(${e.selectionImg}) !important`),_}),f=o.getThumbRenderFn({focusValue:!0,getNodeData:T2,ratio:u,label:S(()=>e.labelValue!==void 0?e.labelValue:s.value),thumbColor:S(()=>e.thumbColor||e.color),labelColor:S(()=>e.labelColor),labelTextColor:S(()=>e.labelTextColor)}),h=S(()=>i.editable.value!==!0?{}:n.platform.is.mobile===!0?{onClick:o.onMobileClick}:{onMousedown:o.onActivate,onFocus:g,onBlur:o.onBlur,onKeydown:m,onKeyup:o.onKeyup});function p(_){s.value!==e.modelValue&&t("update:modelValue",s.value),_===!0&&t("change",s.value)}function y(){return r.value.getBoundingClientRect()}function b(_,x=i.dragging.value){const M=o.getDraggingRatio(_,x);s.value=o.convertRatioToModel(M),a.value=e.snap!==!0||e.step===0?M:o.convertModelToRatio(s.value)}function g(){i.focus.value=!0}function m(_){if(!Jf.includes(_.keyCode))return;rt(_);const x=([34,33].includes(_.keyCode)?10:1)*i.step.value,M=([34,37,40].includes(_.keyCode)?-1:1)*(i.isReversed.value===!0?-1:1)*x;s.value=wt(parseFloat((s.value+M).toFixed(i.decimals.value)),i.innerMin.value,i.innerMax.value),p()}return()=>{const _=o.getContent(d,i.tabindex,h,x=>{x.push(f())});return v("div",ye(V({ref:r,class:i.classes.value+(e.modelValue===null?" q-slider--no-value":"")},i.attributes.value),{"aria-valuenow":e.modelValue}),_)}}});function Cb(){const e=K(!mi.value);return e.value===!1&&$t(()=>{e.value=!0}),e}const Eb=typeof ResizeObserver!="undefined",Hm=Eb===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var Lo=we({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:t}){let n,i=null,o={width:-1,height:-1};function r(l){l===!0||e.debounce===0||e.debounce==="0"?a():i===null&&(i=setTimeout(a,e.debounce))}function a(){if(clearTimeout(i),i=null,n){const{offsetWidth:l,offsetHeight:c}=n;l===o.width&&c===o.height||(o={width:l,height:c},t("resize",o))}}const s=Ne();if(Object.assign(s.proxy,{trigger:r}),Eb===!0){let l;return $t(()=>{st(()=>{n=s.proxy.$el.parentNode,n&&(l=new ResizeObserver(r),l.observe(n),a())})}),ct(()=>{clearTimeout(i),l!==void 0&&(l.disconnect!==void 0?l.disconnect():n&&l.unobserve(n))}),Ft}{let u=function(){clearTimeout(i),c!==void 0&&(c.removeEventListener!==void 0&&c.removeEventListener("resize",r,xt.passive),c=void 0)},d=function(){u(),n&&n.contentDocument&&(c=n.contentDocument.defaultView,c.addEventListener("resize",r,xt.passive),a())};const l=Cb();let c;return $t(()=>{st(()=>{n=s.proxy.$el,n&&d()})}),ct(u),()=>{if(l.value===!0)return v("object",{style:Hm.style,tabindex:-1,type:"text/html",data:Hm.url,"aria-hidden":"true",onLoad:d})}}}});let js=!1;{const e=document.createElement("div"),t=document.createElement("div");e.setAttribute("dir","rtl"),e.style.width="1px",e.style.height="1px",e.style.overflow="auto",t.style.width="1000px",t.style.height="1px",document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,js=e.scrollLeft>=0,e.remove()}function C2(e,t,n){const i=n===!0?["left","right"]:["top","bottom"];return`absolute-${t===!0?i[0]:i[1]}${e?` text-${e}`:""}`}const E2=["left","center","right","justify"],Um=()=>{};var Rh=we({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>E2.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:t,emit:n}){const i=Ne(),{proxy:{$q:o}}=i,{registerTick:r}=Ru(),{registerTimeout:a,removeTimeout:s}=Ta(),{registerTimeout:l}=Ta(),c=K(null),u=K(null),d=K(e.modelValue),f=K(!1),h=K(!0),p=K(!1),y=K(!1),b=S(()=>o.platform.is.desktop===!0||e.mobileArrows===!0),g=[],m=K(!1);let _,x,M,w=!1,T=b.value===!0?Y:Ft;const B=S(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:C2(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),D=S(()=>`q-tabs__content--align-${f.value===!0?"left":y.value===!0?"justify":e.align}`),z=S(()=>`q-tabs row no-wrap items-center q-tabs--${f.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${b.value===!0&&e.outsideArrows===!0?"outside":"inside"}`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),A=S(()=>"q-tabs__content row no-wrap items-center self-stretch hide-scrollbar relative-position "+D.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")+(o.platform.is.mobile===!0?" scroll":"")),O=S(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),C=S(()=>e.vertical!==!0&&o.lang.rtl===!0),P=S(()=>js===!1&&C.value===!0);function L({name:R,setCurrent:k,skipEmit:re,fromRoute:ue}){d.value!==R&&(re!==!0&&n("update:modelValue",R),k!==!0&&e["onUpdate:modelValue"]!==void 0||(j(d.value,R),d.value=R)),ue!==void 0&&(w=ue)}function q(){r(()=>{i.isDeactivated!==!0&&i.isUnmounted!==!0&&F({width:c.value.offsetWidth,height:c.value.offsetHeight})})}function F(R){if(O.value===void 0||u.value===null)return;const k=R[O.value.container],re=Math.min(u.value[O.value.scroll],Array.prototype.reduce.call(u.value.children,(X,me)=>X+(me[O.value.content]||0),0)),ue=k>0&&re>k;f.value!==ue&&(f.value=ue),ue===!0&&st(T);const W=k<parseInt(e.breakpoint,10);y.value!==W&&(y.value=W)}function j(R,k){const re=R!=null&&R!==""?g.find(W=>W.name.value===R):null,ue=k!=null&&k!==""?g.find(W=>W.name.value===k):null;if(re&&ue){const W=re.tabIndicatorRef.value,X=ue.tabIndicatorRef.value;clearTimeout(_),W.style.transition="none",W.style.transform="none",X.style.transition="none",X.style.transform="none";const me=W.getBoundingClientRect(),Te=X.getBoundingClientRect();X.style.transform=e.vertical===!0?`translate3d(0,${me.top-Te.top}px,0) scale3d(1,${Te.height?me.height/Te.height:1},1)`:`translate3d(${me.left-Te.left}px,0,0) scale3d(${Te.width?me.width/Te.width:1},1,1)`,st(()=>{_=setTimeout(()=>{X.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",X.style.transform="none"},70)})}ue&&f.value===!0&&G(ue.rootRef.value)}function G(R){const{left:k,width:re,top:ue,height:W}=u.value.getBoundingClientRect(),X=R.getBoundingClientRect();let me=e.vertical===!0?X.top-ue:X.left-k;if(me<0)return u.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(me),void T();me+=e.vertical===!0?X.height-W:X.width-re,me>0&&(u.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(me),T())}function Y(){const R=u.value;if(R!==null){const k=R.getBoundingClientRect(),re=e.vertical===!0?R.scrollTop:Math.abs(R.scrollLeft);C.value===!0?(h.value=Math.ceil(re+k.width)<R.scrollWidth-1,p.value=re>0):(h.value=re>0,p.value=e.vertical===!0?Math.ceil(re+k.height)<R.scrollHeight:Math.ceil(re+k.width)<R.scrollWidth)}}function ee(R){J(),de(R),x=setInterval(()=>{de(R)===!0&&J()},5)}function U(){ee(P.value===!0?Number.MAX_SAFE_INTEGER:0)}function oe(){ee(P.value===!0?0:Number.MAX_SAFE_INTEGER)}function J(){clearInterval(x)}function te(R,k){const re=Array.prototype.filter.call(u.value.children,Te=>Te===k||Te.matches&&Te.matches(".q-tab.q-focusable")===!0),ue=re.length;if(ue===0)return;if(R===36)return G(re[0]),!0;if(R===35)return G(re[ue-1]),!0;const W=R===(e.vertical===!0?38:37),X=R===(e.vertical===!0?40:39),me=W===!0?-1:X===!0?1:void 0;if(me!==void 0){const Te=C.value===!0?-1:1,Ce=re.indexOf(k)+me*Te;return Ce>=0&&Ce<ue&&(G(re[Ce]),re[Ce].focus({preventScroll:!0})),!0}}Me(C,T),Me(()=>e.modelValue,R=>{L({name:R,setCurrent:!0,skipEmit:!0})}),Me(()=>e.outsideArrows,()=>{st(q())}),Me(b,R=>{T=R===!0?Y:Ft,st(q())});const ve=S(()=>P.value===!0?{get:R=>Math.abs(R.scrollLeft),set:(R,k)=>{R.scrollLeft=-k}}:e.vertical===!0?{get:R=>R.scrollTop,set:(R,k)=>{R.scrollTop=k}}:{get:R=>R.scrollLeft,set:(R,k)=>{R.scrollLeft=k}});function de(R){const k=u.value,{get:re,set:ue}=ve.value;let W=!1,X=re(k);const me=R<X?-1:1;return X+=5*me,X<0?(W=!0,X=0):(me===-1&&X<=R||me===1&&X>=R)&&(W=!0,X=R),ue(k,X),T(),W}function ne(){return g.filter(R=>R.routerProps!==void 0&&R.routerProps.hasRouterLink.value===!0)}function E(){let R=null,k=w;const re={matchedLen:0,hrefLen:0,exact:!1,found:!1},{hash:ue}=i.proxy.$route,W=d.value;let X=k===!0?Um:Te=>{W===Te.name.value&&(k=!0,X=Um)};const me=ne();for(const Te of me){const Ce=Te.routerProps.exact.value===!0;if(Te.routerProps[Ce===!0?"linkIsExactActive":"linkIsActive"].value!==!0||re.exact===!0&&Ce!==!0){X(Te);continue}const Ie=Te.routerProps.linkRoute.value,ze=Ie.hash;if(Ce===!0){if(ue===ze){R=Te.name.value;break}if(ue!==""&&ze!==""){X(Te);continue}}const $e=Ie.matched.length,Fe=Ie.href.length-ze.length;($e===re.matchedLen?Fe>re.hrefLen:$e>re.matchedLen)?(R=Te.name.value,Object.assign(re,{matchedLen:$e,hrefLen:Fe,exact:Ce})):X(Te)}k!==!0&&R===null||L({name:R,setCurrent:!0,fromRoute:!0})}function $(R){if(s(),m.value!==!0&&c.value!==null&&R.target&&typeof R.target.closest=="function"){const k=R.target.closest(".q-tab");k&&c.value.contains(k)===!0&&(m.value=!0)}}function he(){a(()=>{m.value=!1},30)}function ie(){Pe.avoidRouteWatcher!==!0&&l(E)}function fe(R){g.push(R),ne().length>0&&(M===void 0&&(M=Me(()=>i.proxy.$route,ie)),ie())}function pe(R){g.splice(g.indexOf(R),1),M!==void 0&&(ne().length===0&&(M(),M=void 0),ie())}const Pe={currentModel:d,tabProps:B,hasFocus:m,registerTab:fe,unregisterTab:pe,verifyRouteModel:ie,updateModel:L,recalculateScroll:q,onKbdNavigate:te,avoidRouteWatcher:!1};Ro(Vy,Pe),ct(()=>{clearTimeout(_),M!==void 0&&M()});let _e=!1;return pr(()=>{_e=!0}),mr(()=>{_e===!0&&q()}),()=>{const R=[v(Lo,{onResize:F}),v("div",{ref:u,class:A.value,onScroll:T},je(t.default))];return b.value===!0&&R.push(v(dt,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(h.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||o.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedown:U,onTouchstartPassive:U,onMouseup:J,onMouseleave:J,onTouchend:J}),v(dt,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(p.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||o.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedown:oe,onTouchstartPassive:oe,onMouseup:J,onMouseleave:J,onTouchend:J})),v("div",{ref:c,class:z.value,role:"tablist",onFocusin:$,onFocusout:he},R)}}});let A2=0;const Ab=["click","keydown"],Lb={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${A2++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Pb(e,t,n,i){const o=Pn(Vy,()=>{console.error("QTab/QRouteTab component needs to be child of QTabs")}),{proxy:r}=Ne(),a=K(null),s=K(null),l=K(null),c=S(()=>e.disable!==!0&&e.ripple!==!1&&Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),u=S(()=>o.currentModel.value===e.name),d=S(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(u.value===!0?" q-tab--active"+(o.tabProps.value.activeClass?" "+o.tabProps.value.activeClass:"")+(o.tabProps.value.activeColor?` text-${o.tabProps.value.activeColor}`:"")+(o.tabProps.value.activeBgColor?` bg-${o.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&o.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||o.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(i!==void 0&&i.linkClass.value!==""?` ${i.linkClass.value}`:"")),f=S(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(o.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),h=S(()=>e.disable===!0||o.hasFocus.value===!0?-1:e.tabindex||0);function p(_,x){if(x!==!0&&a.value!==null&&a.value.focus(),e.disable!==!0){let M;if(i!==void 0){if(i.hasRouterLink.value!==!0)return void n("click",_);M=()=>{_.__qNavigate=!0,o.avoidRouteWatcher=!0;const w=i.navigateToRouterLink(_);w===!1?o.avoidRouteWatcher=!1:w.then(T=>{o.avoidRouteWatcher=!1,T===void 0&&o.updateModel({name:e.name,fromRoute:!0})})}}else M=()=>{o.updateModel({name:e.name,fromRoute:!1})};n("click",_,M),_.defaultPrevented!==!0&&M()}}function y(_){Zn(_,[13,32])?p(_,!0):br(_)!==!0&&_.keyCode>=35&&_.keyCode<=40&&o.onKbdNavigate(_.keyCode,r.$el)===!0&&rt(_),n("keydown",_)}function b(){const _=o.tabProps.value.narrowIndicator,x=[],M=v("div",{ref:l,class:["q-tab__indicator",o.tabProps.value.indicatorClass]});e.icon!==void 0&&x.push(v(dt,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&x.push(v("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&x.push(e.alertIcon!==void 0?v(dt,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):v("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),_===!0&&x.push(M);const w=[v("div",{class:"q-focus-helper",tabindex:-1,ref:a}),v("div",{class:f.value},zt(t.default,x))];return _===!1&&w.push(M),w}const g={name:S(()=>e.name),rootRef:s,tabIndicatorRef:l,routerProps:i};function m(_,x){const M=V({ref:s,class:d.value,tabindex:h.value,role:"tab","aria-selected":u.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:p,onKeydown:y},x);return ci(v(_,M,b()),[[ll,c.value]])}return ct(()=>{o.unregisterTab(g),o.recalculateScroll()}),$t(()=>{o.registerTab(g),o.recalculateScroll()}),{renderTab:m,$tabs:o}}var Yr=we({name:"QTab",props:Lb,emits:Ab,setup(e,{slots:t,emit:n}){const{renderTab:i}=Pb(e,t,n);return()=>i("div")}}),Rb=we({name:"QTabPanels",props:V(V({},Gf),ht),emits:Wf,setup(e,{slots:t}){const n=Ne(),i=ft(e,n.proxy.$q),{updatePanelsList:o,getPanelContent:r,panelDirectives:a}=$f(),s=S(()=>"q-tab-panels q-panel-parent"+(i.value===!0?" q-tab-panels--dark q-dark":""));return()=>(o(t),Kn("div",{class:s.value},r(),"pan",e.swipeable,()=>a.value))}}),Sc=we({name:"QTabPanel",props:Uf,setup(e,{slots:t}){return()=>v("div",{class:"q-tab-panel"},je(t.default))}});const Gm=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Wm=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,$m=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,sc=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,lc=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,kh={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Gm.test(e),hexaColor:e=>Wm.test(e),hexOrHexaColor:e=>$m.test(e),rgbColor:e=>sc.test(e),rgbaColor:e=>lc.test(e),rgbOrRgbaColor:e=>sc.test(e)||lc.test(e),hexOrRgbColor:e=>Gm.test(e)||sc.test(e),hexaOrRgbaColor:e=>Wm.test(e)||lc.test(e),anyColor:e=>$m.test(e)||sc.test(e)||lc.test(e)},L2=/^rgb(a)?\((\d{1,3}),(\d{1,3}),(\d{1,3}),?([01]?\.?\d*?)?\)$/;function jm({r:e,g:t,b:n,a:i}){const o=i!==void 0;if(e=Math.round(e),t=Math.round(t),n=Math.round(n),e>255||t>255||n>255||o&&i>100)throw new TypeError("Expected 3 numbers below 256 (and optionally one below 100)");return i=o?(256|Math.round(255*i/100)).toString(16).slice(1):"","#"+(n|t<<8|e<<16|1<<24).toString(16).slice(1)+i}function Qm({r:e,g:t,b:n,a:i}){return`rgb${i!==void 0?"a":""}(${e},${t},${n}${i!==void 0?","+i/100:""})`}function kb(e){if(typeof e!="string")throw new TypeError("Expected a string");e=e.replace(/^#/,""),e.length===3?e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]:e.length===4&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=parseInt(e,16);return e.length>6?{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:Math.round((255&t)/2.55)}:{r:t>>16,g:t>>8&255,b:255&t}}function Ym({h:e,s:t,v:n,a:i}){let o,r,a;t/=100,n/=100,e/=360;const s=Math.floor(6*e),l=6*e-s,c=n*(1-t),u=n*(1-l*t),d=n*(1-(1-l)*t);switch(s%6){case 0:o=n,r=d,a=c;break;case 1:o=u,r=n,a=c;break;case 2:o=c,r=n,a=d;break;case 3:o=c,r=u,a=n;break;case 4:o=d,r=c,a=n;break;case 5:o=n,r=c,a=u;break}return{r:Math.round(255*o),g:Math.round(255*r),b:Math.round(255*a),a:i}}function _d({r:e,g:t,b:n,a:i}){const o=Math.max(e,t,n),r=Math.min(e,t,n),a=o-r,s=o===0?0:a/o,l=o/255;let c;switch(o){case r:c=0;break;case e:c=t-n+a*(t<n?6:0),c/=6*a;break;case t:c=n-e+2*a,c/=6*a;break;case n:c=e-t+4*a,c/=6*a;break}return{h:Math.round(360*c),s:Math.round(100*s),v:Math.round(100*l),a:i}}function Bb(e){if(typeof e!="string")throw new TypeError("Expected a string");const t=e.replace(/ /g,""),n=L2.exec(t);if(n===null)return kb(t);const i={r:Math.min(255,parseInt(n[2],10)),g:Math.min(255,parseInt(n[3],10)),b:Math.min(255,parseInt(n[4],10))};if(n[1]){const o=parseFloat(n[5]);i.a=100*Math.min(1,isNaN(o)===!0?1:o)}return i}function P2(e){if(typeof e!="string"&&(!e||e.r===void 0))throw new TypeError("Expected a string or a {r, g, b} object as color");const t=typeof e=="string"?Bb(e):e,n=t.r/255,i=t.g/255,o=t.b/255,r=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),a=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4),s=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4);return .2126*r+.7152*a+.0722*s}const R2=["rgb(255,204,204)","rgb(255,230,204)","rgb(255,255,204)","rgb(204,255,204)","rgb(204,255,230)","rgb(204,255,255)","rgb(204,230,255)","rgb(204,204,255)","rgb(230,204,255)","rgb(255,204,255)","rgb(255,153,153)","rgb(255,204,153)","rgb(255,255,153)","rgb(153,255,153)","rgb(153,255,204)","rgb(153,255,255)","rgb(153,204,255)","rgb(153,153,255)","rgb(204,153,255)","rgb(255,153,255)","rgb(255,102,102)","rgb(255,179,102)","rgb(255,255,102)","rgb(102,255,102)","rgb(102,255,179)","rgb(102,255,255)","rgb(102,179,255)","rgb(102,102,255)","rgb(179,102,255)","rgb(255,102,255)","rgb(255,51,51)","rgb(255,153,51)","rgb(255,255,51)","rgb(51,255,51)","rgb(51,255,153)","rgb(51,255,255)","rgb(51,153,255)","rgb(51,51,255)","rgb(153,51,255)","rgb(255,51,255)","rgb(255,0,0)","rgb(255,128,0)","rgb(255,255,0)","rgb(0,255,0)","rgb(0,255,128)","rgb(0,255,255)","rgb(0,128,255)","rgb(0,0,255)","rgb(128,0,255)","rgb(255,0,255)","rgb(245,0,0)","rgb(245,123,0)","rgb(245,245,0)","rgb(0,245,0)","rgb(0,245,123)","rgb(0,245,245)","rgb(0,123,245)","rgb(0,0,245)","rgb(123,0,245)","rgb(245,0,245)","rgb(214,0,0)","rgb(214,108,0)","rgb(214,214,0)","rgb(0,214,0)","rgb(0,214,108)","rgb(0,214,214)","rgb(0,108,214)","rgb(0,0,214)","rgb(108,0,214)","rgb(214,0,214)","rgb(163,0,0)","rgb(163,82,0)","rgb(163,163,0)","rgb(0,163,0)","rgb(0,163,82)","rgb(0,163,163)","rgb(0,82,163)","rgb(0,0,163)","rgb(82,0,163)","rgb(163,0,163)","rgb(92,0,0)","rgb(92,46,0)","rgb(92,92,0)","rgb(0,92,0)","rgb(0,92,46)","rgb(0,92,92)","rgb(0,46,92)","rgb(0,0,92)","rgb(46,0,92)","rgb(92,0,92)","rgb(255,255,255)","rgb(205,205,205)","rgb(178,178,178)","rgb(153,153,153)","rgb(127,127,127)","rgb(102,102,102)","rgb(76,76,76)","rgb(51,51,51)","rgb(25,25,25)","rgb(0,0,0)"],Xm="M5 5 h10 v10 h-10 v-10 z",k2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAH0lEQVQoU2NkYGAwZkAFZ5G5jPRRgOYEVDeB3EBjBQBOZwTVugIGyAAAAABJRU5ErkJggg==";var B2=we({name:"QColor",props:ye(V(V({},ht),ei),{modelValue:String,defaultValue:String,defaultView:{type:String,default:"spectrum",validator:e=>["spectrum","tune","palette"].includes(e)},formatModel:{type:String,default:"auto",validator:e=>["auto","hex","rgb","hexa","rgba"].includes(e)},palette:Array,noHeader:Boolean,noHeaderTabs:Boolean,noFooter:Boolean,square:Boolean,flat:Boolean,bordered:Boolean,disable:Boolean,readonly:Boolean}),emits:["update:modelValue","change"],setup(e,{emit:t}){const{proxy:n}=Ne(),{$q:i}=n,o=ft(e,i),{getCache:r}=dl(),a=K(null),s=K(null),l=S(()=>e.formatModel==="auto"?null:e.formatModel.indexOf("hex")>-1),c=S(()=>e.formatModel==="auto"?null:e.formatModel.indexOf("a")>-1),u=K(e.formatModel==="auto"?e.modelValue===void 0||e.modelValue===null||e.modelValue===""||e.modelValue.startsWith("#")?"hex":"rgb":e.formatModel.startsWith("hex")?"hex":"rgb"),d=K(e.defaultView),f=K(O(e.modelValue||e.defaultValue)),h=S(()=>e.disable!==!0&&e.readonly!==!0),p=S(()=>e.modelValue===void 0||e.modelValue===null||e.modelValue===""||e.modelValue.startsWith("#")),y=S(()=>l.value!==null?l.value:p.value),b=S(()=>({type:"hidden",name:e.name,value:f.value[y.value===!0?"hex":"rgb"]})),g=Bo(b),m=S(()=>c.value!==null?c.value:f.value.a!==void 0),_=S(()=>({backgroundColor:f.value.rgb||"#000"})),x=S(()=>`q-color-picker__header-content q-color-picker__header-content--${f.value.a!==void 0&&f.value.a<65||P2(f.value)>.4?"light":"dark"}`),M=S(()=>({background:`hsl(${f.value.h},100%,50%)`})),w=S(()=>({top:`${100-f.value.v}%`,[i.lang.rtl===!0?"right":"left"]:`${f.value.s}%`})),T=S(()=>e.palette!==void 0&&e.palette.length>0?e.palette:R2),B=S(()=>"q-color-picker"+(e.bordered===!0?" q-color-picker--bordered":"")+(e.square===!0?" q-color-picker--square no-border-radius":"")+(e.flat===!0?" q-color-picker--flat no-shadow":"")+(e.disable===!0?" disabled":"")+(o.value===!0?" q-color-picker--dark q-dark":"")),D=S(()=>e.disable===!0?{"aria-disabled":"true"}:e.readonly===!0?{"aria-readonly":"true"}:{}),z=S(()=>[[Vn,j,void 0,{prevent:!0,stop:!0,mouse:!0}]]);function A(E,$){f.value.hex=jm(E),f.value.rgb=Qm(E),f.value.r=E.r,f.value.g=E.g,f.value.b=E.b,f.value.a=E.a;const he=f.value[y.value===!0?"hex":"rgb"];t("update:modelValue",he),$===!0&&t("change",he)}function O(E){const $=c.value!==void 0?c.value:e.formatModel==="auto"?null:e.formatModel.indexOf("a")>-1;if(typeof E!="string"||E.length===0||kh.anyColor(E.replace(/ /g,""))!==!0)return{h:0,s:0,v:0,r:0,g:0,b:0,a:$===!0?100:void 0,hex:void 0,rgb:void 0};const he=Bb(E);return $===!0&&he.a===void 0&&(he.a=100),he.hex=jm(he),he.rgb=Qm(he),Object.assign(he,_d(he))}function C(E,$,he){const ie=a.value;if(ie===null)return;const fe=ie.clientWidth,pe=ie.clientHeight,Pe=ie.getBoundingClientRect();let _e=Math.min(fe,Math.max(0,E-Pe.left));i.lang.rtl===!0&&(_e=fe-_e);const R=Math.min(pe,Math.max(0,$-Pe.top)),k=Math.round(100*_e/fe),re=Math.round(100*Math.max(0,Math.min(1,-R/pe+1))),ue=Ym({h:f.value.h,s:k,v:re,a:m.value===!0?f.value.a:void 0});f.value.s=k,f.value.v=re,A(ue,he)}function P(E,$){const he=Math.round(E),ie=Ym({h:he,s:f.value.s,v:f.value.v,a:m.value===!0?f.value.a:void 0});f.value.h=he,A(ie,$)}function L(E,$,he,ie,fe){if(ie!==void 0&&It(ie),!/^[0-9]+$/.test(E))return void(fe===!0&&n.$forceUpdate());const pe=Math.floor(Number(E));if(pe<0||pe>he)return void(fe===!0&&n.$forceUpdate());const Pe={r:$==="r"?pe:f.value.r,g:$==="g"?pe:f.value.g,b:$==="b"?pe:f.value.b,a:m.value===!0?$==="a"?pe:f.value.a:void 0};if($!=="a"){const _e=_d(Pe);f.value.h=_e.h,f.value.s=_e.s,f.value.v=_e.v}if(A(Pe,fe),ie!==void 0&&fe!==!0&&ie.target.selectionEnd!==void 0){const _e=ie.target.selectionEnd;st(()=>{ie.target.setSelectionRange(_e,_e)})}}function q(E,$){let he;const ie=E.target.value;if(It(E),u.value==="hex"){if(ie.length!==(m.value===!0?9:7)||!/^#[0-9A-Fa-f]+$/.test(ie))return!0;he=kb(ie)}else{let pe;if(!ie.endsWith(")"))return!0;if(m.value!==!0&&ie.startsWith("rgb(")){if(pe=ie.substring(4,ie.length-1).split(",").map(Pe=>parseInt(Pe,10)),pe.length!==3||!/^rgb\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3}\)$/.test(ie))return!0}else{if(m.value!==!0||!ie.startsWith("rgba("))return!0;{if(pe=ie.substring(5,ie.length-1).split(","),pe.length!==4||!/^rgba\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3},(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/.test(ie))return!0;for(let _e=0;_e<3;_e++){const R=parseInt(pe[_e],10);if(R<0||R>255)return!0;pe[_e]=R}const Pe=parseFloat(pe[3]);if(Pe<0||Pe>1)return!0;pe[3]=Pe}}if(pe[0]<0||pe[0]>255||pe[1]<0||pe[1]>255||pe[2]<0||pe[2]>255||m.value===!0&&(pe[3]<0||pe[3]>1))return!0;he={r:pe[0],g:pe[1],b:pe[2],a:m.value===!0?100*pe[3]:void 0}}const fe=_d(he);if(f.value.h=fe.h,f.value.s=fe.s,f.value.v=fe.v,A(he,$),$!==!0){const pe=E.target.selectionEnd;st(()=>{E.target.setSelectionRange(pe,pe)})}}function F(E){const $=O(E),he={r:$.r,g:$.g,b:$.b,a:$.a};he.a===void 0&&(he.a=f.value.a),f.value.h=$.h,f.value.s=$.s,f.value.v=$.v,A(he,!0)}function j(E){E.isFinal?C(E.position.left,E.position.top,!0):G(E)}Me(()=>e.modelValue,E=>{const $=O(E||e.defaultValue);$.hex!==f.value.hex&&(f.value=$)}),Me(()=>e.defaultValue,E=>{if(!e.modelValue&&E){const $=O(E);$.hex!==f.value.hex&&(f.value=$)}});const G=Zy(E=>{C(E.position.left,E.position.top)},20);function Y(E){C(E.pageX-window.pageXOffset,E.pageY-window.pageYOffset,!0)}function ee(E){C(E.pageX-window.pageXOffset,E.pageY-window.pageYOffset)}function U(E){s.value!==null&&(s.value.$el.style.opacity=E?1:0)}function oe(){const E=[];return e.noHeaderTabs!==!0&&E.push(v(Rh,V({class:"q-color-picker__header-tabs",modelValue:u.value,dense:!0,align:"justify"},r("topVTab",{"onUpdate:modelValue":$=>{u.value=$}})),()=>[v(Yr,{label:"HEX"+(m.value===!0?"A":""),name:"hex",ripple:!1}),v(Yr,{label:"RGB"+(m.value===!0?"A":""),name:"rgb",ripple:!1})])),E.push(v("div",{class:"q-color-picker__header-banner row flex-center no-wrap"},[v("input",V(V({class:"fit",value:f.value[u.value]},h.value!==!0?{readonly:!0}:{}),r("topIn",{onInput:$=>{U(q($)===!0)},onChange:It,onBlur:$=>{q($,!0)===!0&&n.$forceUpdate(),U(!1)}}))),v(dt,{ref:s,class:"q-color-picker__error-icon absolute no-pointer-events",name:i.iconSet.type.negative})])),v("div",{class:"q-color-picker__header relative-position overflow-hidden"},[v("div",{class:"q-color-picker__header-bg absolute-full"}),v("div",{class:x.value,style:_.value},E)])}function J(){return v(Rb,{modelValue:d.value,animated:!0},()=>[v(Sc,{class:"q-color-picker__spectrum-tab overflow-hidden",name:"spectrum"},ve),v(Sc,{class:"q-pa-md q-color-picker__tune-tab",name:"tune"},de),v(Sc,{class:"q-color-picker__palette-tab",name:"palette"},ne)])}function te(){return v("div",{class:"q-color-picker__footer relative-position overflow-hidden"},[v(Rh,V({class:"absolute-full",modelValue:d.value,dense:!0,align:"justify"},r("ftIn",{"onUpdate:modelValue":E=>{d.value=E}})),()=>[v(Yr,{icon:i.iconSet.colorPicker.spectrum,name:"spectrum",ripple:!1}),v(Yr,{icon:i.iconSet.colorPicker.tune,name:"tune",ripple:!1}),v(Yr,{icon:i.iconSet.colorPicker.palette,name:"palette",ripple:!1})])])}function ve(){const E=V({ref:a,class:"q-color-picker__spectrum non-selectable relative-position cursor-pointer"+(h.value!==!0?" readonly":""),style:M.value},h.value===!0?{onClick:Y,onMousedown:ee}:{}),$=[v("div",{style:{paddingBottom:"100%"}}),v("div",{class:"q-color-picker__spectrum-white absolute-full"}),v("div",{class:"q-color-picker__spectrum-black absolute-full"}),v("div",{class:"absolute",style:w.value},[f.value.hex!==void 0?v("div",{class:"q-color-picker__spectrum-circle"}):null])],he=[v($o,V({class:"q-color-picker__hue non-selectable",modelValue:f.value.h,min:0,max:360,trackSize:"8px",innerTrackColor:"transparent",selectionColor:"transparent",readonly:h.value!==!0,thumbPath:Xm,"onUpdate:modelValue":P},r("lazyhue",{onChange:ie=>P(ie,!0)})))];return m.value===!0&&he.push(v($o,V({class:"q-color-picker__alpha non-selectable",modelValue:f.value.a,min:0,max:100,trackSize:"8px",trackColor:"white",innerTrackColor:"transparent",selectionColor:"transparent",trackImg:k2,readonly:h.value!==!0,hideSelection:!0,thumbPath:Xm},r("alphaSlide",{"onUpdate:modelValue":ie=>L(ie,"a",100),onChange:ie=>L(ie,"a",100,void 0,!0)})))),[Kn("div",E,$,"spec",h.value,()=>z.value),v("div",{class:"q-color-picker__sliders"},he)]}function de(){return[v("div",{class:"row items-center no-wrap"},[v("div","R"),v($o,V({modelValue:f.value.r,min:0,max:255,color:"red",dark:o.value,readonly:h.value!==!0},r("rSlide",{"onUpdate:modelValue":E=>L(E,"r",255),onChange:E=>L(E,"r",255,void 0,!0)}))),v("input",V({value:f.value.r,maxlength:3,readonly:h.value!==!0,onChange:It},r("rIn",{onInput:E=>L(E.target.value,"r",255,E),onBlur:E=>L(E.target.value,"r",255,E,!0)})))]),v("div",{class:"row items-center no-wrap"},[v("div","G"),v($o,V({modelValue:f.value.g,min:0,max:255,color:"green",dark:o.value,readonly:h.value!==!0},r("gSlide",{"onUpdate:modelValue":E=>L(E,"g",255),onChange:E=>L(E,"g",255,void 0,!0)}))),v("input",V({value:f.value.g,maxlength:3,readonly:h.value!==!0,onChange:It},r("gIn",{onInput:E=>L(E.target.value,"g",255,E),onBlur:E=>L(E.target.value,"g",255,E,!0)})))]),v("div",{class:"row items-center no-wrap"},[v("div","B"),v($o,V({modelValue:f.value.b,min:0,max:255,color:"blue",readonly:h.value!==!0,dark:o.value},r("bSlide",{"onUpdate:modelValue":E=>L(E,"b",255),onChange:E=>L(E,"b",255,void 0,!0)}))),v("input",V({value:f.value.b,maxlength:3,readonly:h.value!==!0,onChange:It},r("bIn",{onInput:E=>L(E.target.value,"b",255,E),onBlur:E=>L(E.target.value,"b",255,E,!0)})))]),m.value===!0?v("div",{class:"row items-center no-wrap"},[v("div","A"),v($o,V({modelValue:f.value.a,color:"grey",readonly:h.value!==!0,dark:o.value},r("aSlide",{"onUpdate:modelValue":E=>L(E,"a",100),onChange:E=>L(E,"a",100,void 0,!0)}))),v("input",V({value:f.value.a,maxlength:3,readonly:h.value!==!0,onChange:It},r("aIn",{onInput:E=>L(E.target.value,"a",100,E),onBlur:E=>L(E.target.value,"a",100,E,!0)})))]):null]}function ne(){const E=$=>v("div",V({class:"q-color-picker__cube col-auto",style:{backgroundColor:$}},h.value===!0?r("palette#"+$,{onClick:()=>{F($)}}):{}));return[v("div",{class:"row items-center q-color-picker__palette-rows"+(h.value===!0?" q-color-picker__palette-rows--editable":"")},T.value.map(E))]}return()=>{const E=[J()];return e.name!==void 0&&e.disable!==!0&&g(E,"push"),e.noHeader!==!0&&E.unshift(oe()),e.noFooter!==!0&&E.push(te()),v("div",V({class:B.value},D.value),E)}}});const vo=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function I2(e,t,n){return Object.prototype.toString.call(e)==="[object Date]"&&(n=e.getDate(),t=e.getMonth()+1,e=e.getFullYear()),D2(ep(e,t,n))}function Zm(e,t,n){return Fb(N2(e,t,n))}function F2(e){return O2(e)===0}function Mc(e,t){return t<=6?31:t<=11||F2(e)?30:29}function O2(e){const t=vo.length;let n,i,o,r,a,s=vo[0];if(e<s||e>=vo[t-1])throw new Error("Invalid Jalaali year "+e);for(a=1;a<t&&(n=vo[a],i=n-s,!(e<n));a+=1)s=n;return r=e-s,i-r<6&&(r=r-i+33*kt(i+4,33)),o=On(On(r+1,33)-1,4),o===-1&&(o=4),o}function Ib(e,t){const n=vo.length,i=e+621;let o,r,a,s,l,c=-14,u=vo[0];if(e<u||e>=vo[n-1])throw new Error("Invalid Jalaali year "+e);for(l=1;l<n&&(o=vo[l],r=o-u,!(e<o));l+=1)c=c+8*kt(r,33)+kt(On(r,33),4),u=o;s=e-u,c=c+8*kt(s,33)+kt(On(s,33)+3,4),On(r,33)===4&&r-s===4&&(c+=1);const d=kt(i,4)-kt(3*(kt(i,100)+1),4)-150,f=20+c-d;return t||(r-s<6&&(s=s-r+33*kt(r+4,33)),a=On(On(s+1,33)-1,4),a===-1&&(a=4)),{leap:a,gy:i,march:f}}function N2(e,t,n){const i=Ib(e,!0);return ep(i.gy,3,i.march)+31*(t-1)-kt(t,7)*(t-7)+n-1}function D2(e){const t=Fb(e).gy;let n,i,o,r=t-621;const a=Ib(r,!1),s=ep(t,3,a.march);if(o=e-s,o>=0){if(o<=185)return i=1+kt(o,31),n=On(o,31)+1,{jy:r,jm:i,jd:n};o-=186}else r-=1,o+=179,a.leap===1&&(o+=1);return i=7+kt(o,30),n=On(o,30)+1,{jy:r,jm:i,jd:n}}function ep(e,t,n){let i=kt(1461*(e+kt(t-8,6)+100100),4)+kt(153*On(t+9,12)+2,5)+n-34840408;return i=i-kt(3*kt(e+100100+kt(t-8,6),100),4)+752,i}function Fb(e){let t=4*e+139361631;t=t+4*kt(3*kt(4*e+183187720,146097),4)-3908;const n=5*kt(On(t,1461),4)+308,i=kt(On(n,153),5)+1,o=On(kt(n,153),12)+1;return{gy:kt(t,1461)-100100+kt(8-o,6),gm:o,gd:i}}function kt(e,t){return~~(e/t)}function On(e,t){return e-~~(e/t)*t}const z2=["gregorian","persian"],Ob={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>z2.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},Nb=["update:modelValue"];function zi(e){return e.year+"/"+vt(e.month)+"/"+vt(e.day)}function Db(e,t){const n=S(()=>e.disable!==!0&&e.readonly!==!0),i=S(()=>e.editable===!0?0:-1),o=S(()=>{const s=[];return e.color!==void 0&&s.push(`bg-${e.color}`),e.textColor!==void 0&&s.push(`text-${e.textColor}`),s.join(" ")});function r(){return e.locale!==void 0?V(V({},t.lang.date),e.locale):t.lang.date}function a(s){const l=new Date,c=s===!0?null:0;if(e.calendar==="persian"){const u=I2(l);return{year:u.jy,month:u.jm,day:u.jd}}return{year:l.getFullYear(),month:l.getMonth()+1,day:l.getDate(),hour:c,minute:c,second:c,millisecond:c}}return{editable:n,tabindex:i,headerClass:o,getLocale:r,getCurrentDate:a}}const zb=864e5,q2=36e5,Bh=6e4,qb="YYYY-MM-DDTHH:mm:ss.SSSZ",V2=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,H2=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,wd={};function U2(e,t){const n="("+t.days.join("|")+")",i=e+n;if(wd[i]!==void 0)return wd[i];const o="("+t.daysShort.join("|")+")",r="("+t.months.join("|")+")",a="("+t.monthsShort.join("|")+")",s={};let l=0;const c=e.replace(H2,d=>{switch(l++,d){case"YY":return s.YY=l,"(-?\\d{1,2})";case"YYYY":return s.YYYY=l,"(-?\\d{1,4})";case"M":return s.M=l,"(\\d{1,2})";case"MM":return s.M=l,"(\\d{2})";case"MMM":return s.MMM=l,a;case"MMMM":return s.MMMM=l,r;case"D":return s.D=l,"(\\d{1,2})";case"Do":return s.D=l++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return s.D=l,"(\\d{2})";case"H":return s.H=l,"(\\d{1,2})";case"HH":return s.H=l,"(\\d{2})";case"h":return s.h=l,"(\\d{1,2})";case"hh":return s.h=l,"(\\d{2})";case"m":return s.m=l,"(\\d{1,2})";case"mm":return s.m=l,"(\\d{2})";case"s":return s.s=l,"(\\d{1,2})";case"ss":return s.s=l,"(\\d{2})";case"S":return s.S=l,"(\\d{1})";case"SS":return s.S=l,"(\\d{2})";case"SSS":return s.S=l,"(\\d{3})";case"A":return s.A=l,"(AM|PM)";case"a":return s.a=l,"(am|pm)";case"aa":return s.aa=l,"(a\\.m\\.|p\\.m\\.)";case"ddd":return o;case"dddd":return n;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return s.Z=l,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return s.ZZ=l,"(Z|[+-]\\d{2}\\d{2})";case"X":return s.X=l,"(-?\\d+)";case"x":return s.x=l,"(-?\\d{4,})";default:return l--,d[0]==="["&&(d=d.substring(1,d.length-1)),d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),u={map:s,regex:new RegExp("^"+c)};return wd[i]=u,u}function Vb(e,t){return e!==void 0?e:t!==void 0?t.date:_h.date}function Km(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),o=Math.floor(i/60),r=i%60;return n+vt(o)+t+vt(r)}function as(e,t,n,i,o){const r={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(o!==void 0&&Object.assign(r,o),e==null||e===""||typeof e!="string")return r;t===void 0&&(t=qb);const a=Vb(n,fo.props),s=a.months,l=a.monthsShort,{regex:c,map:u}=U2(t,a),d=e.match(c);if(d===null)return r;let f="";if(u.X!==void 0||u.x!==void 0){const h=parseInt(d[u.X!==void 0?u.X:u.x],10);if(isNaN(h)===!0||h<0)return r;const p=new Date(h*(u.X!==void 0?1e3:1));r.year=p.getFullYear(),r.month=p.getMonth()+1,r.day=p.getDate(),r.hour=p.getHours(),r.minute=p.getMinutes(),r.second=p.getSeconds(),r.millisecond=p.getMilliseconds()}else{if(u.YYYY!==void 0)r.year=parseInt(d[u.YYYY],10);else if(u.YY!==void 0){const h=parseInt(d[u.YY],10);r.year=h<0?h:2e3+h}if(u.M!==void 0){if(r.month=parseInt(d[u.M],10),r.month<1||r.month>12)return r}else u.MMM!==void 0?r.month=l.indexOf(d[u.MMM])+1:u.MMMM!==void 0&&(r.month=s.indexOf(d[u.MMMM])+1);if(u.D!==void 0){if(r.day=parseInt(d[u.D],10),r.year===null||r.month===null||r.day<1)return r;const h=i!=="persian"?new Date(r.year,r.month,0).getDate():Mc(r.year,r.month);if(r.day>h)return r}u.H!==void 0?r.hour=parseInt(d[u.H],10)%24:u.h!==void 0&&(r.hour=parseInt(d[u.h],10)%12,(u.A&&d[u.A]==="PM"||u.a&&d[u.a]==="pm"||u.aa&&d[u.aa]==="p.m.")&&(r.hour+=12),r.hour=r.hour%24),u.m!==void 0&&(r.minute=parseInt(d[u.m],10)%60),u.s!==void 0&&(r.second=parseInt(d[u.s],10)%60),u.S!==void 0&&(r.millisecond=parseInt(d[u.S],10)*10**(3-d[u.S].length)),u.Z===void 0&&u.ZZ===void 0||(f=u.Z!==void 0?d[u.Z].replace(":",""):d[u.ZZ],r.timezoneOffset=(f[0]==="+"?-1:1)*(60*f.slice(1,3)+1*f.slice(3,5)))}return r.dateHash=vt(r.year,6)+"/"+vt(r.month)+"/"+vt(r.day),r.timeHash=vt(r.hour)+":"+vt(r.minute)+":"+vt(r.second)+f,r}function Jm(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);const i=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-i);const o=(t-n)/(7*zb);return 1+Math.floor(o)}function qi(e,t,n){const i=new Date(e),o=`set${n===!0?"UTC":""}`;switch(t){case"year":case"years":i[`${o}Month`](0);case"month":case"months":i[`${o}Date`](1);case"day":case"days":case"date":i[`${o}Hours`](0);case"hour":case"hours":i[`${o}Minutes`](0);case"minute":case"minutes":i[`${o}Seconds`](0);case"second":case"seconds":i[`${o}Milliseconds`](0)}return i}function cc(e,t,n){return(e.getTime()-e.getTimezoneOffset()*Bh-(t.getTime()-t.getTimezoneOffset()*Bh))/n}function Hb(e,t,n="days"){const i=new Date(e),o=new Date(t);switch(n){case"years":case"year":return i.getFullYear()-o.getFullYear();case"months":case"month":return 12*(i.getFullYear()-o.getFullYear())+i.getMonth()-o.getMonth();case"days":case"day":case"date":return cc(qi(i,"day"),qi(o,"day"),zb);case"hours":case"hour":return cc(qi(i,"hour"),qi(o,"hour"),q2);case"minutes":case"minute":return cc(qi(i,"minute"),qi(o,"minute"),Bh);case"seconds":case"second":return cc(qi(i,"second"),qi(o,"second"),1e3)}}function ev(e){return Hb(e,qi(e,"year"),"days")+1}function tv(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const nv={YY(e,t,n){const i=this.YYYY(e,t,n)%100;return i>=0?vt(i):"-"+vt(Math.abs(i))},YYYY(e,t,n){return n!=null?n:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return vt(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return tv(this.Q(e))},D(e){return e.getDate()},Do(e){return tv(e.getDate())},DD(e){return vt(e.getDate())},DDD(e){return ev(e)},DDDD(e){return vt(ev(e),3)},d(e){return e.getDay()},dd(e,t){return this.dddd(e,t).slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Jm(e)},ww(e){return vt(Jm(e))},H(e){return e.getHours()},HH(e){return vt(e.getHours())},h(e){const t=e.getHours();return t===0?12:t>12?t%12:t},hh(e){return vt(this.h(e))},m(e){return e.getMinutes()},mm(e){return vt(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return vt(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return vt(Math.floor(e.getMilliseconds()/10))},SSS(e){return vt(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,t,n,i){const o=i==null?e.getTimezoneOffset():i;return Km(o,":")},ZZ(e,t,n,i){const o=i==null?e.getTimezoneOffset():i;return Km(o)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Ub(e,t,n,i,o){if(e!==0&&!e||e===1/0||e===-1/0)return;const r=new Date(e);if(isNaN(r))return;t===void 0&&(t=qb);const a=Vb(n,fo.props);return t.replace(V2,(s,l)=>s in nv?nv[s](r,a,i,o):l===void 0?s:l.split("\\]").join("]"))}const Ho=20,G2=["Calendar","Years","Months"],iv=e=>G2.includes(e),Sd=e=>/^-?[\d]+\/[0-1]\d$/.test(e),Ur=" \u2014 ";function co(e){return e.year+"/"+vt(e.month)}var W2=we({name:"QDate",props:ye(V(V(V({},Ob),ei),ht),{multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Sd},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Sd},navigationMaxYearMonth:{type:String,validator:Sd},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:iv}}),emits:[...Nb,"range-start","range-end","navigation"],setup(e,{slots:t,emit:n}){const{proxy:i}=Ne(),{$q:o}=i,r=ft(e,o),{getCache:a}=dl(),{tabindex:s,headerClass:l,getLocale:c,getCurrentDate:u}=Db(e,o);let d;const f=ul(e),h=Bo(f),p=K(null),y=K($e()),b=K(c()),g=S(()=>$e()),m=S(()=>c()),_=S(()=>u()),x=K(le(y.value,b.value)),M=K(e.defaultView),w=o.lang.rtl===!0?"right":"left",T=K(w.value),B=K(w.value),D=x.value.year,z=K(D-D%Ho-(D<0?Ho:0)),A=K(null),O=S(()=>{const I=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${I} q-date--${I}-${e.minimal===!0?"minimal":"standard"}`+(r.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),C=S(()=>e.color||"primary"),P=S(()=>e.textColor||"white"),L=S(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),q=S(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),F=S(()=>q.value.filter(I=>typeof I=="string").map(I=>Fe(I,y.value,b.value)).filter(I=>I.dateHash!==null&&I.day!==null&&I.month!==null&&I.year!==null)),j=S(()=>{const I=Q=>Fe(Q,y.value,b.value);return q.value.filter(Q=>Sn(Q)===!0&&Q.from!==void 0&&Q.to!==void 0).map(Q=>({from:I(Q.from),to:I(Q.to)})).filter(Q=>Q.from.dateHash!==null&&Q.to.dateHash!==null&&Q.from.dateHash<Q.to.dateHash)}),G=S(()=>e.calendar!=="persian"?I=>new Date(I.year,I.month-1,I.day):I=>{const Q=Zm(I.year,I.month,I.day);return new Date(Q.gy,Q.gm-1,Q.gd)}),Y=S(()=>e.calendar==="persian"?zi:(I,Q,ae)=>Ub(new Date(I.year,I.month-1,I.day,I.hour,I.minute,I.second,I.millisecond),Q===void 0?y.value:Q,ae===void 0?b.value:ae,I.year,I.timezoneOffset)),ee=S(()=>F.value.length+j.value.reduce((I,Q)=>I+1+Hb(G.value(Q.to),G.value(Q.from)),0)),U=S(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length>0)return e.title;if(A.value!==null){const ae=A.value.init,Le=G.value(ae);return b.value.daysShort[Le.getDay()]+", "+b.value.monthsShort[ae.month-1]+" "+ae.day+Ur+"?"}if(ee.value===0)return Ur;if(ee.value>1)return`${ee.value} ${b.value.pluralDay}`;const I=F.value[0],Q=G.value(I);return isNaN(Q.valueOf())===!0?Ur:b.value.headerTitle!==void 0?b.value.headerTitle(Q,I):b.value.daysShort[Q.getDay()]+", "+b.value.monthsShort[I.month-1]+" "+I.day}),oe=S(()=>F.value.concat(j.value.map(Q=>Q.from)).sort((Q,ae)=>Q.year-ae.year||Q.month-ae.month)[0]),J=S(()=>F.value.concat(j.value.map(Q=>Q.to)).sort((Q,ae)=>ae.year-Q.year||ae.month-Q.month)[0]),te=S(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length>0)return e.subtitle;if(ee.value===0)return Ur;if(ee.value>1){const I=oe.value,Q=J.value,ae=b.value.monthsShort;return ae[I.month-1]+(I.year!==Q.year?" "+I.year+Ur+ae[Q.month-1]+" ":I.month!==Q.month?Ur+ae[Q.month-1]:"")+" "+Q.year}return F.value[0].year}),ve=S(()=>{const I=[o.iconSet.datetime.arrowLeft,o.iconSet.datetime.arrowRight];return o.lang.rtl===!0?I.reverse():I}),de=S(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):b.value.firstDayOfWeek),ne=S(()=>{const I=b.value.daysShort,Q=de.value;return Q>0?I.slice(Q,7).concat(I.slice(0,Q)):I}),E=S(()=>{const I=x.value;return e.calendar!=="persian"?new Date(I.year,I.month,0).getDate():Mc(I.year,I.month)}),$=S(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),he=S(()=>{if(e.navigationMinYearMonth===void 0)return null;const I=e.navigationMinYearMonth.split("/");return{year:parseInt(I[0],10),month:parseInt(I[1],10)}}),ie=S(()=>{if(e.navigationMaxYearMonth===void 0)return null;const I=e.navigationMaxYearMonth.split("/");return{year:parseInt(I[0],10),month:parseInt(I[1],10)}}),fe=S(()=>{const I={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return he.value!==null&&he.value.year>=x.value.year&&(I.year.prev=!1,he.value.year===x.value.year&&he.value.month>=x.value.month&&(I.month.prev=!1)),ie.value!==null&&ie.value.year<=x.value.year&&(I.year.next=!1,ie.value.year===x.value.year&&ie.value.month<=x.value.month&&(I.month.next=!1)),I}),pe=S(()=>{const I={};return F.value.forEach(Q=>{const ae=co(Q);I[ae]===void 0&&(I[ae]=[]),I[ae].push(Q.day)}),I}),Pe=S(()=>{const I={};return j.value.forEach(Q=>{const ae=co(Q.from),Le=co(Q.to);if(I[ae]===void 0&&(I[ae]=[]),I[ae].push({from:Q.from.day,to:ae===Le?Q.to.day:void 0,range:Q}),ae<Le){let Ee;const{year:Ke,month:ke}=Q.from,Re=ke<12?{year:Ke,month:ke+1}:{year:Ke+1,month:1};for(;(Ee=co(Re))<=Le;)I[Ee]===void 0&&(I[Ee]=[]),I[Ee].push({from:void 0,to:Ee===Le?Q.to.day:void 0,range:Q}),Re.month++,Re.month>12&&(Re.year++,Re.month=1)}}),I}),_e=S(()=>{if(A.value===null)return;const{init:I,initHash:Q,final:ae,finalHash:Le}=A.value,[Ee,Ke]=Q<=Le?[I,ae]:[ae,I],ke=co(Ee),Re=co(Ke);if(ke!==R.value&&Re!==R.value)return;const Ye={};return ke===R.value?(Ye.from=Ee.day,Ye.includeFrom=!0):Ye.from=1,Re===R.value?(Ye.to=Ke.day,Ye.includeTo=!0):Ye.to=E.value,Ye}),R=S(()=>co(x.value)),k=S(()=>{const I={};if(e.options===void 0){for(let ae=1;ae<=E.value;ae++)I[ae]=!0;return I}const Q=typeof e.options=="function"?e.options:ae=>e.options.includes(ae);for(let ae=1;ae<=E.value;ae++){const Le=R.value+"/"+vt(ae);I[ae]=Q(Le)}return I}),re=S(()=>{const I={};if(e.events===void 0)for(let Q=1;Q<=E.value;Q++)I[Q]=!1;else{const Q=typeof e.events=="function"?e.events:ae=>e.events.includes(ae);for(let ae=1;ae<=E.value;ae++){const Le=R.value+"/"+vt(ae);I[ae]=Q(Le)===!0&&$.value(Le)}}return I}),ue=S(()=>{let I,Q;const{year:ae,month:Le}=x.value;if(e.calendar!=="persian")I=new Date(ae,Le-1,1),Q=new Date(ae,Le-1,0).getDate();else{const Ee=Zm(ae,Le,1);I=new Date(Ee.gy,Ee.gm-1,Ee.gd);let Ke=Le-1,ke=ae;Ke===0&&(Ke=12,ke--),Q=Mc(ke,Ke)}return{days:I.getDay()-de.value-1,endDay:Q}}),W=S(()=>{const I=[],{days:Q,endDay:ae}=ue.value,Le=Q<0?Q+7:Q;if(Le<6)for(let ke=ae-Le;ke<=ae;ke++)I.push({i:ke,fill:!0});const Ee=I.length;for(let ke=1;ke<=E.value;ke++){const Re={i:ke,event:re.value[ke],classes:[]};k.value[ke]===!0&&(Re.in=!0,Re.flat=!0),I.push(Re)}if(pe.value[R.value]!==void 0&&pe.value[R.value].forEach(ke=>{const Re=Ee+ke-1;Object.assign(I[Re],{selected:!0,unelevated:!0,flat:!1,color:C.value,textColor:P.value})}),Pe.value[R.value]!==void 0&&Pe.value[R.value].forEach(ke=>{if(ke.from!==void 0){const Re=Ee+ke.from-1,Ye=Ee+(ke.to||E.value)-1;for(let jt=Re;jt<=Ye;jt++)Object.assign(I[jt],{range:ke.range,unelevated:!0,color:C.value,textColor:P.value});Object.assign(I[Re],{rangeFrom:!0,flat:!1}),ke.to!==void 0&&Object.assign(I[Ye],{rangeTo:!0,flat:!1})}else if(ke.to!==void 0){const Re=Ee+ke.to-1;for(let Ye=Ee;Ye<=Re;Ye++)Object.assign(I[Ye],{range:ke.range,unelevated:!0,color:C.value,textColor:P.value});Object.assign(I[Re],{flat:!1,rangeTo:!0})}else{const Re=Ee+E.value-1;for(let Ye=Ee;Ye<=Re;Ye++)Object.assign(I[Ye],{range:ke.range,unelevated:!0,color:C.value,textColor:P.value})}}),_e.value!==void 0){const ke=Ee+_e.value.from-1,Re=Ee+_e.value.to-1;for(let Ye=ke;Ye<=Re;Ye++)I[Ye].color=C.value,I[Ye].editRange=!0;_e.value.includeFrom===!0&&(I[ke].editRangeFrom=!0),_e.value.includeTo===!0&&(I[Re].editRangeTo=!0)}x.value.year===_.value.year&&x.value.month===_.value.month&&(I[Ee+_.value.day-1].today=!0);const Ke=I.length%7;if(Ke>0){const ke=7-Ke;for(let Re=1;Re<=ke;Re++)I.push({i:Re,fill:!0})}return I.forEach(ke=>{let Re="q-date__calendar-item ";ke.fill===!0?Re+="q-date__calendar-item--fill":(Re+=`q-date__calendar-item--${ke.in===!0?"in":"out"}`,ke.range!==void 0&&(Re+=` q-date__range${ke.rangeTo===!0?"-to":ke.rangeFrom===!0?"-from":""}`),ke.editRange===!0&&(Re+=` q-date__edit-range${ke.editRangeFrom===!0?"-from":""}${ke.editRangeTo===!0?"-to":""}`),ke.range===void 0&&ke.editRange!==!0||(Re+=` text-${ke.color}`)),ke.classes=Re}),I}),X=S(()=>e.disable===!0?{"aria-disabled":"true"}:e.readonly===!0?{"aria-readonly":"true"}:{});function me(){const I=_.value,Q=pe.value[co(I)];Q!==void 0&&Q.includes(I.day)!==!1||Yt(I),Ie(I.year,I.month)}function Te(I){iv(I)===!0&&(M.value=I)}function Ce(I,Q){["month","year"].includes(I)&&(I==="month"?De:ge)(Q===!0?-1:1)}function Ie(I,Q){M.value="Calendar",pt(I,Q)}function ze(I,Q){if(e.range===!1||!I)return void(A.value=null);const ae=Object.assign(V({},x.value),I),Le=Q!==void 0?Object.assign(V({},x.value),Q):ae;A.value={init:ae,initHash:zi(ae),final:Le,finalHash:zi(Le)},Ie(ae.year,ae.month)}function $e(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function Fe(I,Q,ae){return as(I,Q,ae,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function le(I,Q){const ae=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(ae.length===0)return Se();const Le=ae[ae.length-1],Ee=Fe(Le.from!==void 0?Le.from:Le,I,Q);return Ee.dateHash===null?Se():Ee}function Se(){let I,Q;if(e.defaultYearMonth!==void 0){const ae=e.defaultYearMonth.split("/");I=parseInt(ae[0],10),Q=parseInt(ae[1],10)}else{const ae=_.value!==void 0?_.value:u();I=ae.year,Q=ae.month}return{year:I,month:Q,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:I+"/"+vt(Q)+"/01"}}function De(I){let Q=x.value.year,ae=Number(x.value.month)+I;ae===13?(ae=1,Q++):ae===0&&(ae=12,Q--),pt(Q,ae),L.value===!0&&Tt("month")}function ge(I){const Q=Number(x.value.year)+I;pt(Q,x.value.month),L.value===!0&&Tt("year")}function Be(I){pt(I,x.value.month),M.value=e.defaultView==="Years"?"Months":"Calendar",L.value===!0&&Tt("year")}function Ze(I){pt(x.value.year,I),M.value="Calendar",L.value===!0&&Tt("month")}function Ge(I,Q){const ae=pe.value[Q];(ae!==void 0&&ae.includes(I.day)===!0?kn:Yt)(I)}function et(I){return{year:I.year,month:I.month,day:I.day}}function pt(I,Q){he.value!==null&&I<=he.value.year&&(I=he.value.year,Q<he.value.month&&(Q=he.value.month)),ie.value!==null&&I>=ie.value.year&&(I=ie.value.year,Q>ie.value.month&&(Q=ie.value.month));const ae=I+"/"+vt(Q)+"/01";ae!==x.value.dateHash&&(T.value=x.value.dateHash<ae==(o.lang.rtl!==!0)?"left":"right",I!==x.value.year&&(B.value=T.value),st(()=>{z.value=I-I%Ho-(I<0?Ho:0),Object.assign(x.value,{year:I,month:Q,day:1,dateHash:ae})}))}function Et(I,Q,ae){const Le=I!==null&&I.length===1&&e.multiple===!1?I[0]:I;d=Le;const{reason:Ee,details:Ke}=bn(Q,ae);n("update:modelValue",Le,Ee,Ke)}function Tt(I){const Q=F.value[0]!==void 0&&F.value[0].dateHash!==null?V({},F.value[0]):V({},x.value);st(()=>{Q.year=x.value.year,Q.month=x.value.month;const ae=e.calendar!=="persian"?new Date(Q.year,Q.month,0).getDate():Mc(Q.year,Q.month);Q.day=Math.min(Math.max(1,Q.day),ae);const Le=dn(Q);d=Le;const{details:Ee}=bn("",Q);n("update:modelValue",Le,I,Ee)})}function bn(I,Q){return Q.from!==void 0?{reason:`${I}-range`,details:ye(V({},et(Q.target)),{from:et(Q.from),to:et(Q.to)})}:{reason:`${I}-day`,details:et(Q)}}function dn(I,Q,ae){return I.from!==void 0?{from:Y.value(I.from,Q,ae),to:Y.value(I.to,Q,ae)}:Y.value(I,Q,ae)}function Yt(I){let Q;if(e.multiple===!0)if(I.from!==void 0){const ae=zi(I.from),Le=zi(I.to),Ee=F.value.filter(ke=>ke.dateHash<ae||ke.dateHash>Le),Ke=j.value.filter(({from:ke,to:Re})=>Re.dateHash<ae||ke.dateHash>Le);Q=Ee.concat(Ke).concat(I).map(ke=>dn(ke))}else{const ae=q.value.slice();ae.push(dn(I)),Q=ae}else Q=dn(I);Et(Q,"add",I)}function kn(I){if(e.noUnset===!0)return;let Q=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const ae=dn(I);Q=I.from!==void 0?e.modelValue.filter(Le=>Le.from===void 0||Le.from!==ae.from&&Le.to!==ae.to):e.modelValue.filter(Le=>Le!==ae),Q.length===0&&(Q=null)}Et(Q,"remove",I)}function xe(I,Q,ae){const Le=F.value.concat(j.value).map(Ee=>dn(Ee,I,Q)).filter(Ee=>Ee.from!==void 0?Ee.from.dateHash!==null&&Ee.to.dateHash!==null:Ee.dateHash!==null);n("update:modelValue",(e.multiple===!0?Le:Le[0])||null,ae)}function Oe(){if(e.minimal!==!0)return v("div",{class:"q-date__header "+l.value},[v("div",{class:"relative-position"},[v(Kt,{name:"q-transition--fade"},()=>v("div",V({key:"h-yr-"+te.value,class:"q-date__header-subtitle q-date__header-link "+(M.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:s.value},a("vY",{onClick(){M.value="Years"},onKeyup(I){I.keyCode===13&&(M.value="Years")}})),[te.value]))]),v("div",{class:"q-date__header-title relative-position flex no-wrap"},[v("div",{class:"relative-position col"},[v(Kt,{name:"q-transition--fade"},()=>v("div",V({key:"h-sub"+U.value,class:"q-date__header-title-label q-date__header-link "+(M.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:s.value},a("vC",{onClick(){M.value="Calendar"},onKeyup(I){I.keyCode===13&&(M.value="Calendar")}})),[U.value]))]),e.todayBtn===!0?v(mt,{class:"q-date__header-today self-start",icon:o.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:s.value,onClick:me}):null])])}function N({label:I,type:Q,key:ae,dir:Le,goTo:Ee,boundaries:Ke,cls:ke}){return[v("div",{class:"row items-center q-date__arrow"},[v(mt,V({round:!0,dense:!0,size:"sm",flat:!0,icon:ve.value[0],tabindex:s.value,disable:Ke.prev===!1},a("go-#"+Q,{onClick(){Ee(-1)}})))]),v("div",{class:"relative-position overflow-hidden flex flex-center"+ke},[v(Kt,{name:"q-transition--jump-"+Le},()=>v("div",{key:ae},[v(mt,V({flat:!0,dense:!0,noCaps:!0,label:I,tabindex:s.value},a("view#"+Q,{onClick:()=>{M.value=Q}})))]))]),v("div",{class:"row items-center q-date__arrow"},[v(mt,V({round:!0,dense:!0,size:"sm",flat:!0,icon:ve.value[1],tabindex:s.value,disable:Ke.next===!1},a("go+#"+Q,{onClick(){Ee(1)}})))])]}Me(()=>e.modelValue,I=>{if(d===I)d=0;else{const{year:Q,month:ae}=le(y.value,b.value);pt(Q,ae)}}),Me(M,()=>{p.value!==null&&p.value.focus()}),Me(()=>x.value.year,I=>{n("navigation",{year:I,month:x.value.month})}),Me(()=>x.value.month,I=>{n("navigation",{year:x.value.year,month:I})}),Me(g,I=>{xe(I,b.value,"mask"),y.value=I}),Me(m,I=>{xe(y.value,I,"locale"),b.value=I}),Object.assign(i,{setToday:me,setView:Te,offsetCalendar:Ce,setCalendarTo:Ie,setEditingRange:ze});const se={Calendar:()=>[v("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[v("div",{class:"q-date__navigation row items-center no-wrap"},N({label:b.value.months[x.value.month-1],type:"Months",key:x.value.month,dir:T.value,goTo:De,boundaries:fe.value.month,cls:" col"}).concat(N({label:x.value.year,type:"Years",key:x.value.year,dir:B.value,goTo:ge,boundaries:fe.value.year,cls:""}))),v("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},ne.value.map(I=>v("div",{class:"q-date__calendar-item"},[v("div",I)]))),v("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[v(Kt,{name:"q-transition--slide-"+T.value},()=>v("div",{key:R.value,class:"q-date__calendar-days fit"},W.value.map(I=>v("div",{class:I.classes},[I.in===!0?v(mt,V({class:I.today===!0?"q-date__today":"",dense:!0,flat:I.flat,unelevated:I.unelevated,color:I.color,textColor:I.textColor,label:I.i,tabindex:s.value},a("day#"+I.i,{onClick:()=>{ce(I.i)},onMouseover:()=>{be(I.i)}})),I.event!==!1?()=>v("div",{class:"q-date__event bg-"+I.event}):null):v("div",""+I.i)]))))])])],Months(){const I=x.value.year===_.value.year,Q=Le=>he.value!==null&&x.value.year===he.value.year&&he.value.month>Le||ie.value!==null&&x.value.year===ie.value.year&&ie.value.month<Le,ae=b.value.monthsShort.map((Le,Ee)=>{const Ke=x.value.month===Ee+1;return v("div",{class:"q-date__months-item flex flex-center"},[v(mt,V({class:I===!0&&_.value.month===Ee+1?"q-date__today":null,flat:Ke!==!0,label:Le,unelevated:Ke,color:Ke===!0?C.value:null,textColor:Ke===!0?P.value:null,tabindex:s.value,disable:Q(Ee+1)},a("month#"+Ee,{onClick:()=>{Ze(Ee+1)}})))])});return e.yearsInMonthView===!0&&ae.unshift(v("div",{class:"row no-wrap full-width"},[N({label:x.value.year,type:"Years",key:x.value.year,dir:B.value,goTo:ge,boundaries:fe.value.year,cls:" col"})])),v("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},ae)},Years(){const I=z.value,Q=I+Ho,ae=[],Le=Ee=>he.value!==null&&he.value.year>Ee||ie.value!==null&&ie.value.year<Ee;for(let Ee=I;Ee<=Q;Ee++){const Ke=x.value.year===Ee;ae.push(v("div",{class:"q-date__years-item flex flex-center"},[v(mt,V({key:"yr"+Ee,class:_.value.year===Ee?"q-date__today":null,flat:!Ke,label:Ee,dense:!0,unelevated:Ke,color:Ke===!0?C.value:null,textColor:Ke===!0?P.value:null,tabindex:s.value,disable:Le(Ee)},a("yr#"+Ee,{onClick:()=>{Be(Ee)}})))]))}return v("div",{class:"q-date__view q-date__years flex flex-center"},[v("div",{class:"col-auto"},[v(mt,V({round:!0,dense:!0,flat:!0,icon:ve.value[0],tabindex:s.value,disable:Le(I)},a("y-",{onClick:()=>{z.value-=Ho}})))]),v("div",{class:"q-date__years-content col self-stretch row items-center"},ae),v("div",{class:"col-auto"},[v(mt,V({round:!0,dense:!0,flat:!0,icon:ve.value[1],tabindex:s.value,disable:Le(Q)},a("y+",{onClick:()=>{z.value+=Ho}})))])])}};function ce(I){const Q=ye(V({},x.value),{day:I});if(e.range!==!1)if(A.value===null){const ae=W.value.find(Ee=>Ee.fill!==!0&&Ee.i===I);if(e.noUnset!==!0&&ae.range!==void 0)return void kn({target:Q,from:ae.range.from,to:ae.range.to});if(ae.selected===!0)return void kn(Q);const Le=zi(Q);A.value={init:Q,initHash:Le,final:Q,finalHash:Le},n("range-start",et(Q))}else{const ae=A.value.initHash,Le=zi(Q),Ee=ae<=Le?{from:A.value.init,to:Q}:{from:Q,to:A.value.init};A.value=null,Yt(ae===Le?Q:V({target:Q},Ee)),n("range-end",{from:et(Ee.from),to:et(Ee.to)})}else Ge(Q,R.value)}function be(I){if(A.value!==null){const Q=ye(V({},x.value),{day:I});Object.assign(A.value,{final:Q,finalHash:zi(Q)})}}return()=>{const I=[v("div",{class:"q-date__content col relative-position"},[v(Kt,{name:"q-transition--fade"},se[M.value])])],Q=je(t.default);return Q!==void 0&&I.push(v("div",{class:"q-date__actions"},Q)),e.name!==void 0&&e.disable!==!0&&h(I,"push"),v("div",V({class:O.value},X.value),[Oe(),v("div",{ref:p,class:"q-date__main col column",tabindex:-1},I)])}}});function Gb(e,t,n){function i(){}return ct(()=>{e.value===!0&&void 0}),{removeFromHistory:i,addToHistory(){}}}let Md,Td,ss,ov,rv,Gr,Ka=0,Cd=!1;function $2(e){j2(e)&&rt(e)}function j2(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=cE(e),n=e.shiftKey&&!e.deltaX,i=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),o=n||i?e.deltaY:e.deltaX;for(let r=0;r<t.length;r++){const a=t[r];if(i2(a,i))return i?o<0&&a.scrollTop===0||o>0&&a.scrollTop+a.clientHeight===a.scrollHeight:o<0&&a.scrollLeft===0||o>0&&a.scrollLeft+a.clientWidth===a.scrollWidth}return!0}function av(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function uc(e){Cd!==!0&&(Cd=!0,requestAnimationFrame(()=>{Cd=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:i}=document.scrollingElement;ss!==void 0&&t===window.innerHeight||(ss=n-t,document.scrollingElement.scrollTop=i),i>ss&&(document.scrollingElement.scrollTop-=Math.ceil((i-ss)/8))}))}function sv(e){const t=document.body,n=window.visualViewport!==void 0;if(e==="add"){const{overflowY:i,overflowX:o}=window.getComputedStyle(t);Md=ku(window),Td=_o(window),ov=t.style.left,rv=t.style.top,t.style.left=`-${Md}px`,t.style.top=`-${Td}px`,o!=="hidden"&&(o==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),i!=="hidden"&&(i==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,ot.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",uc,xt.passiveCapture),window.visualViewport.addEventListener("scroll",uc,xt.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",av,xt.passiveCapture))}ot.is.desktop===!0&&ot.is.mac===!0&&window[`${e}EventListener`]("wheel",$2,xt.notPassive),e==="remove"&&(ot.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",uc,xt.passiveCapture),window.visualViewport.removeEventListener("scroll",uc,xt.passiveCapture)):window.removeEventListener("scroll",av,xt.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=ov,t.style.top=rv,window.scrollTo(Md,Td),ss=void 0)}function Ih(e){let t="add";if(e===!0){if(Ka++,Gr!==void 0)return clearTimeout(Gr),void(Gr=void 0);if(Ka>1)return}else{if(Ka===0||(Ka--,Ka>0))return;if(t="remove",ot.is.ios===!0&&ot.is.nativeMobile===!0)return clearTimeout(Gr),void(Gr=setTimeout(()=>{sv(t),Gr=void 0},100))}sv(t)}function Wb(){let e;return{preventBodyScroll(t){t===e||e===void 0&&t!==!0||(e=t,Ih(t))}}}let dc=0;const Q2={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},lv={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var hl=we({name:"QDialog",inheritAttrs:!1,props:ye(V(V({},Oa),Pu),{transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}}),emits:[...Na,"shake","click","escape-key"],setup(e,{slots:t,emit:n,attrs:i}){const o=Ne(),r=K(null),a=K(!1),s=K(!1),l=K(!1);let c,u,d,f=null;const h=S(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:p}=Wb(),{registerTimeout:y,removeTimeout:b}=Ta(),{registerTick:g,removeTick:m}=Ru(),{showPortal:_,hidePortal:x,portalIsAccessible:M,renderPortal:w}=Df(o,r,ne,!0),{hide:T}=Da({showing:a,hideOnRouteChange:h,handleShow:j,handleHide:G,processOnMount:!0}),{addToHistory:B,removeFromHistory:D}=Gb(a),z=S(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Q2[e.position]}`+(l.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),A=S(()=>"q-transition--"+(e.transitionShow===void 0?lv[e.position][0]:e.transitionShow)),O=S(()=>"q-transition--"+(e.transitionHide===void 0?lv[e.position][1]:e.transitionHide)),C=S(()=>s.value===!0?O.value:A.value),P=S(()=>`--q-transition-duration: ${e.transitionDuration}ms`),L=S(()=>a.value===!0&&e.seamless!==!0),q=S(()=>e.autoClose===!0?{onClick:te}:{}),F=S(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${L.value===!0?"modal":"seamless"}`,i.class]);function j(E){b(),m(),B(),f=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,J(e.maximized),_(),l.value=!0,e.noFocus!==!0&&(document.activeElement!==null&&document.activeElement.blur(),g(Y)),y(()=>{if(o.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:$,bottom:he}=document.activeElement.getBoundingClientRect(),{innerHeight:ie}=window,fe=window.visualViewport!==void 0?window.visualViewport.height:ie;$>0&&he>fe/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-fe,he>=ie?1/0:Math.ceil(document.scrollingElement.scrollTop+he-fe/2))),document.activeElement.scrollIntoView()}d=!0,r.value.click(),d=!1}_(!0),l.value=!1,n("show",E)},e.transitionDuration)}function G(E){b(),m(),D(),oe(!0),l.value=!0,x(),f!==null&&(f.focus(),f=null),y(()=>{x(!0),l.value=!1,n("hide",E)},e.transitionDuration)}function Y(E){za(()=>{let $=r.value;$!==null&&$.contains(document.activeElement)!==!0&&($=$.querySelector(E||"[autofocus], [data-autofocus]")||$,$.focus({preventScroll:!0}))})}function ee(){Y(),n("shake");const E=r.value;E!==null&&(E.classList.remove("q-animate--scale"),E.classList.add("q-animate--scale"),clearTimeout(c),c=setTimeout(()=>{r.value!==null&&(E.classList.remove("q-animate--scale"),Y())},170))}function U(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&ee():(n("escape-key"),T()))}function oe(E){clearTimeout(c),E!==!0&&a.value!==!0||(J(!1),e.seamless!==!0&&(p(!1),Ah(de),iu(U))),E!==!0&&(f=null)}function J(E){E===!0?u!==!0&&(dc<1&&document.body.classList.add("q-body--dialog"),dc++,u=!0):u===!0&&(dc<2&&document.body.classList.remove("q-body--dialog"),dc--,u=!1)}function te(E){d!==!0&&(T(E),n("click",E))}function ve(E){e.persistent!==!0&&e.noBackdropDismiss!==!0?T(E):e.noShake!==!0&&ee()}function de(E){e.allowFocusOutside!==!0&&M.value===!0&&Xy(r.value,E.target)!==!0&&Y('[tabindex]:not([tabindex="-1"])')}function ne(){return v("div",ye(V({},i),{class:F.value}),[v(Kt,{name:"q-transition--fade",appear:!0},()=>L.value===!0?v("div",{class:"q-dialog__backdrop fixed-full",style:P.value,"aria-hidden":"true",onMousedown:ve}):null),v(Kt,{name:C.value,appear:!0},()=>a.value===!0?v("div",V({ref:r,class:z.value,style:P.value,tabindex:-1},q.value),je(t.default)):null)])}return Me(a,E=>{st(()=>{s.value=E})}),Me(()=>e.maximized,E=>{a.value===!0&&J(E)}),Me(L,E=>{p(E),E===!0?(lb(de),ab(U)):(Ah(de),iu(U))}),Object.assign(o.proxy,{focus:Y,shake:ee,__updateRefocusTarget(E){f=E||null}}),ct(oe),w}});const cv=150;var Y2=we({name:"QDrawer",inheritAttrs:!1,props:ye(V(V({},Oa),ht),{side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean}),emits:[...Na,"on-layout","mini-state"],setup(e,{slots:t,emit:n,attrs:i}){const o=Ne(),{proxy:{$q:r}}=o,a=ft(e,r),{preventBodyScroll:s}=Wb(),{registerTimeout:l}=Ta(),c=Pn(xr,()=>{console.error("QDrawer needs to be child of QLayout")});let u,d,f;const h=K(e.behavior==="mobile"||e.behavior!=="desktop"&&c.totalWidth.value<=e.breakpoint),p=S(()=>e.mini===!0&&h.value!==!0),y=S(()=>p.value===!0?e.miniWidth:e.width),b=K(e.showIfAbove===!0&&h.value===!1||e.modelValue===!0),g=S(()=>e.persistent!==!0&&(h.value===!0||G.value===!0));function m(X,me){if(w(),X!==!1&&c.animate(),ie(0),h.value===!0){const Te=c.instances[L.value];Te!==void 0&&Te.belowBreakpoint===!0&&Te.hide(!1),fe(1),c.isContainer.value!==!0&&s(!0)}else fe(0),X!==!1&&pe(!1);l(()=>{X!==!1&&pe(!0),me!==!0&&n("show",X)},cv)}function _(X,me){T(),X!==!1&&c.animate(),fe(0),ie(z.value*y.value),k(),me!==!0&&l(()=>{n("hide",X)},cv)}const{show:x,hide:M}=Da({showing:b,hideOnRouteChange:g,handleShow:m,handleHide:_}),{addToHistory:w,removeFromHistory:T}=Gb(b),B={belowBreakpoint:h,hide:M},D=S(()=>e.side==="right"),z=S(()=>(r.lang.rtl===!0?-1:1)*(D.value===!0?1:-1)),A=K(0),O=K(!1),C=K(!1),P=K(y.value*z.value),L=S(()=>D.value===!0?"left":"right"),q=S(()=>b.value===!0&&h.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:y.value:0),F=S(()=>e.overlay===!0||e.miniToOverlay===!0||c.view.value.indexOf(D.value?"R":"L")>-1||r.platform.is.ios===!0&&c.isContainer.value===!0),j=S(()=>e.overlay===!1&&b.value===!0&&h.value===!1),G=S(()=>e.overlay===!0&&b.value===!0&&h.value===!1),Y=S(()=>"fullscreen q-drawer__backdrop"+(b.value===!1&&O.value===!1?" hidden":"")),ee=S(()=>({backgroundColor:`rgba(0,0,0,${.4*A.value})`})),U=S(()=>D.value===!0?c.rows.value.top[2]==="r":c.rows.value.top[0]==="l"),oe=S(()=>D.value===!0?c.rows.value.bottom[2]==="r":c.rows.value.bottom[0]==="l"),J=S(()=>{const X={};return c.header.space===!0&&U.value===!1&&(F.value===!0?X.top=`${c.header.offset}px`:c.header.space===!0&&(X.top=`${c.header.size}px`)),c.footer.space===!0&&oe.value===!1&&(F.value===!0?X.bottom=`${c.footer.offset}px`:c.footer.space===!0&&(X.bottom=`${c.footer.size}px`)),X}),te=S(()=>{const X={width:`${y.value}px`,transform:`translateX(${P.value}px)`};return h.value===!0?X:Object.assign(X,J.value)}),ve=S(()=>"q-drawer__content fit "+(c.isContainer.value!==!0?"scroll":"overflow-auto")),de=S(()=>`q-drawer q-drawer--${e.side}`+(C.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(a.value===!0?" q-drawer--dark q-dark":"")+(O.value===!0?" no-transition":b.value===!0?"":" q-layout--prevent-focus")+(h.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${p.value===!0?"mini":"standard"}`+(F.value===!0||j.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(U.value===!0?" q-drawer--top-padding":""))),ne=S(()=>{const X=r.lang.rtl===!0?e.side:L.value;return[[Vn,_e,void 0,{[X]:!0,mouse:!0}]]}),E=S(()=>{const X=r.lang.rtl===!0?L.value:e.side;return[[Vn,R,void 0,{[X]:!0,mouse:!0}]]}),$=S(()=>{const X=r.lang.rtl===!0?L.value:e.side;return[[Vn,R,void 0,{[X]:!0,mouse:!0,mouseAllDir:!0}]]});function he(){ue(h,e.behavior==="mobile"||e.behavior!=="desktop"&&c.totalWidth.value<=e.breakpoint)}function ie(X){X===void 0?st(()=>{X=b.value===!0?0:y.value,ie(z.value*X)}):(c.isContainer.value!==!0||D.value!==!0||h.value!==!0&&Math.abs(X)!==y.value||(X+=z.value*c.scrollbarWidth.value),P.value=X)}function fe(X){A.value=X}function pe(X){const me=X===!0?"remove":c.isContainer.value!==!0?"add":"";me!==""&&document.body.classList[me]("q-body--drawer-toggle")}function Pe(){clearTimeout(d),o.proxy&&o.proxy.$el&&o.proxy.$el.classList.add("q-drawer--mini-animate"),C.value=!0,d=setTimeout(()=>{C.value=!1,o&&o.proxy&&o.proxy.$el&&o.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function _e(X){if(b.value!==!1)return;const me=y.value,Te=wt(X.distance.x,0,me);if(X.isFinal===!0)return Te>=Math.min(75,me)===!0?x():(c.animate(),fe(0),ie(z.value*me)),void(O.value=!1);ie((r.lang.rtl===!0?D.value!==!0:D.value)?Math.max(me-Te,0):Math.min(0,Te-me)),fe(wt(Te/me,0,1)),X.isFirst===!0&&(O.value=!0)}function R(X){if(b.value!==!0)return;const me=y.value,Te=X.direction===e.side,Ce=(r.lang.rtl===!0?Te!==!0:Te)?wt(X.distance.x,0,me):0;if(X.isFinal===!0)return Math.abs(Ce)<Math.min(75,me)===!0?(c.animate(),fe(1),ie(0)):M(),void(O.value=!1);ie(z.value*Ce),fe(wt(1-Ce/me,0,1)),X.isFirst===!0&&(O.value=!0)}function k(){s(!1),pe(!0)}function re(X,me){c.update(e.side,X,me)}function ue(X,me){X.value!==me&&(X.value=me)}function W(X,me){re("size",X===!0?e.miniWidth:me)}return Me(h,X=>{X===!0?(u=b.value,b.value===!0&&M(!1)):e.overlay===!1&&e.behavior!=="mobile"&&u!==!1&&(b.value===!0?(ie(0),fe(0),k()):x(!1))}),Me(()=>e.side,(X,me)=>{c.instances[me]===B&&(c.instances[me]=void 0,c[me].space=!1,c[me].offset=0),c.instances[X]=B,c[X].size=y.value,c[X].space=j.value,c[X].offset=q.value}),Me(c.totalWidth,()=>{c.isContainer.value!==!0&&document.qScrollPrevented===!0||he()}),Me(()=>e.behavior+e.breakpoint,he),Me(c.isContainer,X=>{b.value===!0&&s(X!==!0),X===!0&&he()}),Me(c.scrollbarWidth,()=>{ie(b.value===!0?0:void 0)}),Me(q,X=>{re("offset",X)}),Me(j,X=>{n("on-layout",X),re("space",X)}),Me(D,()=>{ie()}),Me(y,X=>{ie(),W(e.miniToOverlay,X)}),Me(()=>e.miniToOverlay,X=>{W(X,y.value)}),Me(()=>r.lang.rtl,()=>{ie()}),Me(()=>e.mini,()=>{e.modelValue===!0&&(Pe(),c.animate())}),Me(p,X=>{n("mini-state",X)}),c.instances[e.side]=B,W(e.miniToOverlay,y.value),re("space",j.value),re("offset",q.value),e.showIfAbove===!0&&e.modelValue!==!0&&b.value===!0&&e["onUpdate:modelValue"]!==void 0&&n("update:modelValue",!0),$t(()=>{n("on-layout",j.value),n("mini-state",p.value),u=e.showIfAbove===!0;const X=()=>{(b.value===!0?m:_)(!1,!0)};c.totalWidth.value===0?f=Me(c.totalWidth,()=>{f(),f=void 0,b.value===!1&&e.showIfAbove===!0&&h.value===!1?x(!1):X()}):st(X)}),ct(()=>{f!==void 0&&f(),clearTimeout(d),b.value===!0&&k(),c.instances[e.side]===B&&(c.instances[e.side]=void 0,re("size",0),re("offset",0),re("space",!1))}),()=>{const X=[];h.value===!0&&(e.noSwipeOpen===!1&&X.push(ci(v("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),ne.value)),X.push(Kn("div",{ref:"backdrop",class:Y.value,style:ee.value,"aria-hidden":"true",onClick:M},void 0,"backdrop",e.noSwipeBackdrop!==!0&&b.value===!0,()=>$.value)));const me=p.value===!0&&t.mini!==void 0,Te=[v("div",ye(V({},i),{key:""+me,class:[ve.value,i.class]}),me===!0?t.mini():je(t.default))];return e.elevated===!0&&b.value===!0&&Te.push(v("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),X.push(Kn("aside",{ref:"content",class:de.value,style:te.value},Te,"contentclose",e.noSwipeClose!==!0&&h.value===!0,()=>E.value)),v("div",{class:"q-drawer-container"},X)}}});function $b(e,t){if(t&&e===t)return null;const n=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(n)===!0)return e;const i=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,o=i.display;return o==="block"||o==="table"?e:$b(e.parentNode)}function Ed(e,t,n){return!(!e||e===document.body)&&(n===!0&&e===t||(t===document?document.body:t).contains(e.parentNode))}function jb(e,t,n){if(n||(n=document.createRange(),n.selectNode(e),n.setStart(e,0)),t.count===0)n.setEnd(e,t.count);else if(t.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<t.count?t.count-=e.textContent.length:(n.setEnd(e,t.count),t.count=0);else for(let i=0;t.count!==0&&i<e.childNodes.length;i++)n=jb(e.childNodes[i],t,n);return n}const X2=/^https?:\/\//;class Z2{constructor(t,n){this.el=t,this.eVm=n,this._range=null}get selection(){if(this.el){const t=document.getSelection();if(Ed(t.anchorNode,this.el,!0)&&Ed(t.focusNode,this.el,!0))return t}return null}get hasSelection(){return this.selection!==null&&this.selection.toString().length>0}get range(){const t=this.selection;return t!==null&&t.rangeCount?t.getRangeAt(0):this._range}get parent(){const t=this.range;if(t!==null){const n=t.startContainer;return n.nodeType===document.ELEMENT_NODE?n:n.parentNode}return null}get blockParent(){const t=this.parent;return t!==null?$b(t,this.el):null}save(t=this.range){t!==null&&(this._range=t)}restore(t=this._range){const n=document.createRange(),i=document.getSelection();t!==null?(n.setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset),i.removeAllRanges(),i.addRange(n)):(i.selectAllChildren(this.el),i.collapseToEnd())}savePosition(){let t,n=-1;const i=document.getSelection(),o=this.el.parentNode;if(i.focusNode&&Ed(i.focusNode,o))for(t=i.focusNode,n=i.focusOffset;t&&t!==o;)t!==this.el&&t.previousSibling?(t=t.previousSibling,n+=t.textContent.length):t=t.parentNode;this.savedPos=n}restorePosition(t=0){if(this.savedPos>0&&this.savedPos<t){const n=window.getSelection(),i=jb(this.el,{count:this.savedPos});i&&(i.collapse(!1),n.removeAllRanges(),n.addRange(i))}}hasParent(t,n){const i=n?this.parent:this.blockParent;return i!==null&&i.nodeName.toLowerCase()===t.toLowerCase()}hasParents(t,n,i=this.parent){return i!==null&&(t.includes(i.nodeName.toLowerCase())===!0||n===!0&&this.hasParents(t,n,i.parentNode))}is(t,n){if(this.selection===null)return!1;switch(t){case"formatBlock":return n==="DIV"&&this.parent===this.el||this.hasParent(n,n==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(t)===n;case"fontName":const i=document.queryCommandValue(t);return i===`"${n}"`||i===n;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const o=document.queryCommandState(t);return n!==void 0?o===n:o}}getParentAttribute(t){return this.parent!==null?this.parent.getAttribute(t):null}can(t){return t==="outdent"?this.hasParents(["blockquote","li"],!0):t==="indent"?this.hasParents(["li"],!0):t==="link"?this.selection!==null||this.is("link"):void 0}apply(t,n,i=Ft){if(t==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(n)&&this.is(t,n)&&(t="outdent",n=null),n==="PRE"&&this.is(t,"PRE")&&(n="P");else{if(t==="print"){i();const o=window.open();return o.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),o.print(),void o.close()}if(t==="link"){const o=this.getParentAttribute("href");if(o===null){const r=this.selectWord(this.selection),a=r?r.toString():"";if(!a.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=X2.test(a)?a:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(r.getRangeAt(0))}else this.eVm.editLinkUrl.value=o,this.range.selectNodeContents(this.parent),this.save();return}if(t==="fullscreen")return this.eVm.toggleFullscreen(),void i();if(t==="viewsource")return this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),void i()}document.execCommand(t,!1,n),i()}selectWord(t){if(t===null||t.isCollapsed!==!0||t.modify===void 0)return t;const n=document.createRange();n.setStart(t.anchorNode,t.anchorOffset),n.setEnd(t.focusNode,t.focusOffset);const i=n.collapsed?["backward","forward"]:["forward","backward"];n.detach();const o=t.focusNode,r=t.focusOffset;return t.collapse(t.anchorNode,t.anchorOffset),t.modify("move",i[0],"character"),t.modify("move",i[1],"word"),t.extend(o,r),t.modify("extend",i[1],"character"),t.modify("extend",i[0],"word"),t}}var Qb=we({name:"QTooltip",inheritAttrs:!1,props:ye(V(V(V({},Ff),Oa),Pu),{maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:su},self:{type:String,default:"top middle",validator:su},offset:{type:Array,default:()=>[14,14],validator:db},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}}),emits:[...Na],setup(e,{slots:t,emit:n,attrs:i}){let o,r;const a=Ne(),{proxy:{$q:s}}=a,l=K(null),c=K(!1),u=S(()=>lu(e.anchor,s.lang.rtl)),d=S(()=>lu(e.self,s.lang.rtl)),f=S(()=>e.persistent!==!0),{registerTick:h,removeTick:p}=Ru(),{registerTimeout:y,removeTimeout:b}=Ta(),{transition:g,transitionStyle:m}=zf(e,c),{localScrollTarget:_,changeScrollEvent:x,unconfigureScrollTarget:M}=Jy(e,ee),{anchorEl:w,canShow:T,anchorEvents:B}=Of({showing:c,configureAnchorEl:Y}),{show:D,hide:z}=Da({showing:c,canShow:T,handleShow:P,handleHide:L,hideOnRouteChange:f,processOnMount:!0});Object.assign(B,{delayShow:j,delayHide:G});const{showPortal:A,hidePortal:O,renderPortal:C}=Df(a,l,oe);if(s.platform.is.mobile===!0){const J={anchorEl:w,innerRef:l,onClickOutside(ve){return z(ve),ve.target.classList.contains("q-dialog__backdrop")&&rt(ve),!0}},te=S(()=>e.modelValue===null&&e.persistent!==!0&&c.value===!0);Me(te,ve=>{(ve===!0?ub:au)(J)}),ct(()=>{au(J)})}function P(J){p(),b(),A(),h(()=>{r=new MutationObserver(()=>F()),r.observe(l.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),F(),ee()}),o===void 0&&(o=Me(()=>s.screen.width+"|"+s.screen.height+"|"+e.self+"|"+e.anchor+"|"+s.lang.rtl,F)),y(()=>{A(!0),n("show",J)},e.transitionDuration)}function L(J){p(),b(),O(),q(),y(()=>{O(!0),n("hide",J)},e.transitionDuration)}function q(){r!==void 0&&(r.disconnect(),r=void 0),o!==void 0&&(o(),o=void 0),M(),gn(B,"tooltipTemp")}function F(){const J=l.value;w.value!==null&&J&&hb({el:J,offset:e.offset,anchorEl:w.value,anchorOrigin:u.value,selfOrigin:d.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function j(J){if(s.platform.is.mobile===!0){li(),document.body.classList.add("non-selectable");const te=w.value,ve=["touchmove","touchcancel","touchend","click"].map(de=>[te,de,"delayHide","passiveCapture"]);Nt(B,"tooltipTemp",ve)}y(()=>{D(J)},e.delay)}function G(J){b(),s.platform.is.mobile===!0&&(gn(B,"tooltipTemp"),li(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),y(()=>{z(J)},e.hideDelay)}function Y(){if(e.noParentEvent===!0||w.value===null)return;const J=s.platform.is.mobile===!0?[[w.value,"touchstart","delayShow","passive"]]:[[w.value,"mouseenter","delayShow","passive"],[w.value,"mouseleave","delayHide","passive"]];Nt(B,"anchor",J)}function ee(){if(w.value!==null||e.scrollTarget!==void 0){_.value=Ri(w.value,e.scrollTarget);const J=e.noParentEvent===!0?F:z;x(_.value,J)}}function U(){return c.value===!0?v("div",ye(V({},i),{ref:l,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",i.class],style:[i.style,m.value],role:"complementary"}),je(t.default)):null}function oe(){return v(Kt,{name:g.value,appear:!0},U)}return ct(q),Object.assign(a.proxy,{updatePosition:F}),C}}),fl=we({name:"QItem",props:ye(V(V({},ht),Fa),{tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean}),emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=Ne(),o=ft(e,i),{hasRouterLink:r,hasLink:a,linkProps:s,linkClass:l,linkTag:c,navigateToRouterLink:u}=Lu(),d=K(null),f=K(null),h=S(()=>e.clickable===!0||a.value===!0||e.tag==="label"),p=S(()=>e.disable!==!0&&h.value===!0),y=S(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(o.value===!0?" q-item--dark":"")+(a.value===!0&&e.active===null?l.value:e.active===!0?`${e.activeClass!==void 0?` ${e.activeClass}`:""} q-item--active`:"")+(e.disable===!0?" disabled":"")+(p.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),b=S(()=>{if(e.insetLevel===void 0)return null;const x=i.lang.rtl===!0?"Right":"Left";return{["padding"+x]:16+56*e.insetLevel+"px"}});function g(x){p.value===!0&&(f.value!==null&&(x.qKeyEvent!==!0&&document.activeElement===d.value?f.value.focus():document.activeElement===f.value&&d.value.focus()),r.value===!0&&u(x),n("click",x))}function m(x){if(p.value===!0&&Zn(x,13)===!0){rt(x),x.qKeyEvent=!0;const M=new MouseEvent("click",x);M.qKeyEvent=!0,d.value.dispatchEvent(M)}n("keyup",x)}function _(){const x=sl(t.default,[]);return p.value===!0&&x.unshift(v("div",{class:"q-focus-helper",tabindex:-1,ref:f})),x}return()=>{const x={ref:d,class:y.value,style:b.value,onClick:g,onKeyup:m};return p.value===!0?(x.tabindex=e.tabindex||"0",Object.assign(x,s.value)):h.value===!0&&(x["aria-disabled"]="true"),v(c.value,x,_())}}}),$i=we({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=S(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>v("div",{class:n.value},je(t.default))}});function Yb(e,t,n){t.handler?t.handler(e,n,n.caret):n.runCmd(t.cmd,t.param)}function tp(e){return v("div",{class:"q-editor__toolbar-group"},e)}function Xb(e,t,n,i=!1){const o=i||t.type==="toggle"&&(t.toggled?t.toggled(e):t.cmd&&e.caret.is(t.cmd,t.param)),r=[];if(t.tip&&e.$q.platform.is.desktop){const a=t.key?v("div",[v("small",`(CTRL + ${String.fromCharCode(t.key)})`)]):null;r.push(v(Qb,{delay:1e3},()=>[v("div",{innerHTML:t.tip}),a]))}return v(mt,ye(V({},e.buttonProps.value),{icon:t.icon!==null?t.icon:void 0,color:o?t.toggleColor||e.props.toolbarToggleColor:t.color||e.props.toolbarColor,textColor:o&&!e.props.toolbarPush?null:t.textColor||e.props.toolbarTextColor,label:t.label,disable:!!t.disable&&(typeof t.disable!="function"||t.disable(e)),size:"sm",onClick(a){n&&n(),Yb(a,t,e)}}),()=>r)}function K2(e,t){const n=t.list==="only-icons";let i,o,r=t.label,a=t.icon!==null?t.icon:void 0;function s(){c.component.proxy.hide()}if(n)o=t.options.map(u=>{const d=u.type===void 0&&e.caret.is(u.cmd,u.param);return d&&(r=u.tip,a=u.icon!==null?u.icon:void 0),Xb(e,u,s,d)}),i=e.toolbarBackgroundClass.value,o=[tp(o)];else{const u=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,d=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,f=t.list==="no-icons";o=t.options.map(h=>{const p=!!h.disable&&h.disable(e),y=h.type===void 0&&e.caret.is(h.cmd,h.param);y&&(r=h.tip,a=h.icon!==null?h.icon:void 0);const b=h.htmlTip;return v(fl,{active:y,activeClass:u,clickable:!0,disable:p,dense:!0,onClick(g){s(),e.contentRef.value!==null&&e.contentRef.value.focus(),e.caret.restore(),Yb(g,h,e)}},()=>[f===!0?null:v($i,{class:y?u:d,side:!0},()=>v(dt,{name:h.icon!==null?h.icon:void 0})),v($i,b?()=>v("div",{class:"text-no-wrap",innerHTML:h.htmlTip}):h.tip?()=>v("div",{class:"text-no-wrap"},h.tip):void 0)])}),i=[e.toolbarBackgroundClass.value,d]}const l=t.highlight&&r!==t.label,c=v(fb,ye(V({},e.buttonProps.value),{noCaps:!0,noWrap:!0,color:l?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:l&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:t.fixedLabel?t.label:r,icon:t.fixedIcon?t.icon!==null?t.icon:void 0:a,contentClass:i}),()=>o);return c}function J2(e){if(e.caret)return e.buttons.value.filter(t=>!e.isViewingSource.value||t.find(n=>n.cmd==="viewsource")).map(t=>tp(t.map(n=>(!e.isViewingSource.value||n.cmd==="viewsource")&&(n.type==="slot"?je(e.slots[n.slot]):n.type==="dropdown"?K2(e,n):Xb(e,n)))))}function eA(e,t,n,i={}){const o=Object.keys(i);if(o.length===0)return{};const r={default_font:{cmd:"fontName",param:e,icon:n,tip:t}};return o.forEach(a=>{const s=i[a];r[a]={cmd:"fontName",param:s,icon:n,tip:s,htmlTip:`<font face="${s}">${s}</font>`}}),r}function tA(e){if(e.caret){const t=e.props.toolbarColor||e.props.toolbarTextColor;let n=e.editLinkUrl.value;const i=()=>{e.caret.restore(),n!==e.editLinkUrl.value&&document.execCommand("createLink",!1,n===""?" ":n),e.editLinkUrl.value=null};return[v("div",{class:`q-mx-xs text-${t}`},`${e.$q.lang.editor.url}: `),v("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:n,onInput:o=>{It(o),n=o.target.value},onKeydown:o=>{if(br(o)!==!0)switch(o.keyCode){case 13:return en(o),i();case 27:en(o),e.caret.restore(),e.editLinkUrl.value&&e.editLinkUrl.value!=="https://"||document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),tp([v(mt,ye(V({key:"qedt_btm_rem",tabindex:-1},e.buttonProps.value),{label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}})),v(mt,ye(V({key:"qedt_btm_upd"},e.buttonProps.value),{label:e.$q.lang.label.update,noCaps:!0,onClick:i}))])]}}const uv=/^on[A-Z]/;function Zb(e,t){const n={listeners:K({}),attributes:K({})};function i(){const o={},r={};for(const a in e)a!=="class"&&a!=="style"&&uv.test(a)===!1&&(o[a]=e[a]);for(const a in t.props)uv.test(a)===!0&&(r[a]=t.props[a]);n.attributes.value=o,n.listeners.value=r}return Qs(i),i(),n}const nA=Object.prototype.toString,Ad=Object.prototype.hasOwnProperty,Kb={};function Tc(e){return e===null?String(e):Kb[nA.call(e)]||"object"}function dv(e){if(!e||Tc(e)!=="object"||e.constructor&&!Ad.call(e,"constructor")&&!Ad.call(e.constructor.prototype,"isPrototypeOf"))return!1;let t;for(t in e);return t===void 0||Ad.call(e,t)}function Jb(){let e,t,n,i,o,r,a=arguments[0]||{},s=1,l=!1;const c=arguments.length;for(typeof a=="boolean"&&(l=a,a=arguments[1]||{},s=2),Object(a)!==a&&Tc(a)!=="function"&&(a={}),c===s&&(a=this,s--);s<c;s++)if((e=arguments[s])!==null)for(t in e)n=a[t],i=e[t],a!==i&&(l&&i&&(dv(i)||(o=Tc(i)==="array"))?(o?(o=!1,r=n&&Tc(n)==="array"?n:[]):r=n&&dv(n)?n:{},a[t]=Jb(l,r,i)):i!==void 0&&(a[t]=i));return a}"Boolean Number String Function Array Date RegExp Object".split(" ").forEach(e=>{Kb["[object "+e+"]"]=e.toLowerCase()});var iA=we({name:"QEditor",props:ye(V(V({},ht),jf),{modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(t=>t.length),default(){return[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]}},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean}),emits:[...Qf,"update:modelValue","keydown","click","mouseup","keyup","touchend","focus","blur"],setup(e,{slots:t,emit:n,attrs:i}){const{proxy:o,vnode:r}=Ne(),{$q:a}=o,s=ft(e,a),{inFullscreen:l,toggleFullscreen:c}=Yf(),u=Zb(i,r),d=K(null),f=K(null),h=K(null),p=K(!1),y=S(()=>!e.readonly&&!e.disable);let b,g,m=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),b=window.getComputedStyle(document.body).fontFamily;const _=S(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),x=S(()=>{const ne=e.toolbarOutline!==!0&&e.toolbarPush!==!0;return{type:"a",flat:ne,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!y.value,size:"sm"}}),M=S(()=>{const ne=a.lang.editor,E=a.iconSet.editor;return{bold:{cmd:"bold",icon:E.bold,tip:ne.bold,key:66},italic:{cmd:"italic",icon:E.italic,tip:ne.italic,key:73},strike:{cmd:"strikeThrough",icon:E.strikethrough,tip:ne.strikethrough,key:83},underline:{cmd:"underline",icon:E.underline,tip:ne.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:E.unorderedList,tip:ne.unorderedList},ordered:{cmd:"insertOrderedList",icon:E.orderedList,tip:ne.orderedList},subscript:{cmd:"subscript",icon:E.subscript,tip:ne.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:E.superscript,tip:ne.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:$=>$.caret&&!$.caret.can("link"),icon:E.hyperlink,tip:ne.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:E.toggleFullscreen,tip:ne.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:E.viewSource,tip:ne.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:E.quote,tip:ne.quote,key:81},left:{cmd:"justifyLeft",icon:E.left,tip:ne.left},center:{cmd:"justifyCenter",icon:E.center,tip:ne.center},right:{cmd:"justifyRight",icon:E.right,tip:ne.right},justify:{cmd:"justifyFull",icon:E.justify,tip:ne.justify},print:{type:"no-state",cmd:"print",icon:E.print,tip:ne.print,key:80},outdent:{type:"no-state",disable:$=>$.caret&&!$.caret.can("outdent"),cmd:"outdent",icon:E.outdent,tip:ne.outdent},indent:{type:"no-state",disable:$=>$.caret&&!$.caret.can("indent"),cmd:"indent",icon:E.indent,tip:ne.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:E.removeFormat,tip:ne.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:E.hr,tip:ne.hr},undo:{type:"no-state",cmd:"undo",icon:E.undo,tip:ne.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:E.redo,tip:ne.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:E.heading1||E.heading,tip:ne.heading1,htmlTip:`<h1 class="q-ma-none">${ne.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:E.heading2||E.heading,tip:ne.heading2,htmlTip:`<h2 class="q-ma-none">${ne.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:E.heading3||E.heading,tip:ne.heading3,htmlTip:`<h3 class="q-ma-none">${ne.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:E.heading4||E.heading,tip:ne.heading4,htmlTip:`<h4 class="q-ma-none">${ne.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:E.heading5||E.heading,tip:ne.heading5,htmlTip:`<h5 class="q-ma-none">${ne.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:E.heading6||E.heading,tip:ne.heading6,htmlTip:`<h6 class="q-ma-none">${ne.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:E.heading,tip:ne.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:E.code,htmlTip:`<code>${ne.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:E.size1||E.size,tip:ne.size1,htmlTip:`<font size="1">${ne.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:E.size2||E.size,tip:ne.size2,htmlTip:`<font size="2">${ne.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:E.size3||E.size,tip:ne.size3,htmlTip:`<font size="3">${ne.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:E.size4||E.size,tip:ne.size4,htmlTip:`<font size="4">${ne.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:E.size5||E.size,tip:ne.size5,htmlTip:`<font size="5">${ne.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:E.size6||E.size,tip:ne.size6,htmlTip:`<font size="6">${ne.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:E.size7||E.size,tip:ne.size7,htmlTip:`<font size="7">${ne.size7}</font>`}}}),w=S(()=>{const ne=e.definitions||{},E=e.definitions||e.fonts?Jb(!0,{},M.value,ne,eA(b,a.lang.editor.defaultFont,a.iconSet.editor.font,e.fonts)):M.value;return e.toolbar.map($=>$.map(he=>{if(he.options)return{type:"dropdown",icon:he.icon,label:he.label,size:"sm",dense:!0,fixedLabel:he.fixedLabel,fixedIcon:he.fixedIcon,highlight:he.highlight,list:he.list,options:he.options.map(fe=>E[fe])};const ie=E[he];return ie?ie.type==="no-state"||ne[he]&&(ie.cmd===void 0||M.value[ie.cmd]&&M.value[ie.cmd].type==="no-state")?ie:Object.assign({type:"toggle"},ie):{type:"slot",slot:he}}))}),T={$q:a,props:e,slots:t,inFullscreen:l,toggleFullscreen:c,runCmd:J,isViewingSource:p,editLinkUrl:h,toolbarBackgroundClass:_,buttonProps:x,contentRef:f,buttons:w,setContent:oe};Me(()=>e.modelValue,ne=>{m!==ne&&(m=ne,oe(ne,!0))});const B=S(()=>e.toolbar&&e.toolbar.length>0),D=S(()=>{const ne={},E=$=>{$.key&&(ne[$.key]={cmd:$.cmd,param:$.param})};return w.value.forEach($=>{$.forEach(he=>{he.options?he.options.forEach(E):E(he)})}),ne}),z=S(()=>l.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),A=S(()=>`q-editor q-editor--${p.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(l.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(s.value===!0?" q-editor--dark q-dark":"")),O=S(()=>[e.contentClass,"q-editor__content",{col:l.value,"overflow-auto":l.value||e.maxHeight}]),C=S(()=>e.disable===!0?{"aria-disabled":"true"}:e.readonly===!0?{"aria-readonly":"true"}:{});function P(){if(f.value!==null){const ne=`inner${p.value===!0?"Text":"HTML"}`,E=f.value[ne];E!==e.modelValue&&(m=E,n("update:modelValue",E))}}function L(ne){if(n("keydown",ne),ne.ctrlKey!==!0||br(ne)===!0)return void te();const E=ne.keyCode,$=D.value[E];if($!==void 0){const{cmd:he,param:ie}=$;rt(ne),J(he,ie,!1)}}function q(ne){te(),n("click",ne)}function F(ne){if(f.value!==null){const{scrollTop:E,scrollHeight:$}=f.value;g=$-E}T.caret.save(),n("blur",ne)}function j(ne){st(()=>{f.value!==null&&g!==void 0&&(f.value.scrollTop=f.value.scrollHeight-g)}),n("focus",ne)}function G(ne){const E=d.value;if(E!==null&&E.contains(ne.target)===!0&&(ne.relatedTarget===null||E.contains(ne.relatedTarget)!==!0)){const $=`inner${p.value===!0?"Text":"HTML"}`;T.caret.restorePosition(f.value[$].length),te()}}function Y(ne){const E=d.value;E===null||E.contains(ne.target)!==!0||ne.relatedTarget!==null&&E.contains(ne.relatedTarget)===!0||(T.caret.savePosition(),te())}function ee(){g=void 0}function U(ne){T.caret.save()}function oe(ne,E){if(f.value!==null){E===!0&&T.caret.savePosition();const $=`inner${p.value===!0?"Text":"HTML"}`;f.value[$]=ne,E===!0&&(T.caret.restorePosition(f.value[$].length),te())}}function J(ne,E,$=!0){ve(),T.caret.restore(),T.caret.apply(ne,E,()=>{ve(),T.caret.save(),$&&te()})}function te(){setTimeout(()=>{h.value=null,o.$forceUpdate()},1)}function ve(){za(()=>{f.value!==null&&f.value.focus({preventScroll:!0})})}function de(){return f.value}return Object.assign(o,{runCmd:J,refreshToolbar:te,focus:ve,getContentEl:de}),$t(()=>{T.caret=o.caret=new Z2(f.value,T),oe(e.modelValue),te(),document.addEventListener("selectionchange",U)}),ct(()=>{document.removeEventListener("selectionchange",U)}),()=>{let ne;if(B.value){const E=[v("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+_.value},J2(T))];h.value!==null&&E.push(v("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+_.value},tA(T))),ne=v("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},E)}return v("div",ye(V({ref:d,class:A.value,style:{height:l.value===!0?"100%":null}},C.value),{onFocusin:G,onFocusout:Y}),[ne,v("div",ye(V({ref:f,style:z.value,class:O.value,contenteditable:y.value,placeholder:e.placeholder},u.listeners.value),{onInput:P,onKeydown:L,onClick:q,onBlur:F,onFocus:j,onMousedown:ee,onTouchstartPassive:ee}))])}}}),du=we({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=S(()=>parseInt(e.lines,10)),i=S(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),o=S(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>v("div",{style:o.value,class:i.value},je(t.default))}}),Bu=we({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:t,emit:n}){let i,o,r,a,s,l,c=!1;function u(){i&&i(),i=null,c=!1,clearTimeout(r),clearTimeout(a),o!==void 0&&o.removeEventListener("transitionend",s),s=null}function d(y,b,g){y.style.overflowY="hidden",b!==void 0&&(y.style.height=`${b}px`),y.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,c=!0,i=g}function f(y,b){y.style.overflowY=null,y.style.height=null,y.style.transition=null,u(),b!==l&&n(b)}function h(y,b){let g=0;o=y,c===!0?(u(),g=y.offsetHeight===y.scrollHeight?0:void 0):l="hide",d(y,g,b),r=setTimeout(()=>{y.style.height=`${y.scrollHeight}px`,s=m=>{Object(m)===m&&m.target!==y||f(y,"show")},y.addEventListener("transitionend",s),a=setTimeout(s,1.1*e.duration)},100)}function p(y,b){let g;o=y,c===!0?u():(l="show",g=y.scrollHeight),d(y,g,b),r=setTimeout(()=>{y.style.height=0,s=m=>{Object(m)===m&&m.target!==y||f(y,"hide")},y.addEventListener("transitionend",s),a=setTimeout(s,1.1*e.duration)},100)}return ct(()=>{c===!0&&u()}),()=>v(Kt,{css:!1,appear:e.appear,onEnter:h,onLeave:p},t.default)}});const oA={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},Ld={xs:2,sm:4,md:8,lg:16,xl:24};var Po=we({name:"QSeparator",props:ye(V({},ht),{spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String}),setup(e){const t=Ne(),n=ft(e,t.proxy.$q),i=S(()=>e.vertical===!0?"vertical":"horizontal"),o=S(()=>` q-separator--${i.value}`),r=S(()=>e.inset!==!1?`${o.value}-${oA[e.inset]}`:""),a=S(()=>`q-separator${o.value}${r.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(n.value===!0?" q-separator--dark":"")),s=S(()=>{const l={};if(e.size!==void 0&&(l[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const c=e.spaced===!0?`${Ld.md}px`:e.spaced in Ld?`${Ld[e.spaced]}px`:e.spaced,u=e.vertical===!0?["Left","Right"]:["Top","Bottom"];l[`margin${u[0]}`]=l[`margin${u[1]}`]=c}return l});return()=>v("hr",{class:a.value,style:s.value,"aria-orientation":i.value})}});let Pd,hc=0;const ln=new Array(256);for(let e=0;e<256;e++)ln[e]=(e+256).toString(16).substring(1);const rA=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let i=t;i>0;i--)n.push(Math.floor(256*Math.random()));return n}})(),hv=4096;function ex(){(Pd===void 0||hc+16>hv)&&(hc=0,Pd=rA(hv));const e=Array.prototype.slice.call(Pd,hc,hc+=16);return e[6]=15&e[6]|64,e[8]=63&e[8]|128,ln[e[0]]+ln[e[1]]+ln[e[2]]+ln[e[3]]+"-"+ln[e[4]]+ln[e[5]]+"-"+ln[e[6]]+ln[e[7]]+"-"+ln[e[8]]+ln[e[9]]+"-"+ln[e[10]]+ln[e[11]]+ln[e[12]]+ln[e[13]]+ln[e[14]]+ln[e[15]]}const Uo=t_({}),aA=Object.keys(Fa);var sA=we({name:"QExpansionItem",props:ye(V(V(V({},Fa),Oa),ht),{icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]}),emits:[...Na,"click","after-show","after-hide"],setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=Ne(),o=ft(e,i),r=K(e.modelValue!==null?e.modelValue:e.defaultOpened),a=K(null),{hide:s,toggle:l}=Da({showing:r});let c,u;const d=S(()=>`q-expansion-item q-item-type q-expansion-item--${r.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),f=S(()=>{if(e.contentInsetLevel===void 0)return null;const C=i.lang.rtl===!0?"Right":"Left";return{["padding"+C]:56*e.contentInsetLevel+"px"}}),h=S(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),p=S(()=>{const C={};return aA.forEach(P=>{C[P]=e[P]}),C}),y=S(()=>h.value===!0||e.expandIconToggle!==!0),b=S(()=>e.expandedIcon!==void 0&&r.value===!0?e.expandedIcon:e.expandIcon||i.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),g=S(()=>e.disable!==!0&&(h.value===!0||e.expandIconToggle===!0));function m(C){h.value!==!0&&l(C),n("click",C)}function _(C){C.keyCode===13&&x(C,!0)}function x(C,P){P!==!0&&a.value!==null&&a.value.focus(),l(C),rt(C)}function M(){n("after-show")}function w(){n("after-hide")}function T(){c===void 0&&(c=ex()),r.value===!0&&(Uo[e.group]=c);const C=Me(r,L=>{L===!0?Uo[e.group]=c:Uo[e.group]===c&&delete Uo[e.group]}),P=Me(()=>Uo[e.group],(L,q)=>{q===c&&L!==void 0&&L!==c&&s()});u=()=>{C(),P(),Uo[e.group]===c&&delete Uo[e.group],u=void 0}}function B(){const C={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},P=[v(dt,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&r.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:b.value})];return g.value===!0&&(Object.assign(C,{tabindex:0,onClick:x,onKeyup:_}),P.unshift(v("div",{ref:a,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),v($i,C,()=>P)}function D(){let C;return t.header!==void 0?C=[].concat(t.header()):(C=[v($i,()=>[v(du,{lines:e.labelLines},()=>e.label||""),e.caption?v(du,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&C[e.switchToggleSide===!0?"push":"unshift"](v($i,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>v(dt,{name:e.icon})))),e.disable!==!0&&C[e.switchToggleSide===!0?"unshift":"push"](B()),C}function z(){const C={ref:"item",style:e.headerStyle,class:e.headerClass,dark:o.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return y.value===!0&&(C.clickable=!0,C.onClick=m,h.value===!0&&Object.assign(C,p.value)),v(fl,C,D)}function A(){return ci(v("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:f.value},je(t.default)),[[Xv,r.value]])}function O(){const C=[z(),v(Bu,{duration:e.duration,onShow:M,onHide:w},A)];return e.expandSeparator===!0&&C.push(v(Po,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:o.value}),v(Po,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:o.value})),C}return Me(()=>e.group,C=>{u!==void 0&&u(),C!==void 0&&T()}),e.group!==void 0&&T(),ct(()=>{u!==void 0&&u()}),()=>v("div",{class:d.value},[v("div",{class:"q-expansion-item__container relative-position"},O())])}});const lA=["top","right","bottom","left"],tx={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>lA.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function nx(e,t){return{formClass:S(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:S(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:S(()=>{if(e.externalLabel===!0){const n=e.hideLabel===null?t.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(n===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const cA=["up","right","down","left"],uA=["left","center","right"];var dA=we({name:"QFab",props:ye(V(V({},tx),Oa),{icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{default:null},direction:{type:String,default:"right",validator:e=>cA.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>uA.includes(e)}}),emits:Na,setup(e,{slots:t}){const n=K(null),i=K(e.modelValue===!0),{proxy:{$q:o}}=Ne(),{formClass:r,labelProps:a}=nx(e,i),s=S(()=>e.persistent!==!0),{hide:l,toggle:c}=Da({showing:i,hideOnRouteChange:s}),u=S(()=>({opened:i.value})),d=S(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${r.value}`+(i.value===!0?" q-fab--opened":" q-fab--closed")),f=S(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${i.value===!0?"opened":"closed"}`),h=S(()=>`q-fab__icon-holder  q-fab__icon-holder--${i.value===!0?"opened":"closed"}`);function p(b,g){const m=t[b],_=`q-fab__${b} absolute-full`;return m===void 0?v(dt,{class:_,name:e[g]||o.iconSet.fab[g]}):v("div",{class:_},m(u.value))}function y(){const b=[];return e.hideIcon!==!0&&b.push(v("div",{class:h.value},[p("icon","icon"),p("active-icon","activeIcon")])),e.label===""&&t.label===void 0||b[a.value.action](v("div",a.value.data,t.label!==void 0?t.label(u.value):[e.label])),zt(t.tooltip,b)}return Ro(qy,{showing:i,onChildClick(b){l(b),n.value!==null&&n.value.$el.focus()}}),()=>v("div",{class:d.value},[v(mt,ye(V({ref:n,class:r.value},e),{noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":i.value===!0?"true":"false","aria-haspopup":"true",onClick:c}),y),v("div",{class:f.value},je(t.default))])}});const ix={start:"self-end",center:"self-center",end:"self-start"},hA=Object.keys(ix);var fA=we({name:"QFabAction",props:ye(V({},tx),{icon:{type:String,default:""},anchor:{type:String,validator:e=>hA.includes(e)},to:[String,Object],replace:Boolean}),emits:["click"],setup(e,{slots:t,emit:n}){const i=Pn(qy,()=>({showing:{value:!0},onChildClick:Ft})),{formClass:o,labelProps:r}=nx(e,i.showing),a=S(()=>{const d=ix[e.anchor];return o.value+(d!==void 0?` ${d}`:"")}),s=S(()=>e.disable===!0||i.showing.value!==!0);function l(d){i.onChildClick(d),n("click",d)}function c(){const d=[];return t.icon!==void 0?d.push(t.icon()):e.icon!==""&&d.push(v(dt,{name:e.icon})),e.label===""&&t.label===void 0||d[r.value.action](v("div",r.value.data,t.label!==void 0?t.label():[e.label])),zt(t.default,d)}const u=Ne();return Object.assign(u.proxy,{click:l}),()=>v(mt,ye(V({class:a.value},e),{noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:s.value,onClick:l}),c)}});function pA({validate:e,resetValidation:t,requiresQForm:n}){const i=Pn(na,!1);if(i!==!1){const{props:o,proxy:r}=Ne();Object.assign(r,{validate:e,resetValidation:t}),Me(()=>o.disable,a=>{a===!0?(typeof t=="function"&&t(),i.unbindComponent(r)):i.bindComponent(r)}),o.disable!==!0&&i.bindComponent(r),ct(()=>{o.disable!==!0&&i.unbindComponent(r)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}function ms(e,t=new WeakMap){if(Object(e)!==e)return e;if(t.has(e))return t.get(e);const n=e instanceof Date?new Date(e):e instanceof RegExp?new RegExp(e.source,e.flags):e instanceof Set?new Set:e instanceof Map?new Map:typeof e.constructor!="function"?Object.create(null):e.prototype!==void 0&&typeof e.prototype.constructor=="function"?e:new e.constructor;if(typeof e.constructor=="function"&&typeof e.valueOf=="function"){const i=e.valueOf();if(Object(i)!==i){const o=new e.constructor(i);return t.set(e,o),o}}return t.set(e,n),e instanceof Set?e.forEach(i=>{n.add(ms(i,t))}):e instanceof Map&&e.forEach((i,o)=>{n.set(o,ms(i,t))}),Object.assign(n,...Object.keys(e).map(i=>({[i]:ms(e[i],t)})))}function Wr(e,t,n,i){const o=[];return e.forEach(r=>{i(r)===!0?o.push(r):t.push({failedPropValidation:n,file:r})}),o}function fc(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),rt(e)}const ox={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},rx=["rejected"];function ax({editable:e,dnd:t,getFileInput:n,addFilesToQueue:i}){const{props:o,emit:r,proxy:a}=Ne(),s=K(null),l=S(()=>o.accept!==void 0?o.accept.split(",").map(m=>(m=m.trim(),m==="*"?"*/":(m.endsWith("/*")&&(m=m.slice(0,m.length-1)),m.toUpperCase()))):null),c=S(()=>parseInt(o.maxFiles,10)),u=S(()=>parseInt(o.maxTotalSize,10));function d(m){if(e.value)if(m!==Object(m)&&(m={target:null}),m.target!==null&&m.target.matches('input[type="file"]')===!0)m.clientX===0&&m.clientY===0&&It(m);else{const _=n();_&&_!==m.target&&_.click(m)}}function f(m){e.value&&m&&i(null,m)}function h(m,_,x,M){let w=Array.from(_||m.target.files);const T=[],B=()=>{T.length>0&&r("rejected",T)};if(o.accept!==void 0&&l.value.indexOf("*/")===-1&&(w=Wr(w,T,"accept",z=>l.value.some(A=>z.type.toUpperCase().startsWith(A)||z.name.toUpperCase().endsWith(A))),w.length===0))return B();if(o.maxFileSize!==void 0){const z=parseInt(o.maxFileSize,10);if(w=Wr(w,T,"max-file-size",A=>A.size<=z),w.length===0)return B()}o.multiple!==!0&&w.length>0&&(w=[w[0]]),w.forEach(z=>{z.__key=z.webkitRelativePath+z.lastModified+z.name+z.size});const D=x.map(z=>z.__key);if(w=Wr(w,T,"duplicate",z=>D.includes(z.__key)===!1),w.length===0)return B();if(o.maxTotalSize!==void 0){let z=M===!0?x.reduce((A,O)=>A+O.size,0):0;if(w=Wr(w,T,"max-total-size",A=>(z+=A.size,z<=u.value)),w.length===0)return B()}if(typeof o.filter=="function"){const z=o.filter(w);w=Wr(w,T,"filter",A=>z.includes(A))}if(o.maxFiles!==void 0){let z=M===!0?x.length:0;if(w=Wr(w,T,"max-files",()=>(z++,z<=c.value)),w.length===0)return B()}return B(),w.length>0?w:void 0}function p(m){fc(m),t.value!==!0&&(t.value=!0)}function y(m){rt(m),m.relatedTarget!==s.value&&(t.value=!1)}function b(m){fc(m);const _=m.dataTransfer.files;_.length>0&&i(null,_),t.value=!1}function g(m){if(t.value===!0)return v("div",{ref:s,class:`q-${m}__dnd absolute-full`,onDragenter:fc,onDragover:fc,onDragleave:y,onDrop:b})}return Object.assign(a,{pickFiles:d,addFiles:f}),{pickFiles:d,addFiles:f,onDragover:p,processFiles:h,getDndNode:g,maxFilesNumber:c,maxTotalSizeNumber:u}}function fv(e){return(100*e).toFixed(2)+"%"}const mA=ye(V(V({},ht),ox),{label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean}),sx=[...rx,"start","finish","added","removed"];function vA(e){const t=Ne(),{props:n,slots:i,emit:o,proxy:r}=t,{$q:a}=r,s=ft(n,a);function l(E,$,he){if(E.__status=$,$==="idle")return E.__uploaded=0,E.__progress=0,E.__sizeLabel=Sh(E.size),void(E.__progressLabel="0.00%");$!=="failed"&&(E.__uploaded=$==="uploaded"?E.size:he,E.__progress=$==="uploaded"?1:Math.min(.9999,E.__uploaded/E.size),E.__progressLabel=fv(E.__progress)),r.$forceUpdate()}const c={files:K([]),queuedFiles:K([]),uploadedFiles:K([]),uploadedSize:K(0),updateFileStatus:l,isAlive(){return t.isDeactivated!==!0&&t.isUnmounted!==!0}};Object.assign(c,e({props:n,slots:i,emit:o,helpers:c}));const u=K(0),d=S(()=>n.disable!==!0&&n.readonly!==!0);c.isBusy===void 0&&(c.isBusy=K(!1));const f=K(!1),h=K(null),p=K(null);Ro(Hy,J);const{pickFiles:y,addFiles:b,onDragover:g,onDragleave:m,processFiles:_,getDndNode:x,maxFilesNumber:M,maxTotalSizeNumber:w}=ax({editable:d,dnd:f,getFileInput:Y,addFilesToQueue:ee}),T=S(()=>d.value===!0&&c.isUploading.value!==!0&&(n.multiple===!0||c.queuedFiles.value.length===0)&&(n.maxFiles===void 0||c.files.value.length<M.value)&&(n.maxTotalSize===void 0||u.value<w.value)),B=S(()=>d.value===!0&&c.isBusy.value!==!0&&c.isUploading.value!==!0&&c.queuedFiles.value.length>0),D=S(()=>u.value===0?0:c.uploadedSize.value/u.value),z=S(()=>fv(D.value)),A=S(()=>Sh(u.value)),O=S(()=>"q-uploader column no-wrap"+(s.value===!0?" q-uploader--dark q-dark":"")+(n.bordered===!0?" q-uploader--bordered":"")+(n.square===!0?" q-uploader--square no-border-radius":"")+(n.flat===!0?" q-uploader--flat no-shadow":"")+(n.disable===!0?" disabled q-uploader--disable":"")+(f.value===!0?" q-uploader--dnd":"")),C=S(()=>"q-uploader__header"+(n.color!==void 0?` bg-${n.color}`:"")+(n.textColor!==void 0?` text-${n.textColor}`:""));function P(){n.disable===!1&&(c.abort(),c.uploadedSize.value=0,u.value=0,G(),c.files.value=[],c.queuedFiles.value=[],c.uploadedFiles.value=[])}function L(){n.disable===!1&&F(["uploaded"],()=>{c.uploadedFiles.value=[]})}function q(){F(["idle","failed"],({size:E})=>{u.value-=E,c.queuedFiles.value=[]})}function F(E,$){if(n.disable===!0)return;const he={files:[],size:0},ie=c.files.value.filter(fe=>E.indexOf(fe.__status)===-1||(he.size+=fe.size,he.files.push(fe),fe.__img!==void 0&&window.URL.revokeObjectURL(fe.__img.src),!1));he.files.length>0&&(c.files.value=ie,$(he),o("removed",he.files))}function j(E){n.disable||(E.__status==="uploaded"?c.uploadedFiles.value=c.uploadedFiles.value.filter($=>$.__key!==E.__key):E.__status==="uploading"?E.__abort():u.value-=E.size,c.files.value=c.files.value.filter($=>$.__key!==E.__key||($.__img!==void 0&&window.URL.revokeObjectURL($.__img.src),!1)),c.queuedFiles.value=c.queuedFiles.value.filter($=>$.__key!==E.__key),o("removed",[E]))}function G(){c.files.value.forEach(E=>{E.__img!==void 0&&window.URL.revokeObjectURL(E.__img.src)})}function Y(){return p.value||h.value.getElementsByClassName("q-uploader__input")[0]}function ee(E,$){const he=_(E,$,c.files.value,!0);if(he===void 0)return;const ie=Y();ie!=null&&(ie.value=""),he.forEach(fe=>{if(c.updateFileStatus(fe,"idle"),u.value+=fe.size,n.noThumbnails!==!0&&fe.type.toUpperCase().startsWith("IMAGE")){const pe=new Image;pe.src=window.URL.createObjectURL(fe),fe.__img=pe}}),c.files.value=c.files.value.concat(he),c.queuedFiles.value=c.queuedFiles.value.concat(he),o("added",he),n.autoUpload===!0&&c.upload()}function U(){B.value===!0&&c.upload()}function oe(E,$,he){if(E===!0){const ie={type:"a",key:$,icon:a.iconSet.uploader[$],flat:!0,dense:!0};let fe;return $==="add"?(ie.onClick=y,fe=J):ie.onClick=he,v(mt,ie,fe)}}function J(){return v("input",{ref:p,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:n.accept,multiple:n.multiple===!0?"multiple":void 0,capture:n.capture,onMousedown:It,onClick:y,onChange:ee})}function te(){return i.header!==void 0?i.header(ne.value):[v("div",{class:"q-uploader__header-content column"},[v("div",{class:"flex flex-center no-wrap q-gutter-xs"},[oe(c.queuedFiles.value.length>0,"removeQueue",q),oe(c.uploadedFiles.value.length>0,"removeUploaded",L),c.isUploading.value===!0?v(Jn,{class:"q-uploader__spinner"}):null,v("div",{class:"col column justify-center"},[n.label!==void 0?v("div",{class:"q-uploader__title"},[n.label]):null,v("div",{class:"q-uploader__subtitle"},[A.value+" / "+z.value])]),oe(T.value,"add"),oe(n.hideUploadBtn===!1&&B.value===!0,"upload",c.upload),oe(c.isUploading.value,"clear",c.abort)])])]}function ve(){return i.list!==void 0?i.list(ne.value):c.files.value.map(E=>v("div",{key:E.__key,class:"q-uploader__file relative-position"+(n.noThumbnails!==!0&&E.__img!==void 0?" q-uploader__file--img":"")+(E.__status==="failed"?" q-uploader__file--failed":E.__status==="uploaded"?" q-uploader__file--uploaded":""),style:n.noThumbnails!==!0&&E.__img!==void 0?{backgroundImage:'url("'+E.__img.src+'")'}:null},[v("div",{class:"q-uploader__file-header row flex-center no-wrap"},[E.__status==="failed"?v(dt,{class:"q-uploader__file-status",name:a.iconSet.type.negative,color:"negative"}):null,v("div",{class:"q-uploader__file-header-content col"},[v("div",{class:"q-uploader__title"},[E.name]),v("div",{class:"q-uploader__subtitle row items-center no-wrap"},[E.__sizeLabel+" / "+E.__progressLabel])]),E.__status==="uploading"?v(Kf,{value:E.__progress,min:0,max:1,indeterminate:E.__progress===0}):v(mt,{round:!0,dense:!0,flat:!0,icon:a.iconSet.uploader[E.__status==="uploaded"?"done":"clear"],onClick:()=>{j(E)}})])]))}Me(c.isUploading,(E,$)=>{$===!1&&E===!0?o("start"):$===!0&&E===!1&&o("finish")}),ct(()=>{c.isUploading.value===!0&&c.abort(),c.files.value.length>0&&G()});const de={pickFiles:y,addFiles:b,reset:P,removeUploadedFiles:L,removeQueuedFiles:q,removeFile:j,upload:U,abort:c.abort},ne=S(()=>{const E={canAddFiles:T.value,canUpload:B.value,uploadSizeLabel:A.value,uploadProgressLabel:z.value};for(const $ in c)E[$]=Kv(c[$])===!0?c[$].value:c[$];return V(V({},E),de)});return Object.assign(r,de),()=>{const E=[v("div",{class:C.value},te()),v("div",{class:"q-uploader__list scroll"},ve()),x("uploader")];c.isBusy.value===!0&&E.push(v("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[v(Jn)]));const $={ref:h,class:O.value};return T.value===!0&&Object.assign($,{onDragover:g,onDragleave:m}),v("div",$,E)}}const gA=()=>!0;function lx(e){const t={};return e.forEach(n=>{t[n]=gA}),t}const yA=lx(sx);var bA=({name:e,props:t,emits:n,injectPlugin:i})=>we({name:e,props:V(V({},mA),t),emits:Sn(n)===!0?V(V({},yA),n):[...sx,...n],setup(){return vA(i)}});function Rd(e){let t,n,i=!1;function o(){n=arguments,i!==!0&&(i=!0,t=requestAnimationFrame(()=>{e.apply(this,n),n=void 0,i=!1}))}return o.cancel=()=>{window.cancelAnimationFrame(t),i=!1},o}function xA(e,t=document.body){if(typeof e!="string")throw new TypeError("Expected a string as propName");if(!(t instanceof Element))throw new TypeError("Expected a DOM element");return getComputedStyle(t).getPropertyValue(`--q-${e}`).trim()||null}let _A=0,Ja;function pv(e,t){Ja===void 0&&(Ja=document.createElement("div"),Ja.style.cssText="position: absolute; left: 0; top: 0",document.body.appendChild(Ja));const n=e.getBoundingClientRect(),i=Ja.getBoundingClientRect(),{marginLeft:o,marginRight:r,marginTop:a,marginBottom:s}=window.getComputedStyle(e),l=parseInt(o,10)+parseInt(r,10),c=parseInt(a,10)+parseInt(s,10);return{left:n.left-i.left,top:n.top-i.top,width:n.right-n.left,height:n.bottom-n.top,widthM:n.right-n.left+(t===!0?0:l),heightM:n.bottom-n.top+(t===!0?0:c),marginH:t===!0?l:0,marginV:t===!0?c:0}}function pc(e){return{width:e.scrollWidth,height:e.scrollHeight}}const mv=["Top","Right","Bottom","Left"],vv=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],wA=/-block|-inline|block-|inline-/,SA=/(-block|-inline|block-|inline-).*:/;function gv(e,t){const n=window.getComputedStyle(e),i={};for(let o=0;o<t.length;o++){const r=t[o];if(n[r]==="")if(r==="cssText"){const a=n.length;let s="";for(let l=0;l<a;l++)wA.test(n[l])!==!0&&(s+=n[l]+": "+n[n[l]]+"; ");i[r]=s}else if(["borderWidth","borderStyle","borderColor"].indexOf(r)>-1){const a=r.replace("border","");let s="";for(let l=0;l<mv.length;l++){const c="border"+mv[l]+a;s+=n[c]+" "}i[r]=s}else if(r==="borderRadius"){let a="",s="";for(let l=0;l<vv.length;l++){const c=n[vv[l]].split(" ");a+=c[0]+" ",s+=(c[1]===void 0?c[0]:c[1])+" "}i[r]=a+"/ "+s}else i[r]=n[r];else i[r]=r==="cssText"?n[r].split(";").filter(a=>SA.test(a)!==!0).join(";"):n[r]}return i}const MA=["absolute","fixed","relative","sticky"];function yv(e){let t=e,n=0;for(;t!==null&&t!==document;){const{position:i,zIndex:o}=window.getComputedStyle(t),r=Number(o);r>n&&(t===e||MA.includes(i)===!0)&&(n=r),t=t.parentNode}return n}function TA(e){return{from:e.from,to:e.to!==void 0?e.to:e.from}}function CA(e){return typeof e=="number"?e={duration:e}:typeof e=="function"&&(e={onEnd:e}),ye(V({},e),{waitFor:e.waitFor===void 0?0:e.waitFor,duration:isNaN(e.duration)===!0?300:parseInt(e.duration,10),easing:typeof e.easing=="string"&&e.easing.length>0?e.easing:"ease-in-out",delay:isNaN(e.delay)===!0?0:parseInt(e.delay,10),fill:typeof e.fill=="string"&&e.fill.length>0?e.fill:"none",resize:e.resize===!0,useCSS:e.useCSS===!0,hideFromClone:e.hideFromClone===!0,keepToClone:e.keepToClone===!0,tween:e.tween===!0,tweenFromOpacity:isNaN(e.tweenFromOpacity)===!0?.6:parseFloat(e.tweenFromOpacity),tweenToOpacity:isNaN(e.tweenToOpacity)===!0?.5:parseFloat(e.tweenToOpacity)})}function bv(e){const t=typeof e;return t==="function"?e():t==="string"?document.querySelector(e):e}function xv(e){return e&&e.ownerDocument===document&&e.parentNode!==null}function EA(e){let t=()=>!1,n=!1,i=!0;const o=TA(e),r=CA(e),a=bv(o.from);if(xv(a)!==!0)return t;typeof a.qMorphCancel=="function"&&a.qMorphCancel();let s,l,c,u;const d=a.parentNode,f=a.nextElementSibling,h=pv(a,r.resize),{width:p,height:y}=pc(d),{borderWidth:b,borderStyle:g,borderColor:m,borderRadius:_,backgroundColor:x,transform:M,position:w,cssText:T}=gv(a,["borderWidth","borderStyle","borderColor","borderRadius","backgroundColor","transform","position","cssText"]),B=a.classList.toString(),D=a.style.cssText,z=a.cloneNode(!0),A=r.tween===!0?a.cloneNode(!0):void 0;A!==void 0&&(A.className=A.classList.toString().split(" ").filter(C=>/^bg-/.test(C)===!1).join(" ")),r.hideFromClone===!0&&z.classList.add("q-morph--internal"),z.setAttribute("aria-hidden","true"),z.style.transition="none",z.style.animation="none",z.style.pointerEvents="none",d.insertBefore(z,f),a.qMorphCancel=()=>{n=!0,z.remove(),A!==void 0&&A.remove(),r.hideFromClone===!0&&z.classList.remove("q-morph--internal"),a.qMorphCancel=void 0};const O=()=>{const C=bv(o.to);if(n===!0||xv(C)!==!0)return void(typeof a.qMorphCancel=="function"&&a.qMorphCancel());a!==C&&typeof C.qMorphCancel=="function"&&C.qMorphCancel(),r.keepToClone!==!0&&C.classList.add("q-morph--internal"),z.classList.add("q-morph--internal");const{width:P,height:L}=pc(d),{width:q,height:F}=pc(C.parentNode);r.hideFromClone!==!0&&z.classList.remove("q-morph--internal"),C.qMorphCancel=()=>{n=!0,z.remove(),A!==void 0&&A.remove(),r.hideFromClone===!0&&z.classList.remove("q-morph--internal"),r.keepToClone!==!0&&C.classList.remove("q-morph--internal"),a.qMorphCancel=void 0,C.qMorphCancel=void 0};const j=()=>{if(n===!0)return void(typeof C.qMorphCancel=="function"&&C.qMorphCancel());r.hideFromClone!==!0&&(z.classList.add("q-morph--internal"),z.innerHTML="",z.style.left=0,z.style.right="unset",z.style.top=0,z.style.bottom="unset",z.style.transform="none"),r.keepToClone!==!0&&C.classList.remove("q-morph--internal");const G=C.parentNode,{width:Y,height:ee}=pc(G),U=C.cloneNode(r.keepToClone);U.setAttribute("aria-hidden","true"),r.keepToClone!==!0&&(U.style.left=0,U.style.right="unset",U.style.top=0,U.style.bottom="unset",U.style.transform="none",U.style.pointerEvents="none"),U.classList.add("q-morph--internal");const oe=C===a&&d===G?z:C.nextElementSibling;G.insertBefore(U,oe);const{borderWidth:J,borderStyle:te,borderColor:ve,borderRadius:de,backgroundColor:ne,transform:E,position:$,cssText:he}=gv(C,["borderWidth","borderStyle","borderColor","borderRadius","backgroundColor","transform","position","cssText"]),ie=C.classList.toString(),fe=C.style.cssText;C.style.cssText=he,C.style.transform="none",C.style.animation="none",C.style.transition="none",C.className=ie.split(" ").filter(Be=>/^bg-/.test(Be)===!1).join(" ");const pe=pv(C,r.resize),Pe=h.left-pe.left,_e=h.top-pe.top,R=h.width/(pe.width>0?pe.width:10),k=h.height/(pe.height>0?pe.height:100),re=p-P,ue=y-L,W=Y-q,X=ee-F,me=Math.max(h.widthM,re),Te=Math.max(h.heightM,ue),Ce=Math.max(pe.widthM,W),Ie=Math.max(pe.heightM,X),ze=a===C&&["absolute","fixed"].includes($)===!1&&["absolute","fixed"].includes(w)===!1;let $e=$==="fixed",Fe=G;for(;$e!==!0&&Fe!==document;)$e=window.getComputedStyle(Fe).position==="fixed",Fe=Fe.parentNode;if(r.hideFromClone!==!0&&(z.style.display="block",z.style.flex="0 0 auto",z.style.opacity=0,z.style.minWidth="unset",z.style.maxWidth="unset",z.style.minHeight="unset",z.style.maxHeight="unset",z.classList.remove("q-morph--internal")),r.keepToClone!==!0&&(U.style.display="block",U.style.flex="0 0 auto",U.style.opacity=0,U.style.minWidth="unset",U.style.maxWidth="unset",U.style.minHeight="unset",U.style.maxHeight="unset"),U.classList.remove("q-morph--internal"),typeof r.classes=="string"&&(C.className+=" "+r.classes),typeof r.style=="string")C.style.cssText+=" "+r.style;else if(Sn(r.style)===!0)for(const Be in r.style)C.style[Be]=r.style[Be];const le=yv(z),Se=yv(C),De=$e===!0?document.documentElement:{scrollLeft:0,scrollTop:0};C.style.position=$e===!0?"fixed":"absolute",C.style.left=`${pe.left-De.scrollLeft}px`,C.style.right="unset",C.style.top=`${pe.top-De.scrollTop}px`,C.style.margin=0,r.resize===!0&&(C.style.minWidth="unset",C.style.maxWidth="unset",C.style.minHeight="unset",C.style.maxHeight="unset",C.style.overflow="hidden",C.style.overflowX="hidden",C.style.overflowY="hidden"),document.body.appendChild(C),A!==void 0&&(A.style.cssText=T,A.style.transform="none",A.style.animation="none",A.style.transition="none",A.style.position=C.style.position,A.style.left=`${h.left-De.scrollLeft}px`,A.style.right="unset",A.style.top=`${h.top-De.scrollTop}px`,A.style.margin=0,A.style.pointerEvents="none",r.resize===!0&&(A.style.minWidth="unset",A.style.maxWidth="unset",A.style.minHeight="unset",A.style.maxHeight="unset",A.style.overflow="hidden",A.style.overflowX="hidden",A.style.overflowY="hidden"),document.body.appendChild(A));const ge=Be=>{a===C&&i!==!0?(C.style.cssText=D,C.className=B):(C.style.cssText=fe,C.className=ie),U.parentNode===G&&G.insertBefore(C,U),z.remove(),U.remove(),A!==void 0&&A.remove(),t=()=>!1,a.qMorphCancel=void 0,C.qMorphCancel=void 0,typeof r.onEnd=="function"&&r.onEnd(i===!0?"to":"from",Be===!0)};if(r.useCSS!==!0&&typeof C.animate=="function"){const Be=r.resize===!0?{transform:`translate(${Pe}px, ${_e}px)`,width:`${me}px`,height:`${Te}px`}:{transform:`translate(${Pe}px, ${_e}px) scale(${R}, ${k})`},Ze=r.resize===!0?{width:`${Ce}px`,height:`${Ie}px`}:{},Ge=r.resize===!0?{width:`${me}px`,height:`${Te}px`}:{},et=r.resize===!0?{transform:`translate(${-1*Pe}px, ${-1*_e}px)`,width:`${Ce}px`,height:`${Ie}px`}:{transform:`translate(${-1*Pe}px, ${-1*_e}px) scale(${1/R}, ${1/k})`},pt=A!==void 0?{opacity:r.tweenToOpacity}:{backgroundColor:x},Et=A!==void 0?{opacity:1}:{backgroundColor:ne};u=C.animate([V(V({margin:0,borderWidth:b,borderStyle:g,borderColor:m,borderRadius:_,zIndex:le,transformOrigin:"0 0"},Be),pt),V(V({margin:0,borderWidth:J,borderStyle:te,borderColor:ve,borderRadius:de,zIndex:Se,transformOrigin:"0 0",transform:E},Ze),Et)],{duration:r.duration,easing:r.easing,fill:r.fill,delay:r.delay}),l=A===void 0?void 0:A.animate([V({opacity:r.tweenFromOpacity,margin:0,borderWidth:b,borderStyle:g,borderColor:m,borderRadius:_,zIndex:le,transformOrigin:"0 0",transform:M},Ge),V({opacity:0,margin:0,borderWidth:J,borderStyle:te,borderColor:ve,borderRadius:de,zIndex:Se,transformOrigin:"0 0"},et)],{duration:r.duration,easing:r.easing,fill:r.fill,delay:r.delay}),s=r.hideFromClone===!0||ze===!0?void 0:z.animate([{margin:`${ue<0?ue/2:0}px ${re<0?re/2:0}px`,width:`${me+h.marginH}px`,height:`${Te+h.marginV}px`},{margin:0,width:0,height:0}],{duration:r.duration,easing:r.easing,fill:r.fill,delay:r.delay}),c=r.keepToClone===!0?void 0:U.animate([ze===!0?{margin:`${ue<0?ue/2:0}px ${re<0?re/2:0}px`,width:`${me+h.marginH}px`,height:`${Te+h.marginV}px`}:{margin:0,width:0,height:0},{margin:`${X<0?X/2:0}px ${W<0?W/2:0}px`,width:`${Ce+pe.marginH}px`,height:`${Ie+pe.marginV}px`}],{duration:r.duration,easing:r.easing,fill:r.fill,delay:r.delay});const Tt=bn=>{s!==void 0&&s.cancel(),l!==void 0&&l.cancel(),c!==void 0&&c.cancel(),u.cancel(),u.removeEventListener("finish",Tt),u.removeEventListener("cancel",Tt),ge(bn),s=void 0,l=void 0,c=void 0,u=void 0};a.qMorphCancel=()=>{a.qMorphCancel=void 0,n=!0,Tt()},C.qMorphCancel=()=>{C.qMorphCancel=void 0,n=!0,Tt()},u.addEventListener("finish",Tt),u.addEventListener("cancel",Tt),t=bn=>n!==!0&&u!==void 0&&(bn===!0?(Tt(!0),!0):(i=i!==!0,s!==void 0&&s.reverse(),l!==void 0&&l.reverse(),c!==void 0&&c.reverse(),u.reverse(),!0))}else{const Be=`q-morph-anim-${++_A}`,Ze=document.createElement("style"),Ge=r.resize===!0?`
            transform: translate(${Pe}px, ${_e}px);
            width: ${me}px;
            height: ${Te}px;
          `:`transform: translate(${Pe}px, ${_e}px) scale(${R}, ${k});`,et=r.resize===!0?`
            width: ${Ce}px;
            height: ${Ie}px;
          `:"",pt=r.resize===!0?`
            width: ${me}px;
            height: ${Te}px;
          `:"",Et=r.resize===!0?`
            transform: translate(${-1*Pe}px, ${-1*_e}px);
            width: ${Ce}px;
            height: ${Ie}px;
          `:`transform: translate(${-1*Pe}px, ${-1*_e}px) scale(${1/R}, ${1/k});`,Tt=A!==void 0?`opacity: ${r.tweenToOpacity};`:`background-color: ${x};`,bn=A!==void 0?"opacity: 1;":`background-color: ${ne};`,dn=A===void 0?"":`
            @keyframes ${Be}-from-tween {
              0% {
                opacity: ${r.tweenFromOpacity};
                margin: 0;
                border-width: ${b};
                border-style: ${g};
                border-color: ${m};
                border-radius: ${_};
                z-index: ${le};
                transform-origin: 0 0;
                transform: ${M};
                ${pt}
              }

              100% {
                opacity: 0;
                margin: 0;
                border-width: ${J};
                border-style: ${te};
                border-color: ${ve};
                border-radius: ${de};
                z-index: ${Se};
                transform-origin: 0 0;
                ${Et}
              }
            }
          `,Yt=r.hideFromClone===!0||ze===!0?"":`
            @keyframes ${Be}-from {
              0% {
                margin: ${ue<0?ue/2:0}px ${re<0?re/2:0}px;
                width: ${me+h.marginH}px;
                height: ${Te+h.marginV}px;
              }

              100% {
                margin: 0;
                width: 0;
                height: 0;
              }
            }
          `,kn=ze===!0?`
            margin: ${ue<0?ue/2:0}px ${re<0?re/2:0}px;
            width: ${me+h.marginH}px;
            height: ${Te+h.marginV}px;
          `:`
            margin: 0;
            width: 0;
            height: 0;
          `,xe=r.keepToClone===!0?"":`
            @keyframes ${Be}-to {
              0% {
                ${kn}
              }

              100% {
                margin: ${X<0?X/2:0}px ${W<0?W/2:0}px;
                width: ${Ce+pe.marginH}px;
                height: ${Ie+pe.marginV}px;
              }
            }
          `;Ze.innerHTML=`
          @keyframes ${Be} {
            0% {
              margin: 0;
              border-width: ${b};
              border-style: ${g};
              border-color: ${m};
              border-radius: ${_};
              background-color: ${x};
              z-index: ${le};
              transform-origin: 0 0;
              ${Ge}
              ${Tt}
            }

            100% {
              margin: 0;
              border-width: ${J};
              border-style: ${te};
              border-color: ${ve};
              border-radius: ${de};
              background-color: ${ne};
              z-index: ${Se};
              transform-origin: 0 0;
              transform: ${E};
              ${et}
              ${bn}
            }
          }

          ${Yt}

          ${dn}

          ${xe}
        `,document.head.appendChild(Ze);let Oe="normal";z.style.animation=`${r.duration}ms ${r.easing} ${r.delay}ms ${Oe} ${r.fill} ${Be}-from`,A!==void 0&&(A.style.animation=`${r.duration}ms ${r.easing} ${r.delay}ms ${Oe} ${r.fill} ${Be}-from-tween`),U.style.animation=`${r.duration}ms ${r.easing} ${r.delay}ms ${Oe} ${r.fill} ${Be}-to`,C.style.animation=`${r.duration}ms ${r.easing} ${r.delay}ms ${Oe} ${r.fill} ${Be}`;const N=se=>{se===Object(se)&&se.animationName!==Be||(C.removeEventListener("animationend",N),C.removeEventListener("animationcancel",N),ge(),Ze.remove())};a.qMorphCancel=()=>{a.qMorphCancel=void 0,n=!0,N()},C.qMorphCancel=()=>{C.qMorphCancel=void 0,n=!0,N()},C.addEventListener("animationend",N),C.addEventListener("animationcancel",N),t=se=>!!(n!==!0&&C&&z&&U)&&(se===!0?(N(),!0):(i=i!==!0,Oe=Oe==="normal"?"reverse":"normal",z.style.animationDirection=Oe,A.style.animationDirection=Oe,U.style.animationDirection=Oe,C.style.animationDirection=Oe,!0))}};r.waitFor>0||r.waitFor==="transitionend"||r.waitFor===Object(r.waitFor)&&typeof r.waitFor.then=="function"?(r.waitFor>0?new Promise(Y=>setTimeout(Y,r.waitFor)):r.waitFor==="transitionend"?new Promise(Y=>{const ee=setTimeout(()=>{U()},400),U=oe=>{clearTimeout(ee),C&&(C.removeEventListener("transitionend",U),C.removeEventListener("transitioncancel",U)),Y()};C.addEventListener("transitionend",U),C.addEventListener("transitioncancel",U)}):r.waitFor).then(j).catch(()=>{typeof C.qMorphCancel=="function"&&C.qMorphCancel()}):j()};return typeof e.onToggle=="function"&&e.onToggle(),requestAnimationFrame(O),C=>t(C)}const AA=[!0,!1,"ondemand"],LA={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>AA.includes(e)}};function PA(e,t){const{props:n,proxy:i}=Ne(),o=K(!1),r=K(null),a=K(null);pA({validate:p,resetValidation:h});let s,l=0;const c=S(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length>0),u=S(()=>n.disable!==!0&&c.value===!0),d=S(()=>n.error===!0||o.value===!0),f=S(()=>typeof n.errorMessage=="string"&&n.errorMessage.length>0?n.errorMessage:r.value);function h(){l++,t.value=!1,a.value=null,o.value=!1,r.value=null,b.cancel()}function p(g=n.modelValue){if(u.value!==!0)return!0;const m=++l;t.value!==!0&&n.lazyRules!==!0&&(a.value=!0);const _=(M,w)=>{o.value!==M&&(o.value=M);const T=w||void 0;r.value!==T&&(r.value=T),t.value=!1},x=[];for(let M=0;M<n.rules.length;M++){const w=n.rules[M];let T;if(typeof w=="function"?T=w(g):typeof w=="string"&&kh[w]!==void 0&&(T=kh[w](g)),T===!1||typeof T=="string")return _(!0,T),!1;T!==!0&&T!==void 0&&x.push(T)}return x.length===0?(_(!1),!0):(t.value=!0,Promise.all(x).then(M=>{if(M===void 0||Array.isArray(M)===!1||M.length===0)return m===l&&_(!1),!0;const w=M.find(T=>T===!1||typeof T=="string");return m===l&&_(w!==void 0,w),w===void 0},M=>(m===l&&(console.error(M),_(!0)),!1)))}function y(g){u.value===!0&&n.lazyRules!=="ondemand"&&(a.value===!0||n.lazyRules!==!0&&g!==!0)&&b()}Me(()=>n.modelValue,()=>{y()}),Me(()=>n.reactiveRules,g=>{g===!0?s===void 0&&(s=Me(()=>n.rules,()=>{y(!0)})):s!==void 0&&(s(),s=void 0)},{immediate:!0}),Me(e,g=>{g===!0?a.value===null&&(a.value=!1):a.value===!1&&(a.value=!0,u.value===!0&&n.lazyRules!=="ondemand"&&t.value===!1&&b())});const b=Ia(p,0);return ct(()=>{s!==void 0&&s(),b.cancel()}),Object.assign(i,{resetValidation:h,validate:p}),Ln(i,"hasError",()=>d.value),{isDirtyModel:a,hasRules:c,hasError:d,errorMessage:f,validate:p,resetValidation:h}}function Fh(e){return e===void 0?`f_${ex()}`:e}function fr(e){return e!=null&&(""+e).length>0}const pl=ye(V(V({},ht),LA),{label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]}),Iu=["update:modelValue","clear","focus","blur","popup-show","popup-hide"];function Fu(){const{props:e,attrs:t,proxy:n,vnode:i}=Ne();return{isDark:ft(e,n.$q),editable:S(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:K(!1),focused:K(!1),hasPopupOpen:!1,splitAttrs:Zb(t,i),targetUid:K(Fh(e.for)),rootRef:K(null),targetRef:K(null),controlRef:K(null)}}function Ou(e){const{props:t,emit:n,slots:i,attrs:o,proxy:r}=Ne(),{$q:a}=r;let s;e.hasValue===void 0&&(e.hasValue=S(()=>fr(t.modelValue))),e.emitValue===void 0&&(e.emitValue=F=>{n("update:modelValue",F)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:D,onFocusout:z}),Object.assign(e,{clearValue:A,onControlFocusin:D,onControlFocusout:z,focus:T}),e.computedCounter===void 0&&(e.computedCounter=S(()=>{if(t.counter!==!1){const F=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,j=t.maxlength!==void 0?t.maxlength:t.maxValues;return F+(j!==void 0?" / "+j:"")}}));const{isDirtyModel:l,hasRules:c,hasError:u,errorMessage:d,resetValidation:f}=PA(e.focused,e.innerLoading),h=e.floatingLabel!==void 0?S(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):S(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),p=S(()=>t.bottomSlots===!0||t.hint!==void 0||c.value===!0||t.counter===!0||t.error!==null),y=S(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),b=S(()=>`q-field row no-wrap items-start q-field--${y.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(h.value===!0?" q-field--float":"")+(m.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(u.value===!0?" q-field--error":"")+(u.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&p.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),g=S(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(u.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length>0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),m=S(()=>t.labelSlot===!0||t.label!==void 0),_=S(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&u.value!==!0?` text-${t.labelColor}`:"")),x=S(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:h.value,modelValue:t.modelValue,emitValue:e.emitValue})),M=S(()=>{const F={for:e.targetUid.value};return t.disable===!0?F["aria-disabled"]="true":t.readonly===!0&&(F["aria-readonly"]="true"),F});function w(){const F=document.activeElement;let j=e.targetRef!==void 0&&e.targetRef.value;!j||F!==null&&F.id===e.targetUid.value||(j.hasAttribute("tabindex")===!0||(j=j.querySelector("[tabindex]")),j&&j!==F&&j.focus({preventScroll:!0}))}function T(){za(w)}function B(){ZE(w);const F=document.activeElement;F!==null&&e.rootRef.value.contains(F)&&F.blur()}function D(F){clearTimeout(s),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",F))}function z(F,j){clearTimeout(s),s=setTimeout(()=>{(document.hasFocus()!==!0||e.hasPopupOpen!==!0&&e.controlRef!==void 0&&e.controlRef.value!==null&&e.controlRef.value.contains(document.activeElement)===!1)&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",F)),j!==void 0&&j())})}function A(F){rt(F),a.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),st(()=>{f(),a.platform.is.mobile!==!0&&(l.value=!1)})}function O(){const F=[];return i.prepend!==void 0&&F.push(v("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:en},i.prepend())),F.push(v("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},C())),u.value===!0&&t.noErrorIcon===!1&&F.push(L("error",[v(dt,{name:a.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?F.push(L("inner-loading-append",i.loading!==void 0?i.loading():[v(Jn,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&F.push(L("inner-clearable-append",[v(dt,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||a.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:A})])),i.append!==void 0&&F.push(v("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:en},i.append())),e.getInnerAppend!==void 0&&F.push(L("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&F.push(e.getControlChild()),F}function C(){const F=[];return t.prefix!==void 0&&t.prefix!==null&&F.push(v("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&F.push(e.getShadowControl()),e.getControl!==void 0?F.push(e.getControl()):i.rawControl!==void 0?F.push(i.rawControl()):i.control!==void 0&&F.push(v("div",ye(V({ref:e.targetRef,class:"q-field__native row",tabindex:-1},e.splitAttrs.attributes.value),{"data-autofocus":t.autofocus===!0||void 0}),i.control(x.value))),m.value===!0&&F.push(v("div",{class:_.value},je(i.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&F.push(v("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),F.concat(je(i.default))}function P(){let F,j;u.value===!0?d.value!==null?(F=[v("div",{role:"alert"},d.value)],j=`q--slot-error-${d.value}`):(F=je(i.error),j="q--slot-error"):t.hideHint===!0&&e.focused.value!==!0||(t.hint!==void 0?(F=[v("div",t.hint)],j=`q--slot-hint-${t.hint}`):(F=je(i.hint),j="q--slot-hint"));const G=t.counter===!0||i.counter!==void 0;if(t.hideBottomSpace===!0&&G===!1&&F===void 0)return;const Y=v("div",{key:j,class:"q-field__messages col"},F);return v("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale")},[t.hideBottomSpace===!0?Y:v(Kt,{name:"q-transition--field-message"},()=>Y),G===!0?v("div",{class:"q-field__counter"},i.counter!==void 0?i.counter():e.computedCounter.value):null])}function L(F,j){return j===null?null:v("div",{key:F,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},j)}Me(()=>t.for,F=>{e.targetUid.value=Fh(F)}),Object.assign(r,{focus:T,blur:B});let q=!1;return pr(()=>{q=!0}),mr(()=>{q===!0&&t.autofocus===!0&&r.focus()}),$t(()=>{mi.value===!0&&t.for===void 0&&(e.targetUid.value=Fh()),t.autofocus===!0&&r.focus()}),ct(()=>{clearTimeout(s)}),function(){const F=e.getControl===void 0&&i.control===void 0?V(ye(V({},e.splitAttrs.attributes.value),{"data-autofocus":t.autofocus===!0||void 0}),M.value):M.value;return v("label",V({ref:e.rootRef,class:[b.value,o.class],style:o.style},F),[i.before!==void 0?v("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:en},i.before()):null,v("div",{class:"q-field__inner relative-position col self-stretch"},[v("div",V({ref:e.controlRef,class:g.value,tabindex:-1},e.controlEvents),O()),p.value===!0?P():null]),i.after!==void 0?v("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:en},i.after()):null])}}var cx=we({name:"QField",inheritAttrs:!1,props:pl,emits:Iu,setup(){return Ou(Fu())}});function ux(e,t){function n(){const i=e.modelValue;try{const o="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(i)===i&&("length"in i?Array.from(i):[i]).forEach(r=>{o.items.add(r)}),{files:o.files}}catch{return{files:void 0}}}return S(t===!0?()=>{if(e.type==="file")return n()}:n)}var RA=we({name:"QFile",inheritAttrs:!1,props:ye(V(V(V({},pl),ei),ox),{modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]}),emits:[...Iu,...rx],setup(e,{slots:t,emit:n,attrs:i}){const{proxy:o}=Ne(),r=Fu(),a=K(null),s=K(!1),l=qf(e),{pickFiles:c,onDragover:u,onDragleave:d,processFiles:f,getDndNode:h}=ax({editable:r.editable,dnd:s,getFileInput:O,addFilesToQueue:C}),p=ux(e),y=S(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),b=S(()=>fr(y.value)),g=S(()=>y.value.map(F=>F.name).join(", ")),m=S(()=>Sh(y.value.reduce((F,j)=>F+j.size,0))),_=S(()=>({totalSize:m.value,filesNumber:y.value.length,maxFiles:e.maxFiles})),x=S(()=>ye(V({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:l.value},i),{id:r.targetUid.value,disabled:r.editable.value!==!0})),M=S(()=>"q-file q-field--auto-height"+(s.value===!0?" q-file--dnd":"")),w=S(()=>e.multiple===!0&&e.append===!0);function T(F){const j=y.value.slice();j.splice(F,1),D(j)}function B(F){const j=y.value.findIndex(F);j>-1&&T(j)}function D(F){n("update:modelValue",e.multiple===!0?F:F[0])}function z(F){F.keyCode===13&&en(F)}function A(F){F.keyCode!==13&&F.keyCode!==32||c(F)}function O(){return a.value}function C(F,j){const G=f(F,j,y.value,w.value);G!==void 0&&((e.multiple===!0?e.modelValue&&G.every(Y=>y.value.includes(Y)):e.modelValue===G[0])||D(w.value===!0?y.value.concat(G):G))}function P(){return[v("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function L(){if(t.file!==void 0)return y.value.length===0?P():y.value.map((j,G)=>t.file({index:G,file:j,ref:this}));if(t.selected!==void 0)return y.value.length===0?P():t.selected({files:y.value,ref:this});if(e.useChips===!0)return y.value.length===0?P():y.value.map((j,G)=>v(Xf,{key:"file-"+G,removable:r.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{T(G)}},()=>v("span",{class:"ellipsis",textContent:j.name})));const F=e.displayValue!==void 0?e.displayValue:g.value;return F.length>0?[v("div",{class:e.inputClass,style:e.inputStyle,textContent:F})]:P()}function q(){const F=ye(V(V({ref:a},x.value),p.value),{class:"q-field__input fit absolute-full cursor-pointer",onChange:C});return e.multiple===!0&&(F.multiple=!0),v("input",F)}return Object.assign(r,{fieldClass:M,emitValue:D,hasValue:b,inputRef:a,innerValue:y,floatingLabel:S(()=>b.value===!0||fr(e.displayValue)),computedCounter:S(()=>{if(e.counterLabel!==void 0)return e.counterLabel(_.value);const F=e.maxFiles;return`${y.value.length}${F!==void 0?" / "+F:""} (${m.value})`}),getControlChild:()=>h("file"),getControl:()=>{const F={ref:r.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return r.editable.value===!0&&Object.assign(F,{onDragover:u,onDragleave:d,onKeydown:z,onKeyup:A}),v("div",F,[q()].concat(L()))}}),Object.assign(o,{removeAtIndex:T,removeFile:B,getNativeElement:()=>a.value}),Ou(r)}}),kA=we({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=Ne(),o=Pn(xr,()=>{console.error("QFooter needs to be child of QLayout")}),r=K(parseInt(e.heightHint,10)),a=K(!0),s=K(mi.value===!0||o.isContainer.value===!0?0:window.innerHeight),l=S(()=>e.reveal===!0||o.view.value.indexOf("F")>-1||i.platform.is.ios&&o.isContainer.value===!0),c=S(()=>o.isContainer.value===!0?o.containerHeight.value:s.value),u=S(()=>{if(e.modelValue!==!0)return 0;if(l.value===!0)return a.value===!0?r.value:0;const M=o.scroll.value.position+c.value+r.value-o.height.value;return M>0?M:0}),d=S(()=>e.modelValue!==!0||l.value===!0&&a.value!==!0),f=S(()=>e.modelValue===!0&&d.value===!0&&e.reveal===!0),h=S(()=>"q-footer q-layout__section--marginal "+(l.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(d.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(l.value!==!0?" hidden":""):"")),p=S(()=>{const M=o.rows.value.bottom,w={};return M[0]==="l"&&o.left.space===!0&&(w[i.lang.rtl===!0?"right":"left"]=`${o.left.size}px`),M[2]==="r"&&o.right.space===!0&&(w[i.lang.rtl===!0?"left":"right"]=`${o.right.size}px`),w});function y(M,w){o.update("footer",M,w)}function b(M,w){M.value!==w&&(M.value=w)}function g({height:M}){b(r,M),y("size",M)}function m(){if(e.reveal!==!0)return;const{direction:M,position:w,inflectionPoint:T}=o.scroll.value;b(a,M==="up"||w-T<100||o.height.value-c.value-w-r.value<300)}function _(M){f.value===!0&&b(a,!0),n("focusin",M)}Me(()=>e.modelValue,M=>{y("space",M),b(a,!0),o.animate()}),Me(u,M=>{y("offset",M)}),Me(()=>e.reveal,M=>{M===!1&&b(a,e.modelValue)}),Me(a,M=>{o.animate(),n("reveal",M)}),Me([r,o.scroll,o.height],m),Me(()=>i.screen.height,M=>{o.isContainer.value!==!0&&b(s,M)});const x={};return o.instances.footer=x,e.modelValue===!0&&y("size",r.value),y("space",e.modelValue),y("offset",u.value),ct(()=>{o.instances.footer===x&&(o.instances.footer=void 0,y("size",0),y("offset",0),y("space",!1))}),()=>{const M=zt(t.default,[v(Lo,{debounce:0,onResize:g})]);return e.elevated===!0&&M.push(v("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),v("footer",{class:h.value,style:p.value,onFocusin:_},M)}}}),BA=we({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validation-success","validation-error"],setup(e,{slots:t,emit:n}){const i=Ne(),o=K(null);let r=0;const a=[];function s(h){const p=[],y=typeof h=="boolean"?h:e.noErrorFocus!==!0,b=++r,g=(m,_)=>{n("validation-"+(m===!0?"success":"error"),_)};for(let m=0;m<a.length;m++){const _=a[m],x=_.validate();if(typeof x.then=="function")p.push(x.then(M=>({valid:M,comp:_}),M=>({valid:!1,comp:_,err:M})));else if(x!==!0){if(e.greedy===!1)return g(!1,_),y===!0&&typeof _.focus=="function"&&_.focus(),Promise.resolve(!1);p.push({valid:!1,comp:_})}}return p.length===0?(g(!0),Promise.resolve(!0)):Promise.all(p).then(m=>{const _=m.filter(T=>T.valid!==!0);if(_.length===0)return b===r&&g(!0),!0;const{valid:x,comp:M,err:w}=_[0];return b===r&&(w!==void 0&&console.error(w),g(!1,M),y===!0&&x!==!0&&typeof M.focus=="function"&&M.focus()),!1})}function l(){r++,a.forEach(h=>{typeof h.resetValidation=="function"&&h.resetValidation()})}function c(h){h!==void 0&&rt(h);const p=r+1;s().then(y=>{p===r&&y===!0&&(e.onSubmit!==void 0?n("submit",h):h!==void 0&&h.target!==void 0&&typeof h.target.submit=="function"&&h.target.submit())})}function u(h){h!==void 0&&rt(h),n("reset"),st(()=>{l(),e.autofocus===!0&&e.noResetFocus!==!0&&d()})}function d(){za(()=>{if(o.value===null)return;const h=o.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(o.value.querySelectorAll("[tabindex]"),p=>p.tabIndex>-1);h!=null&&h.focus({preventScroll:!0})})}Ro(na,{bindComponent(h){a.push(h)},unbindComponent(h){const p=a.indexOf(h);p>-1&&a.splice(p,1)}});let f=!1;return pr(()=>{f=!0}),mr(()=>{f===!0&&e.autofocus===!0&&d()}),$t(()=>{e.autofocus===!0&&d()}),Object.assign(i.proxy,{validate:s,resetValidation:l,submit:c,reset:u,focus:d,getValidationComponents:()=>a}),()=>v("form",{class:"q-form",ref:o,onSubmit:c,onReset:u},je(t.default))}}),IA={inject:{[na]:{default:Ft}},watch:{disable(e){const t=this.$.provides[na];t!==void 0&&(e===!0?(this.resetValidation(),t.unbindComponent(this)):t.bindComponent(this))}},methods:{validate(){},resetValidation(){}},created(){const e=this.$.provides[na];e!==void 0&&this.disable!==!0&&e.bindComponent(this)},beforeUnmount(){const e=this.$.provides[na];e!==void 0&&this.disable!==!0&&e.unbindComponent(this)}},FA=we({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=Ne(),o=Pn(xr,()=>{console.error("QHeader needs to be child of QLayout")}),r=K(parseInt(e.heightHint,10)),a=K(!0),s=S(()=>e.reveal===!0||o.view.value.indexOf("H")>-1||i.platform.is.ios&&o.isContainer.value===!0),l=S(()=>{if(e.modelValue!==!0)return 0;if(s.value===!0)return a.value===!0?r.value:0;const m=r.value-o.scroll.value.position;return m>0?m:0}),c=S(()=>e.modelValue!==!0||s.value===!0&&a.value!==!0),u=S(()=>e.modelValue===!0&&c.value===!0&&e.reveal===!0),d=S(()=>"q-header q-layout__section--marginal "+(s.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(c.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),f=S(()=>{const m=o.rows.value.top,_={};return m[0]==="l"&&o.left.space===!0&&(_[i.lang.rtl===!0?"right":"left"]=`${o.left.size}px`),m[2]==="r"&&o.right.space===!0&&(_[i.lang.rtl===!0?"left":"right"]=`${o.right.size}px`),_});function h(m,_){o.update("header",m,_)}function p(m,_){m.value!==_&&(m.value=_)}function y({height:m}){p(r,m),h("size",m)}function b(m){u.value===!0&&p(a,!0),n("focusin",m)}Me(()=>e.modelValue,m=>{h("space",m),p(a,!0),o.animate()}),Me(l,m=>{h("offset",m)}),Me(()=>e.reveal,m=>{m===!1&&p(a,e.modelValue)}),Me(a,m=>{o.animate(),n("reveal",m)}),Me(o.scroll,m=>{e.reveal===!0&&p(a,m.direction==="up"||m.position<=e.revealOffset||m.position-m.inflectionPoint<100)});const g={};return o.instances.header=g,e.modelValue===!0&&h("size",r.value),h("space",e.modelValue),h("offset",l.value),ct(()=>{o.instances.header===g&&(o.instances.header=void 0,h("size",0),h("offset",0),h("space",!1))}),()=>{const m=sl(t.default,[]);return e.elevated===!0&&m.push(v("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),m.push(v(Lo,{debounce:0,onResize:y})),v("header",{class:d.value,style:f.value,onFocusin:b},m)}}});const np={ratio:[String,Number]};function ip(e,t){return S(()=>{const n=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}const OA=16/9;var NA=we({name:"QImg",props:ye(V({},np),{src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:OA},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String}),emits:["load","error"],setup(e,{slots:t,emit:n}){const i=K(e.initialRatio),o=ip(e,i);let r;const a=[K(null),K(e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null)],s=K(0),l=K(!1),c=K(!1),u=S(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),d=S(()=>({width:e.width,height:e.height})),f=S(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),h=S(()=>ye(V({},e.imgStyle),{objectFit:e.fit,objectPosition:e.position}));function p(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function y(T){if(clearTimeout(r),c.value=!1,T===null)return l.value=!1,a[0].value=null,void(a[1].value=null);l.value=!0,a[s.value].value=T}function b({target:T}){r!==null&&(clearTimeout(r),i.value=T.naturalHeight===0?.5:T.naturalWidth/T.naturalHeight,g(T,1))}function g(T,B){r!==null&&B!==1e3&&(T.complete===!0?m(T):r=setTimeout(()=>{g(T,B+1)},50))}function m(T){r!==null&&(s.value=s.value===1?0:1,a[s.value].value=null,l.value=!1,c.value=!1,n("load",T.currentSrc||T.src))}function _(T){clearTimeout(r),l.value=!1,c.value=!0,a[0].value=null,a[1].value=null,n("error",T)}function x(T,B){return v("div",{class:"q-img__container absolute-full",key:T},B)}function M(T){const B=a[T].value,D=V({key:"img_"+T,class:f.value,style:h.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable},B);return s.value===T?(D.class+=" q-img__image--waiting",Object.assign(D,{onLoad:b,onError:_})):D.class+=" q-img__image--loaded",x("img"+T,v("img",D))}function w(){return l.value!==!0?v("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},je(t[c.value===!0?"error":"default"])):v("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[v(Jn,{color:e.spinnerColor,size:e.spinnerSize})])}return Me(()=>p(),y),y(p()),ct(()=>{clearTimeout(r),r=null}),()=>{const T=[];return o.value!==null&&T.push(v("div",{key:"filler",style:o.value})),c.value!==!0&&(a[0].value!==null&&T.push(M(0)),a[1].value!==null&&T.push(M(1))),T.push(v(Kt,{name:"q-transition--fade"},w)),v("div",{class:u.value,style:d.value,role:"img","aria-label":e.alt},T)}}});const{passive:Go}=xt;var DA=we({name:"QInfiniteScroll",props:{offset:{type:Number,default:500},debounce:{type:[String,Number],default:100},scrollTarget:{default:void 0},initialIndex:Number,disable:Boolean,reverse:Boolean},emits:["load"],setup(e,{slots:t,emit:n}){const i=K(!1),o=K(!0),r=K(null);let a,s,l=e.initialIndex||0;const c=S(()=>"q-infinite-scroll__loading"+(i.value===!0?"":" invisible"));function u(){if(e.disable===!0||i.value===!0||o.value===!1)return;const x=rc(a),M=_o(a),w=Ma(a);e.reverse===!1?Math.round(M+w+e.offset)>=Math.round(x)&&d():Math.round(M)<=e.offset&&d()}function d(){if(e.disable===!0||i.value===!0||o.value===!1)return;l++,i.value=!0;const x=rc(a);n("load",l,M=>{o.value===!0&&(i.value=!1,st(()=>{if(e.reverse===!0){const w=rc(a),T=_o(a),B=w-x;ca(a,T+B)}M===!0?p():r.value&&r.value.closest("body")&&s()}))})}function f(){l=0}function h(){o.value===!1&&(o.value=!0,a.addEventListener("scroll",s,Go)),u()}function p(){o.value===!0&&(o.value=!1,i.value=!1,a.removeEventListener("scroll",s,Go),s!==void 0&&s.cancel!==void 0&&s.cancel())}function y(){if(a&&o.value===!0&&a.removeEventListener("scroll",s,Go),a=Ri(r.value,e.scrollTarget),o.value===!0){if(a.addEventListener("scroll",s,Go),e.reverse===!0){const x=rc(a),M=Ma(a);ca(a,x-M)}u()}}function b(x){l=x}const g=Ne();function m(x){x=parseInt(x,10);const M=s;s=x<=0?u:Ia(u,isNaN(x)===!0?100:x),a&&o.value===!0&&(M!==void 0&&a.removeEventListener("scroll",M,Go),a.addEventListener("scroll",s,Go))}Object.assign(g.proxy,{poll:()=>{s!==void 0&&s()},trigger:d,stop:p,reset:f,resume:h,setIndex:b}),Me(()=>e.disable,x=>{x===!0?p():h()}),Me(()=>e.reverse,x=>{i.value===!1&&o.value===!0&&u()}),Me(()=>e.scrollTarget,y),Me(()=>e.debounce,m);let _=!1;return mr(()=>{_!==!1&&a&&ca(a,_)}),pr(()=>{_=!!a&&_o(a)}),ct(()=>{o.value===!0&&a.removeEventListener("scroll",s,Go)}),$t(()=>{m(e.debounce),y()}),()=>{const x=sl(t.default,[]);return e.disable!==!0&&o.value===!0&&x[e.reverse===!1?"push":"unshift"](v("div",{class:c.value},je(t.loading))),v("div",{class:"q-infinite-scroll",ref:r},x)}}}),zA=we({name:"QInnerLoading",props:ye(V(V({},ht),Pu),{showing:Boolean,color:String,size:{type:[String,Number],default:42},label:String,labelClass:String,labelStyle:[String,Array,Object]}),setup(e,{slots:t}){const n=Ne(),i=ft(e,n.proxy.$q),{transition:o,transitionStyle:r}=zf(e,S(()=>e.showing)),a=S(()=>"q-inner-loading absolute-full column flex-center"+(i.value===!0?" q-inner-loading--dark":"")),s=S(()=>"q-inner-loading__label"+(e.labelClass!==void 0?` ${e.labelClass}`:""));function l(){const u=[v(Jn,{size:e.size,color:e.color})];return e.label!==void 0&&u.push(v("div",{class:s.value,style:e.labelStyle},[e.label])),u}function c(){return e.showing===!0?v("div",{class:a.value,style:r.value},t.default!==void 0?t.default():l()):null}return()=>v(Kt,{name:o.value,appear:!0},c)}});const _v={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},hu={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},dx=Object.keys(hu);dx.forEach(e=>{hu[e].regex=new RegExp(hu[e].pattern)});const qA=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+dx.join("")+"])|(.)","g"),wv=/[.*+?^${}()|[\]\\]/g,Xt=String.fromCharCode(1),VA={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function HA(e,t,n,i){let o,r,a,s;const l=K(null),c=K(d());function u(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}function d(){if(h(),l.value===!0){const w=m(x(e.modelValue));return e.fillMask!==!1?M(w):w}return e.modelValue}function f(w){if(w<o.length)return o.slice(-w);let T="",B=o;const D=B.indexOf(Xt);if(D>-1){for(let z=w-B.length;z>0;z--)T+=Xt;B=B.slice(0,D)+T+B.slice(D)}return B}function h(){if(l.value=e.mask!==void 0&&e.mask.length>0&&u(),l.value===!1)return s=void 0,o="",void(r="");const w=_v[e.mask]===void 0?e.mask:_v[e.mask],T=typeof e.fillMask=="string"&&e.fillMask.length>0?e.fillMask.slice(0,1):"_",B=T.replace(wv,"\\$&"),D=[],z=[],A=[];let O=e.reverseFillMask===!0,C="",P="";w.replace(qA,(j,G,Y,ee,U)=>{if(ee!==void 0){const oe=hu[ee];A.push(oe),P=oe.negate,O===!0&&(z.push("(?:"+P+"+)?("+oe.pattern+"+)?(?:"+P+"+)?("+oe.pattern+"+)?"),O=!1),z.push("(?:"+P+"+)?("+oe.pattern+")?")}else if(Y!==void 0)C="\\"+(Y==="\\"?"":Y),A.push(Y),D.push("([^"+C+"]+)?"+C+"?");else{const oe=G!==void 0?G:U;C=oe==="\\"?"\\\\\\\\":oe.replace(wv,"\\\\$&"),A.push(oe),D.push("([^"+C+"]+)?"+C+"?")}});const L=new RegExp("^"+D.join("")+"("+(C===""?".":"[^"+C+"]")+"+)?$"),q=z.length-1,F=z.map((j,G)=>G===0&&e.reverseFillMask===!0?new RegExp("^"+B+"*"+j):G===q?new RegExp("^"+j+"("+(P===""?".":P)+"+)?"+(e.reverseFillMask===!0?"$":B+"*")):new RegExp("^"+j));a=A,s=j=>{const G=L.exec(j);G!==null&&(j=G.slice(1).join(""));const Y=[],ee=F.length;for(let U=0,oe=j;U<ee;U++){const J=F[U].exec(oe);if(J===null)break;oe=oe.slice(J.shift().length),Y.push(...J)}return Y.length>0?Y.join(""):j},o=A.map(j=>typeof j=="string"?j:Xt).join(""),r=o.split(Xt).join(T)}function p(w,T,B){const D=i.value,z=D.selectionEnd,A=D.value.length-z,O=x(w);T===!0&&h();const C=m(O),P=e.fillMask!==!1?M(C):C,L=c.value!==P;D.value!==P&&(D.value=P),L===!0&&(c.value=P),document.activeElement===D&&st(()=>{if(P!==r)if(B!=="insertFromPaste"||e.reverseFillMask===!0)if(["deleteContentBackward","deleteContentForward"].indexOf(B)>-1){const F=e.reverseFillMask===!0?z===0?P.length>C.length?1:0:Math.max(0,P.length-(P===r?0:Math.min(C.length,A)+1))+1:z;D.setSelectionRange(F,F,"forward")}else if(e.reverseFillMask===!0)if(L===!0){const F=Math.max(0,P.length-(P===r?0:Math.min(C.length,A+1)));F===1&&z===1?D.setSelectionRange(F,F,"forward"):b.rightReverse(D,F,F)}else{const F=P.length-A;D.setSelectionRange(F,F,"backward")}else if(L===!0){const F=Math.max(0,o.indexOf(Xt),Math.min(C.length,z)-1);b.right(D,F,F)}else{const F=z-1;b.right(D,F,F)}else{const F=z-1;b.right(D,F,F)}else{const F=e.reverseFillMask===!0?r.length:0;D.setSelectionRange(F,F,"forward")}});const q=e.unmaskedValue===!0?x(P):P;String(e.modelValue)!==q&&n(q,!0)}function y(w,T,B){const D=m(x(w.value));T=Math.max(0,o.indexOf(Xt),Math.min(D.length,T)),w.setSelectionRange(T,B,"forward")}Me(()=>e.type+e.autogrow,h),Me(()=>e.mask,w=>{if(w!==void 0)p(c.value,!0);else{const T=x(c.value);h(),e.modelValue!==T&&t("update:modelValue",T)}}),Me(()=>e.fillMask+e.reverseFillMask,()=>{l.value===!0&&p(c.value,!0)}),Me(()=>e.unmaskedValue,()=>{l.value===!0&&p(c.value)});const b={left(w,T,B,D){const z=o.slice(T-1).indexOf(Xt)===-1;let A=Math.max(0,T-1);for(;A>=0;A--)if(o[A]===Xt){T=A,z===!0&&T++;break}if(A<0&&o[T]!==void 0&&o[T]!==Xt)return b.right(w,0,0);T>=0&&w.setSelectionRange(T,D===!0?B:T,"backward")},right(w,T,B,D){const z=w.value.length;let A=Math.min(z,B+1);for(;A<=z;A++){if(o[A]===Xt){B=A;break}o[A-1]===Xt&&(B=A)}if(A>z&&o[B-1]!==void 0&&o[B-1]!==Xt)return b.left(w,z,z);w.setSelectionRange(D?T:B,B,"forward")},leftReverse(w,T,B,D){const z=f(w.value.length);let A=Math.max(0,T-1);for(;A>=0;A--){if(z[A-1]===Xt){T=A;break}if(z[A]===Xt&&(T=A,A===0))break}if(A<0&&z[T]!==void 0&&z[T]!==Xt)return b.rightReverse(w,0,0);T>=0&&w.setSelectionRange(T,D===!0?B:T,"backward")},rightReverse(w,T,B,D){const z=w.value.length,A=f(z),O=A.slice(0,B+1).indexOf(Xt)===-1;let C=Math.min(z,B+1);for(;C<=z;C++)if(A[C-1]===Xt){B=C,B>0&&O===!0&&B--;break}if(C>z&&A[B-1]!==void 0&&A[B-1]!==Xt)return b.leftReverse(w,z,z);w.setSelectionRange(D===!0?T:B,B,"forward")}};function g(w){if(br(w)===!0)return;const T=i.value,B=T.selectionStart,D=T.selectionEnd;if(w.keyCode===37||w.keyCode===39){const z=b[(w.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];w.preventDefault(),z(T,B,D,w.shiftKey)}else w.keyCode===8&&e.reverseFillMask!==!0&&B===D?b.left(T,B,D,!0):w.keyCode===46&&e.reverseFillMask===!0&&B===D&&b.rightReverse(T,B,D,!0)}function m(w){if(w==null||w==="")return"";if(e.reverseFillMask===!0)return _(w);const T=a;let B=0,D="";for(let z=0;z<T.length;z++){const A=w[B],O=T[z];if(typeof O=="string")D+=O,A===O&&B++;else{if(A===void 0||!O.regex.test(A))return D;D+=O.transform!==void 0?O.transform(A):A,B++}}return D}function _(w){const T=a,B=o.indexOf(Xt);let D=w.length-1,z="";for(let A=T.length-1;A>=0&&D>-1;A--){const O=T[A];let C=w[D];if(typeof O=="string")z=O+z,C===O&&D--;else{if(C===void 0||!O.regex.test(C))return z;do z=(O.transform!==void 0?O.transform(C):C)+z,D--,C=w[D];while(B===A&&C!==void 0&&O.regex.test(C))}}return z}function x(w){return typeof w!="string"||s===void 0?typeof w=="number"?s(""+w):w:s(w)}function M(w){return r.length-w.length<=0?w:e.reverseFillMask===!0&&w.length>0?r.slice(0,-w.length)+w:w+r.slice(w.length)}return{innerValue:c,hasMask:l,moveCursorForPaste:y,updateMaskValue:p,onMaskedKeydown:g}}const UA=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,GA=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,WA=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,$A=/[a-z0-9_ -]$/i;function hx(e){return function(t){if(t.type==="compositionend"||t.type==="change"){if(t.target.qComposing!==!0)return;t.target.qComposing=!1,e(t)}else t.type==="compositionupdate"&&t.target.qComposing!==!0&&typeof t.data=="string"&&(ot.is.firefox===!0?$A.test(t.data)===!1:UA.test(t.data)===!0||GA.test(t.data)===!0||WA.test(t.data)===!0)===!0&&(t.target.qComposing=!0)}}var op=we({name:"QInput",inheritAttrs:!1,props:ye(V(V(V({},pl),VA),ei),{modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]}),emits:[...Iu,"paste","change"],setup(e,{emit:t,attrs:n}){const i={};let o,r,a,s,l=NaN;const c=K(null),u=qf(e),{innerValue:d,hasMask:f,moveCursorForPaste:h,updateMaskValue:p,onMaskedKeydown:y}=HA(e,t,O,c),b=ux(e,!0),g=S(()=>fr(d.value)),m=hx(A),_=Fu(),x=S(()=>e.type==="textarea"||e.autogrow===!0),M=S(()=>x.value===!0||["text","search","url","tel","password"].includes(e.type)),w=S(()=>{const G=ye(V({},_.splitAttrs.listeners.value),{onInput:A,onPaste:z,onChange:P,onBlur:L,onFocus:It});return G.onCompositionstart=G.onCompositionupdate=G.onCompositionend=m,f.value===!0&&(G.onKeydown=y),e.autogrow===!0&&(G.onAnimationend=C),G}),T=S(()=>{const G=ye(V({tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:u.value},_.splitAttrs.attributes.value),{id:_.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0});return x.value===!1&&(G.type=e.type),e.autogrow===!0&&(G.rows=1),G});function B(){za(()=>{const G=document.activeElement;c.value===null||c.value===G||G!==null&&G.id===_.targetUid.value||c.value.focus({preventScroll:!0})})}function D(){c.value!==null&&c.value.select()}function z(G){if(f.value===!0&&e.reverseFillMask!==!0){const Y=G.target;h(Y,Y.selectionStart,Y.selectionEnd)}t("paste",G)}function A(G){if(!G||!G.target)return;if(e.type==="file")return void t("update:modelValue",G.target.files);const Y=G.target.value;if(G.target.qComposing!==!0){if(f.value===!0)p(Y,!1,G.inputType);else if(O(Y),M.value===!0&&G.target===document.activeElement){const{selectionStart:ee,selectionEnd:U}=G.target;ee!==void 0&&U!==void 0&&st(()=>{G.target===document.activeElement&&Y.indexOf(G.target.value)===0&&G.target.setSelectionRange(ee,U)})}e.autogrow===!0&&C()}else i.value=Y}function O(G,Y){s=()=>{e.type!=="number"&&i.hasOwnProperty("value")===!0&&delete i.value,e.modelValue!==G&&l!==G&&(l=G,Y===!0&&(r=!0),t("update:modelValue",G),st(()=>{l===G&&(l=NaN)})),s=void 0},e.type==="number"&&(o=!0,i.value=G),e.debounce!==void 0?(clearTimeout(a),i.value=G,a=setTimeout(s,e.debounce)):s()}function C(){const G=c.value;if(G!==null){const Y=G.parentNode.style,{overflow:ee}=G.style;Y.marginBottom=G.scrollHeight-1+"px",G.style.height="1px",G.style.overflow="hidden",G.style.height=G.scrollHeight+"px",G.style.overflow=ee,Y.marginBottom=""}}function P(G){m(G),clearTimeout(a),s!==void 0&&s(),t("change",G.target.value)}function L(G){G!==void 0&&It(G),clearTimeout(a),s!==void 0&&s(),o=!1,r=!1,delete i.value,e.type!=="file"&&setTimeout(()=>{c.value!==null&&(c.value.value=d.value!==void 0?d.value:"")})}function q(){return i.hasOwnProperty("value")===!0?i.value:d.value!==void 0?d.value:""}Me(()=>e.type,()=>{c.value&&(c.value.value=e.modelValue)}),Me(()=>e.modelValue,G=>{if(f.value===!0){if(r===!0&&(r=!1,String(G)===l))return;p(G)}else d.value!==G&&(d.value=G,e.type==="number"&&i.hasOwnProperty("value")===!0&&(o===!0?o=!1:delete i.value));e.autogrow===!0&&st(C)}),Me(()=>e.autogrow,G=>{G===!0?st(C):c.value!==null&&n.rows>0&&(c.value.style.height="auto")}),Me(()=>e.dense,()=>{e.autogrow===!0&&st(C)}),ct(()=>{L()}),$t(()=>{e.autogrow===!0&&C()}),Object.assign(_,{innerValue:d,fieldClass:S(()=>`q-${x.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:S(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length>0),inputRef:c,emitValue:O,hasValue:g,floatingLabel:S(()=>g.value===!0||fr(e.displayValue)),getControl:()=>v(x.value===!0?"textarea":"input",V(V(V({ref:c,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle},T.value),w.value),e.type!=="file"?{value:q()}:b.value)),getShadowControl:()=>v("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(x.value===!0?"":" text-no-wrap")},[v("span",{class:"invisible"},q()),v("span",e.shadowText)])});const F=Ou(_),j=Ne();return Object.assign(j.proxy,{focus:B,select:D,getNativeElement:()=>c.value}),F}});const Sv={threshold:0,root:null,rootMargin:"0px"};function Mv(e,t,n){let i,o,r;typeof n=="function"?(i=n,o=Sv,r=t.cfg===void 0):(i=n.handler,o=Object.assign({},Sv,n.cfg),r=t.cfg===void 0||_i(t.cfg,o)===!1),t.handler!==i&&(t.handler=i),r===!0&&(t.cfg=o,t.observer!==void 0&&t.observer.unobserve(e),t.observer=new IntersectionObserver(([a])=>{if(typeof t.handler=="function"){if(a.rootBounds===null&&document.body.contains(e)===!0)return t.observer.unobserve(e),void t.observer.observe(e);(t.handler(a,t.observer)===!1||t.once===!0&&a.isIntersecting===!0)&&fx(e)}},o),t.observer.observe(e))}function fx(e){const t=e.__qvisible;t!==void 0&&(t.observer!==void 0&&t.observer.unobserve(e),delete e.__qvisible)}var px=vi({name:"intersection",mounted(e,{modifiers:t,value:n}){const i={once:t.once===!0};Mv(e,i,n),e.__qvisible=i},updated(e,t){const n=e.__qvisible;n!==void 0&&Mv(e,n,t.value)},beforeUnmount:fx}),jA=we({name:"QIntersection",props:{tag:{type:String,default:"div"},once:Boolean,transition:String,transitionDuration:{type:[String,Number],default:300},ssrPrerender:Boolean,margin:String,threshold:[Number,Array],root:{default:null},disable:Boolean,onVisibility:Function},setup(e,{slots:t,emit:n}){const i=K(mi.value===!0&&e.ssrPrerender),o=S(()=>e.root!==void 0||e.margin!==void 0||e.threshold!==void 0?{handler:l,cfg:{root:e.root,rootMargin:e.margin,threshold:e.threshold}}:l),r=S(()=>e.disable!==!0&&(mi.value!==!0||e.once!==!0||e.ssrPrerender!==!0)),a=S(()=>[[px,o.value,void 0,{once:e.once}]]),s=S(()=>`--q-transition-duration: ${e.transitionDuration}ms`);function l(u){i.value!==u.isIntersecting&&(i.value=u.isIntersecting,e.onVisibility!==void 0&&n("visibility",i.value))}function c(){return i.value===!0?[v("div",{key:"content",style:s.value},je(t.default))]:void 0}return()=>{const u=e.transition?[v(Kt,{name:"q-transition--"+e.transition},c)]:c();return Kn(e.tag,{class:"q-intersection"},u,"main",r.value,()=>a.value)}}}),mx=we({name:"QList",props:ye(V({},ht),{bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean}),setup(e,{slots:t}){const n=Ne(),i=ft(e,n.proxy.$q),o=S(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(i.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>v("div",{class:o.value},je(t.default))}});const Tv=[34,37,40,33,39,38],QA=Object.keys(Zf);var YA=we({name:"QKnob",props:ye(V(V({},ei),Zf),{modelValue:{type:Number,required:!0},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},tabindex:{type:[Number,String],default:0},disable:Boolean,readonly:Boolean}),emits:["update:modelValue","change","drag-value"],setup(e,{slots:t,emit:n}){const{proxy:i}=Ne(),{$q:o}=i,r=K(e.modelValue),a=K(!1),s=S(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),l=S(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax);let c;function u(){r.value=e.modelValue===null?s.value:wt(e.modelValue,s.value,l.value),A(!0)}Me(()=>`${e.modelValue}|${s.value}|${l.value}`,u),u();const d=S(()=>e.disable===!1&&e.readonly===!1),f=S(()=>"q-knob non-selectable"+(d.value===!0?" q-knob--editable":e.disable===!0?" disabled":"")),h=S(()=>(String(e.step).trim("0").split(".")[1]||"").length),p=S(()=>e.step===0?1:e.step),y=S(()=>e.instantFeedback===!0||a.value===!0),b=o.platform.is.mobile===!0?S(()=>d.value===!0?{onClick:T}:{}):S(()=>d.value===!0?{onMousedown:w,onClick:T,onKeydown:B,onKeyup:z}:{}),g=S(()=>d.value===!0?{tabindex:e.tabindex}:{[`aria-${e.disable===!0?"disabled":"readonly"}`]:"true"}),m=S(()=>{const P={};return QA.forEach(L=>{P[L]=e[L]}),P});function _(P){P.isFinal?(D(P.evt,!0),a.value=!1):(P.isFirst&&(M(),a.value=!0),D(P.evt))}const x=S(()=>[[Vn,_,void 0,{prevent:!0,stop:!0,mouse:!0}]]);function M(){const{top:P,left:L,width:q,height:F}=i.$el.getBoundingClientRect();c={top:P+F/2,left:L+q/2}}function w(P){M(),D(P)}function T(P){M(),D(P,!0)}function B(P){if(!Tv.includes(P.keyCode))return;rt(P);const L=([34,33].includes(P.keyCode)?10:1)*p.value,q=[34,37,40].includes(P.keyCode)?-L:L;r.value=wt(parseFloat((r.value+q).toFixed(h.value)),s.value,l.value),A()}function D(P,L){const q=An(P),F=Math.abs(q.top-c.top),j=Math.sqrt(F**2+Math.abs(q.left-c.left)**2);let G=Math.asin(F/j)*(180/Math.PI);G=q.top<c.top?c.left<q.left?90-G:270+G:c.left<q.left?G+90:270-G,o.lang.rtl===!0?G=Jc(-G-e.angle,0,360):e.angle&&(G=Jc(G-e.angle,0,360)),e.reverse===!0&&(G=360-G);let Y=e.min+G/360*(e.max-e.min);if(p.value!==0){const ee=Y%p.value;Y=Y-ee+(Math.abs(ee)>=p.value/2?(ee<0?-1:1)*p.value:0),Y=parseFloat(Y.toFixed(h.value))}Y=wt(Y,s.value,l.value),n("drag-value",Y),r.value!==Y&&(r.value=Y),A(L)}function z(P){Tv.includes(P.keyCode)&&A(!0)}function A(P){e.modelValue!==r.value&&n("update:modelValue",r.value),P===!0&&n("change",r.value)}const O=ul(e);function C(){return v("input",O.value)}return()=>{const P=V(ye(V(V({class:f.value,role:"slider","aria-valuemin":s.value,"aria-valuemax":l.value,"aria-valuenow":e.modelValue},g.value),m.value),{value:r.value,instantFeedback:y.value}),b.value),L={default:t.default};return d.value===!0&&e.name!==void 0&&(L.internal=C),Kn(Kf,P,L,"knob",d.value,()=>x.value)}}});const{passive:Cv}=xt,XA=["both","horizontal","vertical"];var rp=we({name:"QScrollObserver",props:{axis:{type:String,validator:e=>XA.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:t}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let i,o,r=null;function a(){r!==null&&r();const d=Math.max(0,_o(i)),f=ku(i),h={top:d-n.position.top,left:f-n.position.left};if(e.axis==="vertical"&&h.top===0||e.axis==="horizontal"&&h.left===0)return;const p=Math.abs(h.top)>=Math.abs(h.left)?h.top<0?"up":"down":h.left<0?"left":"right";n.position={top:d,left:f},n.directionChanged=n.direction!==p,n.delta=h,n.directionChanged===!0&&(n.direction=p,n.inflectionPoint=n.position),t("scroll",V({},n))}function s(){i=Ri(o,e.scrollTarget),i.addEventListener("scroll",c,Cv),c(!0)}function l(){i!==void 0&&(i.removeEventListener("scroll",c,Cv),i=void 0)}function c(d){if(d===!0||e.debounce===0||e.debounce==="0")a();else if(r===null){const[f,h]=e.debounce?[setTimeout(a,e.debounce),clearTimeout]:[requestAnimationFrame(a),cancelAnimationFrame];r=()=>{h(f),r=null}}}Me(()=>e.scrollTarget,()=>{l(),s()});const u=Ne();return $t(()=>{o=u.proxy.$el.parentNode,s()}),ct(()=>{r!==null&&r(),l()}),Object.assign(u.proxy,{trigger:c,getPosition:()=>n}),Ft}}),ZA=we({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=Ne(),o=K(null),r=K(i.screen.height),a=K(e.container===!0?0:i.screen.width),s=K({position:0,direction:"down",inflectionPoint:0}),l=K(0),c=K(mi.value===!0?0:wc()),u=S(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),d=S(()=>e.container===!1?{minHeight:i.screen.height+"px"}:null),f=S(()=>c.value!==0?{[i.lang.rtl===!0?"left":"right"]:`${c.value}px`}:null),h=S(()=>c.value!==0?{[i.lang.rtl===!0?"right":"left"]:0,[i.lang.rtl===!0?"left":"right"]:`-${c.value}px`,width:`calc(100% + ${c.value}px)`}:null);function p(x){if(e.container===!0||document.qScrollPrevented!==!0){const M={position:x.position.top,direction:x.direction,directionChanged:x.directionChanged,inflectionPoint:x.inflectionPoint.top,delta:x.delta.top};s.value=M,e.onScroll!==void 0&&n("scroll",M)}}function y(x){const{height:M,width:w}=x;let T=!1;r.value!==M&&(T=!0,r.value=M,e.onScrollHeight!==void 0&&n("scroll-height",M),g()),a.value!==w&&(T=!0,a.value=w),T===!0&&e.onResize!==void 0&&n("resize",x)}function b({height:x}){l.value!==x&&(l.value=x,g())}function g(){if(e.container===!0){const x=r.value>l.value?wc():0;c.value!==x&&(c.value=x)}}let m;const _={instances:{},view:S(()=>e.view),isContainer:S(()=>e.container),rootRef:o,height:r,containerHeight:l,scrollbarWidth:c,totalWidth:S(()=>a.value+c.value),rows:S(()=>{const x=e.view.toLowerCase().split(" ");return{top:x[0].split(""),middle:x[1].split(""),bottom:x[2].split("")}}),header:Xr({size:0,offset:0,space:!1}),right:Xr({size:300,offset:0,space:!1}),footer:Xr({size:0,offset:0,space:!1}),left:Xr({size:300,offset:0,space:!1}),scroll:s,animate(){m!==void 0?clearTimeout(m):document.body.classList.add("q-body--layout-animate"),m=setTimeout(()=>{document.body.classList.remove("q-body--layout-animate"),m=void 0},155)},update(x,M,w){_[x][M]=w}};if(Ro(xr,_),wc()>0){let w=function(){x=null,M.classList.remove("hide-scrollbar")},T=function(){if(x===null){if(M.scrollHeight>i.screen.height)return;M.classList.add("hide-scrollbar")}else clearTimeout(x);x=setTimeout(w,300)},B=function(D){x!==null&&D==="remove"&&(clearTimeout(x),w()),window[`${D}EventListener`]("resize",T)},x=null;const M=document.body;Me(()=>e.container!==!0?"add":"remove",B),e.container!==!0&&B("add"),Qv(()=>{B("remove")})}return()=>{const x=zt(t.default,[v(rp,{onScroll:p}),v(Lo,{onResize:y})]),M=v("div",{class:u.value,style:d.value,ref:e.container===!0?void 0:o,tabindex:-1},x);return e.container===!0?v("div",{class:"q-layout-container overflow-hidden",ref:o},[v(Lo,{onResize:b}),v("div",{class:"absolute-full",style:f.value},[v("div",{class:"scroll",style:h.value},[M])])]):M}}});const KA=["horizontal","vertical","cell","none"];var vx=we({name:"QMarkupTable",props:ye(V({},ht),{dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>KA.includes(e)}}),setup(e,{slots:t}){const n=Ne(),i=ft(e,n.proxy.$q),o=S(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(i.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>v("div",{class:o.value},[v("table",{class:"q-table"},je(t.default))])}}),JA=we({name:"QNoSsr",props:{tag:{type:String,default:"div"},placeholder:String},setup(e,{slots:t}){const n=Cb();return()=>{const i={};if(n.value===!0){const r=je(t.default);return r===void 0?r:r.length>1?v(e.tag,i,r):r[0]}i.class="q-no-ssr-placeholder";const o=je(t.placeholder);return o!==void 0?o.length>1?v(e.tag,i,o):o[0]:e.placeholder!==void 0?v(e.tag,i,e.placeholder):void 0}}});const eL=v("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24","aria-hidden":"true"},[v("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),v("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var gx=we({name:"QRadio",props:ye(V(V(V({},ht),Ki),ei),{modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]}),emits:["update:modelValue"],setup(e,{slots:t,emit:n}){const{proxy:i}=Ne(),o=ft(e,i.$q),r=Ji(e,gb),a=K(null),{refocusTargetEl:s,refocusTarget:l}=vb(e,a),c=S(()=>Vi(e.modelValue)===Vi(e.val)),u=S(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(o.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),d=S(()=>{const _=e.color===void 0||e.keepColor!==!0&&c.value!==!0?"":` text-${e.color}`;return`q-radio__inner relative-position q-radio__inner--${c.value===!0?"truthy":"falsy"}${_}`}),f=S(()=>(c.value===!0?e.checkedIcon:e.uncheckedIcon)||null),h=S(()=>e.disable===!0?-1:e.tabindex||0),p=S(()=>{const _={type:"radio"};return e.name!==void 0&&Object.assign(_,{"^checked":c.value===!0?"checked":void 0,name:e.name,value:e.val}),_}),y=Bo(p);function b(_){_!==void 0&&(rt(_),l(_)),e.disable!==!0&&c.value!==!0&&n("update:modelValue",e.val,_)}function g(_){_.keyCode!==13&&_.keyCode!==32||rt(_)}function m(_){_.keyCode!==13&&_.keyCode!==32||b(_)}return Object.assign(i,{set:b}),()=>{const _=f.value!==null?[v("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[v(dt,{class:"q-radio__icon",name:f.value})])]:[eL];e.disable!==!0&&y(_,"unshift"," q-radio__native q-ma-none q-pa-none");const x=[v("div",{class:d.value,style:r.value},_)];s.value!==null&&x.push(s.value);const M=e.label!==void 0?zt(t.default,[e.label]):je(t.default);return M!==void 0&&x.push(v("div",{class:"q-radio__label q-anchor--skip"},M)),v("div",{ref:a,class:u.value,tabindex:h.value,role:"radio","aria-label":e.label,"aria-checked":c.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:b,onKeydown:g,onKeyup:m},x)}}}),yx=we({name:"QToggle",props:ye(V({},yb),{icon:String,iconColor:String}),emits:bb,setup(e){function t(n,i){const o=S(()=>(n.value===!0?e.checkedIcon:i.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),r=S(()=>n.value===!0?e.iconColor:null);return()=>[v("div",{class:"q-toggle__track"}),v("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},o.value!==void 0?[v(dt,{name:o.value,color:r.value})]:void 0)]}return xb("toggle",t)}});const bx={radio:gx,checkbox:ua,toggle:yx},tL=Object.keys(bx);var xx=we({name:"QOptionGroup",props:ye(V({},ht),{modelValue:{required:!0},options:{type:Array,validator:e=>e.every(t=>"value"in t&&"label"in t)},name:String,type:{default:"radio",validator:e=>tL.includes(e)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean}),emits:["update:modelValue"],setup(e,{emit:t,slots:n}){const{proxy:{$q:i}}=Ne(),o=Array.isArray(e.modelValue);e.type==="radio"?o===!0&&console.error("q-option-group: model should not be array"):o===!1&&console.error("q-option-group: model should be array in your case");const r=ft(e,i),a=S(()=>bx[e.type]),s=S(()=>"q-option-group q-gutter-x-sm"+(e.inline===!0?" q-option-group--inline":"")),l=S(()=>{const u={};return e.type==="radio"&&(u.role="radiogroup",e.disable===!0&&(u["aria-disabled"]="true")),u});function c(u){t("update:modelValue",u)}return()=>v("div",V({class:s.value},l.value),e.options.map((u,d)=>{const f=n["label-"+d]!==void 0?()=>n["label-"+d](u):n.label!==void 0?()=>n.label(u):void 0;return v("div",[v(a.value,{modelValue:e.modelValue,val:u.value,name:u.name===void 0?e.name:u.name,disable:e.disable||u.disable,label:f===void 0?u.label:null,leftLabel:u.leftLabel===void 0?e.leftLabel:u.leftLabel,color:u.color===void 0?e.color:u.color,checkedIcon:u.checkedIcon,uncheckedIcon:u.uncheckedIcon,dark:u.dark||r.value,size:u.size===void 0?e.size:u.size,dense:e.dense,keepColor:u.keepColor===void 0?e.keepColor:u.keepColor,"onUpdate:modelValue":c},f)])}))}}),nL=we({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:n}}=Ne(),i=Pn(xr);Pn(zy,()=>{console.error("QPage needs to be child of QPageContainer")});const o=S(()=>{const a=(i.header.space===!0?i.header.size:0)+(i.footer.space===!0?i.footer.size:0);if(typeof e.styleFn=="function"){const s=i.isContainer.value===!0?i.containerHeight.value:n.screen.height;return e.styleFn(a,s)}return{minHeight:i.isContainer.value===!0?i.containerHeight.value-a+"px":n.screen.height===0?a!==0?`calc(100vh - ${a}px)`:"100vh":n.screen.height-a+"px"}}),r=S(()=>`q-page ${e.padding===!0?" q-layout-padding":""}`);return()=>v("main",{class:r.value,style:o.value},je(t.default))}}),iL=we({name:"QPageContainer",setup(e,{slots:t}){const{proxy:{$q:n}}=Ne(),i=Pn(xr,()=>{console.error("QPageContainer needs to be child of QLayout")});Ro(zy,!0);const o=S(()=>{const r={};return i.header.space===!0&&(r.paddingTop=`${i.header.size}px`),i.right.space===!0&&(r[`padding${n.lang.rtl===!0?"Left":"Right"}`]=`${i.right.size}px`),i.footer.space===!0&&(r.paddingBottom=`${i.footer.size}px`),i.left.space===!0&&(r[`padding${n.lang.rtl===!0?"Right":"Left"}`]=`${i.left.size}px`),r});return()=>v("div",{class:"q-page-container",style:o.value},je(t.default))}});const _x={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function wx(){const{props:e,proxy:t}=Ne(),{$q:n}=t,i=Pn(xr,()=>{console.error("QPageSticky needs to be child of QLayout")}),o=S(()=>{const f=e.position;return{top:f.indexOf("top")>-1,right:f.indexOf("right")>-1,bottom:f.indexOf("bottom")>-1,left:f.indexOf("left")>-1,vertical:f==="top"||f==="bottom",horizontal:f==="left"||f==="right"}}),r=S(()=>i.header.offset),a=S(()=>i.right.offset),s=S(()=>i.footer.offset),l=S(()=>i.left.offset),c=S(()=>{let f=0,h=0;const p=o.value,y=n.lang.rtl===!0?-1:1;p.top===!0&&r.value!==0?h=`${r.value}px`:p.bottom===!0&&s.value!==0&&(h=`${-s.value}px`),p.left===!0&&l.value!==0?f=`${y*l.value}px`:p.right===!0&&a.value!==0&&(f=`${-y*a.value}px`);const b={transform:`translate(${f}, ${h})`};return e.offset&&(b.margin=`${e.offset[1]}px ${e.offset[0]}px`),p.vertical===!0?(l.value!==0&&(b[n.lang.rtl===!0?"right":"left"]=`${l.value}px`),a.value!==0&&(b[n.lang.rtl===!0?"left":"right"]=`${a.value}px`)):p.horizontal===!0&&(r.value!==0&&(b.top=`${r.value}px`),s.value!==0&&(b.bottom=`${s.value}px`)),b}),u=S(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function d(f){const h=je(f.default);return v("div",{class:u.value,style:c.value},e.expand===!0?h:[v("div",h)])}return{$layout:i,getStickyContent:d}}var oL=we({name:"QPageScroller",props:ye(V({},_x),{scrollOffset:{type:Number,default:1e3},reverse:Boolean,duration:{type:Number,default:300},offset:{default:()=>[18,18]}}),emits:["click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=Ne(),{$layout:o,getStickyContent:r}=wx(),a=K(null);let s;const l=S(()=>o.height.value-(o.isContainer.value===!0?o.containerHeight.value:i.screen.height));function c(){return e.reverse===!0?l.value-o.scroll.value.position>e.scrollOffset:o.scroll.value.position>e.scrollOffset}const u=K(c());function d(){const b=c();u.value!==b&&(u.value=b)}function f(){e.reverse===!0?s===void 0&&(s=Me(l,d)):h()}function h(){s!==void 0&&(s(),s=void 0)}function p(b){const g=Ri(o.isContainer.value===!0?a.value:o.rootRef.value);ca(g,e.reverse===!0?o.height.value:0,e.duration),n("click",b)}function y(){return u.value===!0?v("div",{ref:a,class:"q-page-scroller",onClick:p},r(t)):null}return Me(o.scroll,d),Me(()=>e.reverse,f),f(),ct(h),()=>v(Kt,{name:"q-transition--fade"},y)}}),rL=we({name:"QPageSticky",props:_x,setup(e,{slots:t}){const{getStickyContent:n}=wx();return()=>n(t)}}),aL=we({name:"QPagination",props:ye(V({},ht),{modelValue:{type:Number,required:!0},min:{type:Number,default:1},max:{type:Number,required:!0},color:{type:String,default:"primary"},textColor:String,activeColor:String,activeTextColor:String,inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},maxPages:{type:Number,default:0,validator:e=>e>=0},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,dense:Boolean,padding:{type:String,default:"3px 2px"}}),emits:["update:modelValue"],setup(e,{emit:t}){const{proxy:n}=Ne(),{$q:i}=n,o=ft(e,i),r=K(null),a=S({get:()=>e.modelValue,set:w=>{if(w=parseInt(w,10),e.disable||isNaN(w))return;const T=wt(w,e.min,e.max);e.modelValue!==T&&t("update:modelValue",T)}});function s(w,T){return[!0,!1].includes(w)?w:T}Me(()=>e.min+e.max,()=>{a.value=e.modelValue});const l=S(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),c=S(()=>a.value+" / "+e.max),u=S(()=>s(e.boundaryLinks,e.input)),d=S(()=>s(e.boundaryNumbers,!e.input)),f=S(()=>s(e.directionLinks,e.input)),h=S(()=>s(e.ellipses,!e.input)),p=S(()=>{const w=[e.iconFirst||i.iconSet.pagination.first,e.iconPrev||i.iconSet.pagination.prev,e.iconNext||i.iconSet.pagination.next,e.iconLast||i.iconSet.pagination.last];return i.lang.rtl===!0?w.reverse():w}),y=S(()=>e.disable===!0?{"aria-disabled":"true"}:{}),b=S(()=>({round:e.round,rounded:e.rounded,outline:e.outline,unelevated:e.unelevated,push:e.push,glossy:e.glossy,dense:e.dense,padding:e.padding,color:e.color,flat:!0,size:e.size,ripple:e.ripple===null||e.ripple})),g=S(()=>({flat:e.flat,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor}));function m(w){a.value=w}function _(w){a.value=a.value+w}function x(){a.value=r.value,r.value=null}function M(w,T){const B=V(V({},b.value),w);return T!==void 0&&(e.toFn!==void 0?B.to=e.toFn(T):B.onClick=()=>m(T)),v(mt,B)}return Object.assign(n,{set:m,setByOffset:_}),()=>{const w=[],T=[],B=[];if(u.value&&(w.push(M({key:"bls",disable:e.disable||e.modelValue<=e.min,icon:p.value[0]},e.min)),T.unshift(M({key:"ble",disable:e.disable||e.modelValue>=e.max,icon:p.value[3]},e.max))),f.value&&(w.push(M({key:"bdp",disable:e.disable||e.modelValue<=e.min,icon:p.value[1]},e.modelValue-1)),T.unshift(M({key:"bdn",disable:e.disable||e.modelValue>=e.max,icon:p.value[2]},e.modelValue+1))),e.input===!0)B.push(v(op,{class:"inline",style:{width:`${c.value.length/1.5}em`},type:"number",dense:!0,value:r.value,disable:e.disable,dark:o.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:c.value,min:e.min,max:e.max,"onUpdate:modelValue"(D){r.value=D},onKeyup(D){Zn(D,13)===!0&&x()},onBlur:x}));else{let D=Math.max(e.maxPages,1+(h.value?2:0)+(d.value?2:0)),z=e.min,A=e.max,O=!1,C=!1,P=!1,L=!1;e.maxPages&&D<e.max-e.min+1&&(D=1+2*Math.floor(D/2),z=Math.max(e.min,Math.min(e.max-D+1,e.modelValue-Math.floor(D/2))),A=Math.min(e.max,z+D-1),d.value&&(P=!0,z+=1),h.value&&z>e.min+(d.value?1:0)&&(O=!0,z+=1),d.value&&(L=!0,A-=1),h.value&&A<e.max-(d.value?1:0)&&(C=!0,A-=1));const q={minWidth:`${Math.max(2,String(e.max).length)}em`};if(P){const F=e.min===e.modelValue;w.push(M(V({key:"bns",style:q,disable:e.disable,flat:!F,label:e.min},F?g.value:{}),e.min))}if(L){const F=e.max===e.modelValue;T.unshift(M(V({key:"bne",style:q,disable:e.disable,flat:!F,label:e.max},F?g.value:{}),e.max))}O&&w.push(M({key:"bes",style:q,disable:e.disable,label:"\u2026",ripple:!1},z-1)),C&&T.unshift(M({key:"bee",style:q,disable:e.disable,label:"\u2026",ripple:!1},A+1));for(let F=z;F<=A;F++){const j={key:`bpg${F}`,style:q,disable:e.disable,label:F};F===e.modelValue&&Object.assign(j,g.value),B.push(M(j,F))}}return v("div",V({class:l.value},y.value),[w,v("div",{class:"row justify-center"},[B]),T])}}});const{passive:mc}=xt;var sL=we({name:"QParallax",props:{src:String,height:{type:Number,default:500},speed:{type:Number,default:1,validator:e=>e>=0&&e<=1},scrollTarget:{default:void 0},onScroll:Function},setup(e,{slots:t,emit:n}){const i=K(0),o=K(null),r=K(null),a=K(null);let s,l,c,u,d,f;Me(()=>e.height,()=>{s===!0&&p()}),Me(()=>e.scrollTarget,()=>{s===!0&&(m(),g())});let h=_=>{i.value=_,e.onScroll!==void 0&&n("scroll",_)};function p(){let _,x,M;f===window?(_=0,M=x=window.innerHeight):(_=tu(f).top,x=Ma(f),M=_+x);const w=tu(o.value).top,T=w+e.height;if(d!==void 0||T>_&&w<M){const B=(M-w)/(e.height+x);y((c-e.height)*B*e.speed),h(B)}}let y=_=>{l.style.transform=`translate3d(-50%,${Math.round(_)}px,0)`};function b(){c=l.naturalHeight||l.videoHeight||Ma(l),s===!0&&p()}function g(){s=!0,f=Ri(o.value,e.scrollTarget),f.addEventListener("scroll",p,mc),window.addEventListener("resize",u,mc),p()}function m(){s===!0&&(s=!1,f.removeEventListener("scroll",p,mc),window.removeEventListener("resize",u,mc),f=void 0,y.cancel(),h.cancel(),u.cancel())}return $t(()=>{y=Rd(y),h=Rd(h),u=Rd(b),l=t.media!==void 0?r.value.children[0]:a.value,l.onload=l.onloadstart=l.loadedmetadata=b,b(),l.style.display="initial",window.IntersectionObserver!==void 0?(d=new IntersectionObserver(_=>{(_[0].isIntersecting===!0?g:m)()}),d.observe(o.value)):g()}),ct(()=>{m(),d!==void 0&&d.disconnect(),l.onload=l.onloadstart=l.loadedmetadata=null}),()=>v("div",{ref:o,class:"q-parallax",style:{height:`${e.height}px`}},[v("div",{ref:r,class:"q-parallax__media absolute-full"},t.media!==void 0?t.media():[v("img",{ref:a,src:e.src})]),v("div",{class:"q-parallax__content absolute-full column flex-center"},t.content!==void 0?t.content({percentScrolled:i.value}):je(t.default))])}}),lL=we({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","before-show","show","before-hide","hide"],setup(e,{slots:t,emit:n}){const{proxy:i}=Ne(),{$q:o}=i,r=K(null),a=K(""),s=K("");let l=!1;const c=S(()=>{const x={initialValue:a.value,validate:e.validate,set:u,cancel:d,updatePosition:f};return Ln(x,"value",()=>s.value,M=>{s.value=M}),x});function u(){e.validate(s.value)!==!1&&(h()===!0&&(n("save",s.value,a.value),n("update:modelValue",s.value)),p())}function d(){h()===!0&&n("cancel",s.value,a.value),p()}function f(){st(()=>{r.value.updatePosition()})}function h(){return _i(s.value,a.value)===!1}function p(){l=!0,r.value.hide()}function y(){l=!1,a.value=ms(e.modelValue),s.value=ms(e.modelValue),n("before-show")}function b(){n("show")}function g(){l===!1&&h()===!0&&(e.autoSave===!0&&e.validate(s.value)===!0?(n("save",s.value,a.value),n("update:modelValue",s.value)):n("cancel",s.value,a.value)),n("before-hide")}function m(){n("hide")}function _(){const x=t.default!==void 0?[].concat(t.default(c.value)):[];return e.title&&x.unshift(v("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},e.title)),e.buttons===!0&&x.push(v("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[v(mt,{flat:!0,color:e.color,label:e.labelCancel||o.lang.label.cancel,onClick:d}),v(mt,{flat:!0,color:e.color,label:e.labelSet||o.lang.label.set,onClick:u})])),x}return Object.assign(i,{set:u,cancel:d,show(x){r.value!==null&&r.value.show(x)},hide(x){r.value!==null&&r.value.hide(x)},updatePosition:f}),()=>{if(e.disable!==!0)return v(cl,{ref:r,class:"q-popup-edit",cover:e.cover,onBeforeShow:y,onShow:b,onBeforeHide:g,onHide:m,onEscapeKey:d},_)}}}),cL=we({name:"QPopupProxy",props:ye(V({},Ff),{breakpoint:{type:[String,Number],default:450}}),emits:["show","hide"],setup(e,{slots:t,emit:n,attrs:i}){const{proxy:o}=Ne(),{$q:r}=o,a=K(!1),s=K(null),l=S(()=>parseInt(e.breakpoint,10)),{canShow:c}=Of({showing:a});function u(){return r.screen.width<l.value||r.screen.height<l.value?"dialog":"menu"}const d=K(u()),f=S(()=>d.value==="menu"?{maxHeight:"99vh"}:{});function h(y){a.value=!0,n("show",y)}function p(y){a.value=!1,d.value=u(),n("hide",y)}return Me(()=>u(),y=>{a.value!==!0&&(d.value=y)}),Object.assign(o,{show(y){c(y)===!0&&s.value.show(y)},hide(y){s.value.hide(y)},toggle(y){s.value.toggle(y)}}),()=>{const y=ye(V(V({ref:s},f.value),i),{onShow:h,onHide:p});let b;return d.value==="dialog"?b=hl:(b=cl,Object.assign(y,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),v(b,y,t.default)}}});const uL={xs:2,sm:4,md:6,lg:10,xl:14};function Ev(e,t,n){return{transform:t===!0?`translateX(${n.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var Sx=we({name:"QLinearProgress",props:ye(V(V({},ht),Ki),{value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean}),setup(e,{slots:t}){const{proxy:n}=Ne(),i=ft(e,n.$q),o=Ji(e,uL),r=S(()=>e.indeterminate===!0||e.query===!0),a=S(()=>e.reverse!==e.query),s=S(()=>ye(V({},o.value!==null?o.value:{}),{"--q-linear-progress-speed":`${e.animationSpeed}ms`})),l=S(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),c=S(()=>Ev(e.buffer!==void 0?e.buffer:1,a.value,n.$q)),u=S(()=>`q-linear-progress__track absolute-full q-linear-progress__track--with${e.instantFeedback===!0?"out":""}-transition q-linear-progress__track--${i.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),d=S(()=>Ev(r.value===!0?1:e.value,a.value,n.$q)),f=S(()=>`q-linear-progress__model absolute-full q-linear-progress__model--with${e.instantFeedback===!0?"out":""}-transition q-linear-progress__model--${r.value===!0?"in":""}determinate`),h=S(()=>({width:`${100*e.value}%`})),p=S(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"}`);return()=>{const y=[v("div",{class:u.value,style:c.value}),v("div",{class:f.value,style:d.value})];return e.stripe===!0&&r.value===!1&&y.push(v("div",{class:p.value,style:h.value})),v("div",{class:l.value,style:s.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},zt(t.default,y))}}});const $r=40,kd=20;var dL=we({name:"QPullToRefresh",props:{color:String,bgColor:String,icon:String,noMouse:Boolean,disable:Boolean,scrollTarget:{default:void 0}},emits:["refresh"],setup(e,{slots:t,emit:n}){const{proxy:i}=Ne(),{$q:o}=i,r=K("pull"),a=K(0),s=K(!1),l=K(-$r),c=K(!1),u=K({}),d=S(()=>({opacity:a.value,transform:`translateY(${l.value}px) rotate(${360*a.value}deg)`})),f=S(()=>"q-pull-to-refresh__puller row flex-center"+(c.value===!0?" q-pull-to-refresh__puller--animating":"")+(e.bgColor!==void 0?` bg-${e.bgColor}`:""));function h(w){if(w.isFinal===!0)return void(s.value===!0&&(s.value=!1,r.value==="pulled"?(r.value="refreshing",g({pos:kd}),b()):r.value==="pull"&&g({pos:-$r,ratio:0})));if(c.value===!0||r.value==="refreshing")return!1;if(w.isFirst===!0){if(_o(_)!==0||w.direction!=="down")return s.value===!0&&(s.value=!1,r.value="pull",g({pos:-$r,ratio:0})),!1;s.value=!0;const{top:D,left:z}=m.getBoundingClientRect();u.value={top:D+"px",left:z+"px",width:window.getComputedStyle(m).getPropertyValue("width")}}en(w.evt);const T=Math.min(140,Math.max(0,w.distance.y));l.value=T-$r,a.value=wt(T/(kd+$r),0,1);const B=l.value>kd?"pulled":"pull";r.value!==B&&(r.value=B)}const p=S(()=>{const w={down:!0,mightPrevent:!0};return e.noMouse!==!0&&(w.mouse=!0),[[Vn,h,void 0,w]]}),y=S(()=>`q-pull-to-refresh__content${s.value===!0?" no-pointer-events":""}`);function b(){n("refresh",()=>{g({pos:-$r,ratio:0},()=>{r.value="pull"})})}function g({pos:w,ratio:T},B){c.value=!0,l.value=w,T!==void 0&&(a.value=T),clearTimeout(x),x=setTimeout(()=>{c.value=!1,B&&B()},300)}let m,_,x;function M(){_=Ri(m,e.scrollTarget)}return Object.assign(i,{trigger:b,updateScrollTarget:M}),Me(()=>e.scrollTarget,M),$t(()=>{m=i.$el,M()}),ct(()=>{clearTimeout(x)}),()=>{const w=[v("div",{class:y.value},je(t.default)),v("div",{class:"q-pull-to-refresh__puller-container fixed row flex-center no-pointer-events z-top",style:u.value},[v("div",{class:f.value,style:d.value},[r.value!=="refreshing"?v(dt,{name:e.icon||o.iconSet.pullToRefresh.icon,color:e.color,size:"32px"}):v(Jn,{size:"24px",color:e.color})])])];return Kn("div",{class:"q-pull-to-refresh"},w,"main",e.disable===!1,()=>p.value)}}});const uo={MIN:0,RANGE:1,MAX:2};var hL=we({name:"QRange",props:ye(V({},Sb),{modelValue:{type:Object,default:()=>({min:null,max:null}),validator:e=>"min"in e&&"max"in e},dragRange:Boolean,dragOnlyRange:Boolean,leftLabelColor:String,leftLabelTextColor:String,rightLabelColor:String,rightLabelTextColor:String,leftLabelValue:[String,Number],rightLabelValue:[String,Number],leftThumbColor:String,rightThumbColor:String}),emits:Mb,setup(e,{emit:t}){const{proxy:{$q:n}}=Ne(),{state:i,methods:o}=Tb({updateValue:B,updatePosition:z,getDragging:D,formAttrs:S(()=>({type:"hidden",name:e.name,value:`${e.modelValue.min}|${e.modelValue.max}`}))}),r=K(null),a=K(0),s=K(0),l=K({min:0,max:0});function c(){l.value.min=e.modelValue.min===null?i.innerMin.value:wt(e.modelValue.min,i.innerMin.value,i.innerMax.value),l.value.max=e.modelValue.max===null?i.innerMax.value:wt(e.modelValue.max,i.innerMin.value,i.innerMax.value)}Me(()=>`${e.modelValue.min}|${e.modelValue.max}|${i.innerMin.value}|${i.innerMax.value}`,c),c();const u=S(()=>o.convertModelToRatio(l.value.min)),d=S(()=>o.convertModelToRatio(l.value.max)),f=S(()=>i.active.value===!0?a.value:u.value),h=S(()=>i.active.value===!0?s.value:d.value),p=S(()=>{const O={[i.positionProp.value]:`${100*f.value}%`,[i.sizeProp.value]:`${100*(h.value-f.value)}%`};return e.selectionImg!==void 0&&(O.backgroundImage=`url(${e.selectionImg}) !important`),O}),y=S(()=>{if(i.editable.value!==!0)return{};if(n.platform.is.mobile===!0)return{onClick:o.onMobileClick};const O={onMousedown:o.onActivate};return e.dragRange!==!0&&e.dragOnlyRange!==!0||Object.assign(O,{onFocus:()=>{i.focus.value="both"},onBlur:o.onBlur,onKeydown:A,onKeyup:o.onKeyup}),O});function b(O){return n.platform.is.mobile!==!0&&i.editable.value===!0&&e.dragOnlyRange!==!0?{onFocus:()=>{i.focus.value=O},onBlur:o.onBlur,onKeydown:A,onKeyup:o.onKeyup}:{}}const g=S(()=>e.dragOnlyRange!==!0?i.tabindex.value:null),m=S(()=>n.platform.is.mobile===!0||!e.dragRange&&e.dragOnlyRange!==!0?null:i.tabindex.value),_=K(null),x=S(()=>b("min")),M=o.getThumbRenderFn({focusValue:"min",getNodeData:()=>ye(V({ref:_,key:"tmin"},x.value),{tabindex:g.value}),ratio:f,label:S(()=>e.leftLabelValue!==void 0?e.leftLabelValue:l.value.min),thumbColor:S(()=>e.leftThumbColor||e.thumbColor||e.color),labelColor:S(()=>e.leftLabelColor||e.labelColor),labelTextColor:S(()=>e.leftLabelTextColor||e.labelTextColor)}),w=S(()=>b("max")),T=o.getThumbRenderFn({focusValue:"max",getNodeData:()=>ye(V({},w.value),{key:"tmax",tabindex:g.value}),ratio:h,label:S(()=>e.rightLabelValue!==void 0?e.rightLabelValue:l.value.max),thumbColor:S(()=>e.rightThumbColor||e.thumbColor||e.color),labelColor:S(()=>e.rightLabelColor||e.labelColor),labelTextColor:S(()=>e.rightLabelTextColor||e.labelTextColor)});function B(O){l.value.min===e.modelValue.min&&l.value.max===e.modelValue.max||t("update:modelValue",V({},l.value)),O===!0&&t("change",V({},l.value))}function D(O){const{left:C,top:P,width:L,height:q}=r.value.getBoundingClientRect(),F=e.dragOnlyRange===!0?0:e.vertical===!0?_.value.offsetHeight/(2*q):_.value.offsetWidth/(2*L),j={left:C,top:P,width:L,height:q,valueMin:l.value.min,valueMax:l.value.max,ratioMin:u.value,ratioMax:d.value},G=o.getDraggingRatio(O,j);return e.dragOnlyRange!==!0&&G<j.ratioMin+F?j.type=uo.MIN:e.dragOnlyRange===!0||G<j.ratioMax-F?e.dragRange===!0||e.dragOnlyRange===!0?(j.type=uo.RANGE,Object.assign(j,{offsetRatio:G,offsetModel:o.convertRatioToModel(G),rangeValue:j.valueMax-j.valueMin,rangeRatio:j.ratioMax-j.ratioMin})):j.type=j.ratioMax-G<G-j.ratioMin?uo.MAX:uo.MIN:j.type=uo.MAX,j}function z(O,C=i.dragging.value){let P;const L=o.getDraggingRatio(O,C),q=o.convertRatioToModel(L);switch(C.type){case uo.MIN:L<=C.ratioMax?(P={minR:L,maxR:C.ratioMax,min:q,max:C.valueMax},i.focus.value="min"):(P={minR:C.ratioMax,maxR:L,min:C.valueMax,max:q},i.focus.value="max");break;case uo.MAX:L>=C.ratioMin?(P={minR:C.ratioMin,maxR:L,min:C.valueMin,max:q},i.focus.value="max"):(P={minR:L,maxR:C.ratioMin,min:q,max:C.valueMin},i.focus.value="min");break;case uo.RANGE:const F=L-C.offsetRatio,j=wt(C.ratioMin+F,0,1-C.rangeRatio),G=q-C.offsetModel,Y=wt(C.valueMin+G,e.min,e.max-C.rangeValue);P={minR:j,maxR:j+C.rangeRatio,min:parseFloat(Y.toFixed(i.decimals.value)),max:parseFloat((Y+C.rangeValue).toFixed(i.decimals.value))},i.focus.value="both";break}l.value=l.value.min===null||l.value.max===null?{min:P.min||e.min,max:P.max||e.max}:{min:P.min,max:P.max},e.snap!==!0||e.step===0?(a.value=P.minR,s.value=P.maxR):(a.value=o.convertModelToRatio(l.value.min),s.value=o.convertModelToRatio(l.value.max))}function A(O){if(!Jf.includes(O.keyCode))return;rt(O);const C=([34,33].includes(O.keyCode)?10:1)*i.step.value,P=([34,37,40].includes(O.keyCode)?-1:1)*(i.isReversed.value===!0?-1:1)*C;if(i.focus.value==="both"){const L=l.value.max-l.value.min,q=wt(parseFloat((l.value.min+P).toFixed(i.decimals.value)),i.innerMin.value,i.innerMax.value-L);l.value={min:q,max:parseFloat((q+L).toFixed(i.decimals.value))}}else{if(i.focus.value===!1)return;{const L=i.focus.value;l.value=ye(V({},l.value),{[L]:wt(parseFloat((l.value[L]+P).toFixed(i.decimals.value)),L==="min"?i.innerMin.value:l.value.min,L==="max"?i.innerMax.value:l.value.max)})}}B()}return()=>{const O=o.getContent(p,m,y,C=>{C.push(M(),T())});return v("div",ye(V({ref:r,class:"q-range "+i.classes.value+(e.modelValue.min===null||e.modelValue.max===null?" q-slider--no-value":"")},i.attributes.value),{"aria-valuenow":e.modelValue.min+"|"+e.modelValue.max}),O)}}}),fL=we({name:"QRating",props:ye(V(V({},Ki),ei),{modelValue:{type:Number,required:!0},max:{type:[String,Number],default:5},icon:[String,Array],iconHalf:[String,Array],iconSelected:[String,Array],color:[String,Array],colorHalf:[String,Array],colorSelected:[String,Array],noReset:Boolean,noDimming:Boolean,readonly:Boolean,disable:Boolean}),emits:["update:modelValue"],setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=Ne(),o=Ji(e),r=ul(e),a=Bo(r),s=K(0);let l={};const c=S(()=>e.readonly!==!0&&e.disable!==!0),u=S(()=>`q-rating row inline items-center q-rating--${c.value===!0?"":"non-"}editable`+(e.noDimming===!0?" q-rating--no-dimming":"")+(e.disable===!0?" disabled":"")+(e.color!==void 0&&Array.isArray(e.color)===!1?` text-${e.color}`:"")),d=S(()=>{const _=Array.isArray(e.icon)===!0?e.icon.length:0,x=Array.isArray(e.iconSelected)===!0?e.iconSelected.length:0,M=Array.isArray(e.iconHalf)===!0?e.iconHalf.length:0,w=Array.isArray(e.color)===!0?e.color.length:0,T=Array.isArray(e.colorSelected)===!0?e.colorSelected.length:0,B=Array.isArray(e.colorHalf)===!0?e.colorHalf.length:0;return{iconLen:_,icon:_>0?e.icon[_-1]:e.icon,selIconLen:x,selIcon:x>0?e.iconSelected[x-1]:e.iconSelected,halfIconLen:M,halfIcon:M>0?e.iconHalf[x-1]:e.iconHalf,colorLen:w,color:w>0?e.color[w-1]:e.color,selColorLen:T,selColor:T>0?e.colorSelected[T-1]:e.colorSelected,halfColorLen:B,halfColor:B>0?e.colorHalf[B-1]:e.colorHalf}}),f=S(()=>{const _=[],x=d.value,M=Math.ceil(e.modelValue),w=e.iconHalf===void 0||M===e.modelValue?-1:M;for(let T=1;T<=e.max;T++){const B=s.value===0&&e.modelValue>=T||s.value>0&&s.value>=T,D=w===T&&s.value<T,z=s.value>0&&(D===!0?M:e.modelValue)>=T&&s.value<T,A=D===!0?T<=x.halfColorLen?e.colorHalf[T-1]:x.halfColor:x.selColor!==void 0&&B===!0?T<=x.selColorLen?e.colorSelected[T-1]:x.selColor:T<=x.colorLen?e.color[T-1]:x.color;_.push({name:(D===!0?T<=x.halfIconLen?e.iconHalf[T-1]:x.halfIcon:x.selIcon===void 0||B!==!0&&z!==!0?T<=x.iconLen?e.icon[T-1]:x.icon:T<=x.selIconLen?e.iconSelected[T-1]:x.selIcon)||i.iconSet.rating.icon,classes:"q-rating__icon"+(B===!0||D===!0?" q-rating__icon--active":"")+(z===!0?" q-rating__icon--exselected":"")+(s.value===T?" q-rating__icon--hovered":"")+(A!==void 0?` text-${A}`:"")})}return _}),h=S(()=>e.disable===!0?{"aria-disabled":"true"}:e.readonly===!0?{"aria-readonly":"true"}:void 0),p=S(()=>c.value===!0?0:null);function y(_){if(c.value===!0){const x=wt(parseInt(_,10),1,parseInt(e.max,10)),M=e.noReset!==!0&&e.modelValue===x?0:x;M!==e.modelValue&&n("update:modelValue",M),s.value=0}}function b(_){c.value===!0&&(s.value=_)}function g(_,x){switch(_.keyCode){case 13:case 32:return y(x),rt(_);case 37:case 40:return l[`rt${x-1}`]&&l[`rt${x-1}`].$el.focus(),rt(_);case 39:case 38:return l[`rt${x+1}`]&&l[`rt${x+1}`].$el.focus(),rt(_)}}function m(){s.value=0}return Qs(()=>{l={}}),()=>{const _=[];return f.value.forEach(({classes:x,name:M},w)=>{const T=w+1;_.push(v("div",{key:T,ref:B=>{l[`rt${T}`]=B},class:"q-rating__icon-container flex flex-center",tabindex:p.value,onClick(){y(T)},onMouseover(){b(T)},onMouseout:m,onFocus(){b(T)},onBlur:m,onKeyup(B){g(B,T)}},zt(t[`tip-${T}`],[v(dt,{class:x,name:M})])))}),e.name!==void 0&&e.disable!==!0&&a(_,"push"),v("div",V({class:u.value,style:o.value},h.value),_)}}}),pL=we({name:"QResponsive",props:np,setup(e,{slots:t}){const n=ip(e);return()=>v("div",{class:"q-responsive"},[v("div",{class:"q-responsive__filler overflow-hidden"},[v("div",{style:n.value})]),v("div",{class:"q-responsive__content absolute-full fit"},je(t.default))])}});const Av=["vertical","horizontal"],Bd={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Lv={prevent:!0,mouse:!0,mouseAllDir:!0},Pv=e=>e>=250?50:Math.ceil(e/5);var mL=we({name:"QScrollArea",props:ye(V({},ht),{thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function}),setup(e,{slots:t,emit:n}){const i=K(!1),o=K(!1),r=K(!1),a={vertical:K(0),horizontal:K(0)},s={vertical:{ref:K(null),position:K(0),size:K(0)},horizontal:{ref:K(null),position:K(0),size:K(0)}},l=Ne(),c=ft(e,l.proxy.$q);let u,d;const f=K(null),h=S(()=>"q-scrollarea"+(c.value===!0?" q-scrollarea--dark":""));s.vertical.percentage=S(()=>{const q=s.vertical.size.value-a.vertical.value;if(q<=0)return 0;const F=wt(s.vertical.position.value/q,0,1);return Math.round(1e4*F)/1e4}),s.vertical.thumbHidden=S(()=>(e.visible===null?r.value:e.visible)!==!0&&i.value===!1&&o.value===!1||s.vertical.size.value<=a.vertical.value+1),s.vertical.thumbStart=S(()=>s.vertical.percentage.value*(a.vertical.value-s.vertical.thumbSize.value)),s.vertical.thumbSize=S(()=>Math.round(wt(a.vertical.value*a.vertical.value/s.vertical.size.value,Pv(a.vertical.value),a.vertical.value))),s.vertical.style=S(()=>ye(V(V({},e.thumbStyle),e.verticalThumbStyle),{top:`${s.vertical.thumbStart.value}px`,height:`${s.vertical.thumbSize.value}px`})),s.vertical.thumbClass=S(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(s.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),s.vertical.barClass=S(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(s.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),s.horizontal.percentage=S(()=>{const q=s.horizontal.size.value-a.horizontal.value;if(q<=0)return 0;const F=wt(s.horizontal.position.value/q,0,1);return Math.round(1e4*F)/1e4}),s.horizontal.thumbHidden=S(()=>(e.visible===null?r.value:e.visible)!==!0&&i.value===!1&&o.value===!1||s.horizontal.size.value<=a.horizontal.value+1),s.horizontal.thumbStart=S(()=>s.horizontal.percentage.value*(a.horizontal.value-s.horizontal.thumbSize.value)),s.horizontal.thumbSize=S(()=>Math.round(wt(a.horizontal.value*a.horizontal.value/s.horizontal.size.value,Pv(a.horizontal.value),a.horizontal.value))),s.horizontal.style=S(()=>ye(V(V({},e.thumbStyle),e.horizontalThumbStyle),{left:`${s.horizontal.thumbStart.value}px`,width:`${s.horizontal.thumbSize.value}px`})),s.horizontal.thumbClass=S(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(s.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),s.horizontal.barClass=S(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(s.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const p=S(()=>s.vertical.thumbHidden.value===!0&&s.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle),y=[[Vn,q=>{T(q,"vertical")},void 0,V({vertical:!0},Lv)]],b=[[Vn,q=>{T(q,"horizontal")},void 0,V({horizontal:!0},Lv)]];function g(){const q={};return Av.forEach(F=>{const j=s[F];q[F+"Position"]=j.position.value,q[F+"Percentage"]=j.percentage.value,q[F+"Size"]=j.size.value,q[F+"ContainerSize"]=a[F].value}),q}const m=Ia(()=>{const q=g();q.ref=l.proxy,n("scroll",q)},0);function _(q,F,j){if(Av.includes(q)===!1)return void console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");(q==="vertical"?ca:Nm)(f.value,F,j)}function x({height:q,width:F}){let j=!1;a.vertical.value!==q&&(a.vertical.value=q,j=!0),a.horizontal.value!==F&&(a.horizontal.value=F,j=!0),j===!0&&A()}function M({position:q}){let F=!1;s.vertical.position.value!==q.top&&(s.vertical.position.value=q.top,F=!0),s.horizontal.position.value!==q.left&&(s.horizontal.position.value=q.left,F=!0),F===!0&&A()}function w({height:q,width:F}){s.horizontal.size.value!==F&&(s.horizontal.size.value=F,A()),s.vertical.size.value!==q&&(s.vertical.size.value=q,A())}function T(q,F){const j=s[F];if(q.isFirst===!0){if(j.thumbHidden.value===!0)return;d=j.position.value,o.value=!0}else if(o.value!==!0)return;q.isFinal===!0&&(o.value=!1);const G=Bd[F],Y=a[F].value,ee=(j.size.value-Y)/(Y-j.thumbSize.value),U=q.distance[G.dist],oe=d+(q.direction===G.dir?1:-1)*U*ee;O(oe,F)}function B(q,F){const j=s[F];if(j.thumbHidden.value!==!0){const G=q[Bd[F].offset];if(G<j.thumbStart.value||G>j.thumbStart.value+j.thumbSize.value){const Y=G-j.thumbSize.value/2;O(Y/a[F].value*j.size.value,F)}j.ref.value!==null&&j.ref.value.dispatchEvent(new MouseEvent(q.type,q))}}function D(q){B(q,"vertical")}function z(q){B(q,"horizontal")}function A(){i.value===!0?clearTimeout(u):i.value=!0,u=setTimeout(()=>{i.value=!1},e.delay),e.onScroll!==void 0&&m()}function O(q,F){f.value[Bd[F].scroll]=q}function C(){r.value=!0}function P(){r.value=!1}Object.assign(l.proxy,{getScrollTarget:()=>f.value,getScroll:g,getScrollPosition:()=>({top:s.vertical.position.value,left:s.horizontal.position.value}),getScrollPercentage:()=>({top:s.vertical.percentage.value,left:s.horizontal.percentage.value}),setScrollPosition:_,setScrollPercentage(q,F,j){_(q,F*(s[q].size.value-a[q].value),j)}});let L=null;return pr(()=>{L={top:s.vertical.position.value,left:s.horizontal.position.value}}),mr(()=>{if(L===null)return;const q=f.value;q!==null&&(Nm(q,L.left),ca(q,L.top))}),ct(m.cancel),()=>v("div",{class:h.value,onMouseenter:C,onMouseleave:P},[v("div",{ref:f,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[v("div",{class:"q-scrollarea__content absolute",style:p.value},zt(t.default,[v(Lo,{debounce:0,onResize:w})])),v(rp,{axis:"both",onScroll:M})]),v(Lo,{debounce:0,onResize:x}),v("div",{class:s.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:D}),v("div",{class:s.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:z}),ci(v("div",{ref:s.vertical.ref,class:s.vertical.thumbClass.value,style:s.vertical.style.value,"aria-hidden":"true"}),y),ci(v("div",{ref:s.horizontal.ref,class:s.horizontal.thumbClass.value,style:s.horizontal.style.value,"aria-hidden":"true"}),b)])}});const ai=1e3,vL=["start","center","end","start-force","center-force","end-force"],Mx=Array.prototype.filter,gL=window.getComputedStyle(document.body).overflowAnchor===void 0?Ft:function(e,t){e!==null&&(cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;const n=e.children||[];Mx.call(n,o=>o.dataset&&o.dataset.qVsAnchor!==void 0).forEach(o=>{delete o.dataset.qVsAnchor});const i=n[t];i&&i.dataset&&(i.dataset.qVsAnchor="")}))};function da(e,t){return e+t}function Id(e,t,n,i,o,r,a,s){const l=e===window?document.scrollingElement||document.documentElement:e,c=o===!0?"offsetWidth":"offsetHeight",u={scrollStart:0,scrollViewSize:-a-s,scrollMaxSize:0,offsetStart:-a,offsetEnd:-s};if(o===!0?(e===window?(u.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,u.scrollViewSize+=document.documentElement.clientWidth):(u.scrollStart=l.scrollLeft,u.scrollViewSize+=l.clientWidth),u.scrollMaxSize=l.scrollWidth,r===!0&&(u.scrollStart=(js===!0?u.scrollMaxSize-u.scrollViewSize:0)-u.scrollStart)):(e===window?(u.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,u.scrollViewSize+=document.documentElement.clientHeight):(u.scrollStart=l.scrollTop,u.scrollViewSize+=l.clientHeight),u.scrollMaxSize=l.scrollHeight),n!==null)for(let d=n.previousElementSibling;d!==null;d=d.previousElementSibling)d.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetStart+=d[c]);if(i!==null)for(let d=i.nextElementSibling;d!==null;d=d.nextElementSibling)d.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetEnd+=d[c]);if(t!==e){const d=l.getBoundingClientRect(),f=t.getBoundingClientRect();o===!0?(u.offsetStart+=f.left-d.left,u.offsetEnd-=f.width):(u.offsetStart+=f.top-d.top,u.offsetEnd-=f.height),e!==window&&(u.offsetStart+=u.scrollStart),u.offsetEnd+=u.scrollMaxSize-u.offsetStart}return u}function Rv(e,t,n,i){t==="end"&&(t=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(i===!0&&(t=(js===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):n===!0?(i===!0&&(t=(js===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function es(e,t,n,i){if(n>=i)return 0;const o=t.length,r=Math.floor(n/ai),a=Math.floor((i-1)/ai)+1;let s=e.slice(r,a).reduce(da,0);return n%ai!==0&&(s-=t.slice(r*ai,n).reduce(da,0)),i%ai!==0&&i!==o&&(s-=t.slice(i,a*ai).reduce(da,0)),s}const Tx={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Cx=Object.keys(Tx),Ex=V({virtualScrollHorizontal:Boolean,onVirtualScroll:Function},Tx);function Ax({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:i}){const o=Ne(),{props:r,emit:a,proxy:s}=o,{$q:l}=s;let c,u,d,f,h=[];const p=K(0),y=K(0),b=K({}),g=K(null),m=K(null),_=K(null),x=K({from:0,to:0}),M=S(()=>r.tableColspan!==void 0?r.tableColspan:100);i===void 0&&(i=S(()=>r.virtualScrollItemSize));const w=S(()=>i.value+";"+r.virtualScrollHorizontal),T=S(()=>w.value+";"+r.virtualScrollSliceRatioBefore+";"+r.virtualScrollSliceRatioAfter);function B(){L(u,!0)}function D(ee){L(ee===void 0?u:ee)}function z(ee,U){const oe=t();if(oe==null||oe.nodeType===8)return;const J=Id(oe,n(),g.value,m.value,r.virtualScrollHorizontal,l.lang.rtl,r.virtualScrollStickySizeStart,r.virtualScrollStickySizeEnd);d!==J.scrollViewSize&&q(J.scrollViewSize),O(oe,J,Math.min(e.value-1,Math.max(0,parseInt(ee,10)||0)),0,vL.indexOf(U)>-1?U:u>-1&&ee>u?"end":"start")}function A(){const ee=t();if(ee==null||ee.nodeType===8)return;const U=Id(ee,n(),g.value,m.value,r.virtualScrollHorizontal,l.lang.rtl,r.virtualScrollStickySizeStart,r.virtualScrollStickySizeEnd),oe=e.value-1,J=U.scrollMaxSize-U.offsetStart-U.offsetEnd-y.value;if(c===U.scrollStart)return;if(U.scrollMaxSize<=0)return void O(ee,U,0,0);d!==U.scrollViewSize&&q(U.scrollViewSize),C(x.value.from);const te=Math.floor(U.scrollMaxSize-Math.max(U.scrollViewSize,U.offsetEnd)-Math.min(f[oe],U.scrollViewSize/2));if(te>0&&Math.ceil(U.scrollStart)>=te)return void O(ee,U,oe,U.scrollMaxSize-U.offsetEnd-h.reduce(da,0));let ve=0,de=U.scrollStart-U.offsetStart,ne=de;if(de<=J&&de+U.scrollViewSize>=p.value)de-=p.value,ve=x.value.from,ne=de;else for(let E=0;de>=h[E]&&ve<oe;E++)de-=h[E],ve+=ai;for(;de>0&&ve<oe;)de-=f[ve],de>-U.scrollViewSize?(ve++,ne=de):ne=f[ve]+de;O(ee,U,ve,ne)}function O(ee,U,oe,J,te){const ve=typeof te=="string"&&te.indexOf("-force")>-1,de=ve===!0?te.replace("-force",""):te,ne=de!==void 0?de:"start";let E=Math.max(0,oe-b.value[ne]),$=E+b.value.total;$>e.value&&($=e.value,E=Math.max(0,$-b.value.total)),c=U.scrollStart;const he=E!==x.value.from||$!==x.value.to;if(he===!1&&de===void 0)return void j(oe);const{activeElement:ie}=document,fe=_.value;he===!0&&fe!==null&&fe!==ie&&fe.contains(ie)===!0&&(fe.addEventListener("focusout",P),setTimeout(()=>{fe!==null&&fe.removeEventListener("focusout",P)})),gL(fe,oe-E);const pe=de!==void 0?f.slice(E,oe).reduce(da,0):0;if(he===!0){const Pe=$>=x.value.from&&E<=x.value.to?x.value.to:$;x.value={from:E,to:Pe},p.value=es(h,f,0,E),y.value=es(h,f,$,e.value),requestAnimationFrame(()=>{x.value.to!==$&&c===U.scrollStart&&(x.value={from:x.value.from,to:$},y.value=es(h,f,$,e.value))})}requestAnimationFrame(()=>{if(c!==U.scrollStart)return;he===!0&&C(E);const Pe=f.slice(E,oe).reduce(da,0),_e=Pe+U.offsetStart+p.value,R=_e+f[oe];let k=_e+J;if(de!==void 0){const re=Pe-pe,ue=U.scrollStart+re;k=ve!==!0&&ue<_e&&R<ue+U.scrollViewSize?ue:de==="end"?R-U.scrollViewSize:_e-(de==="start"?0:Math.round((U.scrollViewSize-f[oe])/2))}c=k,Rv(ee,k,r.virtualScrollHorizontal,l.lang.rtl),j(oe)})}function C(ee){const U=_.value;if(U){const oe=Mx.call(U.children,E=>E.classList&&E.classList.contains("q-virtual-scroll--skip")===!1),J=oe.length,te=r.virtualScrollHorizontal===!0?E=>E.getBoundingClientRect().width:E=>E.offsetHeight;let ve,de,ne=ee;for(let E=0;E<J;){for(ve=te(oe[E]),E++;E<J&&oe[E].classList.contains("q-virtual-scroll--with-prev")===!0;)ve+=te(oe[E]),E++;de=ve-f[ne],de!==0&&(f[ne]+=de,h[Math.floor(ne/ai)]+=de),ne++}}}function P(){_.value!==null&&_.value!==void 0&&_.value.focus()}function L(ee,U){const oe=1*i.value;U!==!0&&Array.isArray(f)!==!1||(f=[]);const J=f.length;f.length=e.value;for(let ve=e.value-1;ve>=J;ve--)f[ve]=oe;const te=Math.floor((e.value-1)/ai);h=[];for(let ve=0;ve<=te;ve++){let de=0;const ne=Math.min((ve+1)*ai,e.value);for(let E=ve*ai;E<ne;E++)de+=f[E];h.push(de)}u=-1,c=void 0,p.value=es(h,f,0,x.value.from),y.value=es(h,f,x.value.to,e.value),ee>=0?(C(x.value.from),st(()=>{z(ee)})):G()}function q(ee){if(ee===void 0&&typeof window!="undefined"){const de=t();de!=null&&de.nodeType!==8&&(ee=Id(de,n(),g.value,m.value,r.virtualScrollHorizontal,l.lang.rtl,r.virtualScrollStickySizeStart,r.virtualScrollStickySizeEnd).scrollViewSize)}d=ee;const U=parseFloat(r.virtualScrollSliceRatioBefore)||0,oe=parseFloat(r.virtualScrollSliceRatioAfter)||0,J=1+U+oe,te=ee===void 0||ee<=0?1:Math.ceil(ee/i.value),ve=Math.max(1,te,Math.ceil((r.virtualScrollSliceSize>0?r.virtualScrollSliceSize:10)/J));b.value={total:Math.ceil(ve*J),start:Math.ceil(ve*U),center:Math.ceil(ve*(.5+U)),end:Math.ceil(ve*(1+U)),view:te}}function F(ee,U){const oe=r.virtualScrollHorizontal===!0?"width":"height",J={["--q-virtual-scroll-item-"+oe]:i.value+"px"};return[ee==="tbody"?v(ee,{class:"q-virtual-scroll__padding",key:"before",ref:g},[v("tr",[v("td",{style:V({[oe]:`${p.value}px`},J),colspan:M.value})])]):v(ee,{class:"q-virtual-scroll__padding",key:"before",ref:g,style:V({[oe]:`${p.value}px`},J)}),v(ee,{class:"q-virtual-scroll__content",key:"content",ref:_,tabindex:-1},U.flat()),ee==="tbody"?v(ee,{class:"q-virtual-scroll__padding",key:"after",ref:m},[v("tr",[v("td",{style:V({[oe]:`${y.value}px`},J),colspan:M.value})])]):v(ee,{class:"q-virtual-scroll__padding",key:"after",ref:m,style:V({[oe]:`${y.value}px`},J)})]}function j(ee){u!==ee&&(r.onVirtualScroll!==void 0&&a("virtual-scroll",{index:ee,from:x.value.from,to:x.value.to-1,direction:ee<u?"decrease":"increase",ref:s}),u=ee)}Me(T,()=>{q()}),Me(w,B),q();const G=Ia(A,l.platform.is.ios===!0?120:35);Oh(()=>{q()});let Y=!1;return pr(()=>{Y=!0}),mr(()=>{if(Y!==!0)return;const ee=t();c!==void 0&&ee!==void 0&&ee!==null&&ee.nodeType!==8?Rv(ee,c,r.virtualScrollHorizontal,l.lang.rtl):z(u)}),ct(()=>{G.cancel()}),Object.assign(s,{scrollTo:z,reset:B,refresh:D}),{virtualScrollSliceRange:x,virtualScrollSliceSizeComputed:b,setVirtualScrollSize:q,onVirtualScrollEvt:G,localResetVirtualScroll:L,padVirtualScroll:F,scrollTo:z,reset:B,refresh:D}}const kv=e=>["add","add-unique","toggle"].includes(e),yL=".*+?^${}()|[]\\",bL=Object.keys(pl);var Lx=we({name:"QSelect",inheritAttrs:!1,props:ye(V(V(V({},Ex),ei),pl),{modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:kv},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function}),emits:[...Iu,"add","remove","input-value","new-value","keyup","keypress","keydown","filter-abort"],setup(e,{slots:t,emit:n}){const{proxy:i}=Ne(),{$q:o}=i,r=K(!1),a=K(!1),s=K(-1),l=K(""),c=K(!1),u=K(!1);let d,f,h,p,y,b,g,m,_;const x=K(null),M=K(null),w=K(null),T=K(null),B=K(null),D=qf(e),z=hx(kn),A=S(()=>Array.isArray(e.options)?e.options.length:0),O=S(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:C,virtualScrollSliceSizeComputed:P,localResetVirtualScroll:L,padVirtualScroll:q,onVirtualScrollEvt:F,scrollTo:j,setVirtualScrollSize:G}=Ax({virtualScrollLength:A,getVirtualScrollTarget:Tt,getVirtualScrollEl:Et,virtualScrollItemSizeComputed:O}),Y=Fu(),ee=S(()=>{const Z=e.mapOptions===!0&&e.multiple!==!0,Ve=e.modelValue===void 0||e.modelValue===null&&Z!==!0?[]:e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const Ue=e.mapOptions===!0&&f!==void 0?f:[],at=Ve.map(At=>Se(At,Ue));return e.modelValue===null&&Z===!0?at.filter(At=>At!==null):at}return Ve}),U=S(()=>{const Z={};return bL.forEach(Ve=>{const Ue=e[Ve];Ue!==void 0&&(Z[Ve]=Ue)}),Z}),oe=S(()=>e.optionsDark===null?Y.isDark.value:e.optionsDark),J=S(()=>fr(ee.value)),te=S(()=>{let Z="q-field__input q-placeholder col";return e.hideSelected===!0||ee.value.length===0?[Z,e.inputClass]:(Z+=" q-field__input--padding",e.inputClass===void 0?Z:[Z,e.inputClass])}),ve=S(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),de=S(()=>A.value===0),ne=S(()=>ee.value.map(Z=>ue.value(Z)).join(", ")),E=S(()=>e.optionsHtml===!0?()=>!0:Z=>Z!=null&&Z.html===!0),$=S(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||ee.value.some(E.value))),he=S(()=>Y.focused.value===!0?e.tabindex:-1),ie=S(()=>{const Z={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":r.value===!0?"true":"false","aria-owns":`${Y.targetUid.value}_lb`,"aria-controls":`${Y.targetUid.value}_lb`};return s.value>=0&&(Z["aria-activedescendant"]=`${Y.targetUid.value}_${s.value}`),Z}),fe=S(()=>{const Z={id:`${Y.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"};return s.value>=0&&(Z["aria-activedescendant"]=`${Y.targetUid.value}_${s.value}`),Z}),pe=S(()=>ee.value.map((Z,Ve)=>({index:Ve,opt:Z,html:E.value(Z),selected:!0,removeAtIndex:Ie,toggleOption:$e,tabindex:he.value}))),Pe=S(()=>{if(A.value===0)return[];const{from:Z,to:Ve}=C.value;return e.options.slice(Z,Ve).map((Ue,at)=>{const At=W.value(Ue)===!0,yt=Z+at,Gt={clickable:!0,active:!1,activeClass:k.value,manualFocus:!0,focused:!1,disable:At,tabindex:-1,dense:e.optionsDense,dark:oe.value,role:"option",id:`${Y.targetUid.value}_${yt}`,onClick:()=>{$e(Ue)}};return At!==!0&&(ge(Ue)===!0&&(Gt.active=!0),s.value===yt&&(Gt.focused=!0),Gt["aria-selected"]=Gt.active===!0?"true":"false",o.platform.is.desktop===!0&&(Gt.onMousemove=()=>{r.value===!0&&Fe(yt)})),{index:yt,opt:Ue,html:E.value(Ue),label:ue.value(Ue),selected:Gt.active,focused:Gt.focused,toggleOption:$e,setOptionIndex:Fe,itemProps:Gt}})}),_e=S(()=>e.dropdownIcon!==void 0?e.dropdownIcon:o.iconSet.arrow.dropdown),R=S(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),k=S(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),re=S(()=>De(e.optionValue,"value")),ue=S(()=>De(e.optionLabel,"label")),W=S(()=>De(e.optionDisable,"disable")),X=S(()=>ee.value.map(Z=>re.value(Z))),me=S(()=>{const Z={onInput:kn,onChange:z,onKeydown:pt,onKeyup:Ge,onKeypress:et,onFocus:Be,onClick(Ve){h===!0&&It(Ve)}};return Z.onCompositionstart=Z.onCompositionupdate=Z.onCompositionend=z,Z});function Te(Z){return e.emitValue===!0?re.value(Z):Z}function Ce(Z){if(Z>-1&&Z<ee.value.length)if(e.multiple===!0){const Ve=e.modelValue.slice();n("remove",{index:Z,value:Ve.splice(Z,1)[0]}),n("update:modelValue",Ve)}else n("update:modelValue",null)}function Ie(Z){Ce(Z),Y.focus()}function ze(Z,Ve){const Ue=Te(Z);if(e.multiple!==!0)return e.fillInput===!0&&Oe(ue.value(Z),!0,!0),void n("update:modelValue",Ue);if(ee.value.length===0)return n("add",{index:0,value:Ue}),void n("update:modelValue",e.multiple===!0?[Ue]:Ue);if(Ve===!0&&ge(Z)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const at=e.modelValue.slice();n("add",{index:at.length,value:Ue}),at.push(Ue),n("update:modelValue",at)}function $e(Z,Ve){if(Y.editable.value!==!0||Z===void 0||W.value(Z)===!0)return;const Ue=re.value(Z);if(e.multiple!==!0)return Ve!==!0&&(Oe(e.fillInput===!0?ue.value(Z):"",!0,!0),Ye()),M.value!==null&&M.value.focus(),void(ee.value.length!==0&&_i(re.value(ee.value[0]),Ue)===!0||n("update:modelValue",e.emitValue===!0?Ue:Z));if((h!==!0||c.value===!0)&&Y.focus(),Be(),ee.value.length===0){const yt=e.emitValue===!0?Ue:Z;return n("add",{index:0,value:yt}),void n("update:modelValue",e.multiple===!0?[yt]:yt)}const at=e.modelValue.slice(),At=X.value.findIndex(yt=>_i(yt,Ue));if(At>-1)n("remove",{index:At,value:at.splice(At,1)[0]});else{if(e.maxValues!==void 0&&at.length>=e.maxValues)return;const yt=e.emitValue===!0?Ue:Z;n("add",{index:at.length,value:yt}),at.push(yt)}n("update:modelValue",at)}function Fe(Z){if(o.platform.is.desktop!==!0)return;const Ve=Z>-1&&Z<A.value?Z:-1;s.value!==Ve&&(s.value=Ve)}function le(Z=1,Ve){if(r.value===!0){let Ue=s.value;do Ue=Jc(Ue+Z,-1,A.value-1);while(Ue!==-1&&Ue!==s.value&&W.value(e.options[Ue])===!0);s.value!==Ue&&(Fe(Ue),j(Ue),Ve!==!0&&e.useInput===!0&&e.fillInput===!0&&xe(Ue>=0?ue.value(e.options[Ue]):b))}}function Se(Z,Ve){const Ue=at=>_i(re.value(at),Z);return e.options.find(Ue)||Ve.find(Ue)||Z}function De(Z,Ve){const Ue=Z!==void 0?Z:Ve;return typeof Ue=="function"?Ue:at=>at!==null&&typeof at=="object"&&Ue in at?at[Ue]:at}function ge(Z){const Ve=re.value(Z);return X.value.find(Ue=>_i(Ue,Ve))!==void 0}function Be(Z){e.useInput===!0&&M.value!==null&&(Z===void 0||M.value===Z.target&&Z.target.value===ne.value)&&M.value.select()}function Ze(Z){Zn(Z,27)===!0&&r.value===!0&&(It(Z),Ye(),jt()),n("keyup",Z)}function Ge(Z){const{value:Ve}=Z.target;if(Z.keyCode===void 0)if(Z.target.value="",clearTimeout(d),jt(),typeof Ve=="string"&&Ve.length>0){const Ue=Ve.toLocaleLowerCase(),at=yt=>{const Gt=e.options.find(xn=>yt.value(xn).toLocaleLowerCase()===Ue);return Gt!==void 0&&(ee.value.indexOf(Gt)===-1?$e(Gt):Ye(),!0)},At=yt=>{at(re)!==!0&&at(ue)!==!0&&yt!==!0&&N(Ve,!0,()=>At(!0))};At()}else Y.clearValue(Z);else Ze(Z)}function et(Z){n("keypress",Z)}function pt(Z){if(n("keydown",Z),br(Z)===!0)return;const Ve=l.value.length>0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),Ue=Z.shiftKey!==!0&&e.multiple!==!0&&(s.value>-1||Ve===!0);if(Z.keyCode===27)return void en(Z);if(Z.keyCode===9&&Ue===!1)return void ke();if(Z.target===void 0||Z.target.id!==Y.targetUid.value)return;if(Z.keyCode===40&&Y.innerLoading.value!==!0&&r.value===!1)return rt(Z),void Re();if(Z.keyCode===8&&e.hideSelected!==!0&&l.value.length===0)return void(e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ce(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null));Z.keyCode!==35&&Z.keyCode!==36||typeof l.value=="string"&&l.value.length!==0||(rt(Z),s.value=-1,le(Z.keyCode===36?1:-1,e.multiple)),Z.keyCode!==33&&Z.keyCode!==34||P.value===void 0||(rt(Z),s.value=Math.max(-1,Math.min(A.value,s.value+(Z.keyCode===33?-1:1)*P.value.view)),le(Z.keyCode===33?1:-1,e.multiple)),Z.keyCode!==38&&Z.keyCode!==40||(rt(Z),le(Z.keyCode===38?-1:1,e.multiple));const at=A.value;if((m===void 0||_<Date.now())&&(m=""),at>0&&e.useInput!==!0&&Z.key!==void 0&&Z.key.length===1&&Z.altKey===Z.ctrlKey&&(Z.keyCode!==32||m.length>0)){r.value!==!0&&Re(Z);const At=Z.key.toLocaleLowerCase(),yt=m.length===1&&m[0]===At;_=Date.now()+1500,yt===!1&&(rt(Z),m+=At);const Gt=new RegExp("^"+m.split("").map(Nu=>yL.indexOf(Nu)>-1?"\\"+Nu:Nu).join(".*"),"i");let xn=s.value;if(yt===!0||xn<0||Gt.test(ue.value(e.options[xn]))!==!0)do xn=Jc(xn+1,-1,at-1);while(xn!==s.value&&(W.value(e.options[xn])===!0||Gt.test(ue.value(e.options[xn]))!==!0));s.value!==xn&&st(()=>{Fe(xn),j(xn),xn>=0&&e.useInput===!0&&e.fillInput===!0&&xe(ue.value(e.options[xn]))})}else if(Z.keyCode===13||Z.keyCode===32&&e.useInput!==!0&&m===""||Z.keyCode===9&&Ue!==!1)if(Z.keyCode!==9&&rt(Z),s.value>-1&&s.value<at)$e(e.options[s.value]);else{if(Ve===!0){const At=(yt,Gt)=>{if(Gt){if(kv(Gt)!==!0)return}else Gt=e.newValueMode;if(yt==null)return;Oe("",e.multiple!==!0,!0),(Gt==="toggle"?$e:ze)(yt,Gt==="add-unique"),e.multiple!==!0&&(M.value!==null&&M.value.focus(),Ye())};if(e.onNewValue!==void 0?n("new-value",l.value,At):At(l.value),e.multiple!==!0)return}r.value===!0?ke():Y.innerLoading.value!==!0&&Re()}}function Et(){return h===!0?B.value:w.value!==null&&w.value.__qPortalInnerRef.value!==null?w.value.__qPortalInnerRef.value:void 0}function Tt(){return Et()}function bn(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?pe.value.map(Z=>t["selected-item"](Z)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?pe.value.map((Z,Ve)=>v(Xf,{key:"option-"+Ve,removable:Y.editable.value===!0&&W.value(Z.opt)!==!0,dense:!0,textColor:e.color,tabindex:he.value,onRemove(){Z.removeAtIndex(Ve)}},()=>v("span",{class:"ellipsis",[Z.html===!0?"innerHTML":"textContent"]:ue.value(Z.opt)}))):[v("span",{[$.value===!0?"innerHTML":"textContent"]:e.displayValue!==void 0?e.displayValue:ne.value})]}function dn(){if(de.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:l.value}):void 0;const Z=t.option!==void 0?t.option:Ue=>v(fl,V({key:Ue.index},Ue.itemProps),()=>v($i,()=>v(du,()=>v("span",{[Ue.html===!0?"innerHTML":"textContent"]:Ue.label}))));let Ve=q("div",Pe.value.map(Z));return t["before-options"]!==void 0&&(Ve=t["before-options"]().concat(Ve)),zt(t["after-options"],Ve)}function Yt(Z,Ve){const Ue=Ve===!0?V(V({},ie.value),Y.splitAttrs.attributes.value):void 0,at=V(ye(V({ref:Ve===!0?M:void 0,key:"i_t",class:te.value,style:e.inputStyle,value:l.value!==void 0?l.value:"",type:"search"},Ue),{id:Ve===!0?Y.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":Z!==!0&&e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0}),me.value);return Z!==!0&&h===!0&&(Array.isArray(at.class)===!0?at.class=[...at.class,"no-pointer-events"]:at.class+=" no-pointer-events"),v("input",at)}function kn(Z){clearTimeout(d),Z&&Z.target&&Z.target.qComposing===!0||(xe(Z.target.value||""),p=!0,b=l.value,Y.focused.value===!0||h===!0&&c.value!==!0||Y.focus(),e.onFilter!==void 0&&(d=setTimeout(()=>{N(l.value)},e.inputDebounce)))}function xe(Z){l.value!==Z&&(l.value=Z,n("input-value",Z))}function Oe(Z,Ve,Ue){p=Ue!==!0,e.useInput===!0&&(xe(Z),Ve!==!0&&Ue===!0||(b=Z),Ve!==!0&&N(Z))}function N(Z,Ve,Ue){if(e.onFilter===void 0||Ve!==!0&&Y.focused.value!==!0)return;Y.innerLoading.value===!0?n("filter-abort"):(Y.innerLoading.value=!0,u.value=!0),Z!==""&&e.multiple!==!0&&ee.value.length>0&&p!==!0&&Z===ue.value(ee.value[0])&&(Z="");const at=setTimeout(()=>{r.value===!0&&(r.value=!1)},10);clearTimeout(y),y=at,n("filter",Z,(At,yt)=>{Ve!==!0&&Y.focused.value!==!0||y!==at||(clearTimeout(y),typeof At=="function"&&At(),u.value=!1,st(()=>{Y.innerLoading.value=!1,Y.editable.value===!0&&(Ve===!0?r.value===!0&&Ye():r.value===!0?gt(!0):r.value=!0),typeof yt=="function"&&st(()=>{yt(i)}),typeof Ue=="function"&&st(()=>{Ue(i)})}))},()=>{Y.focused.value===!0&&y===at&&(clearTimeout(y),Y.innerLoading.value=!1,u.value=!1),r.value===!0&&(r.value=!1)})}function se(){return v(cl,ye(V({ref:w,class:ve.value,style:e.popupContentStyle,modelValue:r.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&de.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:oe.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:R.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0},fe.value),{onScrollPassive:F,onBeforeShow:_r,onBeforeHide:ce,onShow:be}),dn)}function ce(Z){on(Z),ke()}function be(){G()}function I(Z){It(Z),M.value!==null&&M.value.focus(),c.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Q(Z){It(Z),st(()=>{c.value=!1})}function ae(){const Z=[v(cx,ye(V(ye(V({class:`col-auto ${Y.fieldClass.value}`},U.value),{for:Y.targetUid.value,dark:oe.value,square:!0,loading:u.value,itemAligned:!1,filled:!0,stackLabel:l.value.length>0}),Y.splitAttrs.listeners.value),{onFocus:I,onBlur:Q}),ye(V({},t),{rawControl:()=>Y.getControl(!0),before:void 0,after:void 0}))];return r.value===!0&&Z.push(v("div",ye(V({ref:B,class:ve.value+" scroll",style:e.popupContentStyle},fe.value),{onClick:en,onScrollPassive:F}),dn())),v(hl,{ref:T,modelValue:a.value,position:e.useInput===!0?"top":void 0,transitionShow:g,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:_r,onBeforeHide:Le,onHide:Ee,onShow:Ke},()=>v("div",{class:"q-select__dialog"+(oe.value===!0?" q-select__dialog--dark q-dark":"")+(c.value===!0?" q-select__dialog--focused":"")},Z))}function Le(Z){on(Z),T.value!==null&&T.value.__updateRefocusTarget(Y.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),Y.focused.value=!1}function Ee(Z){Ye(),Y.focused.value===!1&&n("blur",Z),jt()}function Ke(){const Z=document.activeElement;Z!==null&&Z.id===Y.targetUid.value||M.value===null||M.value===Z||M.value.focus(),G()}function ke(){a.value!==!0&&(s.value=-1,r.value===!0&&(r.value=!1),Y.focused.value===!1&&(clearTimeout(y),y=void 0,Y.innerLoading.value===!0&&(n("filter-abort"),Y.innerLoading.value=!1,u.value=!1)))}function Re(Z){Y.editable.value===!0&&(h===!0?(Y.onControlFocusin(Z),a.value=!0,st(()=>{Y.focus()})):Y.focus(),e.onFilter!==void 0?N(l.value):de.value===!0&&t["no-option"]===void 0||(r.value=!0))}function Ye(){a.value=!1,ke()}function jt(){e.useInput===!0&&Oe(e.multiple!==!0&&e.fillInput===!0&&ee.value.length>0&&ue.value(ee.value[0])||"",!0,!0)}function gt(Z){let Ve=-1;if(Z===!0){if(ee.value.length>0){const Ue=re.value(ee.value[0]);Ve=e.options.findIndex(at=>_i(re.value(at),Ue))}L(Ve)}Fe(Ve)}function ki(Z,Ve){r.value===!0&&Y.innerLoading.value===!1&&(L(-1,!0),st(()=>{r.value===!0&&Y.innerLoading.value===!1&&(Z>Ve?L():gt(!0))}))}function Ut(){a.value===!1&&w.value!==null&&w.value.updatePosition()}function _r(Z){Z!==void 0&&It(Z),n("popup-show",Z),Y.hasPopupOpen=!0,Y.onControlFocusin(Z)}function on(Z){Z!==void 0&&It(Z),n("popup-hide",Z),Y.hasPopupOpen=!1,Y.onControlFocusout(Z)}function eo(){h=(o.platform.is.mobile===!0||e.behavior==="dialog")&&e.behavior!=="menu"&&(e.useInput!==!0||t["no-option"]!==void 0||e.onFilter!==void 0||de.value===!1),g=o.platform.is.ios===!0&&h===!0&&e.useInput===!0?"fade":e.transitionShow}return Me(ee,Z=>{f=Z,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&Y.innerLoading.value!==!0&&(a.value!==!0&&r.value!==!0||J.value!==!0)&&(p!==!0&&jt(),a.value!==!0&&r.value!==!0||N(""))},{immediate:!0}),Me(()=>e.fillInput,jt),Me(r,gt),Me(A,ki),Qs(eo),n_(Ut),eo(),ct(()=>{clearTimeout(d)}),Object.assign(i,{showPopup:Re,hidePopup:Ye,removeAtIndex:Ce,add:ze,toggleOption:$e,getOptionIndex:()=>s.value,setOptionIndex:Fe,moveOptionSelection:le,filter:N,updateMenuPosition:Ut,updateInputValue:Oe,isOptionSelected:ge,getEmittingOptionValue:Te,isOptionDisabled:(...Z)=>W.value.apply(null,Z)===!0,getOptionValue:(...Z)=>re.value.apply(null,Z),getOptionLabel:(...Z)=>ue.value.apply(null,Z)}),Object.assign(Y,{innerValue:ee,fieldClass:S(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:x,targetRef:M,hasValue:J,showPopup:Re,floatingLabel:S(()=>e.hideSelected!==!0&&J.value===!0||l.value.length>0||fr(e.displayValue)),getControlChild:()=>{if(Y.editable.value!==!1&&(a.value===!0||de.value!==!0||t["no-option"]!==void 0))return h===!0?ae():se();Y.hasPopupOpen===!0&&(Y.hasPopupOpen=!1)},controlEvents:{onFocusin(Z){Y.onControlFocusin(Z)},onFocusout(Z){Y.onControlFocusout(Z,()=>{jt(),ke()})},onClick(Z){if(en(Z),h!==!0&&r.value===!0)return ke(),void(M.value!==null&&M.value.focus());Re(Z)}},getControl:Z=>{const Ve=bn(),Ue=Z===!0||a.value!==!0||h!==!0;if(e.useInput===!0)Ve.push(Yt(Z,Ue));else if(Y.editable.value===!0){const At=Ue===!0?ie.value:void 0;Ve.push(v("input",ye(V({ref:Ue===!0?M:void 0,key:"d_t",class:"q-select__focus-target",id:Ue===!0?Y.targetUid.value:void 0,readonly:!0},At),{onKeydown:pt,onKeyup:Ze,onKeypress:et}))),Ue===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length>0&&Ve.push(v("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,onKeyup:Ge}))}if(D.value!==void 0&&e.disable!==!0&&X.value.length>0){const At=X.value.map(yt=>v("option",{value:yt,selected:!0}));Ve.push(v("select",{class:"hidden",name:D.value,multiple:e.multiple},At))}const at=e.useInput===!0||Ue!==!0?void 0:Y.splitAttrs.attributes.value;return v("div",V({class:"q-field__native row items-center"},at),Ve)},getInnerAppend:()=>e.loading!==!0&&u.value!==!0&&e.hideDropdownIcon!==!0?[v(dt,{class:"q-select__dropdown-icon"+(r.value===!0?" rotate-180":""),name:_e.value})]:null}),Ou(Y)}});const xL=["text","rect","circle","QBtn","QBadge","QChip","QToolbar","QCheckbox","QRadio","QToggle","QSlider","QRange","QInput","QAvatar"],_L=["wave","pulse","pulse-x","pulse-y","fade","blink","none"];var wL=we({name:"QSkeleton",props:ye(V({},ht),{tag:{type:String,default:"div"},type:{type:String,validator:e=>xL.includes(e),default:"rect"},animation:{type:String,validator:e=>_L.includes(e),default:"wave"},animationSpeed:{type:[String,Number],default:1500},square:Boolean,bordered:Boolean,size:String,width:String,height:String}),setup(e,{slots:t}){const n=Ne(),i=ft(e,n.proxy.$q),o=S(()=>{const a=e.size!==void 0?[e.size,e.size]:[e.width,e.height];return{"--q-skeleton-speed":`${e.animationSpeed}ms`,width:a[0],height:a[1]}}),r=S(()=>`q-skeleton q-skeleton--${i.value===!0?"dark":"light"} q-skeleton--type-${e.type}`+(e.animation!=="none"?` q-skeleton--anim q-skeleton--anim-${e.animation}`:"")+(e.square===!0?" q-skeleton--square":"")+(e.bordered===!0?" q-skeleton--bordered":""));return()=>v(e.tag,{class:r.value,style:o.value},je(t.default))}});const Bv=[["left","center","start","width"],["right","center","end","width"],["top","start","center","height"],["bottom","end","center","height"]];var SL=we({name:"QSlideItem",props:ye(V({},ht),{leftColor:String,rightColor:String,topColor:String,bottomColor:String,onSlide:Function}),emits:["action","top","right","bottom","left"],setup(e,{slots:t,emit:n}){const{proxy:i}=Ne(),{$q:o}=i,r=ft(e,o),{getCacheWithFn:a}=dl(),s=K(null);let l,c={},u={},d={};const f=S(()=>o.lang.rtl===!0?{left:"right",right:"left"}:{left:"left",right:"right"}),h=S(()=>"q-slide-item q-item-type overflow-hidden"+(r.value===!0?" q-slide-item--dark q-dark":""));function p(){s.value.style.transform="translate(0,0)"}function y(g,m,_){e.onSlide!==void 0&&n("slide",{side:g,ratio:m,isReset:_})}function b(g){const m=s.value;if(g.isFirst)c={dir:null,size:{left:0,right:0,top:0,bottom:0},scale:0},m.classList.add("no-transition"),Bv.forEach(w=>{if(t[w[0]]!==void 0){const T=d[w[0]];T.style.transform="scale(1)",c.size[w[0]]=T.getBoundingClientRect()[w[3]]}}),c.axis=g.direction==="up"||g.direction==="down"?"Y":"X";else{if(g.isFinal)return m.classList.remove("no-transition"),void(c.scale===1?(m.style.transform=`translate${c.axis}(${100*c.dir}%)`,l=setTimeout(()=>{n(c.showing,{reset:p}),n("action",{side:c.showing,reset:p})},230)):(m.style.transform="translate(0,0)",y(c.showing,0,!0)));g.direction=c.axis==="X"?g.offset.x<0?"left":"right":g.offset.y<0?"up":"down"}if(t.left===void 0&&g.direction===f.value.right||t.right===void 0&&g.direction===f.value.left||t.top===void 0&&g.direction==="down"||t.bottom===void 0&&g.direction==="up")return void(m.style.transform="translate(0,0)");let _,x,M;c.axis==="X"?(x=g.direction==="left"?-1:1,_=x===1?f.value.left:f.value.right,M=g.distance.x):(x=g.direction==="up"?-2:2,_=x===2?"top":"bottom",M=g.distance.y),c.dir!==null&&Math.abs(x)!==Math.abs(c.dir)||(c.dir!==x&&(["left","right","top","bottom"].forEach(w=>{u[w]&&(u[w].style.visibility=_===w?"visible":"hidden")}),c.showing=_,c.dir=x),c.scale=Math.max(0,Math.min(1,(M-40)/c.size[_])),m.style.transform=`translate${c.axis}(${M*x/Math.abs(x)}px)`,d[_].style.transform=`scale(${c.scale})`,y(_,c.scale,!1))}return Qs(()=>{u={},d={}}),ct(()=>{clearTimeout(l)}),Object.assign(i,{reset:p}),()=>{const g=[],m={left:t[f.value.right]!==void 0,right:t[f.value.left]!==void 0,up:t.bottom!==void 0,down:t.top!==void 0},_=Object.keys(m).filter(M=>m[M]===!0);Bv.forEach(M=>{const w=M[0];t[w]!==void 0&&g.push(v("div",{ref:T=>{u[w]=T},class:`q-slide-item__${w} absolute-full row no-wrap items-${M[1]} justify-${M[2]}`+(e[w+"Color"]!==void 0?` bg-${e[w+"Color"]}`:"")},[v("div",{ref:T=>{d[w]=T}},t[w]())]))});const x=v("div",{key:`${_.length===0?"only-":""} content`,ref:s,class:"q-slide-item__content"},je(t.default));return _.length===0?g.push(x):g.push(ci(x,a("dir#"+_.join(""),()=>{const M={prevent:!0,stop:!0,mouse:!0};return _.forEach(w=>{M[w]=!0}),[[Vn,b,void 0,M]]}))),v("div",{class:h.value},g)}}});const ML=v("div",{class:"q-space"});var TL=we({name:"QSpace",setup(){return()=>ML}});const CL=[v("g",{transform:"matrix(1 0 0 -1 0 80)"},[v("rect",{width:"10",height:"20",rx:"3"},[v("animate",{attributeName:"height",begin:"0s",dur:"4.3s",values:"20;45;57;80;64;32;66;45;64;23;66;13;64;56;34;34;2;23;76;79;20",calcMode:"linear",repeatCount:"indefinite"})]),v("rect",{x:"15",width:"10",height:"80",rx:"3"},[v("animate",{attributeName:"height",begin:"0s",dur:"2s",values:"80;55;33;5;75;23;73;33;12;14;60;80",calcMode:"linear",repeatCount:"indefinite"})]),v("rect",{x:"30",width:"10",height:"50",rx:"3"},[v("animate",{attributeName:"height",begin:"0s",dur:"1.4s",values:"50;34;78;23;56;23;34;76;80;54;21;50",calcMode:"linear",repeatCount:"indefinite"})]),v("rect",{x:"45",width:"10",height:"30",rx:"3"},[v("animate",{attributeName:"height",begin:"0s",dur:"2s",values:"30;45;13;80;56;72;45;76;34;23;67;30",calcMode:"linear",repeatCount:"indefinite"})])])];var EL=we({name:"QSpinnerAudio",props:qt,setup(e){const{cSize:t,classes:n}=Vt(e);return()=>v("svg",{class:n.value,fill:"currentColor",width:t.value,height:t.value,viewBox:"0 0 55 80",xmlns:"http://www.w3.org/2000/svg"},CL)}});const AL=[v("g",{transform:"translate(1 1)","stroke-width":"2",fill:"none","fill-rule":"evenodd"},[v("circle",{cx:"5",cy:"50",r:"5"},[v("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",values:"50;5;50;50",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"cx",begin:"0s",dur:"2.2s",values:"5;27;49;5",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"27",cy:"5",r:"5"},[v("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",from:"5",to:"5",values:"5;50;50;5",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"cx",begin:"0s",dur:"2.2s",from:"27",to:"27",values:"27;49;5;27",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"49",cy:"50",r:"5"},[v("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",values:"50;50;5;50",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"cx",from:"49",to:"49",begin:"0s",dur:"2.2s",values:"49;5;27;49",calcMode:"linear",repeatCount:"indefinite"})])])];var LL=we({name:"QSpinnerBall",props:qt,setup(e){const{cSize:t,classes:n}=Vt(e);return()=>v("svg",{class:n.value,stroke:"currentColor",width:t.value,height:t.value,viewBox:"0 0 57 57",xmlns:"http://www.w3.org/2000/svg"},AL)}});const PL=[v("rect",{y:"10",width:"15",height:"120",rx:"6"},[v("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),v("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},[v("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),v("rect",{x:"60",width:"15",height:"140",rx:"6"},[v("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),v("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},[v("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),v("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},[v("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})])];var RL=we({name:"QSpinnerBars",props:qt,setup(e){const{cSize:t,classes:n}=Vt(e);return()=>v("svg",{class:n.value,fill:"currentColor",width:t.value,height:t.value,viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg"},PL)}});const kL=[v("rect",{x:"25",y:"25",width:"50",height:"50",fill:"none","stroke-width":"4",stroke:"currentColor"},[v("animateTransform",{id:"spinnerBox",attributeName:"transform",type:"rotate",from:"0 50 50",to:"180 50 50",dur:"0.5s",begin:"rectBox.end"})]),v("rect",{x:"27",y:"27",width:"46",height:"50",fill:"currentColor"},[v("animate",{id:"rectBox",attributeName:"height",begin:"0s;spinnerBox.end",dur:"1.3s",from:"50",to:"0",fill:"freeze"})])];var BL=we({name:"QSpinnerBox",props:qt,setup(e){const{cSize:t,classes:n}=Vt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},kL)}});const IL=[v("circle",{cx:"50",cy:"50",r:"48",fill:"none","stroke-width":"4","stroke-miterlimit":"10",stroke:"currentColor"}),v("line",{"stroke-linecap":"round","stroke-width":"4","stroke-miterlimit":"10",stroke:"currentColor",x1:"50",y1:"50",x2:"85",y2:"50.5"},[v("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"2s",repeatCount:"indefinite"})]),v("line",{"stroke-linecap":"round","stroke-width":"4","stroke-miterlimit":"10",stroke:"currentColor",x1:"50",y1:"50",x2:"49.5",y2:"74"},[v("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"15s",repeatCount:"indefinite"})])];var FL=we({name:"QSpinnerClock",props:qt,setup(e){const{cSize:t,classes:n}=Vt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},IL)}});const OL=[v("rect",{x:"0",y:"0",width:" 100",height:"100",fill:"none"}),v("path",{d:"M78,19H22c-6.6,0-12,5.4-12,12v31c0,6.6,5.4,12,12,12h37.2c0.4,3,1.8,5.6,3.7,7.6c2.4,2.5,5.1,4.1,9.1,4 c-1.4-2.1-2-7.2-2-10.3c0-0.4,0-0.8,0-1.3h8c6.6,0,12-5.4,12-12V31C90,24.4,84.6,19,78,19z",fill:"currentColor"}),v("circle",{cx:"30",cy:"47",r:"5",fill:"#fff"},[v("animate",{attributeName:"opacity",from:"0",to:"1",values:"0;1;1",keyTimes:"0;0.2;1",dur:"1s",repeatCount:"indefinite"})]),v("circle",{cx:"50",cy:"47",r:"5",fill:"#fff"},[v("animate",{attributeName:"opacity",from:"0",to:"1",values:"0;0;1;1",keyTimes:"0;0.2;0.4;1",dur:"1s",repeatCount:"indefinite"})]),v("circle",{cx:"70",cy:"47",r:"5",fill:"#fff"},[v("animate",{attributeName:"opacity",from:"0",to:"1",values:"0;0;1;1",keyTimes:"0;0.4;0.6;1",dur:"1s",repeatCount:"indefinite"})])];var NL=we({name:"QSpinnerComment",props:qt,setup(e){const{cSize:t,classes:n}=Vt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},OL)}});const DL=[v("rect",{x:"0",y:"0",width:" 100",height:"100",fill:"none"}),v("g",{transform:"translate(25 25)"},[v("rect",{x:"-20",y:"-20",width:" 40",height:"40",fill:"currentColor",opacity:"0.9"},[v("animateTransform",{attributeName:"transform",type:"scale",from:"1.5",to:"1",repeatCount:"indefinite",begin:"0s",dur:"1s",calcMode:"spline",keySplines:"0.2 0.8 0.2 0.8",keyTimes:"0;1"})])]),v("g",{transform:"translate(75 25)"},[v("rect",{x:"-20",y:"-20",width:" 40",height:"40",fill:"currentColor",opacity:"0.8"},[v("animateTransform",{attributeName:"transform",type:"scale",from:"1.5",to:"1",repeatCount:"indefinite",begin:"0.1s",dur:"1s",calcMode:"spline",keySplines:"0.2 0.8 0.2 0.8",keyTimes:"0;1"})])]),v("g",{transform:"translate(25 75)"},[v("rect",{x:"-20",y:"-20",width:" 40",height:"40",fill:"currentColor",opacity:"0.7"},[v("animateTransform",{attributeName:"transform",type:"scale",from:"1.5",to:"1",repeatCount:"indefinite",begin:"0.3s",dur:"1s",calcMode:"spline",keySplines:"0.2 0.8 0.2 0.8",keyTimes:"0;1"})])]),v("g",{transform:"translate(75 75)"},[v("rect",{x:"-20",y:"-20",width:" 40",height:"40",fill:"currentColor",opacity:"0.6"},[v("animateTransform",{attributeName:"transform",type:"scale",from:"1.5",to:"1",repeatCount:"indefinite",begin:"0.2s",dur:"1s",calcMode:"spline",keySplines:"0.2 0.8 0.2 0.8",keyTimes:"0;1"})])])];var zL=we({name:"QSpinnerCube",props:qt,setup(e){const{cSize:t,classes:n}=Vt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},DL)}});const qL=[v("circle",{cx:"15",cy:"15",r:"15"},[v("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"60",cy:"15",r:"9","fill-opacity":".3"},[v("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"fill-opacity",from:".5",to:".5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"105",cy:"15",r:"15"},[v("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})])];var VL=we({name:"QSpinnerDots",props:qt,setup(e){const{cSize:t,classes:n}=Vt(e);return()=>v("svg",{class:n.value,fill:"currentColor",width:t.value,height:t.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg"},qL)}});const HL=[v("g",{transform:"translate(20 50)"},[v("rect",{x:"-10",y:"-30",width:" 20",height:"60",fill:"currentColor",opacity:"0.6"},[v("animateTransform",{attributeName:"transform",type:"scale",from:"2",to:"1",begin:"0s",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keySplines:"0.1 0.9 0.4 1",keyTimes:"0;1",values:"2;1"})])]),v("g",{transform:"translate(50 50)"},[v("rect",{x:"-10",y:"-30",width:" 20",height:"60",fill:"currentColor",opacity:"0.8"},[v("animateTransform",{attributeName:"transform",type:"scale",from:"2",to:"1",begin:"0.1s",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keySplines:"0.1 0.9 0.4 1",keyTimes:"0;1",values:"2;1"})])]),v("g",{transform:"translate(80 50)"},[v("rect",{x:"-10",y:"-30",width:" 20",height:"60",fill:"currentColor",opacity:"0.9"},[v("animateTransform",{attributeName:"transform",type:"scale",from:"2",to:"1",begin:"0.2s",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keySplines:"0.1 0.9 0.4 1",keyTimes:"0;1",values:"2;1"})])])];var UL=we({name:"QSpinnerFacebook",props:qt,setup(e){const{cSize:t,classes:n}=Vt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},HL)}});const GL=[v("g",{transform:"translate(-20,-20)"},[v("path",{d:"M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z",fill:"currentColor"},[v("animateTransform",{attributeName:"transform",type:"rotate",from:"90 50 50",to:"0 50 50",dur:"1s",repeatCount:"indefinite"})])]),v("g",{transform:"translate(20,20) rotate(15 50 50)"},[v("path",{d:"M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z",fill:"currentColor"},[v("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"90 50 50",dur:"1s",repeatCount:"indefinite"})])])];var WL=we({name:"QSpinnerGears",props:qt,setup(e){const{cSize:t,classes:n}=Vt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},GL)}});const $L=[v("circle",{cx:"12.5",cy:"12.5",r:"12.5"},[v("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"12.5",cy:"52.5",r:"12.5","fill-opacity":".5"},[v("animate",{attributeName:"fill-opacity",begin:"100ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"52.5",cy:"12.5",r:"12.5"},[v("animate",{attributeName:"fill-opacity",begin:"300ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"52.5",cy:"52.5",r:"12.5"},[v("animate",{attributeName:"fill-opacity",begin:"600ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"92.5",cy:"12.5",r:"12.5"},[v("animate",{attributeName:"fill-opacity",begin:"800ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"92.5",cy:"52.5",r:"12.5"},[v("animate",{attributeName:"fill-opacity",begin:"400ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"12.5",cy:"92.5",r:"12.5"},[v("animate",{attributeName:"fill-opacity",begin:"700ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"52.5",cy:"92.5",r:"12.5"},[v("animate",{attributeName:"fill-opacity",begin:"500ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"92.5",cy:"92.5",r:"12.5"},[v("animate",{attributeName:"fill-opacity",begin:"200ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})])];var jL=we({name:"QSpinnerGrid",props:qt,setup(e){const{cSize:t,classes:n}=Vt(e);return()=>v("svg",{class:n.value,fill:"currentColor",width:t.value,height:t.value,viewBox:"0 0 105 105",xmlns:"http://www.w3.org/2000/svg"},$L)}});const QL=[v("path",{d:"M30.262 57.02L7.195 40.723c-5.84-3.976-7.56-12.06-3.842-18.063 3.715-6 11.467-7.65 17.306-3.68l4.52 3.76 2.6-5.274c3.716-6.002 11.47-7.65 17.304-3.68 5.84 3.97 7.56 12.054 3.842 18.062L34.49 56.118c-.897 1.512-2.793 1.915-4.228.9z","fill-opacity":".5"},[v("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.4s",values:"0.5;1;0.5",calcMode:"linear",repeatCount:"indefinite"})]),v("path",{d:"M105.512 56.12l-14.44-24.272c-3.716-6.008-1.996-14.093 3.843-18.062 5.835-3.97 13.588-2.322 17.306 3.68l2.6 5.274 4.52-3.76c5.84-3.97 13.593-2.32 17.308 3.68 3.718 6.003 1.998 14.088-3.842 18.064L109.74 57.02c-1.434 1.014-3.33.61-4.228-.9z","fill-opacity":".5"},[v("animate",{attributeName:"fill-opacity",begin:"0.7s",dur:"1.4s",values:"0.5;1;0.5",calcMode:"linear",repeatCount:"indefinite"})]),v("path",{d:"M67.408 57.834l-23.01-24.98c-5.864-6.15-5.864-16.108 0-22.248 5.86-6.14 15.37-6.14 21.234 0L70 16.168l4.368-5.562c5.863-6.14 15.375-6.14 21.235 0 5.863 6.14 5.863 16.098 0 22.247l-23.007 24.98c-1.43 1.556-3.757 1.556-5.188 0z"})];var YL=we({name:"QSpinnerHearts",props:qt,setup(e){const{cSize:t,classes:n}=Vt(e);return()=>v("svg",{class:n.value,fill:"currentColor",width:t.value,height:t.value,viewBox:"0 0 140 64",xmlns:"http://www.w3.org/2000/svg"},QL)}});const XL=[v("g",[v("path",{fill:"none",stroke:"currentColor","stroke-width":"5","stroke-miterlimit":"10",d:"M58.4,51.7c-0.9-0.9-1.4-2-1.4-2.3s0.5-0.4,1.4-1.4 C70.8,43.8,79.8,30.5,80,15.5H70H30H20c0.2,15,9.2,28.1,21.6,32.3c0.9,0.9,1.4,1.2,1.4,1.5s-0.5,1.6-1.4,2.5 C29.2,56.1,20.2,69.5,20,85.5h10h40h10C79.8,69.5,70.8,55.9,58.4,51.7z"}),v("clipPath",{id:"uil-hourglass-clip1"},[v("rect",{x:"15",y:"20",width:" 70",height:"25"},[v("animate",{attributeName:"height",from:"25",to:"0",dur:"1s",repeatCount:"indefinite",values:"25;0;0",keyTimes:"0;0.5;1"}),v("animate",{attributeName:"y",from:"20",to:"45",dur:"1s",repeatCount:"indefinite",values:"20;45;45",keyTimes:"0;0.5;1"})])]),v("clipPath",{id:"uil-hourglass-clip2"},[v("rect",{x:"15",y:"55",width:" 70",height:"25"},[v("animate",{attributeName:"height",from:"0",to:"25",dur:"1s",repeatCount:"indefinite",values:"0;25;25",keyTimes:"0;0.5;1"}),v("animate",{attributeName:"y",from:"80",to:"55",dur:"1s",repeatCount:"indefinite",values:"80;55;55",keyTimes:"0;0.5;1"})])]),v("path",{d:"M29,23c3.1,11.4,11.3,19.5,21,19.5S67.9,34.4,71,23H29z","clip-path":"url(#uil-hourglass-clip1)",fill:"currentColor"}),v("path",{d:"M71.6,78c-3-11.6-11.5-20-21.5-20s-18.5,8.4-21.5,20H71.6z","clip-path":"url(#uil-hourglass-clip2)",fill:"currentColor"}),v("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"180 50 50",repeatCount:"indefinite",dur:"1s",values:"0 50 50;0 50 50;180 50 50",keyTimes:"0;0.7;1"})])];var ZL=we({name:"QSpinnerHourglass",props:qt,setup(e){const{cSize:t,classes:n}=Vt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},XL)}});const KL=[v("path",{d:"M24.3,30C11.4,30,5,43.3,5,50s6.4,20,19.3,20c19.3,0,32.1-40,51.4-40C88.6,30,95,43.3,95,50s-6.4,20-19.3,20C56.4,70,43.6,30,24.3,30z",fill:"none",stroke:"currentColor","stroke-width":"8","stroke-dasharray":"10.691205342610678 10.691205342610678","stroke-dashoffset":"0"},[v("animate",{attributeName:"stroke-dashoffset",from:"0",to:"21.382410685221355",begin:"0",dur:"2s",repeatCount:"indefinite",fill:"freeze"})])];var JL=we({name:"QSpinnerInfinity",props:qt,setup(e){const{cSize:t,classes:n}=Vt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},KL)}});const e3=[v("g",{"stroke-width":"4","stroke-linecap":"round"},[v("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(180)"},[v("animate",{attributeName:"stroke-opacity",dur:"750ms",values:"1;.85;.7;.65;.55;.45;.35;.25;.15;.1;0;1",repeatCount:"indefinite"})]),v("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(210)"},[v("animate",{attributeName:"stroke-opacity",dur:"750ms",values:"0;1;.85;.7;.65;.55;.45;.35;.25;.15;.1;0",repeatCount:"indefinite"})]),v("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(240)"},[v("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".1;0;1;.85;.7;.65;.55;.45;.35;.25;.15;.1",repeatCount:"indefinite"})]),v("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(270)"},[v("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".15;.1;0;1;.85;.7;.65;.55;.45;.35;.25;.15",repeatCount:"indefinite"})]),v("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(300)"},[v("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".25;.15;.1;0;1;.85;.7;.65;.55;.45;.35;.25",repeatCount:"indefinite"})]),v("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(330)"},[v("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".35;.25;.15;.1;0;1;.85;.7;.65;.55;.45;.35",repeatCount:"indefinite"})]),v("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(0)"},[v("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".45;.35;.25;.15;.1;0;1;.85;.7;.65;.55;.45",repeatCount:"indefinite"})]),v("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(30)"},[v("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".55;.45;.35;.25;.15;.1;0;1;.85;.7;.65;.55",repeatCount:"indefinite"})]),v("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(60)"},[v("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".65;.55;.45;.35;.25;.15;.1;0;1;.85;.7;.65",repeatCount:"indefinite"})]),v("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(90)"},[v("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".7;.65;.55;.45;.35;.25;.15;.1;0;1;.85;.7",repeatCount:"indefinite"})]),v("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(120)"},[v("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".85;.7;.65;.55;.45;.35;.25;.15;.1;0;1;.85",repeatCount:"indefinite"})]),v("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(150)"},[v("animate",{attributeName:"stroke-opacity",dur:"750ms",values:"1;.85;.7;.65;.55;.45;.35;.25;.15;.1;0;1",repeatCount:"indefinite"})])])];var t3=we({name:"QSpinnerIos",props:qt,setup(e){const{cSize:t,classes:n}=Vt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,stroke:"currentColor",fill:"currentColor",viewBox:"0 0 64 64"},e3)}});const n3=[v("circle",{cx:"50",cy:"50",r:"44",fill:"none","stroke-width":"4","stroke-opacity":".5",stroke:"currentColor"}),v("circle",{cx:"8",cy:"54",r:"6",fill:"currentColor","stroke-width":"3",stroke:"currentColor"},[v("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 48",to:"360 50 52",dur:"2s",repeatCount:"indefinite"})])];var i3=we({name:"QSpinnerOrbit",props:qt,setup(e){const{cSize:t,classes:n}=Vt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},n3)}});const o3=[v("g",{transform:"translate(1 1)","stroke-width":"2",fill:"none","fill-rule":"evenodd"},[v("circle",{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}),v("path",{d:"M36 18c0-9.94-8.06-18-18-18"},[v("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})])])];var r3=we({name:"QSpinnerOval",props:qt,setup(e){const{cSize:t,classes:n}=Vt(e);return()=>v("svg",{class:n.value,stroke:"currentColor",width:t.value,height:t.value,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg"},o3)}});const a3=[v("path",{d:"M0 50A50 50 0 0 1 50 0L50 50L0 50",fill:"currentColor",opacity:"0.5"},[v("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"0.8s",repeatCount:"indefinite"})]),v("path",{d:"M50 0A50 50 0 0 1 100 50L50 50L50 0",fill:"currentColor",opacity:"0.5"},[v("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"1.6s",repeatCount:"indefinite"})]),v("path",{d:"M100 50A50 50 0 0 1 50 100L50 50L100 50",fill:"currentColor",opacity:"0.5"},[v("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"2.4s",repeatCount:"indefinite"})]),v("path",{d:"M50 100A50 50 0 0 1 0 50L50 50L50 100",fill:"currentColor",opacity:"0.5"},[v("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"3.2s",repeatCount:"indefinite"})])];var s3=we({name:"QSpinnerPie",props:qt,setup(e){const{cSize:t,classes:n}=Vt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},a3)}});const l3=[v("g",{fill:"none","fill-rule":"evenodd","stroke-width":"2"},[v("circle",{cx:"22",cy:"22",r:"1"},[v("animate",{attributeName:"r",begin:"0s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),v("animate",{attributeName:"stroke-opacity",begin:"0s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})]),v("circle",{cx:"22",cy:"22",r:"1"},[v("animate",{attributeName:"r",begin:"-0.9s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),v("animate",{attributeName:"stroke-opacity",begin:"-0.9s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})])])];var c3=we({name:"QSpinnerPuff",props:qt,setup(e){const{cSize:t,classes:n}=Vt(e);return()=>v("svg",{class:n.value,stroke:"currentColor",width:t.value,height:t.value,viewBox:"0 0 44 44",xmlns:"http://www.w3.org/2000/svg"},l3)}});const u3=[v("g",{transform:"scale(0.55)"},[v("circle",{cx:"30",cy:"150",r:"30",fill:"currentColor"},[v("animate",{attributeName:"opacity",from:"0",to:"1",dur:"1s",begin:"0",repeatCount:"indefinite",keyTimes:"0;0.5;1",values:"0;1;1"})]),v("path",{d:"M90,150h30c0-49.7-40.3-90-90-90v30C63.1,90,90,116.9,90,150z",fill:"currentColor"},[v("animate",{attributeName:"opacity",from:"0",to:"1",dur:"1s",begin:"0.1",repeatCount:"indefinite",keyTimes:"0;0.5;1",values:"0;1;1"})]),v("path",{d:"M150,150h30C180,67.2,112.8,0,30,0v30C96.3,30,150,83.7,150,150z",fill:"currentColor"},[v("animate",{attributeName:"opacity",from:"0",to:"1",dur:"1s",begin:"0.2",repeatCount:"indefinite",keyTimes:"0;0.5;1",values:"0;1;1"})])])];var d3=we({name:"QSpinnerRadio",props:qt,setup(e){const{cSize:t,classes:n}=Vt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},u3)}});const h3=[v("g",{fill:"none","fill-rule":"evenodd",transform:"translate(1 1)","stroke-width":"2"},[v("circle",{cx:"22",cy:"22",r:"6"},[v("animate",{attributeName:"r",begin:"1.5s",dur:"3s",values:"6;22",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"stroke-opacity",begin:"1.5s",dur:"3s",values:"1;0",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"stroke-width",begin:"1.5s",dur:"3s",values:"2;0",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"22",cy:"22",r:"6"},[v("animate",{attributeName:"r",begin:"3s",dur:"3s",values:"6;22",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"stroke-opacity",begin:"3s",dur:"3s",values:"1;0",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"stroke-width",begin:"3s",dur:"3s",values:"2;0",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"22",cy:"22",r:"8"},[v("animate",{attributeName:"r",begin:"0s",dur:"1.5s",values:"6;1;2;3;4;5;6",calcMode:"linear",repeatCount:"indefinite"})])])];var f3=we({name:"QSpinnerRings",props:qt,setup(e){const{cSize:t,classes:n}=Vt(e);return()=>v("svg",{class:n.value,stroke:"currentColor",width:t.value,height:t.value,viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg"},h3)}});const p3=[v("defs",[v("linearGradient",{x1:"8.042%",y1:"0%",x2:"65.682%",y2:"23.865%",id:"a"},[v("stop",{"stop-color":"currentColor","stop-opacity":"0",offset:"0%"}),v("stop",{"stop-color":"currentColor","stop-opacity":".631",offset:"63.146%"}),v("stop",{"stop-color":"currentColor",offset:"100%"})])]),v("g",{transform:"translate(1 1)",fill:"none","fill-rule":"evenodd"},[v("path",{d:"M36 18c0-9.94-8.06-18-18-18",stroke:"url(#a)","stroke-width":"2"},[v("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"})]),v("circle",{fill:"currentColor",cx:"36",cy:"18",r:"1"},[v("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"})])])];var m3=we({name:"QSpinnerTail",props:qt,setup(e){const{cSize:t,classes:n}=Vt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg"},p3)}}),v3=we({name:"QSplitter",props:ye(V({},ht),{modelValue:{type:Number,required:!0},reverse:Boolean,unit:{type:String,default:"%",validator:e=>["%","px"].includes(e)},limits:{type:Array,validator:e=>e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"&&e[0]>=0&&e[0]<=e[1]},emitImmediately:Boolean,horizontal:Boolean,disable:Boolean,beforeClass:[Array,String,Object],afterClass:[Array,String,Object],separatorClass:[Array,String,Object],separatorStyle:[Array,String,Object]}),emits:["update:modelValue"],setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=Ne(),o=ft(e,i),r=K(null),a={before:K(null),after:K(null)},s=S(()=>`q-splitter no-wrap ${e.horizontal===!0?"q-splitter--horizontal column":"q-splitter--vertical row"} q-splitter--${e.disable===!0?"disabled":"workable"}`+(o.value===!0?" q-splitter--dark":"")),l=S(()=>e.horizontal===!0?"height":"width"),c=S(()=>e.reverse!==!0?"before":"after"),u=S(()=>e.limits!==void 0?e.limits:e.unit==="%"?[10,90]:[50,1/0]);function d(M){return(e.unit==="%"?M:Math.round(M))+e.unit}const f=S(()=>({[c.value]:{[l.value]:d(e.modelValue)}}));let h,p,y,b,g;function m(M){if(M.isFirst===!0){const T=r.value.getBoundingClientRect()[l.value];return h=e.horizontal===!0?"up":"left",p=e.unit==="%"?100:T,y=Math.min(p,u.value[1],Math.max(u.value[0],e.modelValue)),b=(e.reverse!==!0?1:-1)*(e.horizontal===!0?1:i.lang.rtl===!0?-1:1)*(e.unit==="%"?T===0?0:100/T:1),void r.value.classList.add("q-splitter--active")}if(M.isFinal===!0)return g!==e.modelValue&&n("update:modelValue",g),void r.value.classList.remove("q-splitter--active");const w=y+b*(M.direction===h?-1:1)*M.distance[e.horizontal===!0?"y":"x"];g=Math.min(p,u.value[1],Math.max(u.value[0],w)),a[c.value].value.style[l.value]=d(g),e.emitImmediately===!0&&e.modelValue!==g&&n("update:modelValue",g)}const _=S(()=>[[Vn,m,void 0,{[e.horizontal===!0?"vertical":"horizontal"]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function x(M,w){M<w[0]?n("update:modelValue",w[0]):M>w[1]&&n("update:modelValue",w[1])}return Me(()=>e.modelValue,M=>{x(M,u.value)}),Me(()=>e.limits,()=>{st(()=>{x(e.modelValue,u.value)})}),()=>{const M=[v("div",{ref:a.before,class:["q-splitter__panel q-splitter__before"+(e.reverse===!0?" col":""),e.beforeClass],style:f.value.before},je(t.before)),v("div",{class:["q-splitter__separator",e.separatorClass],style:e.separatorStyle,"aria-disabled":e.disable===!0?"true":void 0},[Kn("div",{class:"q-splitter__separator-area absolute-full"},je(t.separator),"sep",e.disable!==!0,()=>_.value)]),v("div",{ref:a.after,class:["q-splitter__panel q-splitter__after"+(e.reverse===!0?"":" col"),e.afterClass],style:f.value.after},je(t.after))];return v("div",{class:s.value,ref:r},zt(t.default,M))}}}),Px=we({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:t}){const{proxy:{$q:n}}=Ne(),i=K(null),o=S(()=>e.stepper.modelValue===e.step.name),r=S(()=>{const b=e.step.disable;return b===!0||b===""}),a=S(()=>{const b=e.step.error;return b===!0||b===""}),s=S(()=>{const b=e.step.done;return r.value===!1&&(b===!0||b==="")}),l=S(()=>{const b=e.step.headerNav,g=b===!0||b===""||b===void 0;return r.value===!1&&e.stepper.headerNav&&g}),c=S(()=>e.step.prefix&&(o.value===!1||e.stepper.activeIcon==="none")&&(a.value===!1||e.stepper.errorIcon==="none")&&(s.value===!1||e.stepper.doneIcon==="none")),u=S(()=>{const b=e.step.icon||e.stepper.inactiveIcon;if(o.value===!0){const g=e.step.activeIcon||e.stepper.activeIcon;return g==="none"?b:g||n.iconSet.stepper.active}if(a.value===!0){const g=e.step.errorIcon||e.stepper.errorIcon;return g==="none"?b:g||n.iconSet.stepper.error}if(r.value===!1&&s.value===!0){const g=e.step.doneIcon||e.stepper.doneIcon;return g==="none"?b:g||n.iconSet.stepper.done}return b}),d=S(()=>{const b=a.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(o.value===!0){const g=e.step.activeColor||e.stepper.activeColor||e.step.color;return g!==void 0?g:b}return b!==void 0?b:r.value===!1&&s.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),f=S(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(d.value!==void 0?` text-${d.value}`:"")+(a.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(c.value===!0?"prefix":"icon"):"")+(o.value===!0?" q-stepper__tab--active":"")+(s.value===!0?" q-stepper__tab--done":"")+(l.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(r.value===!0?" q-stepper__tab--disabled":"")),h=S(()=>e.stepper.headerNav===!0&&l.value);function p(){i.value!==null&&i.value.focus(),o.value===!1&&e.goToPanel(e.step.name)}function y(b){b.keyCode===13&&o.value===!1&&e.goToPanel(e.step.name)}return()=>{const b={class:f.value};l.value===!0&&(b.onClick=p,b.onKeyup=y,Object.assign(b,r.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:t.tabindex||0}));const g=[v("div",{class:"q-focus-helper",tabindex:-1,ref:i}),v("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[v("span",{class:"row flex-center"},[c.value===!0?e.step.prefix:v(dt,{name:u.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const m=[v("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&m.push(v("div",{class:"q-stepper__caption"},e.step.caption)),g.push(v("div",{class:"q-stepper__label q-stepper__line relative-position"},m))}return ci(v("div",b,g),[[ll,h.value]])}}});function Rx(e){return v("div",{class:"q-stepper__step-content"},[v("div",{class:"q-stepper__step-inner"},je(e.default))])}const Iv={setup(e,{slots:t}){return()=>Rx(t)}};var g3=we({name:"QStep",props:ye(V({},Uf),{icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean}),setup(e,{attrs:t,slots:n}){const{proxy:{$q:i}}=Ne(),o=Pn(Dy,()=>{console.error("QStep needs to be child of QStepper")}),{getCacheWithFn:r}=dl(),a=K(null),s=S(()=>o.value.modelValue===e.name),l=S(()=>i.platform.is.ios!==!0&&i.platform.is.chrome===!0||s.value!==!0||o.value.vertical!==!0?{}:{onScroll(d){const{target:f}=d;f.scrollTop>0&&(f.scrollTop=0),t.onScroll!==void 0&&t.onScroll(d)}}),c=S(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function u(){const d=o.value.vertical;return d===!0&&o.value.keepAlive===!0?v(Yv,o.value.keepAliveProps.value,s.value===!0?[v(o.value.needsUniqueKeepAliveWrapper.value===!0?r(c.value,()=>ye(V({},Iv),{name:c.value})):Iv,{key:c.value},n.default)]:void 0):d!==!0||s.value===!0?Rx(n):void 0}return()=>v("div",V({ref:a,class:"q-stepper__step"},l.value),o.value.vertical===!0?[v(Px,{stepper:o.value,step:e,goToPanel:o.value.goToPanel}),o.value.animated===!0?v(Bu,u):u()]:[u()])}});const y3=/(-\w)/g;function b3(e){const t={};for(const n in e){const i=n.replace(y3,o=>o[1].toUpperCase());t[i]=e[n]}return t}var x3=we({name:"QStepper",props:ye(V(V({},ht),Gf),{flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String}),emits:Wf,setup(e,{slots:t}){const n=Ne(),i=ft(e,n.proxy.$q),{updatePanelsList:o,isValidPanelName:r,updatePanelIndex:a,getPanelContent:s,getPanels:l,panelDirectives:c,goToPanel:u,keepAliveProps:d,needsUniqueKeepAliveWrapper:f}=$f();Ro(Dy,S(()=>V({goToPanel:u,keepAliveProps:d,needsUniqueKeepAliveWrapper:f},e)));const h=S(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0||i.value===!0?" q-stepper--flat no-shadow":"")+(e.bordered===!0||i.value===!0&&e.flat===!1?" q-stepper--bordered":"")+(i.value===!0?" q-stepper--dark q-dark":"")),p=S(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function y(){const b=je(t.message,[]);if(e.vertical===!0){r(e.modelValue)&&a();const g=v("div",{class:"q-stepper__content"},je(t.default));return b===void 0?[g]:b.concat(g)}return[v("div",{class:p.value},l().map(g=>{const m=b3(g.props);return v(Px,{key:m.name,stepper:e,step:m,goToPanel:u})})),b,Kn("div",{class:"q-stepper__content q-panel-parent"},s(),"cont",e.swipeable,()=>c.value)]}return()=>(o(t),v("div",{class:h.value},zt(t.navigation,y())))}}),_3=we({name:"QStepperNavigation",setup(e,{slots:t}){return()=>v("div",{class:"q-stepper__nav"},je(t.default))}}),kx=we({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:t,emit:n}){const i=Ne(),{proxy:{$q:o}}=i,r=a=>{n("click",a)};return()=>{if(e.props===void 0)return v("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:r},je(t.default));let a,s;const l=i.vnode.key;if(l){if(a=e.props.colsMap[l],a===void 0)return}else a=e.props.col;if(a.sortable===!0){const u=a.align==="right"?"unshift":"push";s=sl(t.default,[]),s[u](v(dt,{class:a.__iconClass,name:o.iconSet.table.arrowUp}))}else s=je(t.default);const c={class:a.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:a.headerStyle,onClick:u=>{a.sortable===!0&&e.props.sort(a),r(u)}};return v("th",c,s)}}});function Bx(e,t){return v("div",e,[v("table",{class:"q-table"},t)])}const w3={list:mx,table:vx},S3=["list","table","__qtable"];var Ix=we({name:"QVirtualScroll",props:ye(V({},Ex),{type:{type:String,default:"list",validator:e=>S3.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}}),setup(e,{slots:t,attrs:n}){let i;const o=K(null),r=S(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:a,localResetVirtualScroll:s,padVirtualScroll:l,onVirtualScrollEvt:c}=Ax({virtualScrollLength:r,getVirtualScrollTarget:p,getVirtualScrollEl:h}),u=S(()=>{if(r.value===0)return[];const m=(_,x)=>({index:a.value.from+x,item:_});return e.itemsFn===void 0?e.items.slice(a.value.from,a.value.to).map(m):e.itemsFn(a.value.from,a.value.to-a.value.from).map(m)}),d=S(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),f=S(()=>e.scrollTarget!==void 0?{}:{tabindex:0});function h(){return o.value.$el||o.value}function p(){return i}function y(){i=Ri(h(),e.scrollTarget),i.addEventListener("scroll",c,xt.passive)}function b(){i!==void 0&&(i.removeEventListener("scroll",c,xt.passive),i=void 0)}function g(){let m=l(e.type==="list"?"div":"tbody",u.value.map(t.default));return t.before!==void 0&&(m=t.before().concat(m)),zt(t.after,m)}return Me(r,()=>{s()}),Me(()=>e.scrollTarget,()=>{b(),y()}),Oh(()=>{s()}),$t(()=>{y()}),mr(()=>{y()}),pr(()=>{b()}),ct(()=>{b()}),()=>{if(t.default!==void 0)return e.type==="__qtable"?Bx({ref:o,class:"q-table__middle "+d.value},g()):v(w3[e.type],V(ye(V({},n),{ref:o,class:[n.class,d.value]}),f.value),g);console.error("QVirtualScroll: default scoped slot is required for rendering")}}});function M3(e,t){return new Date(e)-new Date(t)}const T3={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function C3(e,t,n,i){const o=S(()=>{const{sortBy:s}=t.value;return s&&n.value.find(l=>l.name===s)||null}),r=S(()=>e.sortMethod!==void 0?e.sortMethod:(s,l,c)=>{const u=n.value.find(h=>h.name===l);if(u===void 0||u.field===void 0)return s;const d=c===!0?-1:1,f=typeof u.field=="function"?h=>u.field(h):h=>h[u.field];return s.sort((h,p)=>{let y=f(h),b=f(p);return y==null?-1*d:b==null?1*d:u.sort!==void 0?u.sort(y,b,h,p)*d:Ws(y)===!0&&Ws(b)===!0?(y-b)*d:wh(y)===!0&&wh(b)===!0?M3(y,b)*d:typeof y=="boolean"&&typeof b=="boolean"?(y-b)*d:([y,b]=[y,b].map(g=>(g+"").toLocaleString().toLowerCase()),y<b?-1*d:y===b?0:d)})});function a(s){let l=e.columnSortOrder;if(Sn(s)===!0)s.sortOrder&&(l=s.sortOrder),s=s.name;else{const d=n.value.find(f=>f.name===s);d!==void 0&&d.sortOrder&&(l=d.sortOrder)}let{sortBy:c,descending:u}=t.value;c!==s?(c=s,u=l==="da"):e.binaryStateSort===!0?u=!u:u===!0?l==="ad"?c=null:u=!1:l==="ad"?u=!0:c=null,i({sortBy:c,descending:u,page:1})}return{columnToSort:o,computedSortMethod:r,sort:a}}const E3={filter:[String,Object],filterMethod:Function};function A3(e,t){const n=S(()=>e.filterMethod!==void 0?e.filterMethod:(i,o,r,a)=>{const s=o?o.toLowerCase():"";return i.filter(l=>r.some(c=>{const u=a(c,l)+"";return(u==="undefined"||u==="null"?"":u.toLowerCase()).indexOf(s)!==-1}))});return Me(()=>e.filter,()=>{st(()=>{t({page:1},!0)})},{deep:!0}),{computedFilterMethod:n}}function L3(e,t){for(const n in t)if(t[n]!==e[n])return!1;return!0}function Fv(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const P3={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function R3(e,t){const{props:n,emit:i}=e,o=K(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:n.rowsPerPageOptions.length>0?n.rowsPerPageOptions[0]:5},n.pagination)),r=S(()=>{const u=n["onUpdate:pagination"]!==void 0?V(V({},o.value),n.pagination):o.value;return Fv(u)}),a=S(()=>r.value.rowsNumber!==void 0);function s(u){l({pagination:u,filter:n.filter})}function l(u={}){st(()=>{i("request",{pagination:u.pagination||r.value,filter:u.filter||n.filter,getCellValue:t})})}function c(u,d){const f=Fv(V(V({},r.value),u));L3(r.value,f)!==!0?a.value!==!0?n.pagination!==void 0&&n["onUpdate:pagination"]!==void 0?i("update:pagination",f):o.value=f:s(f):a.value===!0&&d===!0&&s(f)}return{innerPagination:o,computedPagination:r,isServerSide:a,requestServerInteraction:l,setPagination:c}}function k3(e,t,n,i,o,r){const{props:a,emit:s,proxy:{$q:l}}=e,c=S(()=>i.value===!0?n.value.rowsNumber||0:r.value),u=S(()=>{const{page:x,rowsPerPage:M}=n.value;return(x-1)*M}),d=S(()=>{const{page:x,rowsPerPage:M}=n.value;return x*M}),f=S(()=>n.value.page===1),h=S(()=>n.value.rowsPerPage===0?1:Math.max(1,Math.ceil(c.value/n.value.rowsPerPage))),p=S(()=>d.value===0||n.value.page>=h.value),y=S(()=>(a.rowsPerPageOptions.includes(t.value.rowsPerPage)?a.rowsPerPageOptions:[t.value.rowsPerPage].concat(a.rowsPerPageOptions)).map(M=>({label:M===0?l.lang.table.allRows:""+M,value:M})));function b(){o({page:1})}function g(){const{page:x}=n.value;x>1&&o({page:x-1})}function m(){const{page:x,rowsPerPage:M}=n.value;d.value>0&&x*M<c.value&&o({page:x+1})}function _(){o({page:h.value})}return Me(h,(x,M)=>{if(x===M)return;const w=n.value.page;x&&!w?o({page:1}):x<w&&o({page:x})}),a["onUpdate:pagination"]!==void 0&&s("update:pagination",V({},n.value)),{firstRowIndex:u,lastRowIndex:d,isFirstPage:f,isLastPage:p,pagesNumber:h,computedRowsPerPageOptions:y,computedRowsNumber:c,firstPage:b,prevPage:g,nextPage:m,lastPage:_}}const B3={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},I3=["update:selected","selection"];function F3(e,t,n,i){const o=S(()=>{const p={};return e.selected.map(i.value).forEach(y=>{p[y]=!0}),p}),r=S(()=>e.selection!=="none"),a=S(()=>e.selection==="single"),s=S(()=>e.selection==="multiple"),l=S(()=>n.value.length>0&&n.value.every(p=>o.value[i.value(p)]===!0)),c=S(()=>l.value!==!0&&n.value.some(p=>o.value[i.value(p)]===!0)),u=S(()=>e.selected.length);function d(p){return o.value[p]===!0}function f(){t("update:selected",[])}function h(p,y,b,g){t("selection",{rows:y,added:b,keys:p,evt:g});const m=a.value===!0?b===!0?y:[]:b===!0?e.selected.concat(y):e.selected.filter(_=>p.includes(i.value(_))===!1);t("update:selected",m)}return{hasSelectionMode:r,singleSelection:a,multipleSelection:s,allRowsSelected:l,someRowsSelected:c,rowsSelectedNumber:u,isRowSelected:d,clearSelection:f,updateSelection:h}}function Ov(e){return Array.isArray(e)?e.slice():[]}const O3={expanded:Array},N3=["update:expanded"];function D3(e,t){const n=K(Ov(e.expanded));function i(a){return n.value.includes(a)}function o(a){e.expanded!==void 0?t("update:expanded",a):n.value=a}function r(a,s){const l=n.value.slice(),c=l.indexOf(a);s===!0?c===-1&&(l.push(a),o(l)):c!==-1&&(l.splice(c,1),o(l))}return Me(()=>e.expanded,a=>{n.value=Ov(a)}),{isRowExpanded:i,setExpanded:o,updateExpanded:r}}const z3={visibleColumns:Array};function q3(e,t,n){const i=S(()=>{if(e.columns!==void 0)return e.columns;const s=e.rows[0];return s!==void 0?Object.keys(s).map(l=>({name:l,label:l.toUpperCase(),field:l,align:Ws(s[l])?"right":"left",sortable:!0})):[]}),o=S(()=>{const{sortBy:s,descending:l}=t.value;return(e.visibleColumns!==void 0?i.value.filter(u=>u.required===!0||e.visibleColumns.includes(u.name)===!0):i.value).map(u=>{const d=u.align||"right",f=`text-${d}`;return ye(V({},u),{align:d,__iconClass:`q-table__sort-icon q-table__sort-icon--${d}`,__thClass:f+(u.headerClasses!==void 0?" "+u.headerClasses:"")+(u.sortable===!0?" sortable":"")+(u.name===s?` sorted ${l===!0?"sort-desc":""}`:""),__tdStyle:u.style!==void 0?typeof u.style!="function"?()=>u.style:u.style:()=>null,__tdClass:u.classes!==void 0?typeof u.classes!="function"?()=>f+" "+u.classes:h=>f+" "+u.classes(h):()=>f})})}),r=S(()=>{const s={};return o.value.forEach(l=>{s[l.name]=l}),s}),a=S(()=>e.tableColspan!==void 0?e.tableColspan:o.value.length+(n.value===!0?1:0));return{colList:i,computedCols:o,computedColsMap:r,computedColspan:a}}const vc="q-table__bottom row items-center",Fx={};Cx.forEach(e=>{Fx[e]={}});var V3=we({name:"QTable",props:V(V(V(V(V(V(V(V(ye(V({rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0}},Fx),{noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function}),ht),jf),z3),E3),P3),O3),B3),T3),emits:["request","virtual-scroll",...Qf,...N3,...I3],setup(e,{slots:t,emit:n}){const i=Ne(),{proxy:{$q:o}}=i,r=ft(e,o),{inFullscreen:a,toggleFullscreen:s}=Yf(),l=S(()=>typeof e.rowKey=="function"?e.rowKey:xe=>xe[e.rowKey]),c=K(null),u=K(null),d=S(()=>e.grid!==!0&&e.virtualScroll===!0),f=S(()=>" q-table__card"+(r.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),h=S(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":f.value)+(r.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(a.value===!0?" fullscreen scroll":"")),p=S(()=>h.value+(e.loading===!0?" q-table--loading":""));Me(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+h.value,()=>{d.value===!0&&u.value!==null&&u.value.reset()});const{innerPagination:y,computedPagination:b,isServerSide:g,requestServerInteraction:m,setPagination:_}=R3(i,Se),{computedFilterMethod:x}=A3(e,_),{isRowExpanded:M,setExpanded:w,updateExpanded:T}=D3(e,n),B=S(()=>{let xe=e.rows;if(g.value===!0||xe.length===0)return xe;const{sortBy:Oe,descending:N}=b.value;return e.filter&&(xe=x.value(xe,e.filter,ee.value,Se)),J.value!==null&&(xe=te.value(e.rows===xe?xe.slice():xe,Oe,N)),xe}),D=S(()=>B.value.length),z=S(()=>{let xe=B.value;if(g.value===!0)return xe;const{rowsPerPage:Oe}=b.value;return Oe!==0&&(de.value===0&&e.rows!==xe?xe.length>ne.value&&(xe=xe.slice(0,ne.value)):xe=xe.slice(de.value,ne.value)),xe}),{hasSelectionMode:A,singleSelection:O,multipleSelection:C,allRowsSelected:P,someRowsSelected:L,rowsSelectedNumber:q,isRowSelected:F,clearSelection:j,updateSelection:G}=F3(e,n,z,l),{colList:Y,computedCols:ee,computedColsMap:U,computedColspan:oe}=q3(e,b,A),{columnToSort:J,computedSortMethod:te,sort:ve}=C3(e,b,Y,_),{firstRowIndex:de,lastRowIndex:ne,isFirstPage:E,isLastPage:$,pagesNumber:he,computedRowsPerPageOptions:ie,computedRowsNumber:fe,firstPage:pe,prevPage:Pe,nextPage:_e,lastPage:R}=k3(i,y,b,g,_,D),k=S(()=>z.value.length===0),re=S(()=>{const xe={};return Cx.forEach(Oe=>{xe[Oe]=e[Oe]}),xe.virtualScrollItemSize===void 0&&(xe.virtualScrollItemSize=e.dense===!0?28:48),xe});function ue(){d.value===!0&&u.value.reset()}function W(){if(e.grid===!0)return kn();const xe=e.hideHeader!==!0?Ze:null;if(d.value===!0){const N=t["top-row"],se=t["bottom-row"],ce={default:be=>Ce(be.item,t.body,be.index)};if(N!==void 0){const be=v("tbody",N({cols:ee.value}));ce.before=xe===null?()=>be:()=>[xe()].concat(be)}else xe!==null&&(ce.before=xe);return se!==void 0&&(ce.after=()=>v("tbody",se({cols:ee.value}))),v(Ix,ye(V({ref:u,class:e.tableClass,style:e.tableStyle},re.value),{scrollTarget:e.virtualScrollTarget,items:z.value,type:"__qtable",tableColspan:oe.value,onVirtualScroll:me}),ce)}const Oe=[Ie()];return xe!==null&&Oe.unshift(xe()),Bx({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},Oe)}function X(xe,Oe){if(u.value!==null)return void u.value.scrollTo(xe,Oe);xe=parseInt(xe,10);const N=c.value.querySelector(`tbody tr:nth-of-type(${xe+1})`);if(N!==null){const se=c.value.querySelector(".q-table__middle.scroll"),{offsetTop:ce}=N,be=ce<se.scrollTop?"decrease":"increase";se.scrollTop=ce,n("virtual-scroll",{index:xe,from:0,to:y.value.rowsPerPage-1,direction:be})}}function me(xe){n("virtual-scroll",xe)}function Te(){return[v(Sx,{class:"q-table__linear-progress",color:e.color,dark:r.value,indeterminate:!0,trackColor:"transparent"})]}function Ce(xe,Oe,N){const se=l.value(xe),ce=F(se);if(Oe!==void 0)return Oe(ze({key:se,row:xe,pageIndex:N,__trClass:ce?"selected":""}));const be=t["body-cell"],I=ee.value.map(ae=>{const Le=t[`body-cell-${ae.name}`],Ee=Le!==void 0?Le:be;return Ee!==void 0?Ee($e({key:se,row:xe,pageIndex:N,col:ae})):v("td",{class:ae.__tdClass(xe),style:ae.__tdStyle(xe)},Se(ae,xe))});if(A.value===!0){const ae=t["body-selection"],Le=ae!==void 0?ae(Fe({key:se,row:xe,pageIndex:N})):[v(ua,{modelValue:ce,color:e.color,dark:r.value,dense:e.dense,"onUpdate:modelValue":(Ee,Ke)=>{G([se],[xe],Ee,Ke)}})];I.unshift(v("td",{class:"q-table--col-auto-width"},Le))}const Q={key:se,class:{selected:ce}};return e.onRowClick!==void 0&&(Q.class["cursor-pointer"]=!0,Q.onClick=ae=>{n("RowClick",ae,xe,N)}),e.onRowDblclick!==void 0&&(Q.class["cursor-pointer"]=!0,Q.onDblclick=ae=>{n("RowDblclick",ae,xe,N)}),e.onRowContextmenu!==void 0&&(Q.class["cursor-pointer"]=!0,Q.onContextmenu=ae=>{n("RowContextmenu",ae,xe,N)}),v("tr",Q,I)}function Ie(){const xe=t.body,Oe=t["top-row"],N=t["bottom-row"];let se=z.value.map((ce,be)=>Ce(ce,xe,be));return Oe!==void 0&&(se=Oe({cols:ee.value}).concat(se)),N!==void 0&&(se=se.concat(N({cols:ee.value}))),v("tbody",se)}function ze(xe){return le(xe),xe.cols=xe.cols.map(Oe=>{const N=V({},Oe);return Ln(N,"value",()=>Se(Oe,xe.row)),N}),xe}function $e(xe){return le(xe),Ln(xe,"value",()=>Se(xe.col,xe.row)),xe}function Fe(xe){return le(xe),xe}function le(xe){Object.assign(xe,{cols:ee.value,colsMap:U.value,sort:ve,rowIndex:de.value+xe.pageIndex,color:e.color,dark:r.value,dense:e.dense}),A.value===!0&&Ln(xe,"selected",()=>F(xe.key),(Oe,N)=>{G([xe.key],[xe.row],Oe,N)}),Ln(xe,"expand",()=>M(xe.key),Oe=>{T(xe.key,Oe)})}function Se(xe,Oe){const N=typeof xe.field=="function"?xe.field(Oe):Oe[xe.field];return xe.format!==void 0?xe.format(N,Oe):N}const De=S(()=>({pagination:b.value,pagesNumber:he.value,isFirstPage:E.value,isLastPage:$.value,firstPage:pe,prevPage:Pe,nextPage:_e,lastPage:R,inFullscreen:a.value,toggleFullscreen:s}));function ge(){const xe=t.top,Oe=t["top-left"],N=t["top-right"],se=t["top-selection"],ce=A.value===!0&&se!==void 0&&q.value>0,be="q-table__top relative-position row items-center";if(xe!==void 0)return v("div",{class:be},[xe(De.value)]);let I;return ce===!0?I=se(De.value).slice():(I=[],Oe!==void 0?I.push(v("div",{class:"q-table-control"},[Oe(De.value)])):e.title&&I.push(v("div",{class:"q-table__control"},[v("div",{class:["q-table__title",e.titleClass]},e.title)]))),N!==void 0&&(I.push(v("div",{class:"q-table__separator col"})),I.push(v("div",{class:"q-table__control"},[N(De.value)]))),I.length!==0?v("div",{class:be},I):void 0}const Be=S(()=>L.value===!0?null:P.value);function Ze(){const xe=Ge();return e.loading===!0&&t.loading===void 0&&xe.push(v("tr",{class:"q-table__progress"},[v("th",{class:"relative-position",colspan:oe.value},Te())])),v("thead",xe)}function Ge(){const xe=t.header,Oe=t["header-cell"];if(xe!==void 0)return xe(et({header:!0})).slice();const N=ee.value.map(se=>{const ce=t[`header-cell-${se.name}`],be=ce!==void 0?ce:Oe,I=et({col:se});return be!==void 0?be(I):v(kx,{key:se.name,props:I},()=>se.label)});if(O.value===!0&&e.grid!==!0)N.unshift(v("th",{class:"q-table--col-auto-width"}," "));else if(C.value===!0){const se=t["header-selection"],ce=se!==void 0?se(et({})):[v(ua,{color:e.color,modelValue:Be.value,dark:r.value,dense:e.dense,"onUpdate:modelValue":pt})];N.unshift(v("th",{class:"q-table--col-auto-width"},ce))}return[v("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},N)]}function et(xe){return Object.assign(xe,{cols:ee.value,sort:ve,colsMap:U.value,color:e.color,dark:r.value,dense:e.dense}),C.value===!0&&Ln(xe,"selected",()=>Be.value,pt),xe}function pt(xe){L.value===!0&&(xe=!1),G(z.value.map(l.value),z.value,xe)}const Et=S(()=>{const xe=[e.iconFirstPage||o.iconSet.table.firstPage,e.iconPrevPage||o.iconSet.table.prevPage,e.iconNextPage||o.iconSet.table.nextPage,e.iconLastPage||o.iconSet.table.lastPage];return o.lang.rtl===!0?xe.reverse():xe});function Tt(){if(e.hideBottom===!0)return;if(k.value===!0){if(e.hideNoData===!0)return;const N=e.loading===!0?e.loadingLabel||o.lang.table.loading:e.filter?e.noResultsLabel||o.lang.table.noResults:e.noDataLabel||o.lang.table.noData,se=t["no-data"],ce=se!==void 0?[se({message:N,icon:o.iconSet.table.warning,filter:e.filter})]:[v(dt,{class:"q-table__bottom-nodata-icon",name:o.iconSet.table.warning}),N];return v("div",{class:vc+" q-table__bottom--nodata"},ce)}const xe=t.bottom;if(xe!==void 0)return v("div",{class:vc},[xe(De.value)]);const Oe=e.hideSelectedBanner!==!0&&A.value===!0&&q.value>0?[v("div",{class:"q-table__control"},[v("div",[(e.selectedRowsLabel||o.lang.table.selectedRecords)(q.value)])])]:[];return e.hidePagination!==!0?v("div",{class:vc+" justify-end"},dn(Oe)):Oe.length>0?v("div",{class:vc},Oe):void 0}function bn(xe){_({page:1,rowsPerPage:xe.value})}function dn(xe){let Oe;const{rowsPerPage:N}=b.value,se=e.paginationLabel||o.lang.table.pagination,ce=t.pagination,be=e.rowsPerPageOptions.length>1;if(xe.push(v("div",{class:"q-table__separator col"})),be===!0&&xe.push(v("div",{class:"q-table__control"},[v("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||o.lang.table.recordsPerPage]),v(Lx,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:N,options:ie.value,displayValue:N===0?o.lang.table.allRows:N,dark:r.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":bn})])),ce!==void 0)Oe=ce(De.value);else if(Oe=[v("span",N!==0?{class:"q-table__bottom-item"}:{},[N?se(de.value+1,Math.min(ne.value,fe.value),fe.value):se(1,D.value,fe.value)])],N!==0&&he.value>1){const I={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(I.size="sm"),he.value>2&&Oe.push(v(mt,ye(V({key:"pgFirst"},I),{icon:Et.value[0],disable:E.value,onClick:pe}))),Oe.push(v(mt,ye(V({key:"pgPrev"},I),{icon:Et.value[1],disable:E.value,onClick:Pe})),v(mt,ye(V({key:"pgNext"},I),{icon:Et.value[2],disable:$.value,onClick:_e}))),he.value>2&&Oe.push(v(mt,ye(V({key:"pgLast"},I),{icon:Et.value[3],disable:$.value,onClick:R})))}return xe.push(v("div",{class:"q-table__control"},Oe)),xe}function Yt(){const xe=e.gridHeader===!0?[v("table",{class:"q-table"},[Ze()])]:e.loading===!0&&t.loading===void 0?Te():void 0;return v("div",{class:"q-table__middle"},xe)}function kn(){const xe=t.item!==void 0?t.item:Oe=>{const N=Oe.cols.map(ce=>v("div",{class:"q-table__grid-item-row"},[v("div",{class:"q-table__grid-item-title"},[ce.label]),v("div",{class:"q-table__grid-item-value"},[ce.value])]));if(A.value===!0){const ce=t["body-selection"],be=ce!==void 0?ce(Oe):[v(ua,{modelValue:Oe.selected,color:e.color,dark:r.value,dense:e.dense,"onUpdate:modelValue":(I,Q)=>{G([Oe.key],[Oe.row],I,Q)}})];N.unshift(v("div",{class:"q-table__grid-item-row"},be),v(Po,{dark:r.value}))}const se={class:["q-table__grid-item-card"+f.value,e.cardClass],style:e.cardStyle};return e.onRowClick===void 0&&e.onRowDblclick===void 0||(se.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(se.onClick=ce=>{n("RowClick",ce,Oe.row,Oe.pageIndex)}),e.onRowDblclick!==void 0&&(se.onDblclick=ce=>{n("RowDblclick",ce,Oe.row,Oe.pageIndex)})),v("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(Oe.selected===!0?" q-table__grid-item--selected":"")},[v("div",se,N)])};return v("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},z.value.map((Oe,N)=>xe(ze({key:l.value(Oe),row:Oe,pageIndex:N}))))}return Object.assign(i.proxy,{requestServerInteraction:m,setPagination:_,firstPage:pe,prevPage:Pe,nextPage:_e,lastPage:R,isRowSelected:F,clearSelection:j,isRowExpanded:M,setExpanded:w,sort:ve,resetVirtualScroll:ue,scrollTo:X,getCellValue:Se}),iE(i.proxy,{filteredSortedRows:()=>B.value,computedRows:()=>z.value,computedRowsNumber:()=>fe.value}),()=>{const xe=[ge()],Oe={ref:c,class:p.value};return e.grid===!0?xe.push(Yt()):Object.assign(Oe,{class:[Oe.class,e.cardClass],style:e.cardStyle}),xe.push(W(),Tt()),e.loading===!0&&t.loading!==void 0&&xe.push(t.loading()),v("div",Oe,xe)}}}),H3=we({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:t}){const n=S(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>v("tr",{class:n.value},je(t.default))}}),U3=we({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const n=Ne(),i=S(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return v("td",{class:i.value},je(t.default));const o=n.vnode.key,r=(e.props.colsMap!==void 0?e.props.colsMap[o]:null)||e.props.col;if(r===void 0)return;const{row:a}=e.props;return v("td",{class:i.value+r.__tdClass(a),style:r.__tdStyle(a)},je(t.default))}}}),G3=we({name:"QRouteTab",props:V(V({},Fa),Lb),emits:Ab,setup(e,{slots:t,emit:n}){const i=Lu(),{renderTab:o,$tabs:r}=Pb(e,t,n,V({exact:S(()=>e.exact)},i));return Me(()=>e.name+e.exact+(i.linkRoute.value||{}).href,()=>{r.verifyRouteModel()}),()=>o(i.linkTag.value,i.linkProps.value)}});function W3(e,t){if(e.hour!==null){if(e.minute===null)return"minute";if(t===!0&&e.second===null)return"second"}return"hour"}function $3(){const e=new Date;return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}}var j3=we({name:"QTime",props:ye(V(V(V({},ht),ei),Ob),{mask:{default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean}),emits:Nb,setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=Ne(),o=ft(e,i),{tabindex:r,headerClass:a,getLocale:s,getCurrentDate:l}=Db(e,i),c=ul(e),u=Bo(c);let d,f;const h=K(null),p=S(()=>J()),y=S(()=>s()),b=S(()=>te()),g=as(e.modelValue,p.value,y.value,e.calendar,b.value),m=K(W3(g)),_=K(g),x=K(g.hour===null||g.hour<12),M=S(()=>`q-time q-time--${e.landscape===!0?"landscape":"portrait"}`+(o.value===!0?" q-time--dark q-dark":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-time--readonly":"")+(e.bordered===!0?" q-time--bordered":"")+(e.square===!0?" q-time--square no-border-radius":"")+(e.flat===!0?" q-time--flat no-shadow":"")),w=S(()=>{const le=_.value;return{hour:le.hour===null?"--":T.value===!0?vt(le.hour):String(x.value===!0?le.hour===0?12:le.hour:le.hour>12?le.hour-12:le.hour),minute:le.minute===null?"--":vt(le.minute),second:le.second===null?"--":vt(le.second)}}),T=S(()=>e.format24h!==null?e.format24h:i.lang.date.format24h),B=S(()=>{const le=m.value==="hour",Se=le===!0?12:60,De=_.value[m.value];let Be=`rotate(${Math.round(De*(360/Se))-180}deg) translateX(-50%)`;return le===!0&&T.value===!0&&_.value.hour>=12&&(Be+=" scale(.7)"),{transform:Be}}),D=S(()=>_.value.hour!==null),z=S(()=>D.value===!0&&_.value.minute!==null),A=S(()=>e.hourOptions!==void 0?le=>e.hourOptions.includes(le):e.options!==void 0?le=>e.options(le,null,null):null),O=S(()=>e.minuteOptions!==void 0?le=>e.minuteOptions.includes(le):e.options!==void 0?le=>e.options(_.value.hour,le,null):null),C=S(()=>e.secondOptions!==void 0?le=>e.secondOptions.includes(le):e.options!==void 0?le=>e.options(_.value.hour,_.value.minute,le):null),P=S(()=>{if(A.value===null)return null;const le=ee(0,11,A.value),Se=ee(12,11,A.value);return{am:le,pm:Se,values:le.values.concat(Se.values)}}),L=S(()=>O.value!==null?ee(0,59,O.value):null),q=S(()=>C.value!==null?ee(0,59,C.value):null),F=S(()=>{switch(m.value){case"hour":return P.value;case"minute":return L.value;case"second":return q.value}}),j=S(()=>{let le,Se,De=0,ge=1;const Be=F.value!==null?F.value.values:void 0;m.value==="hour"?T.value===!0?(le=0,Se=23):(le=0,Se=11,x.value===!1&&(De=12)):(le=0,Se=55,ge=5);const Ze=[];for(let Ge=le,et=le;Ge<=Se;Ge+=ge,et++){const pt=Ge+De,Et=Be!==void 0&&Be.includes(pt)===!1,Tt=m.value==="hour"&&Ge===0?T.value===!0?"00":"12":Ge;Ze.push({val:pt,index:et,disable:Et,label:Tt})}return Ze}),G=S(()=>[[Vn,ne,void 0,{stop:!0,prevent:!0,mouse:!0}]]);function Y(){const le=V(V({},l()),$3());Ie(le),Object.assign(_.value,le),m.value="hour"}function ee(le,Se,De){const ge=Array.apply(null,{length:Se+1}).map((Be,Ze)=>{const Ge=Ze+le;return{index:Ge,val:De(Ge)===!0}}).filter(Be=>Be.val===!0).map(Be=>Be.index);return{min:ge[0],max:ge[ge.length-1],values:ge,threshold:Se+1}}function U(le,Se,De){const ge=Math.abs(le-Se);return Math.min(ge,De-ge)}function oe(le,{min:Se,max:De,values:ge,threshold:Be}){if(le===Se)return Se;if(le<Se||le>De)return U(le,Se,Be)<=U(le,De,Be)?Se:De;const Ze=ge.findIndex(pt=>le<=pt),Ge=ge[Ze-1],et=ge[Ze];return le-Ge<=et-le?Ge:et}function J(){return e.calendar!=="persian"&&e.mask!==null?e.mask:`HH:mm${e.withSeconds===!0?":ss":""}`}function te(){if(typeof e.defaultDate!="string"){const le=l(!0);return le.dateHash=zi(le),le}return as(e.defaultDate,"YYYY/MM/DD",void 0,e.calendar)}function ve(){return ze.isDeactivated===!0||ze.isUnmounted===!0||F.value!==null&&(F.value.values.length===0||m.value==="hour"&&T.value!==!0&&P.value[x.value===!0?"am":"pm"].values.length===0)}function de(){const le=h.value,{top:Se,left:De,width:ge}=le.getBoundingClientRect(),Be=ge/2;return{top:Se+Be,left:De+Be,dist:.7*Be}}function ne(le){if(ve()!==!0){if(le.isFirst===!0)return d=de(),void(f=$(le.evt,d));f=$(le.evt,d,f),le.isFinal===!0&&(d=!1,f=null,E())}}function E(){m.value==="hour"?m.value="minute":e.withSeconds&&m.value==="minute"&&(m.value="second")}function $(le,Se,De){const ge=An(le),Be=Math.abs(ge.top-Se.top),Ze=Math.sqrt(Math.pow(Math.abs(ge.top-Se.top),2)+Math.pow(Math.abs(ge.left-Se.left),2));let Ge,et=Math.asin(Be/Ze)*(180/Math.PI);if(et=ge.top<Se.top?Se.left<ge.left?90-et:270+et:Se.left<ge.left?et+90:270-et,m.value==="hour"){if(Ge=et/30,P.value!==null){const pt=T.value!==!0?x.value===!0:P.value.am.values.length>0&&P.value.pm.values.length>0?Ze>=Se.dist:P.value.am.values.length>0;Ge=oe(Ge+(pt===!0?0:12),P.value[pt===!0?"am":"pm"])}else Ge=Math.round(Ge),T.value===!0?Ze<Se.dist?Ge<12&&(Ge+=12):Ge===12&&(Ge=0):x.value===!0&&Ge===12?Ge=0:x.value===!1&&Ge!==12&&(Ge+=12);T.value===!0&&(x.value=Ge<12)}else Ge=Math.round(et/6)%60,m.value==="minute"&&L.value!==null?Ge=oe(Ge,L.value):m.value==="second"&&q.value!==null&&(Ge=oe(Ge,q.value));return De!==Ge&&X[m.value](Ge),Ge}Me(()=>e.modelValue,le=>{const Se=as(le,p.value,y.value,e.calendar,b.value);Se.dateHash===_.value.dateHash&&Se.timeHash===_.value.timeHash||(_.value=Se,Se.hour===null?m.value="hour":x.value=Se.hour<12)}),Me([p,y],()=>{st(()=>{Ie()})});const he={hour(){m.value="hour"},minute(){m.value="minute"},second(){m.value="second"}};function ie(le){le.keyCode===13&&me()}function fe(le){le.keyCode===13&&Te()}function pe(le){ve()!==!0&&(i.platform.is.desktop!==!0&&$(le,de()),E())}function Pe(le){ve()!==!0&&$(le,de())}function _e(le){if(le.keyCode===13)m.value="hour";else if([37,39].includes(le.keyCode)){const Se=le.keyCode===37?-1:1;if(P.value!==null){const De=T.value===!0?P.value.values:P.value[x.value===!0?"am":"pm"].values;if(De.length===0)return;if(_.value.hour===null)re(De[0]);else{const ge=(De.length+De.indexOf(_.value.hour)+Se)%De.length;re(De[ge])}}else{const De=T.value===!0?24:12,ge=T.value!==!0&&x.value===!1?12:0,Be=_.value.hour===null?-Se:_.value.hour;re(ge+(24+Be+Se)%De)}}}function R(le){if(le.keyCode===13)m.value="minute";else if([37,39].includes(le.keyCode)){const Se=le.keyCode===37?-1:1;if(L.value!==null){const De=L.value.values;if(De.length===0)return;if(_.value.minute===null)ue(De[0]);else{const ge=(De.length+De.indexOf(_.value.minute)+Se)%De.length;ue(De[ge])}}else{const De=_.value.minute===null?-Se:_.value.minute;ue((60+De+Se)%60)}}}function k(le){if(le.keyCode===13)m.value="second";else if([37,39].includes(le.keyCode)){const Se=le.keyCode===37?-1:1;if(q.value!==null){const De=q.value.values;if(De.length===0)return;if(_.value.seconds===null)W(De[0]);else{const ge=(De.length+De.indexOf(_.value.second)+Se)%De.length;W(De[ge])}}else{const De=_.value.second===null?-Se:_.value.second;W((60+De+Se)%60)}}}function re(le){_.value.hour!==le&&(_.value.hour=le,Ce())}function ue(le){_.value.minute!==le&&(_.value.minute=le,Ce())}function W(le){_.value.second!==le&&(_.value.second=le,Ce())}const X={hour:re,minute:ue,second:W};function me(){x.value===!1&&(x.value=!0,_.value.hour!==null&&(_.value.hour-=12,Ce()))}function Te(){x.value===!0&&(x.value=!1,_.value.hour!==null&&(_.value.hour+=12,Ce()))}function Ce(){return A.value!==null&&A.value(_.value.hour)!==!0?(_.value=as(),void(m.value="hour")):O.value!==null&&O.value(_.value.minute)!==!0?(_.value.minute=null,_.value.second=null,void(m.value="minute")):e.withSeconds===!0&&C.value!==null&&C.value(_.value.second)!==!0?(_.value.second=null,void(m.value="second")):void(_.value.hour===null||_.value.minute===null||e.withSeconds===!0&&_.value.second===null||Ie())}function Ie(le){const Se=Object.assign(V({},_.value),le),De=e.calendar==="persian"?vt(Se.hour)+":"+vt(Se.minute)+(e.withSeconds===!0?":"+vt(Se.second):""):Ub(new Date(Se.year,Se.month===null?null:Se.month-1,Se.day,Se.hour,Se.minute,Se.second,Se.millisecond),p.value,y.value,Se.year,Se.timezoneOffset);Se.changed=De!==e.modelValue,n("update:modelValue",De,Se)}const ze=Ne();function $e(){const le=[v("div",{class:"q-time__link "+(m.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:r.value,onClick:he.hour,onKeyup:_e},w.value.hour),v("div",":"),v("div",D.value===!0?{class:"q-time__link "+(m.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:r.value,onKeyup:R,onClick:he.minute}:{class:"q-time__link"},w.value.minute)];e.withSeconds===!0&&le.push(v("div",":"),v("div",z.value===!0?{class:"q-time__link "+(m.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:r.value,onKeyup:k,onClick:he.second}:{class:"q-time__link"},w.value.second));const Se=[v("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},le)];return T.value===!1&&Se.push(v("div",{class:"q-time__header-ampm column items-between no-wrap"},[v("div",{class:"q-time__link "+(x.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:r.value,onClick:me,onKeyup:ie},"AM"),v("div",{class:"q-time__link "+(x.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:r.value,onClick:Te,onKeyup:fe},"PM")])),v("div",{class:"q-time__header flex flex-center no-wrap "+a.value},Se)}function Fe(){const le=_.value[m.value];return v("div",{class:"q-time__content col relative-position"},[v(Kt,{name:"q-transition--scale"},()=>v("div",{key:"clock"+m.value,class:"q-time__container-parent absolute-full"},[v("div",{ref:h,class:"q-time__container-child fit overflow-hidden"},[ci(v("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:pe,onMousedown:Pe},[v("div",{class:"q-time__clock-circle fit"},[v("div",{class:"q-time__clock-pointer"+(_.value[m.value]===null?" hidden":e.color!==void 0?` text-${e.color}`:""),style:B.value}),j.value.map(Se=>v("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${Se.index}`+(Se.val===le?" q-time__clock-position--active "+a.value:Se.disable===!0?" q-time__clock-position--disable":"")},[v("span",Se.label)]))])]),G.value)])])),e.nowBtn===!0?v(mt,{class:"q-time__now-button absolute",icon:i.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:e.color,textColor:e.textColor,tabindex:r.value,onClick:Y}):null])}return Object.assign(ze.proxy,{setNow:Y}),()=>{const le=[Fe()],Se=je(t.default);return Se!==void 0&&le.push(v("div",{class:"q-time__actions"},Se)),e.name!==void 0&&e.disable!==!0&&u(le,"push"),v("div",{class:M.value,tabindex:-1},[$e(),v("div",{class:"q-time__main col overflow-auto"},le)])}}}),Q3=we({name:"QTimeline",props:ye(V({},ht),{color:{type:String,default:"primary"},side:{type:String,default:"right",validator:e=>["left","right"].includes(e)},layout:{type:String,default:"dense",validator:e=>["dense","comfortable","loose"].includes(e)}}),setup(e,{slots:t}){const n=Ne(),i=ft(e,n.proxy.$q);Ro(Ny,e);const o=S(()=>`q-timeline q-timeline--${e.layout} q-timeline--${e.layout}--${e.side}`+(i.value===!0?" q-timeline--dark":""));return()=>v("ul",{class:o.value},je(t.default))}}),Y3=we({name:"QTimelineEntry",props:{heading:Boolean,tag:{type:String,default:"h3"},side:{type:String,default:"right",validator:e=>["left","right"].includes(e)},icon:String,avatar:String,color:String,title:String,subtitle:String,body:String},setup(e,{slots:t}){const n=Pn(Ny,()=>{console.error("QTimelineEntry needs to be child of QTimeline")}),i=S(()=>`q-timeline__entry q-timeline__entry--${e.side}`+(e.icon!==void 0||e.avatar!==void 0?" q-timeline__entry--icon":"")),o=S(()=>`q-timeline__dot text-${e.color||n.color}`),r=S(()=>n.layout==="comfortable"&&n.side==="left");return()=>{const a=sl(t.default,[]);if(e.body!==void 0&&a.unshift(e.body),e.heading===!0){const c=[v("div"),v("div"),v(e.tag,{class:"q-timeline__heading-title"},a)];return v("div",{class:"q-timeline__heading"},r.value===!0?c.reverse():c)}let s;e.icon!==void 0?s=[v(dt,{class:"row items-center justify-center",name:e.icon})]:e.avatar!==void 0&&(s=[v("img",{class:"q-timeline__dot-img",src:e.avatar})]);const l=[v("div",{class:"q-timeline__subtitle"},[v("span",{},je(t.subtitle,[e.subtitle]))]),v("div",{class:o.value},s),v("div",{class:"q-timeline__content"},[v("h6",{class:"q-timeline__title"},je(t.title,[e.title]))].concat(a))];return v("li",{class:i.value},r.value===!0?l.reverse():l)}}}),X3=we({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:t}){const n=S(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>v("div",{class:n.value},je(t.default))}}),Z3=we({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:t}){const n=S(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>v("div",{class:n.value},je(t.default))}});const K3=["none","strict","leaf","leaf-filtered"];var J3=we({name:"QTree",props:ye(V({},ht),{nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>K3.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noNodesLabel:String,noResultsLabel:String}),emits:["update:expanded","update:ticked","update:selected","lazy-load","after-show","after-hide"],setup(e,{slots:t,emit:n}){const{proxy:i}=Ne(),{$q:o}=i,r=ft(e,o),a=K({}),s=K(e.ticked||[]),l=K(e.expanded||[]);let c={};Qs(()=>{c={}});const u=S(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+(r.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),d=S(()=>e.selected!==void 0),f=S(()=>e.icon||o.iconSet.tree.icon),h=S(()=>e.controlColor||e.color),p=S(()=>e.textColor!==void 0?` text-${e.textColor}`:""),y=S(()=>{const U=e.selectedColor||e.color;return U?` text-${U}`:""}),b=S(()=>e.filterMethod!==void 0?e.filterMethod:(U,oe)=>{const J=oe.toLowerCase();return U[e.labelKey]&&U[e.labelKey].toLowerCase().indexOf(J)>-1}),g=S(()=>{const U={},oe=(J,te)=>{const ve=J.tickStrategy||(te?te.tickStrategy:e.tickStrategy),de=J[e.nodeKey],ne=J[e.childrenKey]&&J[e.childrenKey].length>0,E=ne!==!0,$=J.disabled!==!0&&d.value===!0&&J.selectable!==!1,he=J.disabled!==!0&&J.expandable!==!1,ie=ve!=="none",fe=ve==="strict",pe=ve==="leaf-filtered",Pe=ve==="leaf"||ve==="leaf-filtered";let _e=J.disabled!==!0&&J.tickable!==!1;Pe===!0&&_e===!0&&te&&te.tickable!==!0&&(_e=!1);let R=J.lazy;R===!0&&a.value[de]!==void 0&&Array.isArray(J[e.childrenKey])===!0&&(R=a.value[de]);const k={key:de,parent:te,isParent:ne,isLeaf:E,lazy:R,disabled:J.disabled,link:J.disabled!==!0&&($===!0||he===!0&&(ne===!0||R===!0)),children:[],matchesFilter:!e.filter||b.value(J,e.filter),selected:de===e.selected&&$===!0,selectable:$,expanded:ne===!0&&l.value.includes(de),expandable:he,noTick:J.noTick===!0||fe!==!0&&R&&R!=="loaded",tickable:_e,tickStrategy:ve,hasTicking:ie,strictTicking:fe,leafFilteredTicking:pe,leafTicking:Pe,ticked:(fe===!0||E===!0)&&s.value.includes(de)};if(U[de]=k,ne===!0&&(k.children=J[e.childrenKey].map(re=>oe(re,k)),e.filter&&(k.matchesFilter!==!0?k.matchesFilter=k.children.some(re=>re.matchesFilter):k.noTick!==!0&&k.disabled!==!0&&k.tickable===!0&&pe===!0&&k.children.every(re=>re.matchesFilter!==!0||re.noTick===!0||re.tickable!==!0)===!0&&(k.tickable=!1)),k.matchesFilter===!0&&(k.noTick!==!0&&fe!==!0&&k.children.every(re=>re.noTick)===!0&&(k.noTick=!0),Pe))){if(k.ticked=!1,k.indeterminate=k.children.some(re=>re.indeterminate===!0),k.tickable=k.tickable===!0&&k.children.some(re=>re.tickable),k.indeterminate!==!0){const re=k.children.reduce((ue,W)=>W.ticked===!0?ue+1:ue,0);re===k.children.length?k.ticked=!0:re>0&&(k.indeterminate=!0)}k.indeterminate===!0&&(k.indeterminateNextState=k.children.every(re=>re.tickable!==!0||re.ticked!==!0))}return k};return e.nodes.forEach(J=>oe(J,null)),U});function m(U){const oe=[].reduce,J=(te,ve)=>te||!ve?te:Array.isArray(ve)===!0?oe.call(Object(ve),J,te):ve[e.nodeKey]===U?ve:ve[e.childrenKey]?J(null,ve[e.childrenKey]):void 0;return J(null,e.nodes)}function _(){return s.value.map(U=>m(U))}function x(){return l.value.map(U=>m(U))}function M(U){return!(!U||!g.value[U])&&g.value[U].expanded}function w(){e.expanded!==void 0?n("update:expanded",[]):l.value=[]}function T(){const U=l.value,oe=J=>{J[e.childrenKey]&&J[e.childrenKey].length>0&&J.expandable!==!1&&J.disabled!==!0&&(U.push(J[e.nodeKey]),J[e.childrenKey].forEach(oe))};e.nodes.forEach(oe),e.expanded!==void 0?n("update:expanded",U):l.value=U}function B(U,oe,J=m(U),te=g.value[U]){if(te.lazy&&te.lazy!=="loaded"){if(te.lazy==="loading")return;a.value[U]="loading",Array.isArray(J[e.childrenKey])!==!0&&(J[e.childrenKey]=[]),n("lazy-load",{node:J,key:U,done:ve=>{a.value[U]="loaded",J[e.childrenKey]=Array.isArray(ve)===!0?ve:[],st(()=>{const de=g.value[U];de&&de.isParent===!0&&D(U,!0)})},fail:()=>{delete a.value[U],J[e.childrenKey].length===0&&delete J[e.childrenKey]}})}else te.isParent===!0&&te.expandable===!0&&D(U,oe)}function D(U,oe){let J=l.value;const te=e.expanded!==void 0;if(te===!0&&(J=J.slice()),oe){if(e.accordion&&g.value[U]){const ve=[];g.value[U].parent?g.value[U].parent.children.forEach(de=>{de.key!==U&&de.expandable===!0&&ve.push(de.key)}):e.nodes.forEach(de=>{const ne=de[e.nodeKey];ne!==U&&ve.push(ne)}),ve.length>0&&(J=J.filter(de=>ve.includes(de)===!1))}J=J.concat([U]).filter((ve,de,ne)=>ne.indexOf(ve)===de)}else J=J.filter(ve=>ve!==U);te===!0?n("update:expanded",J):l.value=J}function z(U){return!(!U||!g.value[U])&&g.value[U].ticked}function A(U,oe){let J=s.value;const te=e.ticked!==void 0;te===!0&&(J=J.slice()),J=oe?J.concat(U).filter((ve,de,ne)=>ne.indexOf(ve)===de):J.filter(ve=>U.includes(ve)===!1),te===!0&&n("update:ticked",J)}function O(U,oe,J){const te={tree:i,node:U,key:J,color:e.color,dark:r.value};return Ln(te,"expanded",()=>oe.expanded,ve=>{ve!==oe.expanded&&B(J,ve)}),Ln(te,"ticked",()=>oe.ticked,ve=>{ve!==oe.ticked&&A([J],ve)}),te}function C(U){return(e.filter?U.filter(oe=>g.value[oe[e.nodeKey]].matchesFilter):U).map(oe=>F(oe))}function P(U){if(U.icon!==void 0)return v(dt,{class:"q-tree__icon q-mr-sm",name:U.icon,color:U.iconColor});const oe=U.img||U.avatar;return oe?v("img",{class:`q-tree__${U.img?"img":"avatar"} q-mr-sm`,src:oe}):void 0}function L(){n("after-show")}function q(){n("after-hide")}function F(U){const oe=U[e.nodeKey],J=g.value[oe],te=U.header&&t[`header-${U.header}`]||t["default-header"],ve=J.isParent===!0?C(U[e.childrenKey]):[],de=ve.length>0||J.lazy&&J.lazy!=="loaded";let ne=U.body&&t[`body-${U.body}`]||t["default-body"];const E=te!==void 0||ne!==void 0?O(U,J,oe):null;return ne!==void 0&&(ne=v("div",{class:"q-tree__node-body relative-position"},[v("div",{class:p.value},[ne(E)])])),v("div",{key:oe,class:`q-tree__node relative-position q-tree__node--${de===!0?"parent":"child"}`},[v("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(J.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(J.selected===!0?" q-tree__node--selected":"")+(J.disabled===!0?" q-tree__node--disabled":""),tabindex:J.link===!0?0:-1,onClick:$=>{G(U,J,$)},onKeypress($){br($)!==!0&&($.keyCode===13?G(U,J,$,!0):$.keyCode===32&&Y(U,J,$,!0))}},[v("div",{class:"q-focus-helper",tabindex:-1,ref:$=>{c[J.key]=$}}),J.lazy==="loading"?v(Jn,{class:"q-tree__spinner",color:h.value}):de===!0?v(dt,{class:"q-tree__arrow"+(J.expanded===!0?" q-tree__arrow--rotate":""),name:f.value,onClick($){Y(U,J,$)}}):null,J.hasTicking===!0&&J.noTick!==!0?v(ua,{class:"q-tree__tickbox",modelValue:J.indeterminate===!0?null:J.ticked,color:h.value,dark:r.value,dense:!0,keepColor:!0,disable:J.tickable!==!0,onKeydown:rt,"onUpdate:modelValue":$=>{ee(J,$)}}):null,v("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(J.selected===!0?y.value:p.value)},[te?te(E):[P(U),v("div",U[e.labelKey])]])]),de===!0?v(Bu,{duration:e.duration,onShow:L,onHide:q},()=>ci(v("div",{class:"q-tree__node-collapsible"+p.value,key:`${oe}__q`},[ne,v("div",{class:"q-tree__children"+(J.disabled===!0?" q-tree__node--disabled":"")},ve)]),[[Xv,J.expanded]])):ne])}function j(U){const oe=c[U];oe&&oe.focus()}function G(U,oe,J,te){te!==!0&&j(oe.key),d.value&&oe.selectable?e.noSelectionUnset===!1?n("update:selected",oe.key!==e.selected?oe.key:null):oe.key!==e.selected&&n("update:selected",oe.key||null):Y(U,oe,J,te),typeof U.handler=="function"&&U.handler(U)}function Y(U,oe,J,te){J!==void 0&&rt(J),te!==!0&&j(oe.key),B(oe.key,!oe.expanded,U,oe)}function ee(U,oe){if(U.indeterminate===!0&&(oe=U.indeterminateNextState),U.strictTicking)A([U.key],oe);else if(U.leafTicking){const J=[],te=ve=>{ve.isParent?(oe!==!0&&ve.noTick!==!0&&ve.tickable===!0&&J.push(ve.key),ve.leafTicking===!0&&ve.children.forEach(te)):ve.noTick===!0||ve.tickable!==!0||ve.leafFilteredTicking===!0&&ve.matchesFilter!==!0||J.push(ve.key)};te(U),A(J,oe)}}return Me(()=>e.ticked,U=>{s.value=U}),Me(()=>e.expanded,U=>{l.value=U}),Object.assign(i,{getNodeByKey:m,getTickedNodes:_,getExpandedNodes:x,isExpanded:M,collapseAll:w,expandAll:T,setExpanded:B,isTicked:z,setTicked:A}),e.defaultExpandAll===!0&&T(),()=>{const U=C(e.nodes);return v("div",{class:u.value},U.length===0?e.filter?e.noResultsLabel||o.lang.tree.noResults:e.noNodesLabel||o.lang.tree.noNodes:U)}}});function Di(e){return typeof e=="function"?e:()=>e}const eP={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>e=>e.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},tP=["factory-failed","uploaded","failed","uploading"];function nP({props:e,emit:t,helpers:n}){const i=K([]),o=K([]),r=K(0),a=S(()=>({url:Di(e.url),method:Di(e.method),headers:Di(e.headers),formFields:Di(e.formFields),fieldName:Di(e.fieldName),withCredentials:Di(e.withCredentials),sendRaw:Di(e.sendRaw),batch:Di(e.batch)})),s=S(()=>r.value>0),l=S(()=>o.value.length>0);let c;function u(){i.value.forEach(p=>{p.abort()}),o.value.length>0&&(c=!0)}function d(){const p=n.queuedFiles.value.slice(0);n.queuedFiles.value=[],a.value.batch(p)?f(p):p.forEach(y=>{f([y])})}function f(p){if(r.value++,typeof e.factory!="function")return void h(p,{});const y=e.factory(p);if(y)if(typeof y.catch=="function"&&typeof y.then=="function"){o.value.push(y);const b=g=>{n.isAlive()===!0&&(o.value=o.value.filter(m=>m!==y),o.value.length===0&&(c=!1),n.queuedFiles.value=n.queuedFiles.value.concat(p),p.forEach(m=>{n.updateFileStatus(m,"failed")}),t("factory-failed",g,p),r.value--)};y.then(g=>{c===!0?b(new Error("Aborted")):n.isAlive()===!0&&(o.value=o.value.filter(m=>m!==y),h(p,g))}).catch(b)}else h(p,y||{});else t("factory-failed",new Error("QUploader: factory() does not return properly"),p),r.value--}function h(p,y){const b=new FormData,g=new XMLHttpRequest,m=(O,C)=>y[O]!==void 0?Di(y[O])(C):a.value[O](C),_=m("url",p);if(!_)return console.error("q-uploader: invalid or no URL specified"),void r.value--;const x=m("formFields",p);x!==void 0&&x.forEach(O=>{b.append(O.name,O.value)});let M,w=0,T=0,B=0,D=0;g.upload.addEventListener("progress",O=>{if(M===!0)return;const C=Math.min(D,O.loaded);n.uploadedSize.value+=C-B,B=C;let P=B-T;for(let L=w;P>0&&L<p.length;L++){const q=p[L];if(!(P>q.size))return void n.updateFileStatus(q,"uploading",P);P-=q.size,w++,T+=q.size,n.updateFileStatus(q,"uploading",q.size)}},!1),g.onreadystatechange=()=>{g.readyState<4||(g.status&&g.status<400?(n.uploadedFiles.value=n.uploadedFiles.value.concat(p),p.forEach(O=>{n.updateFileStatus(O,"uploaded")}),t("uploaded",{files:p,xhr:g})):(M=!0,n.uploadedSize.value-=B,n.queuedFiles.value=n.queuedFiles.value.concat(p),p.forEach(O=>{n.updateFileStatus(O,"failed")}),t("failed",{files:p,xhr:g})),r.value--,i.value=i.value.filter(O=>O!==g))},g.open(m("method",p),_),m("withCredentials",p)===!0&&(g.withCredentials=!0);const z=m("headers",p);z!==void 0&&z.forEach(O=>{g.setRequestHeader(O.name,O.value)});const A=m("sendRaw",p);p.forEach(O=>{n.updateFileStatus(O,"uploading",0),A!==!0&&b.append(m("fieldName",O),O,O.name),O.xhr=g,O.__abort=()=>{g.abort()},D+=O.size}),t("uploading",{files:p,xhr:g}),i.value.push(g),A===!0?g.send(new Blob(p)):g.send(b)}return{isUploading:s,isBusy:l,abort:u,upload:d}}var iP={name:"QUploader",props:eP,emits:tP,injectPlugin:nP},oP=bA(iP),rP=we({name:"QUploaderAddTrigger",setup(){return Pn(Hy,()=>{console.error("QUploaderAddTrigger needs to be child of QUploader")})}}),aP=we({name:"QVideo",props:ye(V({},np),{src:{type:String,required:!0},title:String,fetchpriority:{type:String,default:"auto"},loading:{type:String,default:"eager"},referrerpolicy:{type:String,default:"strict-origin-when-cross-origin"}}),setup(e){const t=ip(e),n=S(()=>"q-video"+(e.ratio!==void 0?" q-video--responsive":""));return()=>v("div",{class:n.value,style:t.value},[v("iframe",{src:e.src,title:e.title,fetchpriority:e.fetchpriority,loading:e.loading,referrerpolicy:e.referrerpolicy,frameborder:"0",allowfullscreen:!0})])}});Object.freeze({__proto__:null,QAjaxBar:Gy,QAvatar:BE,QBadge:FE,QBanner:OE,QBar:NE,QBreadcrumbs:qE,QBreadcrumbsEl:GE,QBtn:mt,QBtnDropdown:fb,QBtnGroup:If,QBtnToggle:u2,QCard:Vf,QCardSection:po,QCardActions:pb,QCarousel:m2,QCarouselSlide:v2,QCarouselControl:g2,QChatMessage:y2,QCheckbox:ua,QChip:Xf,QCircularProgress:Kf,QColor:B2,QDate:W2,QDialog:hl,QDrawer:Y2,QEditor:iA,QExpansionItem:sA,QFab:dA,QFabAction:fA,QField:cx,QFile:RA,QFooter:kA,QForm:BA,QFormChildMixin:IA,QHeader:FA,QIcon:dt,QImg:NA,QInfiniteScroll:DA,QInnerLoading:zA,QInput:op,QIntersection:jA,QList:mx,QItem:fl,QItemSection:$i,QItemLabel:du,QKnob:YA,QLayout:ZA,QMarkupTable:vx,QMenu:cl,QNoSsr:JA,QOptionGroup:xx,QPage:nL,QPageContainer:iL,QPageScroller:oL,QPageSticky:rL,QPagination:aL,QParallax:sL,QPopupEdit:lL,QPopupProxy:cL,QLinearProgress:Sx,QPullToRefresh:dL,QRadio:gx,QRange:hL,QRating:fL,QResizeObserver:Lo,QResponsive:pL,QScrollArea:mL,QScrollObserver:rp,QSelect:Lx,QSeparator:Po,QSkeleton:wL,QSlideItem:SL,QSlideTransition:Bu,QSlider:$o,QSpace:TL,QSpinner:Jn,QSpinnerAudio:EL,QSpinnerBall:LL,QSpinnerBars:RL,QSpinnerBox:BL,QSpinnerClock:FL,QSpinnerComment:NL,QSpinnerCube:zL,QSpinnerDots:VL,QSpinnerFacebook:UL,QSpinnerGears:WL,QSpinnerGrid:jL,QSpinnerHearts:YL,QSpinnerHourglass:ZL,QSpinnerInfinity:JL,QSpinnerIos:t3,QSpinnerOrbit:i3,QSpinnerOval:r3,QSpinnerPie:s3,QSpinnerPuff:c3,QSpinnerRadio:d3,QSpinnerRings:f3,QSpinnerTail:m3,QSplitter:v3,QStep:g3,QStepper:x3,QStepperNavigation:_3,QTabPanels:Rb,QTabPanel:Sc,QTable:V3,QTh:kx,QTr:H3,QTd:U3,QTabs:Rh,QTab:Yr,QRouteTab:G3,QTime:j3,QTimeline:Q3,QTimelineEntry:Y3,QToggle:yx,QToolbar:X3,QToolbarTitle:Z3,QTooltip:Qb,QTree:J3,QUploader:oP,QUploaderAddTrigger:rP,QVideo:aP,QVirtualScroll:Ix});function Nv(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var sP=vi({name:"close-popup",beforeMount(e,{value:t}){const n={depth:Nv(t),handler(i){n.depth!==0&&setTimeout(()=>{const o=JE(e);o!==void 0&&e2(o,i,n.depth)})},handlerKey(i){Zn(i,13)===!0&&n.handler(i)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=Nv(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});const fu={},lP=["duration","delay","easing","fill","classes","style","duration","resize","useCSS","hideFromClone","keepToClone","tween","tweenFromOpacity","tweenToOpacity","waitFor","onEnd"],cP=["resize","useCSS","hideFromClone","keepToClone","tween"];function ia(e,t){e.clsAction!==t&&(e.clsAction=t,e.el.classList[t]("q-morph--invisible"))}function Ox(e){if(e.animating===!0||e.queue.length<2)return;const[t,n]=e.queue;e.animating=!0,t.animating=!0,n.animating=!0,ia(t,"remove"),ia(n,"remove");const i=EA(ye(V({from:t.el,to:n.el,onToggle(){ia(t,"add"),ia(n,"remove")}},n.opts),{onEnd(o,r){n.opts.onEnd!==void 0&&n.opts.onEnd(o,r),r!==!0&&(t.animating=!1,n.animating=!1,e.animating=!1,e.cancel=void 0,e.queue.shift(),Ox(e))}}));e.cancel=()=>{i(!0),e.cancel=void 0}}function Nx(e,t){const n=t.opts;cP.forEach(i=>{n[i]=e[i]===!0})}function uP(e,t){const n=typeof e=="string"&&e.length>0?e.split(":"):[];t.name=n[0],t.group=n[1],Object.assign(t.opts,{duration:isNaN(n[2])===!0?300:parseFloat(n[2]),waitFor:n[3]})}function dP(e,t){e.group!==void 0&&(t.group=e.group),e.name!==void 0&&(t.name=e.name);const n=t.opts;lP.forEach(i=>{e[i]!==void 0&&(n[i]=e[i])})}function hP(e,t){if(t.name!==e)t.animating===!1&&ia(t,"add");else{const n=fu[t.group];n===void 0?(fu[t.group]={name:t.group,model:e,queue:[t],animating:!1},ia(t,"remove")):n.model!==e&&(n.model=e,n.queue.push(t),n.animating===!1&&n.queue.length===2&&Ox(n))}}function Dv(e,t){let n;Object(t)===t?(n=""+t.model,dP(t,e),Nx(t,e)):n=""+t,n!==e.model?(e.model=n,hP(n,e)):e.animating===!1&&e.clsAction!==void 0&&e.el.classList[e.clsAction]("q-morph--invisible")}var fP=vi({name:"morph",mounted(e,t){const n={el:e,animating:!1,opts:{}};Nx(t.modifiers,n),uP(t.arg,n),Dv(n,t.value),e.__qmorph=n},updated(e,t){Dv(e.__qmorph,t.value)},beforeUnmount(e){const t=e.__qmorph,n=fu[t.group];n!==void 0&&n.queue.indexOf(t)!==-1&&(n.queue=n.queue.filter(o=>o!==t),n.queue.length===0&&(n.cancel!==void 0&&n.cancel(),delete fu[t.group])),t.clsAction==="add"&&e.classList.remove("q-morph--invisible"),delete e.__qmorph}});const pP={childList:!0,subtree:!0,attributes:!0,characterData:!0,attributeOldValue:!0,characterDataOldValue:!0};function zv(e,t,n){t.handler=n,t.observer!==void 0&&t.observer.disconnect(),t.observer=new MutationObserver(i=>{typeof t.handler=="function"&&(t.handler(i)!==!1&&t.once!==!0||Dx(e))}),t.observer.observe(e,t.opts)}function Dx(e){const t=e.__qmutation;t!==void 0&&(t.observer!==void 0&&t.observer.disconnect(),delete e.__qmutation)}var mP=vi({name:"mutation",mounted(e,o){var r=o,{modifiers:a}=r,s=a,{once:t}=s,n=qa(s,["once"]),{value:i}=r;const l={once:t,opts:Object.keys(n).length===0?pP:n};zv(e,l,i),e.__qmutation=l},updated(e,{oldValue:t,value:n}){const i=e.__qmutation;i!==void 0&&t!==n&&zv(e,i,n)},beforeUnmount:Dx});const{passive:pu}=xt;function qv(e,{value:t,oldValue:n}){typeof t=="function"?(e.handler=t,typeof n!="function"&&(e.scrollTarget.addEventListener("scroll",e.scroll,pu),e.scroll())):e.scrollTarget.removeEventListener("scroll",e.scroll,pu)}var vP=vi({name:"scroll-fire",mounted(e,t){const n={scrollTarget:Ri(e),scroll:Ia(()=>{let i,o;n.scrollTarget===window?(o=e.getBoundingClientRect().bottom,i=window.innerHeight):(o=tu(e).top+Ma(e),i=tu(n.scrollTarget).top+Ma(n.scrollTarget)),o>0&&o<i&&(n.scrollTarget.removeEventListener("scroll",n.scroll,pu),n.handler(e))},25)};qv(n,t),e.__qscrollfire=n},updated(e,t){t.value!==t.oldValue&&qv(e.__qscrollfire,t)},beforeUnmount(e){const t=e.__qscrollfire;t.scrollTarget.removeEventListener("scroll",t.scroll,pu),t.scroll.cancel(),delete e.__qscrollfire}});function Vv(e,{value:t,oldValue:n}){typeof t=="function"?(e.handler=t,typeof n!="function"&&e.scrollTarget.addEventListener("scroll",e.scroll,xt.passive)):e.scrollTarget.removeEventListener("scroll",e.scroll,xt.passive)}var gP=vi({name:"scroll",mounted(e,t){const n={scrollTarget:Ri(e),scroll(){n.handler(_o(n.scrollTarget),ku(n.scrollTarget))}};Vv(n,t),e.__qscroll=n},updated(e,t){e.__qscroll!==void 0&&t.oldValue!==t.value&&Vv(e.__qscroll,t)},beforeUnmount(e){const t=e.__qscroll;t.scrollTarget.removeEventListener("scroll",t.scroll,xt.passive),delete e.__qscroll}}),yP=vi({name:"touch-hold",beforeMount(e,t){const{modifiers:n}=t;if(n.mouse!==!0&&ot.has.touch!==!0)return;const i={handler:t.value,noop:Ft,mouseStart(r){typeof i.handler=="function"&&Au(r)===!0&&(Nt(i,"temp",[[document,"mousemove","move","passiveCapture"],[document,"click","end","notPassiveCapture"]]),i.start(r,!0))},touchStart(r){if(r.target!==void 0&&typeof i.handler=="function"){const a=r.target;Nt(i,"temp",[[a,"touchmove","move","passiveCapture"],[a,"touchcancel","end","notPassiveCapture"],[a,"touchend","end","notPassiveCapture"]]),i.start(r)}},start(r,a){i.origin=An(r);const s=Date.now();ot.is.mobile===!0&&(document.body.classList.add("non-selectable"),li(),i.styleCleanup=l=>{i.styleCleanup=void 0;const c=()=>{document.body.classList.remove("non-selectable")};l===!0?(li(),setTimeout(c,10)):c()}),i.triggered=!1,i.sensitivity=a===!0?i.mouseSensitivity:i.touchSensitivity,i.timer=setTimeout(()=>{li(),i.triggered=!0,i.handler({evt:r,touch:a!==!0,mouse:a===!0,position:i.origin,duration:Date.now()-s})},i.duration)},move(r){const{top:a,left:s}=An(r);(Math.abs(s-i.origin.left)>=i.sensitivity||Math.abs(a-i.origin.top)>=i.sensitivity)&&clearTimeout(i.timer)},end(r){gn(i,"temp"),i.styleCleanup!==void 0&&i.styleCleanup(i.triggered),i.triggered===!0?r!==void 0&&rt(r):clearTimeout(i.timer)}},o=[600,5,7];typeof t.arg=="string"&&t.arg.length>0&&t.arg.split(":").forEach((r,a)=>{const s=parseInt(r,10);s&&(o[a]=s)}),[i.duration,i.touchSensitivity,i.mouseSensitivity]=o,e.__qtouchhold=i,n.mouse===!0&&Nt(i,"main",[[e,"mousedown","mouseStart",`passive${n.mouseCapture===!0?"Capture":""}`]]),ot.has.touch===!0&&Nt(i,"main",[[e,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[e,"touchend","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchhold;n!==void 0&&t.oldValue!==t.value&&(typeof t.value!="function"&&n.end(),n.handler=t.value)},beforeUnmount(e){const t=e.__qtouchhold;t!==void 0&&(gn(t,"main"),gn(t,"temp"),clearTimeout(t.timer),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchhold)}});const zx={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},bP=new RegExp(`^([\\d+]+|${Object.keys(zx).join("|")})$`,"i");function xP(e,t){const{top:n,left:i}=An(e);return Math.abs(i-t.left)>=7||Math.abs(n-t.top)>=7}var _P=vi({name:"touch-repeat",beforeMount(e,{modifiers:t,value:n,arg:i}){const o=Object.keys(t).reduce((l,c)=>{if(bP.test(c)===!0){const u=isNaN(parseInt(c,10))?zx[c.toLowerCase()]:parseInt(c,10);u>=0&&l.push(u)}return l},[]);if(t.mouse!==!0&&ot.has.touch!==!0&&o.length===0)return;const r=typeof i=="string"&&i.length>0?i.split(":").map(l=>parseInt(l,10)):[0,600,300],a=r.length-1,s={keyboard:o,handler:n,noop:Ft,mouseStart(l){s.event===void 0&&typeof s.handler=="function"&&Au(l)===!0&&(Nt(s,"temp",[[document,"mousemove","move","passiveCapture"],[document,"click","end","notPassiveCapture"]]),s.start(l,!0))},keyboardStart(l){if(typeof s.handler=="function"&&Zn(l,o)===!0){if((r[0]===0||s.event!==void 0)&&(rt(l),e.focus(),s.event!==void 0))return;Nt(s,"temp",[[document,"keyup","end","notPassiveCapture"],[document,"click","end","notPassiveCapture"]]),s.start(l,!1,!0)}},touchStart(l){if(l.target!==void 0&&typeof s.handler=="function"){const c=l.target;Nt(s,"temp",[[c,"touchmove","move","passiveCapture"],[c,"touchcancel","end","notPassiveCapture"],[c,"touchend","end","notPassiveCapture"]]),s.start(l)}},start(l,c,u){function d(h){s.styleCleanup=void 0,document.documentElement.style.cursor="";const p=()=>{document.body.classList.remove("non-selectable")};h===!0?(li(),setTimeout(p,10)):p()}u!==!0&&(s.origin=An(l)),ot.is.mobile===!0&&(document.body.classList.add("non-selectable"),li(),s.styleCleanup=d),s.event={touch:c!==!0&&u!==!0,mouse:c===!0,keyboard:u===!0,startTime:Date.now(),repeatCount:0};const f=()=>{if(s.event===void 0)return;s.event.repeatCount===0&&(s.event.evt=l,u===!0?s.event.keyCode=l.keyCode:s.event.position=An(l),ot.is.mobile!==!0&&(document.documentElement.style.cursor="pointer",document.body.classList.add("non-selectable"),li(),s.styleCleanup=d)),s.event.duration=Date.now()-s.event.startTime,s.event.repeatCount+=1,s.handler(s.event);const h=a<s.event.repeatCount?a:s.event.repeatCount;s.timer=setTimeout(f,r[h])};r[0]===0?f():s.timer=setTimeout(f,r[0])},move(l){s.event!==void 0&&xP(l,s.origin)===!0&&clearTimeout(s.timer)},end(l){s.event!==void 0&&(s.styleCleanup!==void 0&&s.styleCleanup(!0),l!==void 0&&s.event.repeatCount>0&&rt(l),gn(s,"temp"),clearTimeout(s.timer),s.event=void 0)}};e.__qtouchrepeat=s,t.mouse===!0&&Nt(s,"main",[[e,"mousedown","mouseStart",`passive${t.mouseCapture===!0?"Capture":""}`]]),ot.has.touch===!0&&Nt(s,"main",[[e,"touchstart","touchStart",`passive${t.capture===!0?"Capture":""}`],[e,"touchend","noop","notPassiveCapture"]]),o.length>0&&Nt(s,"main",[[e,"keydown","keyboardStart",`notPassive${t.keyCapture===!0?"Capture":""}`]])},updated(e,{oldValue:t,value:n}){const i=e.__qtouchrepeat;i!==void 0&&t!==n&&(typeof n!="function"&&i.end(),i.handler=n)},beforeUnmount(e){const t=e.__qtouchrepeat;t!==void 0&&(clearTimeout(t.timer),gn(t,"main"),gn(t,"temp"),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchrepeat)}});Object.freeze({__proto__:null,ClosePopup:sP,Intersection:px,Morph:fP,Mutation:mP,Ripple:ll,ScrollFire:vP,Scroll:gP,TouchHold:yP,TouchPan:Vn,TouchRepeat:_P,TouchSwipe:mb});let gc;function wP(){return ot.is.winphone?"msapplication-navbutton-color":ot.is.safari?"apple-mobile-web-app-status-bar-style":"theme-color"}function SP(e){const t=document.getElementsByTagName("META");for(const n in t)if(t[n].name===e)return t[n]}function MP(e){gc===void 0&&(gc=wP());let t=SP(gc);const n=t===void 0;n&&(t=document.createElement("meta"),t.setAttribute("name",gc)),t.setAttribute("content",e),n&&document.head.appendChild(t)}ot.is.mobile!==!0||ot.is.nativeMobile!==!0&&ot.is.winphone!==!0&&ot.is.safari!==!0&&ot.is.webkit!==!0&&ot.is.vivaldi;const ts={};function TP(e){Object.assign(pn,{request:e,exit:e,toggle:e})}function qx(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||null}function Vx(){const e=pn.activeEl=pn.isActive===!1?null:qx();KE(e===null||e===document.documentElement?document.body:e)}function CP(){pn.isActive=pn.isActive===!1,Vx()}function Hv(e,t){try{const n=e[t]();return n===void 0?Promise.resolve():n}catch(n){return Promise.reject(n)}}const pn=ko({isActive:!1,activeEl:null},{isCapable:!1,install({$q:e}){e.fullscreen=this}});ts.request=["requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen"].find(e=>document.documentElement[e]!==void 0),pn.isCapable=ts.request!==void 0,pn.isCapable===!1?TP(()=>Promise.reject("Not capable")):(Object.assign(pn,{request(e){const t=e||document.documentElement,{activeEl:n}=pn;return t===n?Promise.resolve():(n!==null&&t.contains(n)===!0?pn.exit():Promise.resolve()).finally(()=>Hv(t,ts.request))},exit(){return pn.isActive===!0?Hv(document,ts.exit):Promise.resolve()},toggle(e){return pn.isActive===!0?pn.exit():pn.request(e)}}),ts.exit=["exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen"].find(e=>document[e]),pn.isActive=Boolean(qx()),pn.isActive===!0&&Vx(),["onfullscreenchange","onmsfullscreenchange","onwebkitfullscreenchange"].forEach(e=>{document[e]=CP}));const EP=ko({appVisible:!0},{install({$q:e}){Ln(e,"appVisible",()=>this.appVisible)}});{let e,t;if(typeof document.hidden!="undefined"?(e="hidden",t="visibilitychange"):typeof document.msHidden!="undefined"?(e="msHidden",t="msvisibilitychange"):typeof document.webkitHidden!="undefined"&&(e="webkitHidden",t="webkitvisibilitychange"),t&&typeof document[e]!="undefined"){const n=()=>{EP.appVisible=!document[e]};document.addEventListener(t,n,!1)}}we({name:"BottomSheetPlugin",props:ye(V({},ht),{title:String,message:String,actions:Array,grid:Boolean,cardClass:[String,Array,Object],cardStyle:[String,Array,Object]}),emits:["ok","hide"],setup(e,{emit:t}){const{proxy:n}=Ne(),i=ft(e,n.$q),o=K(null);function r(){o.value.show()}function a(){o.value.hide()}function s(h){t("ok",h),a()}function l(){t("hide")}function c(){return e.actions.map(h=>{const p=h.avatar||h.img;return h.label===void 0?v(Po,{class:"col-all",dark:i.value}):v("div",{class:["q-bottom-sheet__item q-hoverable q-focusable cursor-pointer relative-position",h.class],tabindex:0,onClick(){s(h)},onKeyup(y){y.keyCode===13&&s(h)}},[v("div",{class:"q-focus-helper"}),h.icon?v(dt,{name:h.icon,color:h.color}):p?v("img",{class:h.avatar?"q-bottom-sheet__avatar":"",src:p}):v("div",{class:"q-bottom-sheet__empty-icon"}),v("div",h.label)])})}function u(){return e.actions.map(h=>{const p=h.avatar||h.img;return h.label===void 0?v(Po,{spaced:!0,dark:i.value}):v(fl,{class:["q-bottom-sheet__item",h.classes],tabindex:0,clickable:!0,dark:i.value,onClick(){s(h)},onKeyup(y){y.keyCode===13&&s(h)}},()=>[v($i,{avatar:!0},()=>h.icon?v(dt,{name:h.icon,color:h.color}):p?v("img",{class:h.avatar?"q-bottom-sheet__avatar":"",src:p}):null),v($i,()=>h.label)])})}function d(){const h=[];return e.title&&h.push(v(po,{class:"q-dialog__title"},()=>e.title)),e.message&&h.push(v(po,{class:"q-dialog__message"},()=>e.message)),h.push(e.grid===!0?v("div",{class:"row items-stretch justify-start"},c()):v("div",u())),h}function f(){return[v(Vf,{class:[`q-bottom-sheet q-bottom-sheet--${e.grid===!0?"grid":"list"}`+(i.value===!0?" q-bottom-sheet--dark q-dark":""),e.cardClass],style:e.cardStyle},d)]}return Object.assign(n,{show:r,hide:a}),()=>v(hl,{ref:o,position:"bottom",onHide:l},f)}});function Hx(e){return encodeURIComponent(e)}function Ux(e){return decodeURIComponent(e)}function AP(e){return Hx(e===Object(e)?JSON.stringify(e):""+e)}function LP(e){if(e==="")return e;e.indexOf('"')===0&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),e=Ux(e.replace(/\+/g," "));try{const t=JSON.parse(e);t!==Object(t)&&Array.isArray(t)!==!0||(e=t)}catch{}return e}function Gx(e){const t=new Date;return t.setMilliseconds(t.getMilliseconds()+e),t.toUTCString()}function PP(e){let t=0;const n=e.match(/(\d+)d/),i=e.match(/(\d+)h/),o=e.match(/(\d+)m/),r=e.match(/(\d+)s/);return n&&(t+=864e5*n[1]),i&&(t+=36e5*i[1]),o&&(t+=6e4*o[1]),r&&(t+=1e3*r[1]),t===0?e:Gx(t)}function Wx(e,t,n={},i){let o,r;n.expires!==void 0&&(Object.prototype.toString.call(n.expires)==="[object Date]"?o=n.expires.toUTCString():typeof n.expires=="string"?o=PP(n.expires):(r=parseFloat(n.expires),o=isNaN(r)===!1?Gx(864e5*r):n.expires));const a=`${Hx(e)}=${AP(t)}`,s=[a,o!==void 0?"; Expires="+o:"",n.path?"; Path="+n.path:"",n.domain?"; Domain="+n.domain:"",n.sameSite?"; SameSite="+n.sameSite:"",n.httpOnly?"; HttpOnly":"",n.secure?"; Secure":"",n.other?"; "+n.other:""].join("");if(i){i.req.qCookies?i.req.qCookies.push(s):i.req.qCookies=[s],i.res.setHeader("Set-Cookie",i.req.qCookies);let l=i.req.headers.cookie||"";if(o!==void 0&&r<0){const c=mu(e,i);c!==void 0&&(l=l.replace(`${e}=${c}; `,"").replace(`; ${e}=${c}`,"").replace(`${e}=${c}`,""))}else l=l?`${a}; ${l}`:s;i.req.headers.cookie=l}else document.cookie=s}function mu(e,t){const n=t?t.req.headers:document,i=n.cookie?n.cookie.split("; "):[],o=i.length;let r,a,s,l=e?null:{},c=0;for(;c<o;c++)if(r=i[c].split("="),a=Ux(r.shift()),s=r.join("="),e){if(e===a){l=LP(s);break}}else l[a]=s;return l}function RP(e,t,n){Wx(e,"",V({expires:-1},t),n)}function kP(e,t){return mu(e,t)!==null}function BP(e){return{get:t=>mu(t,e),set:(t,n,i)=>Wx(t,n,i,e),has:t=>kP(t,e),remove:(t,n)=>RP(t,n,e),getAll:()=>mu(null,e)}}const IP={install({$q:e,ssrContext:t}){e.cookies=this}};Object.assign(IP,BP());we({name:"DialogPlugin",props:ye(V({},ht),{title:String,message:String,prompt:Object,options:Object,progress:[Boolean,Object],html:Boolean,ok:{type:[String,Object,Boolean],default:!0},cancel:[String,Object,Boolean],focus:{type:String,default:"ok",validator:e=>["ok","cancel","none"].includes(e)},stackButtons:Boolean,color:String,cardClass:[String,Array,Object],cardStyle:[String,Array,Object]}),emits:["ok","hide"],setup(e,{emit:t}){const{proxy:n}=Ne(),{$q:i}=n,o=ft(e,i),r=K(null),a=K(e.prompt!==void 0?e.prompt.model:e.options!==void 0?e.options.model:void 0),s=S(()=>"q-dialog-plugin"+(o.value===!0?" q-dialog-plugin--dark q-dark":"")+(e.progress!==!1?" q-dialog-plugin--progress":"")),l=S(()=>e.color||(o.value===!0?"amber":"primary")),c=S(()=>e.progress===!1?null:Sn(e.progress)===!0?{component:e.progress.spinner||Jn,props:{color:e.progress.color||l.value}}:{component:Jn,props:{color:l.value}}),u=S(()=>e.prompt!==void 0||e.options!==void 0),d=S(()=>{if(u.value!==!0)return{};const j=e.prompt!==void 0?e.prompt:e.options,{model:P,isValid:L,items:q}=j;return qa(j,["model","isValid","items"])}),f=S(()=>Sn(e.ok)===!0||e.ok===!0?i.lang.label.ok:e.ok),h=S(()=>Sn(e.cancel)===!0||e.cancel===!0?i.lang.label.cancel:e.cancel),p=S(()=>e.prompt!==void 0?e.prompt.isValid!==void 0&&e.prompt.isValid(a.value)!==!0:e.options!==void 0&&e.options.isValid!==void 0&&e.options.isValid(a.value)!==!0),y=S(()=>ye(V({color:l.value,label:f.value,ripple:!1,disable:p.value},Sn(e.ok)===!0?e.ok:{flat:!0}),{"data-autofocus":e.focus==="ok"&&u.value!==!0||void 0,onClick:_})),b=S(()=>ye(V({color:l.value,label:h.value,ripple:!1},Sn(e.cancel)===!0?e.cancel:{flat:!0}),{"data-autofocus":e.focus==="cancel"&&u.value!==!0||void 0,onClick:x}));function g(){r.value.show()}function m(){r.value.hide()}function _(){t("ok",Vi(a.value)),m()}function x(){m()}function M(){t("hide")}function w(P){a.value=P}function T(P){p.value!==!0&&e.prompt.type!=="textarea"&&Zn(P,13)===!0&&_()}function B(P,L){return e.html===!0?v(po,{class:P,innerHTML:L}):v(po,{class:P},()=>L)}function D(){return[v(op,ye(V({modelValue:a.value},d.value),{color:l.value,dense:!0,autofocus:!0,dark:o.value,"onUpdate:modelValue":w,onKeyup:T}))]}function z(){return[v(xx,ye(V({modelValue:a.value},d.value),{color:l.value,options:e.options.items,dark:o.value,"onUpdate:modelValue":w}))]}function A(){const P=[];return e.cancel&&P.push(v(mt,b.value)),e.ok&&P.push(v(mt,y.value)),v(pb,{class:e.stackButtons===!0?"items-end":"",vertical:e.stackButtons,align:"right"},()=>P)}function O(){const P=[];return e.title&&P.push(B("q-dialog__title",e.title)),e.progress!==!1&&P.push(v(po,{class:"q-dialog__progress"},()=>v(c.value.component,c.value.props))),e.message&&P.push(B("q-dialog__message",e.message)),e.prompt!==void 0?P.push(v(po,{class:"scroll q-dialog-plugin__form"},D)):e.options!==void 0&&P.push(v(Po,{dark:o.value}),v(po,{class:"scroll q-dialog-plugin__form"},z),v(Po,{dark:o.value})),(e.ok||e.cancel)&&P.push(A()),P}function C(){return[v(Vf,{class:[s.value,e.cardClass],style:e.cardStyle,dark:o.value},O)]}return Me(()=>e.prompt&&e.prompt.model,w),Me(()=>e.options&&e.options.model,w),Object.assign(n,{show:g,hide:m}),()=>v(hl,{ref:r,onHide:M},C)}});const yc=K(null),Uv=ko({isActive:!1},{start:Ft,stop:Ft,increment:Ft,setDefaults:Ft,install({$q:e,parentApp:t}){if(e.loadingBar=this,this.__installed===!0)return void(e.config.loadingBar!==void 0&&this.setDefaults(e.config.loadingBar));const n=K(e.config.loadingBar!==void 0?V({},e.config.loadingBar):{});function i(){Uv.isActive=!0}function o(){Uv.isActive=!1}const r=Nf("q-loading-bar");xE({name:"LoadingBar",devtools:{hide:!0},setup:()=>()=>v(Gy,ye(V({},n.value),{onStart:i,onStop:o,ref:yc}))},t).mount(r),Object.assign(this,{start(a){yc.value.start(a)},stop(){yc.value.stop()},increment(){yc.value.increment.apply(null,arguments)},setDefaults(a){Sn(a)===!0&&Object.assign(n.value,a)}})}});let jr,Fd,Qr,Gv=0,an={};const $x={delay:0,message:!1,html:!1,spinnerSize:80,spinnerColor:"",messageColor:"",backgroundColor:"",boxClass:"",spinner:Jn,customClass:""},Wv=V({},$x),ns=ko({isActive:!1},{show(e){if(an=Sn(e)===!0&&e.ignoreDefaults===!0?V(V({},$x),e):V(V({},Wv),e),ns.isActive=!0,jr!==void 0)return an.uid=Gv,void Fd.$forceUpdate();an.uid=++Gv,clearTimeout(Qr),Qr=setTimeout(()=>{Qr=void 0;const t=Nf("q-loading");jr=Zv({name:"QLoading",setup(){function n(){ns.isActive!==!0&&jr!==void 0&&(Ih(!1),jr.unmount(t),tb(t),jr=void 0,Fd=void 0)}function i(){if(ns.isActive!==!0)return null;const o=[v(an.spinner,{class:"q-loading__spinner",color:an.spinnerColor,size:an.spinnerSize})];return an.message&&o.push(v("div",{class:"q-loading__message"+(an.messageColor?` text-${an.messageColor}`:""),[an.html===!0?"innerHTML":"textContent"]:an.message})),v("div",{class:"q-loading fullscreen flex flex-center z-max "+an.customClass.trim(),key:an.uid},[v("div",{class:"q-loading__backdrop"+(an.backgroundColor?` bg-${an.backgroundColor}`:"")}),v("div",{class:"q-loading__box column items-center "+an.boxClass},o)])}return $t(()=>{Ih(!0)}),()=>v(Kt,{name:"q-transition--fade",appear:!0,onAfterLeave:n},i)}}),Fd=jr.mount(t)},an.delay)},hide(){ns.isActive===!0&&(Qr!==void 0&&(clearTimeout(Qr),Qr=void 0),ns.isActive=!1)},setDefaults(e){Sn(e)===!0&&Object.assign(Wv,e)},install({$q:e}){e.loading=this,e.config.loading!==void 0&&this.setDefaults(e.config.loading)}});function FP(e){return wh(e)===!0?"__q_date|"+e.toUTCString():bE(e)===!0?"__q_expr|"+e.source:typeof e=="number"?"__q_numb|"+e:typeof e=="boolean"?"__q_bool|"+(e?"1":"0"):typeof e=="string"?"__q_strn|"+e:typeof e=="function"?"__q_strn|"+e.toString():e===Object(e)?"__q_objt|"+JSON.stringify(e):e}function OP(e){if(e.length<9)return e;const n=e.substring(0,8),i=e.substring(9);switch(n){case"__q_date":return new Date(i);case"__q_expr":return new RegExp(i);case"__q_numb":return Number(i);case"__q_bool":return Boolean(i==="1");case"__q_strn":return""+i;case"__q_objt":return JSON.parse(i);default:return e}}function jx(){const e=()=>null;return{has:()=>!1,getLength:()=>0,getItem:e,getIndex:e,getKey:e,getAll:()=>{},getAllKeys:()=>[],set:Ft,remove:Ft,clear:Ft,isEmpty:()=>!0}}function Qx(e){const t=window[e+"Storage"],n=i=>{const o=t.getItem(i);return o?OP(o):null};return{has:i=>t.getItem(i)!==null,getLength:()=>t.length,getItem:n,getIndex:i=>i<t.length?n(t.key(i)):null,getKey:i=>i<t.length?t.key(i):null,getAll:()=>{let i;const o={},r=t.length;for(let a=0;a<r;a++)i=t.key(a),o[i]=n(i);return o},getAllKeys:()=>{const i=[],o=t.length;for(let r=0;r<o;r++)i.push(t.key(r));return i},set:(i,o)=>{t.setItem(i,FP(o))},remove:i=>{t.removeItem(i)},clear:()=>{t.clear()},isEmpty:()=>t.length===0}}const Yx=ot.has.webStorage===!1?jx():Qx("local"),NP={install({$q:e}){e.localStorage=Yx}};Object.assign(NP,Yx);const Xx=ot.has.webStorage===!1?jx():Qx("session"),DP={install({$q:e}){e.sessionStorage=Xx}};Object.assign(DP,Xx);const zP=["ok","hide"];function qP(){return Pn(mE)}lx(zP);const VP=jv({data:function(){return{quasar:qP(),vantaEffect:null}},beforeUnmount:function(){},mounted:function(){window.THREE=vd,!this.vantaEffect&&(hn.isActive?this.vantaEffect=xm({el:this.$refs.vantaRef,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1,color:3947580,shininess:61,waveHeight:23,waveSpeed:.55,zoom:.99,THREE:vd}):this.vantaEffect=xm({el:this.$refs.vantaRef,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1,color:2434341,shininess:61,waveHeight:23,waveSpeed:.55,zoom:.99,THREE:vd}))}}),nR='{"title":"My Stack \u{1F95E}","description":"","frontmatter":{"layout":"page"},"headers":[{"level":3,"title":"My Stack \u{1F95E}","slug":"my-stack-\u{1F95E}"},{"level":3,"title":"Current Stack","slug":"current-stack"},{"level":3,"title":"Databases","slug":"databases"},{"level":3,"title":"Languages","slug":"languages"},{"level":2,"title":"Open-Source Projects","slug":"open-source-projects"}],"relativePath":"portfolio.md","lastUpdated":null}',HP={style:{height:"38vh"}},UP={ref:"vantaRef",style:{height:"38vh",width:"100%"}},GP=Wn("h5",{class:"text-white withshadow noselect text-center soontext",style:{position:"absolute","z-index":"10","margin-top":"calc(-15vh)",width:"100%"}},"My Portfolio",-1),WP={class:"container padding vpdoc"},$P=Wn("p",null,[a_("Feel free to "),Wn("a",{style:{"text-decoration":"underline"},href:"contact.html"},"contact me to get to know me.")],-1),jP=Wn("p",null,"You can download a brief summary of my skills in PDF format below",-1),QP=s_("",32),YP=Wn("br",null,null,-1),XP=Wn("br",null,null,-1),ZP=Wn("br",null,null,-1);function KP(e,t,n,i,o,r){return o_(),r_("div",null,[Wn("div",HP,[Wn("div",UP,null,512)]),GP,Wn("div",WP,[$P,jP,Wn("button",{class:"VPButton medium brand",disabled:"",onClick:t[0]||(t[0]=(...a)=>e.downloadPDF&&e.downloadPDF(...a))},"Download PDF"),QP,Wn("button",{class:"VPButton medium brand",disabled:"",onClick:t[1]||(t[1]=(...a)=>e.downloadPDF&&e.downloadPDF(...a))},"Download PDF"),YP,XP,ZP])])}var iR=i_(VP,[["render",KP]]);export{nR as __pageData,iR as default};
