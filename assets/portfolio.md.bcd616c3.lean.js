import{f as ee,i as Be,j as w,k as Te,l as It,m as v,T as Kt,q as st,s as Wx,x as Pr,y as el,z as $x,A as Ln,B as na,C as Qv,D as Kv,w as ci,E as ut,G as Zv,H as jx,I as Ki,J as So,K as Yf,L as Jv,M as Yx,N as Vi,O as eg,P as Xx,u as Qx,_ as Kx,o as Zx,c as Jx,a as Gn,b as e_,g as t_}from"./app.f93eccc5.js";const tg="124",n_={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},i_={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},ng=0,Wd=1,ig=2,r_=3,o_=0,Xf=1,rg=2,ia=3,Pa=0,Qt=1,tl=2,Qf=1,a_=2,Wi=0,ua=1,$d=2,jd=3,Yd=4,og=5,Qr=100,ag=101,sg=102,Xd=103,Qd=104,lg=200,ug=201,cg=202,dg=203,Kf=204,Zf=205,fg=206,hg=207,mg=208,pg=209,vg=210,gg=0,yg=1,bg=2,Eu=3,xg=4,_g=5,wg=6,Sg=7,nl=0,Mg=1,Tg=2,no=0,Cg=1,Eg=2,Ag=3,Lg=4,Rg=5,gc=300,il=301,rl=302,Au=303,Lu=304,Ba=306,ol=307,_s=1e3,_n=1001,ws=1002,Zt=1003,Ru=1004,s_=1004,ku=1005,l_=1005,on=1006,Jf=1007,u_=1007,Ia=1008,c_=1008,Fa=1009,kg=1010,Pg=1011,Ss=1012,Bg=1013,ds=1014,Ui=1015,Ms=1016,Ig=1017,Fg=1018,Dg=1019,ca=1020,Og=1021,gr=1022,Nn=1023,Ng=1024,zg=1025,qg=Nn,io=1026,ya=1027,Hg=1028,Vg=1029,Ug=1030,Gg=1031,Wg=1032,$g=1033,Kd=33776,Zd=33777,Jd=33778,ef=33779,tf=35840,nf=35841,rf=35842,of=35843,jg=36196,af=37492,sf=37496,Yg=37808,Xg=37809,Qg=37810,Kg=37811,Zg=37812,Jg=37813,e0=37814,t0=37815,n0=37816,i0=37817,r0=37818,o0=37819,a0=37820,s0=37821,l0=36492,u0=37840,c0=37841,d0=37842,f0=37843,h0=37844,m0=37845,p0=37846,v0=37847,g0=37848,y0=37849,b0=37850,x0=37851,_0=37852,w0=37853,S0=2200,M0=2201,T0=2202,Ts=2300,fs=2301,_u=2302,Zr=2400,Jr=2401,Cs=2402,yc=2500,eh=2501,C0=0,d_=1,f_=2,Mn=3e3,al=3001,bc=3007,xc=3002,E0=3003,th=3004,nh=3005,ih=3006,A0=3200,L0=3201,Mo=0,R0=1,h_=0,wu=7680,m_=7681,p_=7682,v_=7683,g_=34055,y_=34056,b_=5386,x_=512,__=513,w_=514,S_=515,M_=516,T_=517,C_=518,k0=519,sl=35044,lo=35048,E_=35040,A_=35045,L_=35049,R_=35041,k_=35046,P_=35050,B_=35042,I_="100",lf="300 es";function Ri(){}Object.assign(Ri.prototype,{addEventListener:function(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)},hasEventListener:function(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1},removeEventListener:function(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const r=i.indexOf(t);r!==-1&&i.splice(r,1)}},dispatchEvent:function(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let r=0,o=i.length;r<o;r++)i[r].call(this,e)}}});const ln=[];for(let e=0;e<256;e++)ln[e]=(e<16?"0":"")+e.toString(16);let gl=1234567;const tt={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(ln[e&255]+ln[e>>8&255]+ln[e>>16&255]+ln[e>>24&255]+"-"+ln[t&255]+ln[t>>8&255]+"-"+ln[t>>16&15|64]+ln[t>>24&255]+"-"+ln[n&63|128]+ln[n>>8&255]+"-"+ln[n>>16&255]+ln[n>>24&255]+ln[i&255]+ln[i>>8&255]+ln[i>>16&255]+ln[i>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(e*6-15)+10))},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return e!==void 0&&(gl=e%2147483647),gl=gl*16807%2147483647,(gl-1)/2147483646},degToRad:function(e){return e*tt.DEG2RAD},radToDeg:function(e){return e*tt.RAD2DEG},isPowerOfTwo:function(e){return(e&e-1)===0&&e!==0},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,i,r){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),u=o((t+i)/2),c=a((t+i)/2),d=o((t-i)/2),f=a((t-i)/2),h=o((i-t)/2),m=a((i-t)/2);switch(r){case"XYX":e.set(s*c,l*d,l*f,s*u);break;case"YZY":e.set(l*f,s*c,l*d,s*u);break;case"ZXZ":e.set(l*d,l*f,s*c,s*u);break;case"XZX":e.set(s*c,l*m,l*h,s*u);break;case"YXY":e.set(l*h,s*c,l*m,s*u);break;case"ZYZ":e.set(l*m,l*h,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}};class Re{constructor(t=0,n=0){Object.defineProperty(this,"isVector2",{value:!0}),this.x=t,this.y=n}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,n){return this.x=t,this.y=n,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,n){return n!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,n)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this}sub(t,n){return n!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,n)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const n=this.x,i=this.y,r=t.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this}clampLength(t,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const n=this.x-t.x,i=this.y-t.y;return n*n+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this}lerpVectors(t,n,i){return this.x=t.x+(n.x-t.x)*i,this.y=t.y+(n.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t}fromBufferAttribute(t,n,i){return i!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(n),this.y=t.getY(n),this}rotateAround(t,n){const i=Math.cos(n),r=Math.sin(n),o=this.x-t.x,a=this.y-t.y;return this.x=o*i-a*r+t.x,this.y=o*r+a*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}class Sn{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,n,i,r,o,a,s,l,u){const c=this.elements;return c[0]=t,c[1]=r,c[2]=s,c[3]=n,c[4]=o,c[5]=l,c[6]=i,c[7]=a,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}clone(){return new this.constructor().fromArray(this.elements)}copy(t){const n=this.elements,i=t.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(t,n,i){return t.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const n=t.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){const i=t.elements,r=n.elements,o=this.elements,a=i[0],s=i[3],l=i[6],u=i[1],c=i[4],d=i[7],f=i[2],h=i[5],m=i[8],y=r[0],b=r[3],g=r[6],p=r[1],_=r[4],x=r[7],S=r[2],M=r[5],T=r[8];return o[0]=a*y+s*p+l*S,o[3]=a*b+s*_+l*M,o[6]=a*g+s*x+l*T,o[1]=u*y+c*p+d*S,o[4]=u*b+c*_+d*M,o[7]=u*g+c*x+d*T,o[2]=f*y+h*p+m*S,o[5]=f*b+h*_+m*M,o[8]=f*g+h*x+m*T,this}multiplyScalar(t){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=t,n[4]*=t,n[7]*=t,n[2]*=t,n[5]*=t,n[8]*=t,this}determinant(){const t=this.elements,n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8];return n*a*c-n*s*u-i*o*c+i*s*l+r*o*u-r*a*l}invert(){const t=this.elements,n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],d=c*a-s*u,f=s*l-c*o,h=u*o-a*l,m=n*d+i*f+r*h;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/m;return t[0]=d*y,t[1]=(r*u-c*i)*y,t[2]=(s*i-r*a)*y,t[3]=f*y,t[4]=(c*n-r*l)*y,t[5]=(r*o-s*n)*y,t[6]=h*y,t[7]=(i*l-u*n)*y,t[8]=(a*n-i*o)*y,this}transpose(){let t;const n=this.elements;return t=n[1],n[1]=n[3],n[3]=t,t=n[2],n[2]=n[6],n[6]=t,t=n[5],n[5]=n[7],n[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).copy(this).invert().transpose()}transposeIntoArray(t){const n=this.elements;return t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8],this}setUvTransform(t,n,i,r,o,a,s){const l=Math.cos(o),u=Math.sin(o);return this.set(i*l,i*u,-i*(l*a+u*s)+a+t,-r*u,r*l,-r*(-u*a+l*s)+s+n,0,0,1),this}scale(t,n){const i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=n,i[4]*=n,i[7]*=n,this}rotate(t){const n=Math.cos(t),i=Math.sin(t),r=this.elements,o=r[0],a=r[3],s=r[6],l=r[1],u=r[4],c=r[7];return r[0]=n*o+i*l,r[3]=n*a+i*u,r[6]=n*s+i*c,r[1]=-i*o+n*l,r[4]=-i*a+n*u,r[7]=-i*s+n*c,this}translate(t,n){const i=this.elements;return i[0]+=t*i[2],i[3]+=t*i[5],i[6]+=t*i[8],i[1]+=n*i[2],i[4]+=n*i[5],i[7]+=n*i[8],this}equals(t){const n=this.elements,i=t.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(t,n=0){for(let i=0;i<9;i++)this.elements[i]=t[i+n];return this}toArray(t=[],n=0){const i=this.elements;return t[n]=i[0],t[n+1]=i[1],t[n+2]=i[2],t[n+3]=i[3],t[n+4]=i[4],t[n+5]=i[5],t[n+6]=i[6],t[n+7]=i[7],t[n+8]=i[8],t}}let Ro;const To={getDataURL:function(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Ro===void 0&&(Ro=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Ro.width=e.width,Ro.height=e.height;const n=Ro.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Ro}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}};let F_=0;function Mt(e=Mt.DEFAULT_IMAGE,t=Mt.DEFAULT_MAPPING,n=_n,i=_n,r=on,o=Ia,a=Nn,s=Fa,l=1,u=Mn){Object.defineProperty(this,"id",{value:F_++}),this.uuid=tt.generateUUID(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=s,this.offset=new Re(0,0),this.repeat=new Re(1,1),this.center=new Re(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Sn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.version=0,this.onUpdate=null}Mt.DEFAULT_IMAGE=void 0;Mt.DEFAULT_MAPPING=gc;Mt.prototype=Object.assign(Object.create(Ri.prototype),{constructor:Mt,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const i=this.image;if(i.uuid===void 0&&(i.uuid=tt.generateUUID()),!t&&e.images[i.uuid]===void 0){let r;if(Array.isArray(i)){r=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?r.push(Uc(i[o].image)):r.push(Uc(i[o]))}else r=Uc(i);e.images[i.uuid]={uuid:i.uuid,url:r}}n.image=i.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==gc)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case _s:e.x=e.x-Math.floor(e.x);break;case _n:e.x=e.x<0?0:1;break;case ws:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case _s:e.y=e.y-Math.floor(e.y);break;case _n:e.y=e.y<0?0:1;break;case ws:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}});Object.defineProperty(Mt.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});function Uc(e){return typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap?To.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}class _t{constructor(t=0,n=0,i=0,r=1){Object.defineProperty(this,"isVector4",{value:!0}),this.x=t,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,n,i,r){return this.x=t,this.y=n,this.z=i,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t,n){return n!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,n)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this.w=t.w+n.w,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this.w+=t.w*n,this}sub(t,n){return n!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,n)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this.w=t.w-n.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const n=this.x,i=this.y,r=this.z,o=this.w,a=t.elements;return this.x=a[0]*n+a[4]*i+a[8]*r+a[12]*o,this.y=a[1]*n+a[5]*i+a[9]*r+a[13]*o,this.z=a[2]*n+a[6]*i+a[10]*r+a[14]*o,this.w=a[3]*n+a[7]*i+a[11]*r+a[15]*o,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const n=Math.sqrt(1-t.w*t.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/n,this.y=t.y/n,this.z=t.z/n),this}setAxisAngleFromRotationMatrix(t){let n,i,r,o;const l=t.elements,u=l[0],c=l[4],d=l[8],f=l[1],h=l[5],m=l[9],y=l[2],b=l[6],g=l[10];if(Math.abs(c-f)<.01&&Math.abs(d-y)<.01&&Math.abs(m-b)<.01){if(Math.abs(c+f)<.1&&Math.abs(d+y)<.1&&Math.abs(m+b)<.1&&Math.abs(u+h+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(u+1)/2,x=(h+1)/2,S=(g+1)/2,M=(c+f)/4,T=(d+y)/4,R=(m+b)/4;return _>x&&_>S?_<.01?(i=0,r=.707106781,o=.707106781):(i=Math.sqrt(_),r=M/i,o=T/i):x>S?x<.01?(i=.707106781,r=0,o=.707106781):(r=Math.sqrt(x),i=M/r,o=R/r):S<.01?(i=.707106781,r=.707106781,o=0):(o=Math.sqrt(S),i=T/o,r=R/o),this.set(i,r,o,n),this}let p=Math.sqrt((b-m)*(b-m)+(d-y)*(d-y)+(f-c)*(f-c));return Math.abs(p)<.001&&(p=1),this.x=(b-m)/p,this.y=(d-y)/p,this.z=(f-c)/p,this.w=Math.acos((u+h+g-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this.w=Math.max(t.w,Math.min(n.w,this.w)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this.w=Math.max(t,Math.min(n,this.w)),this}clampLength(t,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this.w+=(t.w-this.w)*n,this}lerpVectors(t,n,i){return this.x=t.x+(n.x-t.x)*i,this.y=t.y+(n.y-t.y)*i,this.z=t.z+(n.z-t.z)*i,this.w=t.w+(n.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this.z=t[n+2],this.w=t[n+3],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t[n+3]=this.w,t}fromBufferAttribute(t,n,i){return i!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this.w=t.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}function zn(e,t,n){this.width=e,this.height=t,this.scissor=new _t(0,0,e,t),this.scissorTest=!1,this.viewport=new _t(0,0,e,t),n=n||{},this.texture=new Mt(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:on,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null}zn.prototype=Object.assign(Object.create(Ri.prototype),{constructor:zn,isWebGLRenderTarget:!0,setSize:function(e,t){(this.width!==e||this.height!==t)&&(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function uf(e,t,n){zn.call(this,e,t,n),this.samples=4}uf.prototype=Object.assign(Object.create(zn.prototype),{constructor:uf,isWebGLMultisampleRenderTarget:!0,copy:function(e){return zn.prototype.copy.call(this,e),this.samples=e.samples,this}});class pn{constructor(t=0,n=0,i=0,r=1){Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=t,this._y=n,this._z=i,this._w=r}static slerp(t,n,i,r){return i.copy(t).slerp(n,r)}static slerpFlat(t,n,i,r,o,a,s){let l=i[r+0],u=i[r+1],c=i[r+2],d=i[r+3];const f=o[a+0],h=o[a+1],m=o[a+2],y=o[a+3];if(d!==y||l!==f||u!==h||c!==m){let b=1-s;const g=l*f+u*h+c*m+d*y,p=g>=0?1:-1,_=1-g*g;if(_>Number.EPSILON){const S=Math.sqrt(_),M=Math.atan2(S,g*p);b=Math.sin(b*M)/S,s=Math.sin(s*M)/S}const x=s*p;if(l=l*b+f*x,u=u*b+h*x,c=c*b+m*x,d=d*b+y*x,b===1-s){const S=1/Math.sqrt(l*l+u*u+c*c+d*d);l*=S,u*=S,c*=S,d*=S}}t[n]=l,t[n+1]=u,t[n+2]=c,t[n+3]=d}static multiplyQuaternionsFlat(t,n,i,r,o,a){const s=i[r],l=i[r+1],u=i[r+2],c=i[r+3],d=o[a],f=o[a+1],h=o[a+2],m=o[a+3];return t[n]=s*m+c*d+l*h-u*f,t[n+1]=l*m+c*f+u*d-s*h,t[n+2]=u*m+c*h+s*f-l*d,t[n+3]=c*m-s*d-l*f-u*h,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,n,i,r){return this._x=t,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,n){if(!(t&&t.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=t._x,r=t._y,o=t._z,a=t._order,s=Math.cos,l=Math.sin,u=s(i/2),c=s(r/2),d=s(o/2),f=l(i/2),h=l(r/2),m=l(o/2);switch(a){case"XYZ":this._x=f*c*d+u*h*m,this._y=u*h*d-f*c*m,this._z=u*c*m+f*h*d,this._w=u*c*d-f*h*m;break;case"YXZ":this._x=f*c*d+u*h*m,this._y=u*h*d-f*c*m,this._z=u*c*m-f*h*d,this._w=u*c*d+f*h*m;break;case"ZXY":this._x=f*c*d-u*h*m,this._y=u*h*d+f*c*m,this._z=u*c*m+f*h*d,this._w=u*c*d-f*h*m;break;case"ZYX":this._x=f*c*d-u*h*m,this._y=u*h*d+f*c*m,this._z=u*c*m-f*h*d,this._w=u*c*d+f*h*m;break;case"YZX":this._x=f*c*d+u*h*m,this._y=u*h*d+f*c*m,this._z=u*c*m-f*h*d,this._w=u*c*d-f*h*m;break;case"XZY":this._x=f*c*d-u*h*m,this._y=u*h*d-f*c*m,this._z=u*c*m+f*h*d,this._w=u*c*d+f*h*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(t,n){const i=n/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const n=t.elements,i=n[0],r=n[4],o=n[8],a=n[1],s=n[5],l=n[9],u=n[2],c=n[6],d=n[10],f=i+s+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(c-l)*h,this._y=(o-u)*h,this._z=(a-r)*h}else if(i>s&&i>d){const h=2*Math.sqrt(1+i-s-d);this._w=(c-l)/h,this._x=.25*h,this._y=(r+a)/h,this._z=(o+u)/h}else if(s>d){const h=2*Math.sqrt(1+s-i-d);this._w=(o-u)/h,this._x=(r+a)/h,this._y=.25*h,this._z=(l+c)/h}else{const h=2*Math.sqrt(1+d-i-s);this._w=(a-r)/h,this._x=(o+u)/h,this._y=(l+c)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(t,n){let r=t.dot(n)+1;return r<1e-6?(r=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=r):(this._x=0,this._y=-t.z,this._z=t.y,this._w=r)):(this._x=t.y*n.z-t.z*n.y,this._y=t.z*n.x-t.x*n.z,this._z=t.x*n.y-t.y*n.x,this._w=r),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(tt.clamp(this.dot(t),-1,1)))}rotateTowards(t,n){const i=this.angleTo(t);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,n){return n!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,n)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,n){const i=t._x,r=t._y,o=t._z,a=t._w,s=n._x,l=n._y,u=n._z,c=n._w;return this._x=i*c+a*s+r*u-o*l,this._y=r*c+a*l+o*s-i*u,this._z=o*c+a*u+i*l-r*s,this._w=a*c-i*s-r*l-o*u,this._onChangeCallback(),this}slerp(t,n){if(n===0)return this;if(n===1)return this.copy(t);const i=this._x,r=this._y,o=this._z,a=this._w;let s=a*t._w+i*t._x+r*t._y+o*t._z;if(s<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),s>=1)return this._w=a,this._x=i,this._y=r,this._z=o,this;const l=1-s*s;if(l<=Number.EPSILON){const h=1-n;return this._w=h*a+n*this._w,this._x=h*i+n*this._x,this._y=h*r+n*this._y,this._z=h*o+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,s),d=Math.sin((1-n)*c)/u,f=Math.sin(n*c)/u;return this._w=a*d+this._w*f,this._x=i*d+this._x*f,this._y=r*d+this._y*f,this._z=o*d+this._z*f,this._onChangeCallback(),this}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,n=0){return this._x=t[n],this._y=t[n+1],this._z=t[n+2],this._w=t[n+3],this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._w,t}fromBufferAttribute(t,n){return this._x=t.getX(n),this._y=t.getY(n),this._z=t.getZ(n),this._w=t.getW(n),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}class V{constructor(t=0,n=0,i=0){Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=n,this.z=i}set(t,n,i){return i===void 0&&(i=this.z),this.x=t,this.y=n,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,n){return n!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,n)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this}sub(t,n){return n!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,n)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this}multiply(t,n){return n!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,n)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,n){return this.x=t.x*n.x,this.y=t.y*n.y,this.z=t.z*n.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(hm.setFromEuler(t))}applyAxisAngle(t,n){return this.applyQuaternion(hm.setFromAxisAngle(t,n))}applyMatrix3(t){const n=this.x,i=this.y,r=this.z,o=t.elements;return this.x=o[0]*n+o[3]*i+o[6]*r,this.y=o[1]*n+o[4]*i+o[7]*r,this.z=o[2]*n+o[5]*i+o[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const n=this.x,i=this.y,r=this.z,o=t.elements,a=1/(o[3]*n+o[7]*i+o[11]*r+o[15]);return this.x=(o[0]*n+o[4]*i+o[8]*r+o[12])*a,this.y=(o[1]*n+o[5]*i+o[9]*r+o[13])*a,this.z=(o[2]*n+o[6]*i+o[10]*r+o[14])*a,this}applyQuaternion(t){const n=this.x,i=this.y,r=this.z,o=t.x,a=t.y,s=t.z,l=t.w,u=l*n+a*r-s*i,c=l*i+s*n-o*r,d=l*r+o*i-a*n,f=-o*n-a*i-s*r;return this.x=u*l+f*-o+c*-s-d*-a,this.y=c*l+f*-a+d*-o-u*-s,this.z=d*l+f*-s+u*-a-c*-o,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const n=this.x,i=this.y,r=this.z,o=t.elements;return this.x=o[0]*n+o[4]*i+o[8]*r,this.y=o[1]*n+o[5]*i+o[9]*r,this.z=o[2]*n+o[6]*i+o[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this}clampLength(t,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this}lerpVectors(t,n,i){return this.x=t.x+(n.x-t.x)*i,this.y=t.y+(n.y-t.y)*i,this.z=t.z+(n.z-t.z)*i,this}cross(t,n){return n!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,n)):this.crossVectors(this,t)}crossVectors(t,n){const i=t.x,r=t.y,o=t.z,a=n.x,s=n.y,l=n.z;return this.x=r*l-o*s,this.y=o*a-i*l,this.z=i*s-r*a,this}projectOnVector(t){const n=t.lengthSq();if(n===0)return this.set(0,0,0);const i=t.dot(this)/n;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return Gc.copy(this).projectOnVector(t),this.sub(Gc)}reflect(t){return this.sub(Gc.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const n=Math.sqrt(this.lengthSq()*t.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(t)/n;return Math.acos(tt.clamp(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const n=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return n*n+i*i+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,n,i){const r=Math.sin(n)*t;return this.x=r*Math.sin(i),this.y=Math.cos(n)*t,this.z=r*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,n,i){return this.x=t*Math.sin(n),this.y=i,this.z=t*Math.cos(n),this}setFromMatrixPosition(t){const n=t.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(t){const n=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(t,n){return this.fromArray(t.elements,n*4)}setFromMatrix3Column(t,n){return this.fromArray(t.elements,n*3)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this.z=t[n+2],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t}fromBufferAttribute(t,n,i){return i!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}const Gc=new V,hm=new pn;class ki{constructor(t,n){Object.defineProperty(this,"isBox3",{value:!0}),this.min=t!==void 0?t:new V(1/0,1/0,1/0),this.max=n!==void 0?n:new V(-1/0,-1/0,-1/0)}set(t,n){return this.min.copy(t),this.max.copy(n),this}setFromArray(t){let n=1/0,i=1/0,r=1/0,o=-1/0,a=-1/0,s=-1/0;for(let l=0,u=t.length;l<u;l+=3){const c=t[l],d=t[l+1],f=t[l+2];c<n&&(n=c),d<i&&(i=d),f<r&&(r=f),c>o&&(o=c),d>a&&(a=d),f>s&&(s=f)}return this.min.set(n,i,r),this.max.set(o,a,s),this}setFromBufferAttribute(t){let n=1/0,i=1/0,r=1/0,o=-1/0,a=-1/0,s=-1/0;for(let l=0,u=t.count;l<u;l++){const c=t.getX(l),d=t.getY(l),f=t.getZ(l);c<n&&(n=c),d<i&&(i=d),f<r&&(r=f),c>o&&(o=c),d>a&&(a=d),f>s&&(s=f)}return this.min.set(n,i,r),this.max.set(o,a,s),this}setFromPoints(t){this.makeEmpty();for(let n=0,i=t.length;n<i;n++)this.expandByPoint(t[n]);return this}setFromCenterAndSize(t,n){const i=Wa.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t){return this.makeEmpty(),this.expandByObject(t)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return t===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new V),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return t===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new V),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t){t.updateWorldMatrix(!1,!1);const n=t.geometry;n!==void 0&&(n.boundingBox===null&&n.computeBoundingBox(),$c.copy(n.boundingBox),$c.applyMatrix4(t.matrixWorld),this.union($c));const i=t.children;for(let r=0,o=i.length;r<o;r++)this.expandByObject(i[r]);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,n){return n===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),n=new V),n.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,Wa),Wa.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let n,i;return t.normal.x>0?(n=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(n=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(n+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(n+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(n+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(n+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),n<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter($a),yl.subVectors(this.max,$a),ko.subVectors(t.a,$a),Po.subVectors(t.b,$a),Bo.subVectors(t.c,$a),ir.subVectors(Po,ko),rr.subVectors(Bo,Po),Fr.subVectors(ko,Bo);let n=[0,-ir.z,ir.y,0,-rr.z,rr.y,0,-Fr.z,Fr.y,ir.z,0,-ir.x,rr.z,0,-rr.x,Fr.z,0,-Fr.x,-ir.y,ir.x,0,-rr.y,rr.x,0,-Fr.y,Fr.x,0];return!Wc(n,ko,Po,Bo,yl)||(n=[1,0,0,0,1,0,0,0,1],!Wc(n,ko,Po,Bo,yl))?!1:(bl.crossVectors(ir,rr),n=[bl.x,bl.y,bl.z],Wc(n,ko,Po,Bo,yl))}clampPoint(t,n){return n===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),n=new V),n.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return Wa.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return t===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=this.getSize(Wa).length()*.5,t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(Ii[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Ii[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Ii[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Ii[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Ii[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Ii[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Ii[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Ii[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Ii),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}function Wc(e,t,n,i,r){for(let o=0,a=e.length-3;o<=a;o+=3){Dr.fromArray(e,o);const s=r.x*Math.abs(Dr.x)+r.y*Math.abs(Dr.y)+r.z*Math.abs(Dr.z),l=t.dot(Dr),u=n.dot(Dr),c=i.dot(Dr);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}const Ii=[new V,new V,new V,new V,new V,new V,new V,new V],Wa=new V,$c=new ki,ko=new V,Po=new V,Bo=new V,ir=new V,rr=new V,Fr=new V,$a=new V,yl=new V,bl=new V,Dr=new V,D_=new ki;class Zi{constructor(t,n){this.center=t!==void 0?t:new V,this.radius=n!==void 0?n:-1}set(t,n){return this.center.copy(t),this.radius=n,this}setFromPoints(t,n){const i=this.center;n!==void 0?i.copy(n):D_.setFromPoints(t).getCenter(i);let r=0;for(let o=0,a=t.length;o<a;o++)r=Math.max(r,i.distanceToSquared(t[o]));return this.radius=Math.sqrt(r),this}clone(){return new this.constructor().copy(this)}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const n=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=n*n}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,n){const i=this.center.distanceToSquared(t);return n===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),n=new V),n.copy(t),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(t){return t===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new ki),this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}}const Fi=new V,jc=new V,xl=new V,or=new V,Yc=new V,_l=new V,Xc=new V;class Da{constructor(t,n){this.origin=t!==void 0?t:new V,this.direction=n!==void 0?n:new V(0,0,-1)}set(t,n){return this.origin.copy(t),this.direction.copy(n),this}clone(){return new this.constructor().copy(this)}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,n){return n===void 0&&(console.warn("THREE.Ray: .at() target is now required"),n=new V),n.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Fi)),this}closestPointToPoint(t,n){n===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),n=new V),n.subVectors(t,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const n=Fi.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(Fi.copy(this.direction).multiplyScalar(n).add(this.origin),Fi.distanceToSquared(t))}distanceSqToSegment(t,n,i,r){jc.copy(t).add(n).multiplyScalar(.5),xl.copy(n).sub(t).normalize(),or.copy(this.origin).sub(jc);const o=t.distanceTo(n)*.5,a=-this.direction.dot(xl),s=or.dot(this.direction),l=-or.dot(xl),u=or.lengthSq(),c=Math.abs(1-a*a);let d,f,h,m;if(c>0)if(d=a*l-s,f=a*s-l,m=o*c,d>=0)if(f>=-m)if(f<=m){const y=1/c;d*=y,f*=y,h=d*(d+a*f+2*s)+f*(a*d+f+2*l)+u}else f=o,d=Math.max(0,-(a*f+s)),h=-d*d+f*(f+2*l)+u;else f=-o,d=Math.max(0,-(a*f+s)),h=-d*d+f*(f+2*l)+u;else f<=-m?(d=Math.max(0,-(-a*o+s)),f=d>0?-o:Math.min(Math.max(-o,-l),o),h=-d*d+f*(f+2*l)+u):f<=m?(d=0,f=Math.min(Math.max(-o,-l),o),h=f*(f+2*l)+u):(d=Math.max(0,-(a*o+s)),f=d>0?o:Math.min(Math.max(-o,-l),o),h=-d*d+f*(f+2*l)+u);else f=a>0?-o:o,d=Math.max(0,-(a*f+s)),h=-d*d+f*(f+2*l)+u;return i&&i.copy(this.direction).multiplyScalar(d).add(this.origin),r&&r.copy(xl).multiplyScalar(f).add(jc),h}intersectSphere(t,n){Fi.subVectors(t.center,this.origin);const i=Fi.dot(this.direction),r=Fi.dot(Fi)-i*i,o=t.radius*t.radius;if(r>o)return null;const a=Math.sqrt(o-r),s=i-a,l=i+a;return s<0&&l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const n=t.normal.dot(this.direction);if(n===0)return t.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/n;return i>=0?i:null}intersectPlane(t,n){const i=this.distanceToPlane(t);return i===null?null:this.at(i,n)}intersectsPlane(t){const n=t.distanceToPoint(this.origin);return n===0||t.normal.dot(this.direction)*n<0}intersectBox(t,n){let i,r,o,a,s,l;const u=1/this.direction.x,c=1/this.direction.y,d=1/this.direction.z,f=this.origin;return u>=0?(i=(t.min.x-f.x)*u,r=(t.max.x-f.x)*u):(i=(t.max.x-f.x)*u,r=(t.min.x-f.x)*u),c>=0?(o=(t.min.y-f.y)*c,a=(t.max.y-f.y)*c):(o=(t.max.y-f.y)*c,a=(t.min.y-f.y)*c),i>a||o>r||((o>i||i!==i)&&(i=o),(a<r||r!==r)&&(r=a),d>=0?(s=(t.min.z-f.z)*d,l=(t.max.z-f.z)*d):(s=(t.max.z-f.z)*d,l=(t.min.z-f.z)*d),i>l||s>r)||((s>i||i!==i)&&(i=s),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(t){return this.intersectBox(t,Fi)!==null}intersectTriangle(t,n,i,r,o){Yc.subVectors(n,t),_l.subVectors(i,t),Xc.crossVectors(Yc,_l);let a=this.direction.dot(Xc),s;if(a>0){if(r)return null;s=1}else if(a<0)s=-1,a=-a;else return null;or.subVectors(this.origin,t);const l=s*this.direction.dot(_l.crossVectors(or,_l));if(l<0)return null;const u=s*this.direction.dot(Yc.cross(or));if(u<0||l+u>a)return null;const c=-s*or.dot(Xc);return c<0?null:this.at(c/a,o)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}class at{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,n,i,r,o,a,s,l,u,c,d,f,h,m,y,b){const g=this.elements;return g[0]=t,g[4]=n,g[8]=i,g[12]=r,g[1]=o,g[5]=a,g[9]=s,g[13]=l,g[2]=u,g[6]=c,g[10]=d,g[14]=f,g[3]=h,g[7]=m,g[11]=y,g[15]=b,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new at().fromArray(this.elements)}copy(t){const n=this.elements,i=t.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(t){const n=this.elements,i=t.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}extractBasis(t,n,i){return t.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,n,i){return this.set(t.x,n.x,i.x,0,t.y,n.y,i.y,0,t.z,n.z,i.z,0,0,0,0,1),this}extractRotation(t){const n=this.elements,i=t.elements,r=1/Io.setFromMatrixColumn(t,0).length(),o=1/Io.setFromMatrixColumn(t,1).length(),a=1/Io.setFromMatrixColumn(t,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*o,n[5]=i[5]*o,n[6]=i[6]*o,n[7]=0,n[8]=i[8]*a,n[9]=i[9]*a,n[10]=i[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const n=this.elements,i=t.x,r=t.y,o=t.z,a=Math.cos(i),s=Math.sin(i),l=Math.cos(r),u=Math.sin(r),c=Math.cos(o),d=Math.sin(o);if(t.order==="XYZ"){const f=a*c,h=a*d,m=s*c,y=s*d;n[0]=l*c,n[4]=-l*d,n[8]=u,n[1]=h+m*u,n[5]=f-y*u,n[9]=-s*l,n[2]=y-f*u,n[6]=m+h*u,n[10]=a*l}else if(t.order==="YXZ"){const f=l*c,h=l*d,m=u*c,y=u*d;n[0]=f+y*s,n[4]=m*s-h,n[8]=a*u,n[1]=a*d,n[5]=a*c,n[9]=-s,n[2]=h*s-m,n[6]=y+f*s,n[10]=a*l}else if(t.order==="ZXY"){const f=l*c,h=l*d,m=u*c,y=u*d;n[0]=f-y*s,n[4]=-a*d,n[8]=m+h*s,n[1]=h+m*s,n[5]=a*c,n[9]=y-f*s,n[2]=-a*u,n[6]=s,n[10]=a*l}else if(t.order==="ZYX"){const f=a*c,h=a*d,m=s*c,y=s*d;n[0]=l*c,n[4]=m*u-h,n[8]=f*u+y,n[1]=l*d,n[5]=y*u+f,n[9]=h*u-m,n[2]=-u,n[6]=s*l,n[10]=a*l}else if(t.order==="YZX"){const f=a*l,h=a*u,m=s*l,y=s*u;n[0]=l*c,n[4]=y-f*d,n[8]=m*d+h,n[1]=d,n[5]=a*c,n[9]=-s*c,n[2]=-u*c,n[6]=h*d+m,n[10]=f-y*d}else if(t.order==="XZY"){const f=a*l,h=a*u,m=s*l,y=s*u;n[0]=l*c,n[4]=-d,n[8]=u*c,n[1]=f*d+y,n[5]=a*c,n[9]=h*d-m,n[2]=m*d-h,n[6]=s*c,n[10]=y*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(t){return this.compose(O_,t,N_)}lookAt(t,n,i){const r=this.elements;return Pn.subVectors(t,n),Pn.lengthSq()===0&&(Pn.z=1),Pn.normalize(),ar.crossVectors(i,Pn),ar.lengthSq()===0&&(Math.abs(i.z)===1?Pn.x+=1e-4:Pn.z+=1e-4,Pn.normalize(),ar.crossVectors(i,Pn)),ar.normalize(),wl.crossVectors(Pn,ar),r[0]=ar.x,r[4]=wl.x,r[8]=Pn.x,r[1]=ar.y,r[5]=wl.y,r[9]=Pn.y,r[2]=ar.z,r[6]=wl.z,r[10]=Pn.z,this}multiply(t,n){return n!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,n)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){const i=t.elements,r=n.elements,o=this.elements,a=i[0],s=i[4],l=i[8],u=i[12],c=i[1],d=i[5],f=i[9],h=i[13],m=i[2],y=i[6],b=i[10],g=i[14],p=i[3],_=i[7],x=i[11],S=i[15],M=r[0],T=r[4],R=r[8],L=r[12],I=r[1],k=r[5],A=r[9],C=r[13],E=r[2],D=r[6],q=r[10],O=r[14],G=r[3],Y=r[7],le=r[11],W=r[15];return o[0]=a*M+s*I+l*E+u*G,o[4]=a*T+s*k+l*D+u*Y,o[8]=a*R+s*A+l*q+u*le,o[12]=a*L+s*C+l*O+u*W,o[1]=c*M+d*I+f*E+h*G,o[5]=c*T+d*k+f*D+h*Y,o[9]=c*R+d*A+f*q+h*le,o[13]=c*L+d*C+f*O+h*W,o[2]=m*M+y*I+b*E+g*G,o[6]=m*T+y*k+b*D+g*Y,o[10]=m*R+y*A+b*q+g*le,o[14]=m*L+y*C+b*O+g*W,o[3]=p*M+_*I+x*E+S*G,o[7]=p*T+_*k+x*D+S*Y,o[11]=p*R+_*A+x*q+S*le,o[15]=p*L+_*C+x*O+S*W,this}multiplyScalar(t){const n=this.elements;return n[0]*=t,n[4]*=t,n[8]*=t,n[12]*=t,n[1]*=t,n[5]*=t,n[9]*=t,n[13]*=t,n[2]*=t,n[6]*=t,n[10]*=t,n[14]*=t,n[3]*=t,n[7]*=t,n[11]*=t,n[15]*=t,this}determinant(){const t=this.elements,n=t[0],i=t[4],r=t[8],o=t[12],a=t[1],s=t[5],l=t[9],u=t[13],c=t[2],d=t[6],f=t[10],h=t[14],m=t[3],y=t[7],b=t[11],g=t[15];return m*(+o*l*d-r*u*d-o*s*f+i*u*f+r*s*h-i*l*h)+y*(+n*l*h-n*u*f+o*a*f-r*a*h+r*u*c-o*l*c)+b*(+n*u*d-n*s*h-o*a*d+i*a*h+o*s*c-i*u*c)+g*(-r*s*c-n*l*d+n*s*f+r*a*d-i*a*f+i*l*c)}transpose(){const t=this.elements;let n;return n=t[1],t[1]=t[4],t[4]=n,n=t[2],t[2]=t[8],t[8]=n,n=t[6],t[6]=t[9],t[9]=n,n=t[3],t[3]=t[12],t[12]=n,n=t[7],t[7]=t[13],t[13]=n,n=t[11],t[11]=t[14],t[14]=n,this}setPosition(t,n,i){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=n,r[14]=i),this}invert(){const t=this.elements,n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],d=t[9],f=t[10],h=t[11],m=t[12],y=t[13],b=t[14],g=t[15],p=d*b*u-y*f*u+y*l*h-s*b*h-d*l*g+s*f*g,_=m*f*u-c*b*u-m*l*h+a*b*h+c*l*g-a*f*g,x=c*y*u-m*d*u+m*s*h-a*y*h-c*s*g+a*d*g,S=m*d*l-c*y*l-m*s*f+a*y*f+c*s*b-a*d*b,M=n*p+i*_+r*x+o*S;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/M;return t[0]=p*T,t[1]=(y*f*o-d*b*o-y*r*h+i*b*h+d*r*g-i*f*g)*T,t[2]=(s*b*o-y*l*o+y*r*u-i*b*u-s*r*g+i*l*g)*T,t[3]=(d*l*o-s*f*o-d*r*u+i*f*u+s*r*h-i*l*h)*T,t[4]=_*T,t[5]=(c*b*o-m*f*o+m*r*h-n*b*h-c*r*g+n*f*g)*T,t[6]=(m*l*o-a*b*o-m*r*u+n*b*u+a*r*g-n*l*g)*T,t[7]=(a*f*o-c*l*o+c*r*u-n*f*u-a*r*h+n*l*h)*T,t[8]=x*T,t[9]=(m*d*o-c*y*o-m*i*h+n*y*h+c*i*g-n*d*g)*T,t[10]=(a*y*o-m*s*o+m*i*u-n*y*u-a*i*g+n*s*g)*T,t[11]=(c*s*o-a*d*o-c*i*u+n*d*u+a*i*h-n*s*h)*T,t[12]=S*T,t[13]=(c*y*r-m*d*r+m*i*f-n*y*f-c*i*b+n*d*b)*T,t[14]=(m*s*r-a*y*r-m*i*l+n*y*l+a*i*b-n*s*b)*T,t[15]=(a*d*r-c*s*r+c*i*l-n*d*l-a*i*f+n*s*f)*T,this}scale(t){const n=this.elements,i=t.x,r=t.y,o=t.z;return n[0]*=i,n[4]*=r,n[8]*=o,n[1]*=i,n[5]*=r,n[9]*=o,n[2]*=i,n[6]*=r,n[10]*=o,n[3]*=i,n[7]*=r,n[11]*=o,this}getMaxScaleOnAxis(){const t=this.elements,n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(t,n,i){return this.set(1,0,0,t,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(t){const n=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(t){const n=Math.cos(t),i=Math.sin(t);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(t){const n=Math.cos(t),i=Math.sin(t);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,n){const i=Math.cos(n),r=Math.sin(n),o=1-i,a=t.x,s=t.y,l=t.z,u=o*a,c=o*s;return this.set(u*a+i,u*s-r*l,u*l+r*s,0,u*s+r*l,c*s+i,c*l-r*a,0,u*l-r*s,c*l+r*a,o*l*l+i,0,0,0,0,1),this}makeScale(t,n,i){return this.set(t,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,n,i){return this.set(1,n,i,0,t,1,i,0,t,n,1,0,0,0,0,1),this}compose(t,n,i){const r=this.elements,o=n._x,a=n._y,s=n._z,l=n._w,u=o+o,c=a+a,d=s+s,f=o*u,h=o*c,m=o*d,y=a*c,b=a*d,g=s*d,p=l*u,_=l*c,x=l*d,S=i.x,M=i.y,T=i.z;return r[0]=(1-(y+g))*S,r[1]=(h+x)*S,r[2]=(m-_)*S,r[3]=0,r[4]=(h-x)*M,r[5]=(1-(f+g))*M,r[6]=(b+p)*M,r[7]=0,r[8]=(m+_)*T,r[9]=(b-p)*T,r[10]=(1-(f+y))*T,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,n,i){const r=this.elements;let o=Io.set(r[0],r[1],r[2]).length();const a=Io.set(r[4],r[5],r[6]).length(),s=Io.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),t.x=r[12],t.y=r[13],t.z=r[14],ti.copy(this);const u=1/o,c=1/a,d=1/s;return ti.elements[0]*=u,ti.elements[1]*=u,ti.elements[2]*=u,ti.elements[4]*=c,ti.elements[5]*=c,ti.elements[6]*=c,ti.elements[8]*=d,ti.elements[9]*=d,ti.elements[10]*=d,n.setFromRotationMatrix(ti),i.x=o,i.y=a,i.z=s,this}makePerspective(t,n,i,r,o,a){a===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const s=this.elements,l=2*o/(n-t),u=2*o/(i-r),c=(n+t)/(n-t),d=(i+r)/(i-r),f=-(a+o)/(a-o),h=-2*a*o/(a-o);return s[0]=l,s[4]=0,s[8]=c,s[12]=0,s[1]=0,s[5]=u,s[9]=d,s[13]=0,s[2]=0,s[6]=0,s[10]=f,s[14]=h,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(t,n,i,r,o,a){const s=this.elements,l=1/(n-t),u=1/(i-r),c=1/(a-o),d=(n+t)*l,f=(i+r)*u,h=(a+o)*c;return s[0]=2*l,s[4]=0,s[8]=0,s[12]=-d,s[1]=0,s[5]=2*u,s[9]=0,s[13]=-f,s[2]=0,s[6]=0,s[10]=-2*c,s[14]=-h,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(t){const n=this.elements,i=t.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(t,n=0){for(let i=0;i<16;i++)this.elements[i]=t[i+n];return this}toArray(t=[],n=0){const i=this.elements;return t[n]=i[0],t[n+1]=i[1],t[n+2]=i[2],t[n+3]=i[3],t[n+4]=i[4],t[n+5]=i[5],t[n+6]=i[6],t[n+7]=i[7],t[n+8]=i[8],t[n+9]=i[9],t[n+10]=i[10],t[n+11]=i[11],t[n+12]=i[12],t[n+13]=i[13],t[n+14]=i[14],t[n+15]=i[15],t}}const Io=new V,ti=new at,O_=new V(0,0,0),N_=new V(1,1,1),ar=new V,wl=new V,Pn=new V;class Oa{constructor(t=0,n=0,i=0,r=Oa.DefaultOrder){Object.defineProperty(this,"isEuler",{value:!0}),this._x=t,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,n,i,r){return this._x=t,this._y=n,this._z=i,this._order=r||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,n,i){const r=tt.clamp,o=t.elements,a=o[0],s=o[4],l=o[8],u=o[1],c=o[5],d=o[9],f=o[2],h=o[6],m=o[10];switch(n=n||this._order,n){case"XYZ":this._y=Math.asin(r(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-r(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(l,m),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-f,a),this._z=0);break;case"ZXY":this._x=Math.asin(r(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(u,a));break;case"ZYX":this._y=Math.asin(-r(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,m),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(l,m));break;case"XZY":this._z=Math.asin(-r(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(l,a)):(this._x=Math.atan2(-d,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i!==!1&&this._onChangeCallback(),this}setFromQuaternion(t,n,i){return mm.makeRotationFromQuaternion(t),this.setFromRotationMatrix(mm,n,i)}setFromVector3(t,n){return this.set(t.x,t.y,t.z,n||this._order)}reorder(t){return pm.setFromEuler(this),this.setFromQuaternion(pm,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._order,t}toVector3(t){return t?t.set(this._x,this._y,this._z):new V(this._x,this._y,this._z)}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}Oa.DefaultOrder="XYZ";Oa.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];const mm=new at,pm=new pn;class rh{constructor(){this.mask=1}set(t){this.mask=1<<t|0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}}let z_=0;const vm=new V,Fo=new pn,Di=new at,Sl=new V,ja=new V,q_=new V,H_=new pn,gm=new V(1,0,0),ym=new V(0,1,0),bm=new V(0,0,1),V_={type:"added"},xm={type:"removed"};function Ye(){Object.defineProperty(this,"id",{value:z_++}),this.uuid=tt.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ye.DefaultUp.clone();const e=new V,t=new Oa,n=new pn,i=new V(1,1,1);function r(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(r),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new at},normalMatrix:{value:new Sn}}),this.matrix=new at,this.matrixWorld=new at,this.matrixAutoUpdate=Ye.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new rh,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}Ye.DefaultUp=new V(0,1,0);Ye.DefaultMatrixAutoUpdate=!0;Ye.prototype=Object.assign(Object.create(Ri.prototype),{constructor:Ye,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return Fo.setFromAxisAngle(e,t),this.quaternion.multiply(Fo),this},rotateOnWorldAxis:function(e,t){return Fo.setFromAxisAngle(e,t),this.quaternion.premultiply(Fo),this},rotateX:function(e){return this.rotateOnAxis(gm,e)},rotateY:function(e){return this.rotateOnAxis(ym,e)},rotateZ:function(e){return this.rotateOnAxis(bm,e)},translateOnAxis:function(e,t){return vm.copy(e).applyQuaternion(this.quaternion),this.position.add(vm.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(gm,e)},translateY:function(e){return this.translateOnAxis(ym,e)},translateZ:function(e){return this.translateOnAxis(bm,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(Di.copy(this.matrixWorld).invert())},lookAt:function(e,t,n){e.isVector3?Sl.copy(e):Sl.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),ja.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Di.lookAt(ja,Sl,this.up):Di.lookAt(Sl,ja,this.up),this.quaternion.setFromRotationMatrix(Di),i&&(Di.extractRotation(i.matrixWorld),Fo.setFromRotationMatrix(Di),this.quaternion.premultiply(Fo.invert()))},add:function(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(V_)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(xm)),this},clear:function(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(xm)}return this.children.length=0,this},attach:function(e){return this.updateWorldMatrix(!0,!1),Di.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Di.multiply(e.parent.matrixWorld)),e.applyMatrix4(Di),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const o=this.children[n].getObjectByProperty(e,t);if(o!==void 0)return o}},getWorldPosition:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new V),this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new pn),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ja,e,q_),e},getWorldScale:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new V),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ja,H_,e),e},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new V),this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)},traverseVisible:function(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)},traverseAncestors:function(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].updateWorldMatrix(!1,!0)}},toJSON:function(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON());function r(a,s){return a[s.uuid]===void 0&&(a[s.uuid]=s.toJSON(e)),s.uuid}if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const s=a.shapes;if(Array.isArray(s))for(let l=0,u=s.length;l<u;l++){const c=s[l];r(e.shapes,c)}else r(e.shapes,s)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let s=0,l=this.material.length;s<l;s++)a.push(r(e.materials,this.material[s]));i.material=a}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const s=this.animations[a];i.animations.push(r(e.animations,s))}}if(t){const a=o(e.geometries),s=o(e.materials),l=o(e.textures),u=o(e.images),c=o(e.shapes),d=o(e.skeletons),f=o(e.animations);a.length>0&&(n.geometries=a),s.length>0&&(n.materials=s),l.length>0&&(n.textures=l),u.length>0&&(n.images=u),c.length>0&&(n.shapes=c),d.length>0&&(n.skeletons=d),f.length>0&&(n.animations=f)}return n.object=i,n;function o(a){const s=[];for(const l in a){const u=a[l];delete u.metadata,s.push(u)}return s}},clone:function(e){return new this.constructor().copy(this,e)},copy:function(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}});const Qc=new V,U_=new V,G_=new Sn;class wi{constructor(t,n){Object.defineProperty(this,"isPlane",{value:!0}),this.normal=t!==void 0?t:new V(1,0,0),this.constant=n!==void 0?n:0}set(t,n){return this.normal.copy(t),this.constant=n,this}setComponents(t,n,i,r){return this.normal.set(t,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(t,n){return this.normal.copy(t),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(t,n,i){const r=Qc.subVectors(i,n).cross(U_.subVectors(t,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}clone(){return new this.constructor().copy(this)}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,n){return n===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),n=new V),n.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,n){n===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new V);const i=t.delta(Qc),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(t.start)===0?n.copy(t.start):void 0;const o=-(t.start.dot(this.normal)+this.constant)/r;if(!(o<0||o>1))return n.copy(i).multiplyScalar(o).add(t.start)}intersectsLine(t){const n=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return n<0&&i>0||i<0&&n>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new V),t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,n){const i=n||G_.getNormalMatrix(t),r=this.coplanarPoint(Qc).applyMatrix4(t),o=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(o),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}const ni=new V,Oi=new V,Kc=new V,Ni=new V,Do=new V,Oo=new V,_m=new V,Zc=new V,Jc=new V,ed=new V;class cn{constructor(t,n,i){this.a=t!==void 0?t:new V,this.b=n!==void 0?n:new V,this.c=i!==void 0?i:new V}static getNormal(t,n,i,r){r===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new V),r.subVectors(i,n),ni.subVectors(t,n),r.cross(ni);const o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(t,n,i,r,o){ni.subVectors(r,n),Oi.subVectors(i,n),Kc.subVectors(t,n);const a=ni.dot(ni),s=ni.dot(Oi),l=ni.dot(Kc),u=Oi.dot(Oi),c=Oi.dot(Kc),d=a*u-s*s;if(o===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),o=new V),d===0)return o.set(-2,-1,-1);const f=1/d,h=(u*l-s*c)*f,m=(a*c-s*l)*f;return o.set(1-h-m,m,h)}static containsPoint(t,n,i,r){return this.getBarycoord(t,n,i,r,Ni),Ni.x>=0&&Ni.y>=0&&Ni.x+Ni.y<=1}static getUV(t,n,i,r,o,a,s,l){return this.getBarycoord(t,n,i,r,Ni),l.set(0,0),l.addScaledVector(o,Ni.x),l.addScaledVector(a,Ni.y),l.addScaledVector(s,Ni.z),l}static isFrontFacing(t,n,i,r){return ni.subVectors(i,n),Oi.subVectors(t,n),ni.cross(Oi).dot(r)<0}set(t,n,i){return this.a.copy(t),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(t,n,i,r){return this.a.copy(t[n]),this.b.copy(t[i]),this.c.copy(t[r]),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return ni.subVectors(this.c,this.b),Oi.subVectors(this.a,this.b),ni.cross(Oi).length()*.5}getMidpoint(t){return t===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new V),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return cn.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new wi),t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,n){return cn.getBarycoord(t,this.a,this.b,this.c,n)}getUV(t,n,i,r,o){return cn.getUV(t,this.a,this.b,this.c,n,i,r,o)}containsPoint(t){return cn.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return cn.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,n){n===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),n=new V);const i=this.a,r=this.b,o=this.c;let a,s;Do.subVectors(r,i),Oo.subVectors(o,i),Zc.subVectors(t,i);const l=Do.dot(Zc),u=Oo.dot(Zc);if(l<=0&&u<=0)return n.copy(i);Jc.subVectors(t,r);const c=Do.dot(Jc),d=Oo.dot(Jc);if(c>=0&&d<=c)return n.copy(r);const f=l*d-c*u;if(f<=0&&l>=0&&c<=0)return a=l/(l-c),n.copy(i).addScaledVector(Do,a);ed.subVectors(t,o);const h=Do.dot(ed),m=Oo.dot(ed);if(m>=0&&h<=m)return n.copy(o);const y=h*u-l*m;if(y<=0&&u>=0&&m<=0)return s=u/(u-m),n.copy(i).addScaledVector(Oo,s);const b=c*m-h*d;if(b<=0&&d-c>=0&&h-m>=0)return _m.subVectors(o,r),s=(d-c)/(d-c+(h-m)),n.copy(r).addScaledVector(_m,s);const g=1/(b+y+f);return a=y*g,s=f*g,n.copy(i).addScaledVector(Do,a).addScaledVector(Oo,s)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const P0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ii={h:0,s:0,l:0},Ml={h:0,s:0,l:0};function td(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*6*(2/3-n):e}function nd(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function id(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}class Ge{constructor(t,n,i){return Object.defineProperty(this,"isColor",{value:!0}),n===void 0&&i===void 0?this.set(t):this.setRGB(t,n,i)}set(t){return t&&t.isColor?this.copy(t):typeof t=="number"?this.setHex(t):typeof t=="string"&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,this}setRGB(t,n,i){return this.r=t,this.g=n,this.b=i,this}setHSL(t,n,i){if(t=tt.euclideanModulo(t,1),n=tt.clamp(n,0,1),i=tt.clamp(i,0,1),n===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+n):i+n-i*n,o=2*i-r;this.r=td(o,r,t+1/3),this.g=td(o,r,t),this.b=td(o,r,t-1/3)}return this}setStyle(t){function n(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){let r;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,n(r[4]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,n(r[4]),this;break;case"hsl":case"hsla":if(r=/^(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const s=parseFloat(r[1])/360,l=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return n(r[4]),this.setHSL(s,l,u)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(t)){const r=i[1],o=r.length;if(o===3)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,this;if(o===6)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}setColorName(t){const n=P0[t];return n!==void 0?this.setHex(n):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copyGammaToLinear(t,n=2){return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this}copyLinearToGamma(t,n=2){const i=n>0?1/n:1;return this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this}convertGammaToLinear(t){return this.copyGammaToLinear(this,t),this}convertLinearToGamma(t){return this.copyLinearToGamma(this,t),this}copySRGBToLinear(t){return this.r=nd(t.r),this.g=nd(t.g),this.b=nd(t.b),this}copyLinearToSRGB(t){return this.r=id(t.r),this.g=id(t.g),this.b=id(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(t){t===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});const n=this.r,i=this.g,r=this.b,o=Math.max(n,i,r),a=Math.min(n,i,r);let s,l;const u=(a+o)/2;if(a===o)s=0,l=0;else{const c=o-a;switch(l=u<=.5?c/(o+a):c/(2-o-a),o){case n:s=(i-r)/c+(i<r?6:0);break;case i:s=(r-n)/c+2;break;case r:s=(n-i)/c+4;break}s/=6}return t.h=s,t.s=l,t.l=u,t}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(t,n,i){return this.getHSL(ii),ii.h+=t,ii.s+=n,ii.l+=i,this.setHSL(ii.h,ii.s,ii.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,n){return this.r=t.r+n.r,this.g=t.g+n.g,this.b=t.b+n.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,n){return this.r+=(t.r-this.r)*n,this.g+=(t.g-this.g)*n,this.b+=(t.b-this.b)*n,this}lerpHSL(t,n){this.getHSL(ii),t.getHSL(Ml);const i=tt.lerp(ii.h,Ml.h,n),r=tt.lerp(ii.s,Ml.s,n),o=tt.lerp(ii.l,Ml.l,n);return this.setHSL(i,r,o),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,n=0){return this.r=t[n],this.g=t[n+1],this.b=t[n+2],this}toArray(t=[],n=0){return t[n]=this.r,t[n+1]=this.g,t[n+2]=this.b,t}fromBufferAttribute(t,n){return this.r=t.getX(n),this.g=t.getY(n),this.b=t.getZ(n),t.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Ge.NAMES=P0;Ge.prototype.r=1;Ge.prototype.g=1;Ge.prototype.b=1;class Es{constructor(t,n,i,r,o,a=0){this.a=t,this.b=n,this.c=i,this.normal=r&&r.isVector3?r:new V,this.vertexNormals=Array.isArray(r)?r:[],this.color=o&&o.isColor?o:new Ge,this.vertexColors=Array.isArray(o)?o:[],this.materialIndex=a}clone(){return new this.constructor().copy(this)}copy(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(let n=0,i=t.vertexNormals.length;n<i;n++)this.vertexNormals[n]=t.vertexNormals[n].clone();for(let n=0,i=t.vertexColors.length;n<i;n++)this.vertexColors[n]=t.vertexColors[n].clone();return this}}let W_=0;function Je(){Object.defineProperty(this,"id",{value:W_++}),this.uuid=tt.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=ua,this.side=Pa,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Kf,this.blendDst=Zf,this.blendEquation=Qr,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Eu,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=k0,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=wu,this.stencilZFail=wu,this.stencilZPass=wu,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}Je.prototype=Object.assign(Object.create(Ri.prototype),{constructor:Je,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===Qf;continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}},toJSON:function(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,this.combine!==void 0&&(n.combine=this.combine),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.size!==void 0&&(n.size=this.size),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==ua&&(n.blending=this.blending),this.flatShading===!0&&(n.flatShading=this.flatShading),this.side!==Pa&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(n.morphTargets=!0),this.morphNormals===!0&&(n.morphNormals=!0),this.skinning===!0&&(n.skinning=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData);function i(r){const o=[];for(const a in r){const s=r[a];delete s.metadata,o.push(s)}return o}if(t){const r=i(e.textures),o=i(e.images);r.length>0&&(n.textures=r),o.length>0&&(n.images=o)}return n},clone:function(){return new this.constructor().copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const i=t.length;n=new Array(i);for(let r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty(Je.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});function jn(e){Je.call(this),this.type="MeshBasicMaterial",this.color=new Ge(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=nl,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}jn.prototype=Object.create(Je.prototype);jn.prototype.constructor=jn;jn.prototype.isMeshBasicMaterial=!0;jn.prototype.copy=function(e){return Je.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};const At=new V,Tl=new Re;function Ze(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n===!0,this.usage=sl,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(Ze.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(Ze.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new Ge),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this},copyVector2sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new Re),t[n++]=o.x,t[n++]=o.y}return this},copyVector3sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new V),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new _t),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},applyMatrix3:function(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)Tl.fromBufferAttribute(this,t),Tl.applyMatrix3(e),this.setXY(t,Tl.x,Tl.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)At.fromBufferAttribute(this,t),At.applyMatrix3(e),this.setXYZ(t,At.x,At.y,At.z);return this},applyMatrix4:function(e){for(let t=0,n=this.count;t<n;t++)At.x=this.getX(t),At.y=this.getY(t),At.z=this.getZ(t),At.applyMatrix4(e),this.setXYZ(t,At.x,At.y,At.z);return this},applyNormalMatrix:function(e){for(let t=0,n=this.count;t<n;t++)At.x=this.getX(t),At.y=this.getY(t),At.z=this.getZ(t),At.applyNormalMatrix(e),this.setXYZ(t,At.x,At.y,At.z);return this},transformDirection:function(e){for(let t=0,n=this.count;t<n;t++)At.x=this.getX(t),At.y=this.getY(t),At.z=this.getZ(t),At.transformDirection(e),this.setXYZ(t,At.x,At.y,At.z);return this},set:function(e,t=0){return this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}});function As(e,t,n){Ze.call(this,new Int8Array(e),t,n)}As.prototype=Object.create(Ze.prototype);As.prototype.constructor=As;function Ls(e,t,n){Ze.call(this,new Uint8Array(e),t,n)}Ls.prototype=Object.create(Ze.prototype);Ls.prototype.constructor=Ls;function Rs(e,t,n){Ze.call(this,new Uint8ClampedArray(e),t,n)}Rs.prototype=Object.create(Ze.prototype);Rs.prototype.constructor=Rs;function ks(e,t,n){Ze.call(this,new Int16Array(e),t,n)}ks.prototype=Object.create(Ze.prototype);ks.prototype.constructor=ks;function uo(e,t,n){Ze.call(this,new Uint16Array(e),t,n)}uo.prototype=Object.create(Ze.prototype);uo.prototype.constructor=uo;function Ps(e,t,n){Ze.call(this,new Int32Array(e),t,n)}Ps.prototype=Object.create(Ze.prototype);Ps.prototype.constructor=Ps;function co(e,t,n){Ze.call(this,new Uint32Array(e),t,n)}co.prototype=Object.create(Ze.prototype);co.prototype.constructor=co;function Bs(e,t,n){Ze.call(this,new Uint16Array(e),t,n)}Bs.prototype=Object.create(Ze.prototype);Bs.prototype.constructor=Bs;Bs.prototype.isFloat16BufferAttribute=!0;function He(e,t,n){Ze.call(this,new Float32Array(e),t,n)}He.prototype=Object.create(Ze.prototype);He.prototype.constructor=He;function Is(e,t,n){Ze.call(this,new Float64Array(e),t,n)}Is.prototype=Object.create(Ze.prototype);Is.prototype.constructor=Is;class $_{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(t){const n=[];let i,r,o;const a=t.faces;for(r=0;r<a.length;r++){const s=a[r];s.materialIndex!==o&&(o=s.materialIndex,i!==void 0&&(i.count=r*3-i.start,n.push(i)),i={start:r*3,materialIndex:o})}i!==void 0&&(i.count=r*3-i.start,n.push(i)),this.groups=n}fromGeometry(t){const n=t.faces,i=t.vertices,r=t.faceVertexUvs,o=r[0]&&r[0].length>0,a=r[1]&&r[1].length>0,s=t.morphTargets,l=s.length;let u;if(l>0){u=[];for(let g=0;g<l;g++)u[g]={name:s[g].name,data:[]};this.morphTargets.position=u}const c=t.morphNormals,d=c.length;let f;if(d>0){f=[];for(let g=0;g<d;g++)f[g]={name:c[g].name,data:[]};this.morphTargets.normal=f}const h=t.skinIndices,m=t.skinWeights,y=h.length===i.length,b=m.length===i.length;i.length>0&&n.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let g=0;g<n.length;g++){const p=n[g];this.vertices.push(i[p.a],i[p.b],i[p.c]);const _=p.vertexNormals;if(_.length===3)this.normals.push(_[0],_[1],_[2]);else{const S=p.normal;this.normals.push(S,S,S)}const x=p.vertexColors;if(x.length===3)this.colors.push(x[0],x[1],x[2]);else{const S=p.color;this.colors.push(S,S,S)}if(o===!0){const S=r[0][g];S!==void 0?this.uvs.push(S[0],S[1],S[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",g),this.uvs.push(new Re,new Re,new Re))}if(a===!0){const S=r[1][g];S!==void 0?this.uvs2.push(S[0],S[1],S[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",g),this.uvs2.push(new Re,new Re,new Re))}for(let S=0;S<l;S++){const M=s[S].vertices;u[S].data.push(M[p.a],M[p.b],M[p.c])}for(let S=0;S<d;S++){const M=c[S].vertexNormals[g];f[S].data.push(M.a,M.b,M.c)}y&&this.skinIndices.push(h[p.a],h[p.b],h[p.c]),b&&this.skinWeights.push(m[p.a],m[p.b],m[p.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),this}}function B0(e){if(e.length===0)return-1/0;let t=e[0];for(let n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}const j_={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray!="undefined"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function ss(e,t){return new j_[e](t)}let Y_=1;const yi=new at,rd=new Ye,No=new V,Bn=new ki,Ya=new ki,nn=new V;function Ke(){Object.defineProperty(this,"id",{value:Y_+=2}),this.uuid=tt.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Ke.prototype=Object.assign(Object.create(Ri.prototype),{constructor:Ke,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){return Array.isArray(e)?this.index=new(B0(e)>65535?co:uo)(e,1):this.index=e,this},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},hasAttribute:function(e){return this.attributes[e]!==void 0},addGroup:function(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const r=new Sn().getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(e){return yi.makeRotationX(e),this.applyMatrix4(yi),this},rotateY:function(e){return yi.makeRotationY(e),this.applyMatrix4(yi),this},rotateZ:function(e){return yi.makeRotationZ(e),this.applyMatrix4(yi),this},translate:function(e,t,n){return yi.makeTranslation(e,t,n),this.applyMatrix4(yi),this},scale:function(e,t,n){return yi.makeScale(e,t,n),this.applyMatrix4(yi),this},lookAt:function(e){return rd.lookAt(e),rd.updateMatrix(),this.applyMatrix4(rd.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(No).negate(),this.translate(No.x,No.y,No.z),this},setFromObject:function(e){const t=e.geometry;if(e.isPoints||e.isLine){const n=new He(t.vertices.length*3,3),i=new He(t.colors.length*3,3);if(this.setAttribute("position",n.copyVector3sArray(t.vertices)),this.setAttribute("color",i.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){const r=new He(t.lineDistances.length,1);this.setAttribute("lineDistance",r.copyArray(t.lineDistances))}t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){const t=[];for(let n=0,i=e.length;n<i;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new He(t,3)),this},updateFromObject:function(e){let t=e.geometry;if(e.isMesh){let n=t.__directGeometry;if(t.elementsNeedUpdate===!0&&(n=void 0,t.elementsNeedUpdate=!1),n===void 0)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}if(t.verticesNeedUpdate===!0){const n=this.attributes.position;n!==void 0&&(n.copyVector3sArray(t.vertices),n.needsUpdate=!0),t.verticesNeedUpdate=!1}if(t.normalsNeedUpdate===!0){const n=this.attributes.normal;n!==void 0&&(n.copyVector3sArray(t.normals),n.needsUpdate=!0),t.normalsNeedUpdate=!1}if(t.colorsNeedUpdate===!0){const n=this.attributes.color;n!==void 0&&(n.copyColorsArray(t.colors),n.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){const n=this.attributes.uv;n!==void 0&&(n.copyVector2sArray(t.uvs),n.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){const n=this.attributes.lineDistance;n!==void 0&&(n.copyArray(t.lineDistances),n.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=new $_().fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){const t=new Float32Array(e.vertices.length*3);if(this.setAttribute("position",new Ze(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){const n=new Float32Array(e.normals.length*3);this.setAttribute("normal",new Ze(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){const n=new Float32Array(e.colors.length*3);this.setAttribute("color",new Ze(n,3).copyColorsArray(e.colors))}if(e.uvs.length>0){const n=new Float32Array(e.uvs.length*2);this.setAttribute("uv",new Ze(n,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){const n=new Float32Array(e.uvs2.length*2);this.setAttribute("uv2",new Ze(n,2).copyVector2sArray(e.uvs2))}this.groups=e.groups;for(const n in e.morphTargets){const i=[],r=e.morphTargets[n];for(let o=0,a=r.length;o<a;o++){const s=r[o],l=new He(s.data.length*3,3);l.name=s.name,i.push(l.copyVector3sArray(s.data))}this.morphAttributes[n]=i}if(e.skinIndices.length>0){const n=new He(e.skinIndices.length*4,4);this.setAttribute("skinIndex",n.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){const n=new He(e.skinWeights.length*4,4);this.setAttribute("skinWeight",n.copyVector4sArray(e.skinWeights))}return e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new ki);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new V(-1/0,-1/0,-1/0),new V(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const r=t[n];Bn.setFromBufferAttribute(r),this.morphTargetsRelative?(nn.addVectors(this.boundingBox.min,Bn.min),this.boundingBox.expandByPoint(nn),nn.addVectors(this.boundingBox.max,Bn.max),this.boundingBox.expandByPoint(nn)):(this.boundingBox.expandByPoint(Bn.min),this.boundingBox.expandByPoint(Bn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new Zi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new V,1/0);return}if(e){const n=this.boundingSphere.center;if(Bn.setFromBufferAttribute(e),t)for(let r=0,o=t.length;r<o;r++){const a=t[r];Ya.setFromBufferAttribute(a),this.morphTargetsRelative?(nn.addVectors(Bn.min,Ya.min),Bn.expandByPoint(nn),nn.addVectors(Bn.max,Ya.max),Bn.expandByPoint(nn)):(Bn.expandByPoint(Ya.min),Bn.expandByPoint(Ya.max))}Bn.getCenter(n);let i=0;for(let r=0,o=e.count;r<o;r++)nn.fromBufferAttribute(e,r),i=Math.max(i,n.distanceToSquared(nn));if(t)for(let r=0,o=t.length;r<o;r++){const a=t[r],s=this.morphTargetsRelative;for(let l=0,u=a.count;l<u;l++)nn.fromBufferAttribute(a,l),s&&(No.fromBufferAttribute(e,l),nn.add(No)),i=Math.max(i,n.distanceToSquared(nn))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Ze(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let d=0,f=n.count;d<f;d++)n.setXYZ(d,0,0,0);const i=new V,r=new V,o=new V,a=new V,s=new V,l=new V,u=new V,c=new V;if(e)for(let d=0,f=e.count;d<f;d+=3){const h=e.getX(d+0),m=e.getX(d+1),y=e.getX(d+2);i.fromBufferAttribute(t,h),r.fromBufferAttribute(t,m),o.fromBufferAttribute(t,y),u.subVectors(o,r),c.subVectors(i,r),u.cross(c),a.fromBufferAttribute(n,h),s.fromBufferAttribute(n,m),l.fromBufferAttribute(n,y),a.add(u),s.add(u),l.add(u),n.setXYZ(h,a.x,a.y,a.z),n.setXYZ(m,s.x,s.y,s.z),n.setXYZ(y,l.x,l.y,l.z)}else for(let d=0,f=t.count;d<f;d+=3)i.fromBufferAttribute(t,d+0),r.fromBufferAttribute(t,d+1),o.fromBufferAttribute(t,d+2),u.subVectors(o,r),c.subVectors(i,r),u.cross(c),n.setXYZ(d+0,u.x,u.y,u.z),n.setXYZ(d+1,u.x,u.y,u.z),n.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const i in n){if(e.attributes[i]===void 0)continue;const o=n[i].array,a=e.attributes[i],s=a.array,l=a.itemSize*t,u=Math.min(s.length,o.length-l);for(let c=0,d=l;c<u;c++,d++)o[d]=s[c]}return this},normalizeNormals:function(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)nn.fromBufferAttribute(e,t),nn.normalize(),e.setXYZ(t,nn.x,nn.y,nn.z)},toNonIndexed:function(){function e(a,s){const l=a.array,u=a.itemSize,c=a.normalized,d=new l.constructor(s.length*u);let f=0,h=0;for(let m=0,y=s.length;m<y;m++){f=s[m]*u;for(let b=0;b<u;b++)d[h++]=l[f++]}return new Ze(d,u,c)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;const t=new Ke,n=this.index.array,i=this.attributes;for(const a in i){const s=i[a],l=e(s,n);t.setAttribute(a,l)}const r=this.morphAttributes;for(const a in r){const s=[],l=r[a];for(let u=0,c=l.length;u<c;u++){const d=l[u],f=e(d,n);s.push(f)}t.morphAttributes[a]=s}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,s=o.length;a<s;a++){const l=o[a];t.addGroup(l.start,l.count,l.materialIndex)}return t},toJSON:function(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const s=this.parameters;for(const l in s)s[l]!==void 0&&(e[l]=s[l]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const s in n){const l=n[s],u=l.toJSON(e.data);l.name!==""&&(u.name=l.name),e.data.attributes[s]=u}const i={};let r=!1;for(const s in this.morphAttributes){const l=this.morphAttributes[s],u=[];for(let c=0,d=l.length;c<d;c++){const f=l[c],h=f.toJSON(e.data);f.name!==""&&(h.name=f.name),u.push(h)}u.length>0&&(i[s]=u,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e},clone:function(){return new Ke().copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const i=e.attributes;for(const l in i){const u=i[l];this.setAttribute(l,u.clone(t))}const r=e.morphAttributes;for(const l in r){const u=[],c=r[l];for(let d=0,f=c.length;d<f;d++)u.push(c[d].clone(t));this.morphAttributes[l]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let l=0,u=o.length;l<u;l++){const c=o[l];this.addGroup(c.start,c.count,c.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const s=e.boundingSphere;return s!==null&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const wm=new at,Or=new Da,od=new Zi,sr=new V,lr=new V,ur=new V,ad=new V,sd=new V,ld=new V,Cl=new V,El=new V,Al=new V,ra=new Re,oa=new Re,aa=new Re,hs=new V,Ll=new V;function Pt(e=new Ke,t=new jn){Ye.call(this),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}Pt.prototype=Object.assign(Object.create(Ye.prototype),{constructor:Pt,isMesh:!0,copy:function(e){return Ye.prototype.copy.call(this,e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){const n=this.geometry,i=this.material,r=this.matrixWorld;if(i===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),od.copy(n.boundingSphere),od.applyMatrix4(r),e.ray.intersectsSphere(od)===!1)||(wm.copy(r).invert(),Or.copy(e.ray).applyMatrix4(wm),n.boundingBox!==null&&Or.intersectsBox(n.boundingBox)===!1))return;let o;if(n.isBufferGeometry){const a=n.index,s=n.attributes.position,l=n.morphAttributes.position,u=n.morphTargetsRelative,c=n.attributes.uv,d=n.attributes.uv2,f=n.groups,h=n.drawRange;if(a!==null)if(Array.isArray(i))for(let m=0,y=f.length;m<y;m++){const b=f[m],g=i[b.materialIndex],p=Math.max(b.start,h.start),_=Math.min(b.start+b.count,h.start+h.count);for(let x=p,S=_;x<S;x+=3){const M=a.getX(x),T=a.getX(x+1),R=a.getX(x+2);o=Rl(this,g,e,Or,s,l,u,c,d,M,T,R),o&&(o.faceIndex=Math.floor(x/3),o.face.materialIndex=b.materialIndex,t.push(o))}}else{const m=Math.max(0,h.start),y=Math.min(a.count,h.start+h.count);for(let b=m,g=y;b<g;b+=3){const p=a.getX(b),_=a.getX(b+1),x=a.getX(b+2);o=Rl(this,i,e,Or,s,l,u,c,d,p,_,x),o&&(o.faceIndex=Math.floor(b/3),t.push(o))}}else if(s!==void 0)if(Array.isArray(i))for(let m=0,y=f.length;m<y;m++){const b=f[m],g=i[b.materialIndex],p=Math.max(b.start,h.start),_=Math.min(b.start+b.count,h.start+h.count);for(let x=p,S=_;x<S;x+=3){const M=x,T=x+1,R=x+2;o=Rl(this,g,e,Or,s,l,u,c,d,M,T,R),o&&(o.faceIndex=Math.floor(x/3),o.face.materialIndex=b.materialIndex,t.push(o))}}else{const m=Math.max(0,h.start),y=Math.min(s.count,h.start+h.count);for(let b=m,g=y;b<g;b+=3){const p=b,_=b+1,x=b+2;o=Rl(this,i,e,Or,s,l,u,c,d,p,_,x),o&&(o.faceIndex=Math.floor(b/3),t.push(o))}}}else if(n.isGeometry){const a=Array.isArray(i),s=n.vertices,l=n.faces;let u;const c=n.faceVertexUvs[0];c.length>0&&(u=c);for(let d=0,f=l.length;d<f;d++){const h=l[d],m=a?i[h.materialIndex]:i;if(m===void 0)continue;const y=s[h.a],b=s[h.b],g=s[h.c];if(o=I0(this,m,e,Or,y,b,g,hs),o){if(u&&u[d]){const p=u[d];ra.copy(p[0]),oa.copy(p[1]),aa.copy(p[2]),o.uv=cn.getUV(hs,y,b,g,ra,oa,aa,new Re)}o.face=h,o.faceIndex=d,t.push(o)}}}}});function I0(e,t,n,i,r,o,a,s){let l;if(t.side===Qt?l=i.intersectTriangle(a,o,r,!0,s):l=i.intersectTriangle(r,o,a,t.side!==tl,s),l===null)return null;Ll.copy(s),Ll.applyMatrix4(e.matrixWorld);const u=n.ray.origin.distanceTo(Ll);return u<n.near||u>n.far?null:{distance:u,point:Ll.clone(),object:e}}function Rl(e,t,n,i,r,o,a,s,l,u,c,d){sr.fromBufferAttribute(r,u),lr.fromBufferAttribute(r,c),ur.fromBufferAttribute(r,d);const f=e.morphTargetInfluences;if(t.morphTargets&&o&&f){Cl.set(0,0,0),El.set(0,0,0),Al.set(0,0,0);for(let m=0,y=o.length;m<y;m++){const b=f[m],g=o[m];b!==0&&(ad.fromBufferAttribute(g,u),sd.fromBufferAttribute(g,c),ld.fromBufferAttribute(g,d),a?(Cl.addScaledVector(ad,b),El.addScaledVector(sd,b),Al.addScaledVector(ld,b)):(Cl.addScaledVector(ad.sub(sr),b),El.addScaledVector(sd.sub(lr),b),Al.addScaledVector(ld.sub(ur),b)))}sr.add(Cl),lr.add(El),ur.add(Al)}e.isSkinnedMesh&&(e.boneTransform(u,sr),e.boneTransform(c,lr),e.boneTransform(d,ur));const h=I0(e,t,n,i,sr,lr,ur,hs);if(h){s&&(ra.fromBufferAttribute(s,u),oa.fromBufferAttribute(s,c),aa.fromBufferAttribute(s,d),h.uv=cn.getUV(hs,sr,lr,ur,ra,oa,aa,new Re)),l&&(ra.fromBufferAttribute(l,u),oa.fromBufferAttribute(l,c),aa.fromBufferAttribute(l,d),h.uv2=cn.getUV(hs,sr,lr,ur,ra,oa,aa,new Re));const m=new Es(u,c,d);cn.getNormal(sr,lr,ur,m.normal),h.face=m}return h}class ll extends Ke{constructor(t=1,n=1,i=1,r=1,o=1,a=1){super(),this.type="BoxBufferGeometry",this.parameters={width:t,height:n,depth:i,widthSegments:r,heightSegments:o,depthSegments:a};const s=this;r=Math.floor(r),o=Math.floor(o),a=Math.floor(a);const l=[],u=[],c=[],d=[];let f=0,h=0;m("z","y","x",-1,-1,i,n,t,a,o,0),m("z","y","x",1,-1,i,n,-t,a,o,1),m("x","z","y",1,1,t,i,n,r,a,2),m("x","z","y",1,-1,t,i,-n,r,a,3),m("x","y","z",1,-1,t,n,i,r,o,4),m("x","y","z",-1,-1,t,n,-i,r,o,5),this.setIndex(l),this.setAttribute("position",new He(u,3)),this.setAttribute("normal",new He(c,3)),this.setAttribute("uv",new He(d,2));function m(y,b,g,p,_,x,S,M,T,R,L){const I=x/T,k=S/R,A=x/2,C=S/2,E=M/2,D=T+1,q=R+1;let O=0,G=0;const Y=new V;for(let le=0;le<q;le++){const W=le*k-C;for(let P=0;P<D;P++){const Z=P*I-A;Y[y]=Z*p,Y[b]=W*_,Y[g]=E,u.push(Y.x,Y.y,Y.z),Y[y]=0,Y[b]=0,Y[g]=M>0?1:-1,c.push(Y.x,Y.y,Y.z),d.push(P/T),d.push(1-le/R),O+=1}}for(let le=0;le<R;le++)for(let W=0;W<T;W++){const P=f+W+D*le,Z=f+W+D*(le+1),ne=f+(W+1)+D*(le+1),J=f+(W+1)+D*le;l.push(P,Z,J),l.push(Z,ne,J),G+=6}s.addGroup(h,G,L),h+=G,f+=O}}}function ba(e){const t={};for(const n in e){t[n]={};for(const i in e[n]){const r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}}return t}function hn(e){const t={};for(let n=0;n<e.length;n++){const i=ba(e[n]);for(const r in i)t[r]=i[r]}return t}const F0={clone:ba,merge:hn};var X_=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Q_=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;function Tn(e){Je.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=X_,this.fragmentShader=Q_,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}Tn.prototype=Object.create(Je.prototype);Tn.prototype.constructor=Tn;Tn.prototype.isShaderMaterial=!0;Tn.prototype.copy=function(e){return Je.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ba(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this};Tn.prototype.toJSON=function(e){const t=Je.prototype.toJSON.call(this,e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t};function Ti(){Ye.call(this),this.type="Camera",this.matrixWorldInverse=new at,this.projectionMatrix=new at,this.projectionMatrixInverse=new at}Ti.prototype=Object.assign(Object.create(Ye.prototype),{constructor:Ti,isCamera:!0,copy:function(e,t){return Ye.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new V),this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){Ye.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(e,t){Ye.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return new this.constructor().copy(this)}});function Yt(e=50,t=1,n=.1,i=2e3){Ti.call(this),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Yt.prototype=Object.assign(Object.create(Ti.prototype),{constructor:Yt,isPerspectiveCamera:!0,copy:function(e,t){return Ti.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){const t=.5*this.getFilmHeight()/e;this.fov=tt.RAD2DEG*2*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){const e=Math.tan(tt.DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/e},getEffectiveFOV:function(){return tt.RAD2DEG*2*Math.atan(Math.tan(tt.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,r,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const e=this.near;let t=e*Math.tan(tt.DEG2RAD*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const s=o.fullWidth,l=o.fullHeight;r+=o.offsetX*i/s,t-=o.offsetY*n/l,i*=o.width/s,n*=o.height/l}const a=this.filmOffset;a!==0&&(r+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(e){const t=Ye.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});const zo=90,qo=1;function fo(e,t,n){if(Ye.call(this),this.type="CubeCamera",n.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=n;const i=new Yt(zo,qo,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new V(1,0,0)),this.add(i);const r=new Yt(zo,qo,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new V(-1,0,0)),this.add(r);const o=new Yt(zo,qo,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new V(0,1,0)),this.add(o);const a=new Yt(zo,qo,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new V(0,-1,0)),this.add(a);const s=new Yt(zo,qo,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new V(0,0,1)),this.add(s);const l=new Yt(zo,qo,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new V(0,0,-1)),this.add(l),this.update=function(u,c){this.parent===null&&this.updateMatrixWorld();const d=u.xr.enabled,f=u.getRenderTarget();u.xr.enabled=!1;const h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,u.setRenderTarget(n,0),u.render(c,i),u.setRenderTarget(n,1),u.render(c,r),u.setRenderTarget(n,2),u.render(c,o),u.setRenderTarget(n,3),u.render(c,a),u.setRenderTarget(n,4),u.render(c,s),n.texture.generateMipmaps=h,u.setRenderTarget(n,5),u.render(c,l),u.setRenderTarget(f),u.xr.enabled=d}}fo.prototype=Object.create(Ye.prototype);fo.prototype.constructor=fo;function Ci(e,t,n,i,r,o,a,s,l,u){e=e!==void 0?e:[],t=t!==void 0?t:il,a=a!==void 0?a:gr,Mt.call(this,e,t,n,i,r,o,a,s,l,u),this.flipY=!1,this._needsFlipEnvMap=!0}Ci.prototype=Object.create(Mt.prototype);Ci.prototype.constructor=Ci;Ci.prototype.isCubeTexture=!0;Object.defineProperty(Ci.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});function ji(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),zn.call(this,e,e,t),t=t||{},this.texture=new Ci(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture._needsFlipEnvMap=!1}ji.prototype=Object.create(zn.prototype);ji.prototype.constructor=ji;ji.prototype.isWebGLCubeRenderTarget=!0;ji.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=Nn,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

			varying vec3 vWorldDirection;

			vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

				return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

			}

			void main() {

				vWorldDirection = transformDirection( position, modelMatrix );

				#include <begin_vertex>
				#include <project_vertex>

			}
		`,fragmentShader:`

			uniform sampler2D tEquirect;

			varying vec3 vWorldDirection;

			#include <common>

			void main() {

				vec3 direction = normalize( vWorldDirection );

				vec2 sampleUV = equirectUv( direction );

				gl_FragColor = texture2D( tEquirect, sampleUV );

			}
		`},i=new ll(5,5,5),r=new Tn({name:"CubemapFromEquirect",uniforms:ba(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Qt,blending:Wi});r.uniforms.tEquirect.value=t;const o=new Pt(i,r),a=t.minFilter;return t.minFilter===Ia&&(t.minFilter=on),new fo(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this};ji.prototype.clear=function(e,t,n,i){const r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,i);e.setRenderTarget(r)};function Yi(e,t,n,i,r,o,a,s,l,u,c,d){Mt.call(this,null,o,a,s,l,u,i,r,c,d),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=l!==void 0?l:Zt,this.minFilter=u!==void 0?u:Zt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Yi.prototype=Object.create(Mt.prototype);Yi.prototype.constructor=Yi;Yi.prototype.isDataTexture=!0;const Ho=new Zi,kl=new V;class ul{constructor(t,n,i,r,o,a){this.planes=[t!==void 0?t:new wi,n!==void 0?n:new wi,i!==void 0?i:new wi,r!==void 0?r:new wi,o!==void 0?o:new wi,a!==void 0?a:new wi]}set(t,n,i,r,o,a){const s=this.planes;return s[0].copy(t),s[1].copy(n),s[2].copy(i),s[3].copy(r),s[4].copy(o),s[5].copy(a),this}clone(){return new this.constructor().copy(this)}copy(t){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t){const n=this.planes,i=t.elements,r=i[0],o=i[1],a=i[2],s=i[3],l=i[4],u=i[5],c=i[6],d=i[7],f=i[8],h=i[9],m=i[10],y=i[11],b=i[12],g=i[13],p=i[14],_=i[15];return n[0].setComponents(s-r,d-l,y-f,_-b).normalize(),n[1].setComponents(s+r,d+l,y+f,_+b).normalize(),n[2].setComponents(s+o,d+u,y+h,_+g).normalize(),n[3].setComponents(s-o,d-u,y-h,_-g).normalize(),n[4].setComponents(s-a,d-c,y-m,_-p).normalize(),n[5].setComponents(s+a,d+c,y+m,_+p).normalize(),this}intersectsObject(t){const n=t.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),Ho.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Ho)}intersectsSprite(t){return Ho.center.set(0,0,0),Ho.radius=.7071067811865476,Ho.applyMatrix4(t.matrixWorld),this.intersectsSphere(Ho)}intersectsSphere(t){const n=this.planes,i=t.center,r=-t.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(i)<r)return!1;return!0}intersectsBox(t){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(kl.x=r.normal.x>0?t.max.x:t.min.x,kl.y=r.normal.y>0?t.max.y:t.min.y,kl.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(kl)<0)return!1}return!0}containsPoint(t){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(t)<0)return!1;return!0}}function D0(){let e=null,t=!1,n=null,i=null;function r(o,a){n(o,a),i=e.requestAnimationFrame(r)}return{start:function(){t!==!0&&n!==null&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(o){n=o},setContext:function(o){e=o}}}function K_(e,t){const n=t.isWebGL2,i=new WeakMap;function r(u,c){const d=u.array,f=u.usage,h=e.createBuffer();e.bindBuffer(c,h),e.bufferData(c,d,f),u.onUploadCallback();let m=5126;return d instanceof Float32Array?m=5126:d instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):d instanceof Uint16Array?u.isFloat16BufferAttribute?n?m=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):m=5123:d instanceof Int16Array?m=5122:d instanceof Uint32Array?m=5125:d instanceof Int32Array?m=5124:d instanceof Int8Array?m=5120:d instanceof Uint8Array&&(m=5121),{buffer:h,type:m,bytesPerElement:d.BYTES_PER_ELEMENT,version:u.version}}function o(u,c,d){const f=c.array,h=c.updateRange;e.bindBuffer(d,u),h.count===-1?e.bufferSubData(d,0,f):(n?e.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f,h.offset,h.count):e.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f.subarray(h.offset,h.offset+h.count)),h.count=-1)}function a(u){return u.isInterleavedBufferAttribute&&(u=u.data),i.get(u)}function s(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=i.get(u);c&&(e.deleteBuffer(c.buffer),i.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const f=i.get(u);(!f||f.version<u.version)&&i.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const d=i.get(u);d===void 0?i.set(u,r(u,c)):d.version<u.version&&(o(d.buffer,u,c),d.version=u.version)}return{get:a,remove:s,update:l}}class _c extends Ke{constructor(t=1,n=1,i=1,r=1){super(),this.type="PlaneBufferGeometry",this.parameters={width:t,height:n,widthSegments:i,heightSegments:r};const o=t/2,a=n/2,s=Math.floor(i),l=Math.floor(r),u=s+1,c=l+1,d=t/s,f=n/l,h=[],m=[],y=[],b=[];for(let g=0;g<c;g++){const p=g*f-a;for(let _=0;_<u;_++){const x=_*d-o;m.push(x,-p,0),y.push(0,0,1),b.push(_/s),b.push(1-g/l)}}for(let g=0;g<l;g++)for(let p=0;p<s;p++){const _=p+u*g,x=p+u*(g+1),S=p+1+u*(g+1),M=p+1+u*g;h.push(_,x,M),h.push(x,S,M)}this.setIndex(h),this.setAttribute("position",new He(m,3)),this.setAttribute("normal",new He(y,3)),this.setAttribute("uv",new He(b,2))}}var Z_=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,J_=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ew=`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,tw=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,nw=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,iw="vec3 transformed = vec3( position );",rw=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,ow=`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,aw=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,sw=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,lw=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,uw=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,cw=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,dw=`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,fw=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,hw=`#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,mw=`#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor.xyz *= color.xyz;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,pw=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,vw=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,gw=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,yw=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,bw=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,xw=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,_w=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,ww="gl_FragColor = linearToOutputTexel( gl_FragColor );",Sw=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,Mw=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Tw=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Cw=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Ew=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Aw=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Lw=`#ifdef USE_FOG
	fogDepth = - mvPosition.z;
#endif`,Rw=`#ifdef USE_FOG
	varying float fogDepth;
#endif`,kw=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Pw=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Bw=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,Iw=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,Fw=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Dw=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,Ow=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,Nw=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( -viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
			vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,zw=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,qw=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,Hw=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Vw=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,Uw=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,Gw=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float specularRoughness;
	vec3 specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Ww=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,$w=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,jw=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Yw=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Xw=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Qw=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Kw=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Zw=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,Jw=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,e1=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,t1=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,n1=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,i1=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,r1=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,o1=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
		uniform float morphTargetInfluences[ 8 ];
	#else
		uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,a1=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
		transformed += morphTarget4 * morphTargetInfluences[ 4 ];
		transformed += morphTarget5 * morphTargetInfluences[ 5 ];
		transformed += morphTarget6 * morphTargetInfluences[ 6 ];
		transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,s1=`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,l1=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,u1=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,c1=`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,d1=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,f1=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,h1=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,m1=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,p1=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,v1=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,g1=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,y1=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,b1=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,x1=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,_1=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,w1=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,S1=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,M1=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,T1=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,C1=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,E1=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,A1=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,L1=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,R1=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,k1=`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,P1=`#ifdef USE_TRANSMISSIONMAP
	totalTransmission *= texture2D( transmissionMap, vUv ).r;
#endif`,B1=`#ifdef USE_TRANSMISSIONMAP
	uniform sampler2D transmissionMap;
#endif`,I1=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,F1=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,D1=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,O1=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,N1=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,z1=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,q1=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,H1=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,V1=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,U1=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,G1=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,W1=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,$1=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,j1=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Y1=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,X1=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Q1=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,K1=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Z1=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,J1=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eS=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,tS=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nS=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,iS=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rS=`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,oS=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aS=`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sS=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lS=`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,uS=`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSMISSION
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSMISSION
	uniform float transmission;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <transmissionmap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#ifdef TRANSMISSION
		float totalTransmission = transmission;
	#endif
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <transmissionmap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSMISSION
		diffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cS=`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dS=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,fS=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,hS=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,mS=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,pS=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,vS=`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gS=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,yS=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`;const lt={alphamap_fragment:Z_,alphamap_pars_fragment:J_,alphatest_fragment:ew,aomap_fragment:tw,aomap_pars_fragment:nw,begin_vertex:iw,beginnormal_vertex:rw,bsdfs:ow,bumpmap_pars_fragment:aw,clipping_planes_fragment:sw,clipping_planes_pars_fragment:lw,clipping_planes_pars_vertex:uw,clipping_planes_vertex:cw,color_fragment:dw,color_pars_fragment:fw,color_pars_vertex:hw,color_vertex:mw,common:pw,cube_uv_reflection_fragment:vw,defaultnormal_vertex:gw,displacementmap_pars_vertex:yw,displacementmap_vertex:bw,emissivemap_fragment:xw,emissivemap_pars_fragment:_w,encodings_fragment:ww,encodings_pars_fragment:Sw,envmap_fragment:Mw,envmap_common_pars_fragment:Tw,envmap_pars_fragment:Cw,envmap_pars_vertex:Ew,envmap_physical_pars_fragment:Nw,envmap_vertex:Aw,fog_vertex:Lw,fog_pars_vertex:Rw,fog_fragment:kw,fog_pars_fragment:Pw,gradientmap_pars_fragment:Bw,lightmap_fragment:Iw,lightmap_pars_fragment:Fw,lights_lambert_vertex:Dw,lights_pars_begin:Ow,lights_toon_fragment:zw,lights_toon_pars_fragment:qw,lights_phong_fragment:Hw,lights_phong_pars_fragment:Vw,lights_physical_fragment:Uw,lights_physical_pars_fragment:Gw,lights_fragment_begin:Ww,lights_fragment_maps:$w,lights_fragment_end:jw,logdepthbuf_fragment:Yw,logdepthbuf_pars_fragment:Xw,logdepthbuf_pars_vertex:Qw,logdepthbuf_vertex:Kw,map_fragment:Zw,map_pars_fragment:Jw,map_particle_fragment:e1,map_particle_pars_fragment:t1,metalnessmap_fragment:n1,metalnessmap_pars_fragment:i1,morphnormal_vertex:r1,morphtarget_pars_vertex:o1,morphtarget_vertex:a1,normal_fragment_begin:s1,normal_fragment_maps:l1,normalmap_pars_fragment:u1,clearcoat_normal_fragment_begin:c1,clearcoat_normal_fragment_maps:d1,clearcoat_pars_fragment:f1,packing:h1,premultiplied_alpha_fragment:m1,project_vertex:p1,dithering_fragment:v1,dithering_pars_fragment:g1,roughnessmap_fragment:y1,roughnessmap_pars_fragment:b1,shadowmap_pars_fragment:x1,shadowmap_pars_vertex:_1,shadowmap_vertex:w1,shadowmask_pars_fragment:S1,skinbase_vertex:M1,skinning_pars_vertex:T1,skinning_vertex:C1,skinnormal_vertex:E1,specularmap_fragment:A1,specularmap_pars_fragment:L1,tonemapping_fragment:R1,tonemapping_pars_fragment:k1,transmissionmap_fragment:P1,transmissionmap_pars_fragment:B1,uv_pars_fragment:I1,uv_pars_vertex:F1,uv_vertex:D1,uv2_pars_fragment:O1,uv2_pars_vertex:N1,uv2_vertex:z1,worldpos_vertex:q1,background_frag:H1,background_vert:V1,cube_frag:U1,cube_vert:G1,depth_frag:W1,depth_vert:$1,distanceRGBA_frag:j1,distanceRGBA_vert:Y1,equirect_frag:X1,equirect_vert:Q1,linedashed_frag:K1,linedashed_vert:Z1,meshbasic_frag:J1,meshbasic_vert:eS,meshlambert_frag:tS,meshlambert_vert:nS,meshmatcap_frag:iS,meshmatcap_vert:rS,meshtoon_frag:oS,meshtoon_vert:aS,meshphong_frag:sS,meshphong_vert:lS,meshphysical_frag:uS,meshphysical_vert:cS,normal_frag:dS,normal_vert:fS,points_frag:hS,points_vert:mS,shadow_frag:pS,shadow_vert:vS,sprite_frag:gS,sprite_vert:yS},Oe={common:{diffuse:{value:new Ge(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Sn},uv2Transform:{value:new Sn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Re(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ge(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ge(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Sn}},sprite:{diffuse:{value:new Ge(15658734)},opacity:{value:1},center:{value:new Re(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Sn}}},oi={basic:{uniforms:hn([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.fog]),vertexShader:lt.meshbasic_vert,fragmentShader:lt.meshbasic_frag},lambert:{uniforms:hn([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.fog,Oe.lights,{emissive:{value:new Ge(0)}}]),vertexShader:lt.meshlambert_vert,fragmentShader:lt.meshlambert_frag},phong:{uniforms:hn([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.fog,Oe.lights,{emissive:{value:new Ge(0)},specular:{value:new Ge(1118481)},shininess:{value:30}}]),vertexShader:lt.meshphong_vert,fragmentShader:lt.meshphong_frag},standard:{uniforms:hn([Oe.common,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.roughnessmap,Oe.metalnessmap,Oe.fog,Oe.lights,{emissive:{value:new Ge(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:lt.meshphysical_vert,fragmentShader:lt.meshphysical_frag},toon:{uniforms:hn([Oe.common,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.gradientmap,Oe.fog,Oe.lights,{emissive:{value:new Ge(0)}}]),vertexShader:lt.meshtoon_vert,fragmentShader:lt.meshtoon_frag},matcap:{uniforms:hn([Oe.common,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.fog,{matcap:{value:null}}]),vertexShader:lt.meshmatcap_vert,fragmentShader:lt.meshmatcap_frag},points:{uniforms:hn([Oe.points,Oe.fog]),vertexShader:lt.points_vert,fragmentShader:lt.points_frag},dashed:{uniforms:hn([Oe.common,Oe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:lt.linedashed_vert,fragmentShader:lt.linedashed_frag},depth:{uniforms:hn([Oe.common,Oe.displacementmap]),vertexShader:lt.depth_vert,fragmentShader:lt.depth_frag},normal:{uniforms:hn([Oe.common,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,{opacity:{value:1}}]),vertexShader:lt.normal_vert,fragmentShader:lt.normal_frag},sprite:{uniforms:hn([Oe.sprite,Oe.fog]),vertexShader:lt.sprite_vert,fragmentShader:lt.sprite_frag},background:{uniforms:{uvTransform:{value:new Sn},t2D:{value:null}},vertexShader:lt.background_vert,fragmentShader:lt.background_frag},cube:{uniforms:hn([Oe.envmap,{opacity:{value:1}}]),vertexShader:lt.cube_vert,fragmentShader:lt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:lt.equirect_vert,fragmentShader:lt.equirect_frag},distanceRGBA:{uniforms:hn([Oe.common,Oe.displacementmap,{referencePosition:{value:new V},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:lt.distanceRGBA_vert,fragmentShader:lt.distanceRGBA_frag},shadow:{uniforms:hn([Oe.lights,Oe.fog,{color:{value:new Ge(0)},opacity:{value:1}}]),vertexShader:lt.shadow_vert,fragmentShader:lt.shadow_frag}};oi.physical={uniforms:hn([oi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Re(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Ge(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:lt.meshphysical_vert,fragmentShader:lt.meshphysical_frag};function bS(e,t,n,i,r){const o=new Ge(0);let a=0,s,l,u=null,c=0,d=null;function f(m,y,b,g){let p=y.isScene===!0?y.background:null;p&&p.isTexture&&(p=t.get(p));const _=e.xr,x=_.getSession&&_.getSession();x&&x.environmentBlendMode==="additive"&&(p=null),p===null?h(o,a):p&&p.isColor&&(h(p,1),g=!0),(e.autoClear||g)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),p&&(p.isCubeTexture||p.isWebGLCubeRenderTarget||p.mapping===Ba)?(l===void 0&&(l=new Pt(new ll(1,1,1),new Tn({name:"BackgroundCubeMaterial",uniforms:ba(oi.cube.uniforms),vertexShader:oi.cube.vertexShader,fragmentShader:oi.cube.fragmentShader,side:Qt,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(S,M,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),p.isWebGLCubeRenderTarget&&(p=p.texture),l.material.uniforms.envMap.value=p,l.material.uniforms.flipEnvMap.value=p.isCubeTexture&&p._needsFlipEnvMap?-1:1,(u!==p||c!==p.version||d!==e.toneMapping)&&(l.material.needsUpdate=!0,u=p,c=p.version,d=e.toneMapping),m.unshift(l,l.geometry,l.material,0,0,null)):p&&p.isTexture&&(s===void 0&&(s=new Pt(new _c(2,2),new Tn({name:"BackgroundMaterial",uniforms:ba(oi.background.uniforms),vertexShader:oi.background.vertexShader,fragmentShader:oi.background.fragmentShader,side:Pa,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=p,p.matrixAutoUpdate===!0&&p.updateMatrix(),s.material.uniforms.uvTransform.value.copy(p.matrix),(u!==p||c!==p.version||d!==e.toneMapping)&&(s.material.needsUpdate=!0,u=p,c=p.version,d=e.toneMapping),m.unshift(s,s.geometry,s.material,0,0,null))}function h(m,y){n.buffers.color.setClear(m.r,m.g,m.b,y,r)}return{getClearColor:function(){return o},setClearColor:function(m,y=1){o.set(m),a=y,h(o,a)},getClearAlpha:function(){return a},setClearAlpha:function(m){a=m,h(o,a)},render:f}}function xS(e,t,n,i){const r=e.getParameter(34921),o=i.isWebGL2?null:t.get("OES_vertex_array_object"),a=i.isWebGL2||o!==null,s={},l=y(null);let u=l;function c(C,E,D,q,O){let G=!1;if(a){const Y=m(q,D,E);u!==Y&&(u=Y,f(u.object)),G=b(q,O),G&&g(q,O)}else{const Y=E.wireframe===!0;(u.geometry!==q.id||u.program!==D.id||u.wireframe!==Y)&&(u.geometry=q.id,u.program=D.id,u.wireframe=Y,G=!0)}C.isInstancedMesh===!0&&(G=!0),O!==null&&n.update(O,34963),G&&(T(C,E,D,q),O!==null&&e.bindBuffer(34963,n.get(O).buffer))}function d(){return i.isWebGL2?e.createVertexArray():o.createVertexArrayOES()}function f(C){return i.isWebGL2?e.bindVertexArray(C):o.bindVertexArrayOES(C)}function h(C){return i.isWebGL2?e.deleteVertexArray(C):o.deleteVertexArrayOES(C)}function m(C,E,D){const q=D.wireframe===!0;let O=s[C.id];O===void 0&&(O={},s[C.id]=O);let G=O[E.id];G===void 0&&(G={},O[E.id]=G);let Y=G[q];return Y===void 0&&(Y=y(d()),G[q]=Y),Y}function y(C){const E=[],D=[],q=[];for(let O=0;O<r;O++)E[O]=0,D[O]=0,q[O]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:E,enabledAttributes:D,attributeDivisors:q,object:C,attributes:{},index:null}}function b(C,E){const D=u.attributes,q=C.attributes;let O=0;for(const G in q){const Y=D[G],le=q[G];if(Y===void 0||Y.attribute!==le||Y.data!==le.data)return!0;O++}return u.attributesNum!==O||u.index!==E}function g(C,E){const D={},q=C.attributes;let O=0;for(const G in q){const Y=q[G],le={};le.attribute=Y,Y.data&&(le.data=Y.data),D[G]=le,O++}u.attributes=D,u.attributesNum=O,u.index=E}function p(){const C=u.newAttributes;for(let E=0,D=C.length;E<D;E++)C[E]=0}function _(C){x(C,0)}function x(C,E){const D=u.newAttributes,q=u.enabledAttributes,O=u.attributeDivisors;D[C]=1,q[C]===0&&(e.enableVertexAttribArray(C),q[C]=1),O[C]!==E&&((i.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](C,E),O[C]=E)}function S(){const C=u.newAttributes,E=u.enabledAttributes;for(let D=0,q=E.length;D<q;D++)E[D]!==C[D]&&(e.disableVertexAttribArray(D),E[D]=0)}function M(C,E,D,q,O,G){i.isWebGL2===!0&&(D===5124||D===5125)?e.vertexAttribIPointer(C,E,D,O,G):e.vertexAttribPointer(C,E,D,q,O,G)}function T(C,E,D,q){if(i.isWebGL2===!1&&(C.isInstancedMesh||q.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;p();const O=q.attributes,G=D.getAttributes(),Y=E.defaultAttributeValues;for(const le in G){const W=G[le];if(W>=0){const P=O[le];if(P!==void 0){const Z=P.normalized,ne=P.itemSize,J=n.get(P);if(J===void 0)continue;const U=J.buffer,$=J.type,fe=J.bytesPerElement;if(P.isInterleavedBufferAttribute){const X=P.data,be=X.stride,ke=P.offset;X&&X.isInstancedInterleavedBuffer?(x(W,X.meshPerAttribute),q._maxInstanceCount===void 0&&(q._maxInstanceCount=X.meshPerAttribute*X.count)):_(W),e.bindBuffer(34962,U),M(W,ne,$,Z,be*fe,ke*fe)}else P.isInstancedBufferAttribute?(x(W,P.meshPerAttribute),q._maxInstanceCount===void 0&&(q._maxInstanceCount=P.meshPerAttribute*P.count)):_(W),e.bindBuffer(34962,U),M(W,ne,$,Z,0,0)}else if(le==="instanceMatrix"){const Z=n.get(C.instanceMatrix);if(Z===void 0)continue;const ne=Z.buffer,J=Z.type;x(W+0,1),x(W+1,1),x(W+2,1),x(W+3,1),e.bindBuffer(34962,ne),e.vertexAttribPointer(W+0,4,J,!1,64,0),e.vertexAttribPointer(W+1,4,J,!1,64,16),e.vertexAttribPointer(W+2,4,J,!1,64,32),e.vertexAttribPointer(W+3,4,J,!1,64,48)}else if(le==="instanceColor"){const Z=n.get(C.instanceColor);if(Z===void 0)continue;const ne=Z.buffer,J=Z.type;x(W,1),e.bindBuffer(34962,ne),e.vertexAttribPointer(W,3,J,!1,12,0)}else if(Y!==void 0){const Z=Y[le];if(Z!==void 0)switch(Z.length){case 2:e.vertexAttrib2fv(W,Z);break;case 3:e.vertexAttrib3fv(W,Z);break;case 4:e.vertexAttrib4fv(W,Z);break;default:e.vertexAttrib1fv(W,Z)}}}}S()}function R(){k();for(const C in s){const E=s[C];for(const D in E){const q=E[D];for(const O in q)h(q[O].object),delete q[O];delete E[D]}delete s[C]}}function L(C){if(s[C.id]===void 0)return;const E=s[C.id];for(const D in E){const q=E[D];for(const O in q)h(q[O].object),delete q[O];delete E[D]}delete s[C.id]}function I(C){for(const E in s){const D=s[E];if(D[C.id]===void 0)continue;const q=D[C.id];for(const O in q)h(q[O].object),delete q[O];delete D[C.id]}}function k(){A(),u!==l&&(u=l,f(u.object))}function A(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:c,reset:k,resetDefaultState:A,dispose:R,releaseStatesOfGeometry:L,releaseStatesOfProgram:I,initAttributes:p,enableAttribute:_,disableUnusedAttributes:S}}function _S(e,t,n,i){const r=i.isWebGL2;let o;function a(u){o=u}function s(u,c){e.drawArrays(o,u,c),n.update(c,o,1)}function l(u,c,d){if(d===0)return;let f,h;if(r)f=e,h="drawArraysInstanced";else if(f=t.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[h](o,u,c,d),n.update(c,o,d)}this.setMode=a,this.render=s,this.renderInstances=l}function wS(e,t,n){let i;function r(){if(i!==void 0)return i;const M=t.get("EXT_texture_filter_anisotropic");return M!==null?i=e.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT):i=0,i}function o(M){if(M==="highp"){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";M="mediump"}return M==="mediump"&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext!="undefined"&&e instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&e instanceof WebGL2ComputeRenderingContext;let s=n.precision!==void 0?n.precision:"highp";const l=o(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);const u=n.logarithmicDepthBuffer===!0,c=e.getParameter(34930),d=e.getParameter(35660),f=e.getParameter(3379),h=e.getParameter(34076),m=e.getParameter(34921),y=e.getParameter(36347),b=e.getParameter(36348),g=e.getParameter(36349),p=d>0,_=a||!!t.get("OES_texture_float"),x=p&&_,S=a?e.getParameter(36183):0;return{isWebGL2:a,getMaxAnisotropy:r,getMaxPrecision:o,precision:s,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:d,maxTextureSize:f,maxCubemapSize:h,maxAttributes:m,maxVertexUniforms:y,maxVaryings:b,maxFragmentUniforms:g,vertexTextures:p,floatFragmentTextures:_,floatVertexTextures:x,maxSamples:S}}function SS(e){const t=this;let n=null,i=0,r=!1,o=!1;const a=new wi,s=new Sn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f,h){const m=d.length!==0||f||i!==0||r;return r=f,n=c(d,h,0),i=d.length,m},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1,u()},this.setState=function(d,f,h){const m=d.clippingPlanes,y=d.clipIntersection,b=d.clipShadows,g=e.get(d);if(!r||m===null||m.length===0||o&&!b)o?c(null):u();else{const p=o?0:i,_=p*4;let x=g.clippingState||null;l.value=x,x=c(m,f,_,h);for(let S=0;S!==_;++S)x[S]=n[S];g.clippingState=x,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=p}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function c(d,f,h,m){const y=d!==null?d.length:0;let b=null;if(y!==0){if(b=l.value,m!==!0||b===null){const g=h+y*4,p=f.matrixWorldInverse;s.getNormalMatrix(p),(b===null||b.length<g)&&(b=new Float32Array(g));for(let _=0,x=h;_!==y;++_,x+=4)a.copy(d[_]).applyMatrix4(p,s),a.normal.toArray(b,x),b[x+3]=a.constant}l.value=b,l.needsUpdate=!0}return t.numPlanes=y,t.numIntersection=0,b}}function MS(e){let t=new WeakMap;function n(a,s){return s===Au?a.mapping=il:s===Lu&&(a.mapping=rl),a}function i(a){if(a&&a.isTexture){const s=a.mapping;if(s===Au||s===Lu)if(t.has(a)){const l=t.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const u=e.getRenderList(),c=e.getRenderTarget(),d=new ji(l.height/2);return d.fromEquirectangularTexture(e,a),t.set(a,d),e.setRenderTarget(c),e.setRenderList(u),a.addEventListener("dispose",r),n(d.texture,a.mapping)}else return null}}return a}function r(a){const s=a.target;s.removeEventListener("dispose",r);const l=t.get(s);l!==void 0&&(t.delete(s),l.dispose())}function o(){t=new WeakMap}return{get:i,dispose:o}}function TS(e){const t={};return{has:function(n){if(t[n]!==void 0)return t[n]!==null;let i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return t[n]=i,i!==null},get:function(n){return this.has(n)||console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]}}}function CS(e,t,n,i){const r=new WeakMap,o=new WeakMap;function a(d){const f=d.target,h=r.get(f);h.index!==null&&t.remove(h.index);for(const y in h.attributes)t.remove(h.attributes[y]);f.removeEventListener("dispose",a),r.delete(f);const m=o.get(h);m&&(t.remove(m),o.delete(h)),i.releaseStatesOfGeometry(h),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function s(d,f){let h=r.get(f);return h||(f.addEventListener("dispose",a),f.isBufferGeometry?h=f:f.isGeometry&&(f._bufferGeometry===void 0&&(f._bufferGeometry=new Ke().setFromObject(d)),h=f._bufferGeometry),r.set(f,h),n.memory.geometries++,h)}function l(d){const f=d.attributes;for(const m in f)t.update(f[m],34962);const h=d.morphAttributes;for(const m in h){const y=h[m];for(let b=0,g=y.length;b<g;b++)t.update(y[b],34962)}}function u(d){const f=[],h=d.index,m=d.attributes.position;let y=0;if(h!==null){const p=h.array;y=h.version;for(let _=0,x=p.length;_<x;_+=3){const S=p[_+0],M=p[_+1],T=p[_+2];f.push(S,M,M,T,T,S)}}else{const p=m.array;y=m.version;for(let _=0,x=p.length/3-1;_<x;_+=3){const S=_+0,M=_+1,T=_+2;f.push(S,M,M,T,T,S)}}const b=new(B0(f)>65535?co:uo)(f,1);b.version=y;const g=o.get(d);g&&t.remove(g),o.set(d,b)}function c(d){const f=o.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&u(d)}else u(d);return o.get(d)}return{get:s,update:l,getWireframeAttribute:c}}function ES(e,t,n,i){const r=i.isWebGL2;let o;function a(f){o=f}let s,l;function u(f){s=f.type,l=f.bytesPerElement}function c(f,h){e.drawElements(o,h,s,f*l),n.update(h,o,1)}function d(f,h,m){if(m===0)return;let y,b;if(r)y=e,b="drawElementsInstanced";else if(y=t.get("ANGLE_instanced_arrays"),b="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[b](o,h,s,f*l,m),n.update(h,o,m)}this.setMode=a,this.setIndex=u,this.render=c,this.renderInstances=d}function AS(e){const t={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(o,a,s){switch(n.calls++,a){case 4:n.triangles+=s*(o/3);break;case 1:n.lines+=s*(o/2);break;case 3:n.lines+=s*(o-1);break;case 2:n.lines+=s*o;break;case 0:n.points+=s*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:t,render:n,programs:null,autoReset:!0,reset:r,update:i}}function LS(e,t){return e[0]-t[0]}function RS(e,t){return Math.abs(t[1])-Math.abs(e[1])}function kS(e){const t={},n=new Float32Array(8),i=[];for(let o=0;o<8;o++)i[o]=[o,0];function r(o,a,s,l){const u=o.morphTargetInfluences,c=u===void 0?0:u.length;let d=t[a.id];if(d===void 0){d=[];for(let b=0;b<c;b++)d[b]=[b,0];t[a.id]=d}for(let b=0;b<c;b++){const g=d[b];g[0]=b,g[1]=u[b]}d.sort(RS);for(let b=0;b<8;b++)b<c&&d[b][1]?(i[b][0]=d[b][0],i[b][1]=d[b][1]):(i[b][0]=Number.MAX_SAFE_INTEGER,i[b][1]=0);i.sort(LS);const f=s.morphTargets&&a.morphAttributes.position,h=s.morphNormals&&a.morphAttributes.normal;let m=0;for(let b=0;b<8;b++){const g=i[b],p=g[0],_=g[1];p!==Number.MAX_SAFE_INTEGER&&_?(f&&a.getAttribute("morphTarget"+b)!==f[p]&&a.setAttribute("morphTarget"+b,f[p]),h&&a.getAttribute("morphNormal"+b)!==h[p]&&a.setAttribute("morphNormal"+b,h[p]),n[b]=_,m+=_):(f&&a.hasAttribute("morphTarget"+b)===!0&&a.deleteAttribute("morphTarget"+b),h&&a.hasAttribute("morphNormal"+b)===!0&&a.deleteAttribute("morphNormal"+b),n[b]=0)}const y=a.morphTargetsRelative?1:1-m;l.getUniforms().setValue(e,"morphTargetBaseInfluence",y),l.getUniforms().setValue(e,"morphTargetInfluences",n)}return{update:r}}function PS(e,t,n,i){let r=new WeakMap;function o(l){const u=i.render.frame,c=l.geometry,d=t.get(l,c);return r.get(d)!==u&&(c.isGeometry&&d.updateFromObject(l),t.update(d),r.set(d,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),n.update(l.instanceMatrix,34962),l.instanceColor!==null&&n.update(l.instanceColor,34962)),d}function a(){r=new WeakMap}function s(l){const u=l.target;u.removeEventListener("dispose",s),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:o,dispose:a}}function xa(e=null,t=1,n=1,i=1){Mt.call(this,null),this.image={data:e,width:t,height:n,depth:i},this.magFilter=Zt,this.minFilter=Zt,this.wrapR=_n,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}xa.prototype=Object.create(Mt.prototype);xa.prototype.constructor=xa;xa.prototype.isDataTexture2DArray=!0;function _a(e=null,t=1,n=1,i=1){Mt.call(this,null),this.image={data:e,width:t,height:n,depth:i},this.magFilter=Zt,this.minFilter=Zt,this.wrapR=_n,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}_a.prototype=Object.create(Mt.prototype);_a.prototype.constructor=_a;_a.prototype.isDataTexture3D=!0;const O0=new Mt,BS=new xa,IS=new _a,N0=new Ci,Sm=[],Mm=[],Tm=new Float32Array(16),Cm=new Float32Array(9),Em=new Float32Array(4);function Na(e,t,n){const i=e[0];if(i<=0||i>0)return e;const r=t*n;let o=Sm[r];if(o===void 0&&(o=new Float32Array(r),Sm[r]=o),t!==0){i.toArray(o,0);for(let a=1,s=0;a!==t;++a)s+=n,e[a].toArray(o,s)}return o}function Yn(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function Hn(e,t){for(let n=0,i=t.length;n<i;n++)e[n]=t[n]}function z0(e,t){let n=Mm[t];n===void 0&&(n=new Int32Array(t),Mm[t]=n);for(let i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function FS(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function DS(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Yn(n,t))return;e.uniform2fv(this.addr,t),Hn(n,t)}}function OS(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(t.r!==void 0)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Yn(n,t))return;e.uniform3fv(this.addr,t),Hn(n,t)}}function NS(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Yn(n,t))return;e.uniform4fv(this.addr,t),Hn(n,t)}}function zS(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(Yn(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Hn(n,t)}else{if(Yn(n,i))return;Em.set(i),e.uniformMatrix2fv(this.addr,!1,Em),Hn(n,i)}}function qS(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(Yn(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Hn(n,t)}else{if(Yn(n,i))return;Cm.set(i),e.uniformMatrix3fv(this.addr,!1,Cm),Hn(n,i)}}function HS(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(Yn(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Hn(n,t)}else{if(Yn(n,i))return;Tm.set(i),e.uniformMatrix4fv(this.addr,!1,Tm),Hn(n,i)}}function VS(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(t||O0,r)}function US(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||BS,r)}function GS(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||IS,r)}function WS(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(t||N0,r)}function $S(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function jS(e,t){const n=this.cache;Yn(n,t)||(e.uniform2iv(this.addr,t),Hn(n,t))}function YS(e,t){const n=this.cache;Yn(n,t)||(e.uniform3iv(this.addr,t),Hn(n,t))}function XS(e,t){const n=this.cache;Yn(n,t)||(e.uniform4iv(this.addr,t),Hn(n,t))}function QS(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function KS(e){switch(e){case 5126:return FS;case 35664:return DS;case 35665:return OS;case 35666:return NS;case 35674:return zS;case 35675:return qS;case 35676:return HS;case 5124:case 35670:return $S;case 35667:case 35671:return jS;case 35668:case 35672:return YS;case 35669:case 35673:return XS;case 5125:return QS;case 35678:case 36198:case 36298:case 36306:case 35682:return VS;case 35679:case 36299:case 36307:return GS;case 35680:case 36300:case 36308:case 36293:return WS;case 36289:case 36303:case 36311:case 36292:return US}}function ZS(e,t){e.uniform1fv(this.addr,t)}function JS(e,t){e.uniform1iv(this.addr,t)}function eM(e,t){e.uniform2iv(this.addr,t)}function tM(e,t){e.uniform3iv(this.addr,t)}function nM(e,t){e.uniform4iv(this.addr,t)}function iM(e,t){const n=Na(t,this.size,2);e.uniform2fv(this.addr,n)}function rM(e,t){const n=Na(t,this.size,3);e.uniform3fv(this.addr,n)}function oM(e,t){const n=Na(t,this.size,4);e.uniform4fv(this.addr,n)}function aM(e,t){const n=Na(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function sM(e,t){const n=Na(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function lM(e,t){const n=Na(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function uM(e,t,n){const i=t.length,r=z0(n,i);e.uniform1iv(this.addr,r);for(let o=0;o!==i;++o)n.safeSetTexture2D(t[o]||O0,r[o])}function cM(e,t,n){const i=t.length,r=z0(n,i);e.uniform1iv(this.addr,r);for(let o=0;o!==i;++o)n.safeSetTextureCube(t[o]||N0,r[o])}function dM(e){switch(e){case 5126:return ZS;case 35664:return iM;case 35665:return rM;case 35666:return oM;case 35674:return aM;case 35675:return sM;case 35676:return lM;case 5124:case 35670:return JS;case 35667:case 35671:return eM;case 35668:case 35672:return tM;case 35669:case 35673:return nM;case 35678:case 36198:case 36298:case 36306:case 35682:return uM;case 35680:case 36300:case 36308:case 36293:return cM}}function fM(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=KS(t.type)}function q0(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=dM(t.type)}q0.prototype.updateCache=function(e){const t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),Hn(t,e)};function H0(e){this.id=e,this.seq=[],this.map={}}H0.prototype.setValue=function(e,t,n){const i=this.seq;for(let r=0,o=i.length;r!==o;++r){const a=i[r];a.setValue(e,t[a.id],n)}};const ud=/(\w+)(\])?(\[|\.)?/g;function Am(e,t){e.seq.push(t),e.map[t.id]=t}function hM(e,t,n){const i=e.name,r=i.length;for(ud.lastIndex=0;;){const o=ud.exec(i),a=ud.lastIndex;let s=o[1];const l=o[2]==="]",u=o[3];if(l&&(s=s|0),u===void 0||u==="["&&a+2===r){Am(n,u===void 0?new fM(s,e,t):new q0(s,e,t));break}else{let d=n.map[s];d===void 0&&(d=new H0(s),Am(n,d)),n=d}}}function yr(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let i=0;i<n;++i){const r=e.getActiveUniform(t,i),o=e.getUniformLocation(t,r.name);hM(r,o,this)}}yr.prototype.setValue=function(e,t,n,i){const r=this.map[t];r!==void 0&&r.setValue(e,n,i)};yr.prototype.setOptional=function(e,t,n){const i=t[n];i!==void 0&&this.setValue(e,n,i)};yr.upload=function(e,t,n,i){for(let r=0,o=t.length;r!==o;++r){const a=t[r],s=n[a.id];s.needsUpdate!==!1&&a.setValue(e,s.value,i)}};yr.seqWithValue=function(e,t){const n=[];for(let i=0,r=e.length;i!==r;++i){const o=e[i];o.id in t&&n.push(o)}return n};function Lm(e,t,n){const i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}let mM=0;function pM(e){const t=e.split(`
`);for(let n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join(`
`)}function V0(e){switch(e){case Mn:return["Linear","( value )"];case al:return["sRGB","( value )"];case xc:return["RGBE","( value )"];case th:return["RGBM","( value, 7.0 )"];case nh:return["RGBM","( value, 16.0 )"];case ih:return["RGBD","( value, 256.0 )"];case bc:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case E0:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function Rm(e,t,n){const i=e.getShaderParameter(t,35713),r=e.getShaderInfoLog(t).trim();if(i&&r==="")return"";const o=e.getShaderSource(t);return"THREE.WebGLShader: gl.getShaderInfoLog() "+n+`
`+r+pM(o)}function Xa(e,t){const n=V0(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function vM(e,t){const n=V0(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function gM(e,t){let n;switch(t){case Cg:n="Linear";break;case Eg:n="Reinhard";break;case Ag:n="OptimizedCineon";break;case Lg:n="ACESFilmic";break;case Rg:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function yM(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ls).join(`
`)}function bM(e){const t=[];for(const n in e){const i=e[n];i!==!1&&t.push("#define "+n+" "+i)}return t.join(`
`)}function xM(e,t){const n={},i=e.getProgramParameter(t,35721);for(let r=0;r<i;r++){const a=e.getActiveAttrib(t,r).name;n[a]=e.getAttribLocation(t,a)}return n}function ls(e){return e!==""}function km(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Pm(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const _M=/^[ \t]*#include +<([\w\d./]+)>/gm;function cf(e){return e.replace(_M,wM)}function wM(e,t){const n=lt[t];if(n===void 0)throw new Error("Can not resolve #include <"+t+">");return cf(n)}const SM=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,MM=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Bm(e){return e.replace(MM,U0).replace(SM,TM)}function TM(e,t,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),U0(e,t,n,i)}function U0(e,t,n,i){let r="";for(let o=parseInt(t);o<parseInt(n);o++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function Im(e){let t="precision "+e.precision+` float;
precision `+e.precision+" int;";return e.precision==="highp"?t+=`
#define HIGH_PRECISION`:e.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function CM(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===Xf?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===rg?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===ia&&(t="SHADOWMAP_TYPE_VSM"),t}function EM(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case il:case rl:t="ENVMAP_TYPE_CUBE";break;case Ba:case ol:t="ENVMAP_TYPE_CUBE_UV";break}return t}function AM(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case rl:case ol:t="ENVMAP_MODE_REFRACTION";break}return t}function LM(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case nl:t="ENVMAP_BLENDING_MULTIPLY";break;case Mg:t="ENVMAP_BLENDING_MIX";break;case Tg:t="ENVMAP_BLENDING_ADD";break}return t}function RM(e,t,n,i){const r=e.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=CM(n),u=EM(n),c=AM(n),d=LM(n),f=e.gammaFactor>0?e.gammaFactor:1,h=n.isWebGL2?"":yM(n),m=bM(o),y=r.createProgram();let b,g,p=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(b=[m].filter(ls).join(`
`),b.length>0&&(b+=`
`),g=[h,m].filter(ls).join(`
`),g.length>0&&(g+=`
`)):(b=[Im(n),"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+f,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ls).join(`
`),g=[h,Im(n),"#define SHADER_NAME "+n.shaderName,m,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+f,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==no?"#define TONE_MAPPING":"",n.toneMapping!==no?lt.tonemapping_pars_fragment:"",n.toneMapping!==no?gM("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",lt.encodings_pars_fragment,n.map?Xa("mapTexelToLinear",n.mapEncoding):"",n.matcap?Xa("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Xa("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Xa("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?Xa("lightMapTexelToLinear",n.lightMapEncoding):"",vM("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(ls).join(`
`)),a=cf(a),a=km(a,n),a=Pm(a,n),s=cf(s),s=km(s,n),s=Pm(s,n),a=Bm(a),s=Bm(s),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(p=`#version 300 es
`,b=["#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+b,g=["#define varying in",n.glslVersion===lf?"":"out highp vec4 pc_fragColor;",n.glslVersion===lf?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const _=p+b+a,x=p+g+s,S=Lm(r,35633,_),M=Lm(r,35632,x);if(r.attachShader(y,S),r.attachShader(y,M),n.index0AttributeName!==void 0?r.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y),e.debug.checkShaderErrors){const L=r.getProgramInfoLog(y).trim(),I=r.getShaderInfoLog(S).trim(),k=r.getShaderInfoLog(M).trim();let A=!0,C=!0;if(r.getProgramParameter(y,35714)===!1){A=!1;const E=Rm(r,S,"vertex"),D=Rm(r,M,"fragment");console.error("THREE.WebGLProgram: shader error: ",r.getError(),"35715",r.getProgramParameter(y,35715),"gl.getProgramInfoLog",L,E,D)}else L!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",L):(I===""||k==="")&&(C=!1);C&&(this.diagnostics={runnable:A,programLog:L,vertexShader:{log:I,prefix:b},fragmentShader:{log:k,prefix:g}})}r.deleteShader(S),r.deleteShader(M);let T;this.getUniforms=function(){return T===void 0&&(T=new yr(r,y)),T};let R;return this.getAttributes=function(){return R===void 0&&(R=xM(r,y)),R},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(y),this.program=void 0},this.name=n.shaderName,this.id=mM++,this.cacheKey=t,this.usedTimes=1,this.program=y,this.vertexShader=S,this.fragmentShader=M,this}function kM(e,t,n,i,r,o){const a=[],s=i.isWebGL2,l=i.logarithmicDepthBuffer,u=i.floatVertexTextures,c=i.maxVertexUniforms,d=i.vertexTextures;let f=i.precision;const h={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},m=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function y(M){const R=M.skeleton.bones;if(u)return 1024;{const I=Math.floor((c-20)/4),k=Math.min(I,R.length);return k<R.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+R.length+" bones. This GPU supports "+k+"."),0):k}}function b(M){let T;return M&&M.isTexture?T=M.encoding:M&&M.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),T=M.texture.encoding):T=Mn,T}function g(M,T,R,L,I){const k=L.fog,A=M.isMeshStandardMaterial?L.environment:null,C=t.get(M.envMap||A),E=h[M.type],D=I.isSkinnedMesh?y(I):0;M.precision!==null&&(f=i.getMaxPrecision(M.precision),f!==M.precision&&console.warn("THREE.WebGLProgram.getParameters:",M.precision,"not supported, using",f,"instead."));let q,O;if(E){const le=oi[E];q=le.vertexShader,O=le.fragmentShader}else q=M.vertexShader,O=M.fragmentShader;const G=e.getRenderTarget();return{isWebGL2:s,shaderID:E,shaderName:M.type,vertexShader:q,fragmentShader:O,defines:M.defines,isRawShaderMaterial:M.isRawShaderMaterial===!0,glslVersion:M.glslVersion,precision:f,instancing:I.isInstancedMesh===!0,instancingColor:I.isInstancedMesh===!0&&I.instanceColor!==null,supportsVertexTextures:d,outputEncoding:G!==null?b(G.texture):e.outputEncoding,map:!!M.map,mapEncoding:b(M.map),matcap:!!M.matcap,matcapEncoding:b(M.matcap),envMap:!!C,envMapMode:C&&C.mapping,envMapEncoding:b(C),envMapCubeUV:!!C&&(C.mapping===Ba||C.mapping===ol),lightMap:!!M.lightMap,lightMapEncoding:b(M.lightMap),aoMap:!!M.aoMap,emissiveMap:!!M.emissiveMap,emissiveMapEncoding:b(M.emissiveMap),bumpMap:!!M.bumpMap,normalMap:!!M.normalMap,objectSpaceNormalMap:M.normalMapType===R0,tangentSpaceNormalMap:M.normalMapType===Mo,clearcoatMap:!!M.clearcoatMap,clearcoatRoughnessMap:!!M.clearcoatRoughnessMap,clearcoatNormalMap:!!M.clearcoatNormalMap,displacementMap:!!M.displacementMap,roughnessMap:!!M.roughnessMap,metalnessMap:!!M.metalnessMap,specularMap:!!M.specularMap,alphaMap:!!M.alphaMap,gradientMap:!!M.gradientMap,sheen:!!M.sheen,transmissionMap:!!M.transmissionMap,combine:M.combine,vertexTangents:M.normalMap&&M.vertexTangents,vertexColors:M.vertexColors,vertexUvs:!!M.map||!!M.bumpMap||!!M.normalMap||!!M.specularMap||!!M.alphaMap||!!M.emissiveMap||!!M.roughnessMap||!!M.metalnessMap||!!M.clearcoatMap||!!M.clearcoatRoughnessMap||!!M.clearcoatNormalMap||!!M.displacementMap||!!M.transmissionMap,uvsVertexOnly:!(!!M.map||!!M.bumpMap||!!M.normalMap||!!M.specularMap||!!M.alphaMap||!!M.emissiveMap||!!M.roughnessMap||!!M.metalnessMap||!!M.clearcoatNormalMap||!!M.transmissionMap)&&!!M.displacementMap,fog:!!k,useFog:M.fog,fogExp2:k&&k.isFogExp2,flatShading:M.flatShading,sizeAttenuation:M.sizeAttenuation,logarithmicDepthBuffer:l,skinning:M.skinning&&D>0,maxBones:D,useVertexTexture:u,morphTargets:M.morphTargets,morphNormals:M.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:T.directional.length,numPointLights:T.point.length,numSpotLights:T.spot.length,numRectAreaLights:T.rectArea.length,numHemiLights:T.hemi.length,numDirLightShadows:T.directionalShadowMap.length,numPointLightShadows:T.pointShadowMap.length,numSpotLightShadows:T.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:M.dithering,shadowMapEnabled:e.shadowMap.enabled&&R.length>0,shadowMapType:e.shadowMap.type,toneMapping:M.toneMapped?e.toneMapping:no,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:M.premultipliedAlpha,alphaTest:M.alphaTest,doubleSided:M.side===tl,flipSided:M.side===Qt,depthPacking:M.depthPacking!==void 0?M.depthPacking:!1,index0AttributeName:M.index0AttributeName,extensionDerivatives:M.extensions&&M.extensions.derivatives,extensionFragDepth:M.extensions&&M.extensions.fragDepth,extensionDrawBuffers:M.extensions&&M.extensions.drawBuffers,extensionShaderTextureLOD:M.extensions&&M.extensions.shaderTextureLOD,rendererExtensionFragDepth:s||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:s||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:s||n.has("EXT_shader_texture_lod"),customProgramCacheKey:M.customProgramCacheKey()}}function p(M){const T=[];if(M.shaderID?T.push(M.shaderID):(T.push(M.fragmentShader),T.push(M.vertexShader)),M.defines!==void 0)for(const R in M.defines)T.push(R),T.push(M.defines[R]);if(M.isRawShaderMaterial===!1){for(let R=0;R<m.length;R++)T.push(M[m[R]]);T.push(e.outputEncoding),T.push(e.gammaFactor)}return T.push(M.customProgramCacheKey),T.join()}function _(M){const T=h[M.type];let R;if(T){const L=oi[T];R=F0.clone(L.uniforms)}else R=M.uniforms;return R}function x(M,T){let R;for(let L=0,I=a.length;L<I;L++){const k=a[L];if(k.cacheKey===T){R=k,++R.usedTimes;break}}return R===void 0&&(R=new RM(e,T,M,r),a.push(R)),R}function S(M){if(--M.usedTimes===0){const T=a.indexOf(M);a[T]=a[a.length-1],a.pop(),M.destroy()}}return{getParameters:g,getProgramCacheKey:p,getUniforms:_,acquireProgram:x,releaseProgram:S,programs:a}}function PM(){let e=new WeakMap;function t(o){let a=e.get(o);return a===void 0&&(a={},e.set(o,a)),a}function n(o){e.delete(o)}function i(o,a,s){e.get(o)[a]=s}function r(){e=new WeakMap}return{get:t,remove:n,update:i,dispose:r}}function BM(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function IM(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Fm(e){const t=[];let n=0;const i=[],r=[],o={id:-1};function a(){n=0,i.length=0,r.length=0}function s(f,h,m,y,b,g){let p=t[n];const _=e.get(m);return p===void 0?(p={id:f.id,object:f,geometry:h,material:m,program:_.program||o,groupOrder:y,renderOrder:f.renderOrder,z:b,group:g},t[n]=p):(p.id=f.id,p.object=f,p.geometry=h,p.material=m,p.program=_.program||o,p.groupOrder=y,p.renderOrder=f.renderOrder,p.z=b,p.group=g),n++,p}function l(f,h,m,y,b,g){const p=s(f,h,m,y,b,g);(m.transparent===!0?r:i).push(p)}function u(f,h,m,y,b,g){const p=s(f,h,m,y,b,g);(m.transparent===!0?r:i).unshift(p)}function c(f,h){i.length>1&&i.sort(f||BM),r.length>1&&r.sort(h||IM)}function d(){for(let f=n,h=t.length;f<h;f++){const m=t[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.program=null,m.group=null}}return{opaque:i,transparent:r,init:a,push:l,unshift:u,finish:d,sort:c}}function FM(e){let t=new WeakMap;function n(r,o){const a=t.get(r);let s;return a===void 0?(s=new Fm(e),t.set(r,new WeakMap),t.get(r).set(o,s)):(s=a.get(o),s===void 0&&(s=new Fm(e),a.set(o,s))),s}function i(){t=new WeakMap}return{get:n,dispose:i}}function DM(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new V,color:new Ge};break;case"SpotLight":n={position:new V,direction:new V,color:new Ge,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new V,color:new Ge,distance:0,decay:0};break;case"HemisphereLight":n={direction:new V,skyColor:new Ge,groundColor:new Ge};break;case"RectAreaLight":n={color:new Ge,position:new V,halfWidth:new V,halfHeight:new V};break}return e[t.id]=n,n}}}function OM(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Re};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Re};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Re,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=n,n}}}let NM=0;function zM(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function qM(e,t){const n=new DM,i=OM(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let c=0;c<9;c++)r.probe.push(new V);const o=new V,a=new at,s=new at;function l(c){let d=0,f=0,h=0;for(let T=0;T<9;T++)r.probe[T].set(0,0,0);let m=0,y=0,b=0,g=0,p=0,_=0,x=0,S=0;c.sort(zM);for(let T=0,R=c.length;T<R;T++){const L=c[T],I=L.color,k=L.intensity,A=L.distance,C=L.shadow&&L.shadow.map?L.shadow.map.texture:null;if(L.isAmbientLight)d+=I.r*k,f+=I.g*k,h+=I.b*k;else if(L.isLightProbe)for(let E=0;E<9;E++)r.probe[E].addScaledVector(L.sh.coefficients[E],k);else if(L.isDirectionalLight){const E=n.get(L);if(E.color.copy(L.color).multiplyScalar(L.intensity),L.castShadow){const D=L.shadow,q=i.get(L);q.shadowBias=D.bias,q.shadowNormalBias=D.normalBias,q.shadowRadius=D.radius,q.shadowMapSize=D.mapSize,r.directionalShadow[m]=q,r.directionalShadowMap[m]=C,r.directionalShadowMatrix[m]=L.shadow.matrix,_++}r.directional[m]=E,m++}else if(L.isSpotLight){const E=n.get(L);if(E.position.setFromMatrixPosition(L.matrixWorld),E.color.copy(I).multiplyScalar(k),E.distance=A,E.coneCos=Math.cos(L.angle),E.penumbraCos=Math.cos(L.angle*(1-L.penumbra)),E.decay=L.decay,L.castShadow){const D=L.shadow,q=i.get(L);q.shadowBias=D.bias,q.shadowNormalBias=D.normalBias,q.shadowRadius=D.radius,q.shadowMapSize=D.mapSize,r.spotShadow[b]=q,r.spotShadowMap[b]=C,r.spotShadowMatrix[b]=L.shadow.matrix,S++}r.spot[b]=E,b++}else if(L.isRectAreaLight){const E=n.get(L);E.color.copy(I).multiplyScalar(k),E.halfWidth.set(L.width*.5,0,0),E.halfHeight.set(0,L.height*.5,0),r.rectArea[g]=E,g++}else if(L.isPointLight){const E=n.get(L);if(E.color.copy(L.color).multiplyScalar(L.intensity),E.distance=L.distance,E.decay=L.decay,L.castShadow){const D=L.shadow,q=i.get(L);q.shadowBias=D.bias,q.shadowNormalBias=D.normalBias,q.shadowRadius=D.radius,q.shadowMapSize=D.mapSize,q.shadowCameraNear=D.camera.near,q.shadowCameraFar=D.camera.far,r.pointShadow[y]=q,r.pointShadowMap[y]=C,r.pointShadowMatrix[y]=L.shadow.matrix,x++}r.point[y]=E,y++}else if(L.isHemisphereLight){const E=n.get(L);E.skyColor.copy(L.color).multiplyScalar(k),E.groundColor.copy(L.groundColor).multiplyScalar(k),r.hemi[p]=E,p++}}g>0&&(t.isWebGL2||e.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Oe.LTC_FLOAT_1,r.rectAreaLTC2=Oe.LTC_FLOAT_2):e.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Oe.LTC_HALF_1,r.rectAreaLTC2=Oe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=d,r.ambient[1]=f,r.ambient[2]=h;const M=r.hash;(M.directionalLength!==m||M.pointLength!==y||M.spotLength!==b||M.rectAreaLength!==g||M.hemiLength!==p||M.numDirectionalShadows!==_||M.numPointShadows!==x||M.numSpotShadows!==S)&&(r.directional.length=m,r.spot.length=b,r.rectArea.length=g,r.point.length=y,r.hemi.length=p,r.directionalShadow.length=_,r.directionalShadowMap.length=_,r.pointShadow.length=x,r.pointShadowMap.length=x,r.spotShadow.length=S,r.spotShadowMap.length=S,r.directionalShadowMatrix.length=_,r.pointShadowMatrix.length=x,r.spotShadowMatrix.length=S,M.directionalLength=m,M.pointLength=y,M.spotLength=b,M.rectAreaLength=g,M.hemiLength=p,M.numDirectionalShadows=_,M.numPointShadows=x,M.numSpotShadows=S,r.version=NM++)}function u(c,d){let f=0,h=0,m=0,y=0,b=0;const g=d.matrixWorldInverse;for(let p=0,_=c.length;p<_;p++){const x=c[p];if(x.isDirectionalLight){const S=r.directional[f];S.direction.setFromMatrixPosition(x.matrixWorld),o.setFromMatrixPosition(x.target.matrixWorld),S.direction.sub(o),S.direction.transformDirection(g),f++}else if(x.isSpotLight){const S=r.spot[m];S.position.setFromMatrixPosition(x.matrixWorld),S.position.applyMatrix4(g),S.direction.setFromMatrixPosition(x.matrixWorld),o.setFromMatrixPosition(x.target.matrixWorld),S.direction.sub(o),S.direction.transformDirection(g),m++}else if(x.isRectAreaLight){const S=r.rectArea[y];S.position.setFromMatrixPosition(x.matrixWorld),S.position.applyMatrix4(g),s.identity(),a.copy(x.matrixWorld),a.premultiply(g),s.extractRotation(a),S.halfWidth.set(x.width*.5,0,0),S.halfHeight.set(0,x.height*.5,0),S.halfWidth.applyMatrix4(s),S.halfHeight.applyMatrix4(s),y++}else if(x.isPointLight){const S=r.point[h];S.position.setFromMatrixPosition(x.matrixWorld),S.position.applyMatrix4(g),h++}else if(x.isHemisphereLight){const S=r.hemi[b];S.direction.setFromMatrixPosition(x.matrixWorld),S.direction.transformDirection(g),S.direction.normalize(),b++}}}return{setup:l,setupView:u,state:r}}function Dm(e,t){const n=new qM(e,t),i=[],r=[];function o(){i.length=0,r.length=0}function a(d){i.push(d)}function s(d){r.push(d)}function l(){n.setup(i)}function u(d){n.setupView(i,d)}return{init:o,state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:l,setupLightsView:u,pushLight:a,pushShadow:s}}function HM(e,t){let n=new WeakMap;function i(o,a=0){let s;return n.has(o)===!1?(s=new Dm(e,t),n.set(o,[]),n.get(o).push(s)):a>=n.get(o).length?(s=new Dm(e,t),n.get(o).push(s)):s=n.get(o)[a],s}function r(){n=new WeakMap}return{get:i,dispose:r}}function Mr(e){Je.call(this),this.type="MeshDepthMaterial",this.depthPacking=A0,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}Mr.prototype=Object.create(Je.prototype);Mr.prototype.constructor=Mr;Mr.prototype.isMeshDepthMaterial=!0;Mr.prototype.copy=function(e){return Je.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this};function Tr(e){Je.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new V,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}Tr.prototype=Object.create(Je.prototype);Tr.prototype.constructor=Tr;Tr.prototype.isMeshDistanceMaterial=!0;Tr.prototype.copy=function(e){return Je.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};var VM=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	float mean = 0.0;
	float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );
	for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean * HALF_SAMPLE_RATE;
	squared_mean = squared_mean * HALF_SAMPLE_RATE;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,UM=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function G0(e,t,n){let i=new ul;const r=new Re,o=new Re,a=new _t,s=[],l=[],u={},c={0:Qt,1:Pa,2:tl},d=new Tn({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Re},radius:{value:4}},vertexShader:UM,fragmentShader:VM}),f=d.clone();f.defines.HORIZONTAL_PASS=1;const h=new Ke;h.setAttribute("position",new Ze(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new Pt(h,d),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Xf,this.render=function(S,M,T){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||S.length===0)return;const R=e.getRenderTarget(),L=e.getActiveCubeFace(),I=e.getActiveMipmapLevel(),k=e.state;k.setBlending(Wi),k.buffers.color.setClear(1,1,1,1),k.buffers.depth.setTest(!0),k.setScissorTest(!1);for(let A=0,C=S.length;A<C;A++){const E=S[A],D=E.shadow;if(D===void 0){console.warn("THREE.WebGLShadowMap:",E,"has no shadow.");continue}if(D.autoUpdate===!1&&D.needsUpdate===!1)continue;r.copy(D.mapSize);const q=D.getFrameExtents();if(r.multiply(q),o.copy(D.mapSize),(r.x>n||r.y>n)&&(r.x>n&&(o.x=Math.floor(n/q.x),r.x=o.x*q.x,D.mapSize.x=o.x),r.y>n&&(o.y=Math.floor(n/q.y),r.y=o.y*q.y,D.mapSize.y=o.y)),D.map===null&&!D.isPointLightShadow&&this.type===ia){const G={minFilter:on,magFilter:on,format:Nn};D.map=new zn(r.x,r.y,G),D.map.texture.name=E.name+".shadowMap",D.mapPass=new zn(r.x,r.y,G),D.camera.updateProjectionMatrix()}if(D.map===null){const G={minFilter:Zt,magFilter:Zt,format:Nn};D.map=new zn(r.x,r.y,G),D.map.texture.name=E.name+".shadowMap",D.camera.updateProjectionMatrix()}e.setRenderTarget(D.map),e.clear();const O=D.getViewportCount();for(let G=0;G<O;G++){const Y=D.getViewport(G);a.set(o.x*Y.x,o.y*Y.y,o.x*Y.z,o.y*Y.w),k.viewport(a),D.updateMatrices(E,G),i=D.getFrustum(),x(M,T,D.camera,E,this.type)}!D.isPointLightShadow&&this.type===ia&&b(D,T),D.needsUpdate=!1}y.needsUpdate=!1,e.setRenderTarget(R,L,I)};function b(S,M){const T=t.update(m);d.uniforms.shadow_pass.value=S.map.texture,d.uniforms.resolution.value=S.mapSize,d.uniforms.radius.value=S.radius,e.setRenderTarget(S.mapPass),e.clear(),e.renderBufferDirect(M,null,T,d,m,null),f.uniforms.shadow_pass.value=S.mapPass.texture,f.uniforms.resolution.value=S.mapSize,f.uniforms.radius.value=S.radius,e.setRenderTarget(S.map),e.clear(),e.renderBufferDirect(M,null,T,f,m,null)}function g(S,M,T){const R=S<<0|M<<1|T<<2;let L=s[R];return L===void 0&&(L=new Mr({depthPacking:L0,morphTargets:S,skinning:M}),s[R]=L),L}function p(S,M,T){const R=S<<0|M<<1|T<<2;let L=l[R];return L===void 0&&(L=new Tr({morphTargets:S,skinning:M}),l[R]=L),L}function _(S,M,T,R,L,I,k){let A=null,C=g,E=S.customDepthMaterial;if(R.isPointLight===!0&&(C=p,E=S.customDistanceMaterial),E===void 0){let D=!1;T.morphTargets===!0&&(D=M.morphAttributes&&M.morphAttributes.position&&M.morphAttributes.position.length>0);let q=!1;S.isSkinnedMesh===!0&&(T.skinning===!0?q=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",S));const O=S.isInstancedMesh===!0;A=C(D,q,O)}else A=E;if(e.localClippingEnabled&&T.clipShadows===!0&&T.clippingPlanes.length!==0){const D=A.uuid,q=T.uuid;let O=u[D];O===void 0&&(O={},u[D]=O);let G=O[q];G===void 0&&(G=A.clone(),O[q]=G),A=G}return A.visible=T.visible,A.wireframe=T.wireframe,k===ia?A.side=T.shadowSide!==null?T.shadowSide:T.side:A.side=T.shadowSide!==null?T.shadowSide:c[T.side],A.clipShadows=T.clipShadows,A.clippingPlanes=T.clippingPlanes,A.clipIntersection=T.clipIntersection,A.wireframeLinewidth=T.wireframeLinewidth,A.linewidth=T.linewidth,R.isPointLight===!0&&A.isMeshDistanceMaterial===!0&&(A.referencePosition.setFromMatrixPosition(R.matrixWorld),A.nearDistance=L,A.farDistance=I),A}function x(S,M,T,R,L){if(S.visible===!1)return;if(S.layers.test(M.layers)&&(S.isMesh||S.isLine||S.isPoints)&&(S.castShadow||S.receiveShadow&&L===ia)&&(!S.frustumCulled||i.intersectsObject(S))){S.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,S.matrixWorld);const A=t.update(S),C=S.material;if(Array.isArray(C)){const E=A.groups;for(let D=0,q=E.length;D<q;D++){const O=E[D],G=C[O.materialIndex];if(G&&G.visible){const Y=_(S,A,G,R,T.near,T.far,L);e.renderBufferDirect(T,null,A,Y,S,O)}}}else if(C.visible){const E=_(S,A,C,R,T.near,T.far,L);e.renderBufferDirect(T,null,A,E,S,null)}}const k=S.children;for(let A=0,C=k.length;A<C;A++)x(k[A],M,T,R,L)}}function GM(e,t,n){const i=n.isWebGL2;function r(){let H=!1;const se=new _t;let K=null;const me=new _t(0,0,0,0);return{setMask:function(ge){K!==ge&&!H&&(e.colorMask(ge,ge,ge,ge),K=ge)},setLocked:function(ge){H=ge},setClear:function(ge,Ee,Le,Ne,Pe){Pe===!0&&(ge*=Ne,Ee*=Ne,Le*=Ne),se.set(ge,Ee,Le,Ne),me.equals(se)===!1&&(e.clearColor(ge,Ee,Le,Ne),me.copy(se))},reset:function(){H=!1,K=null,me.set(-1,0,0,0)}}}function o(){let H=!1,se=null,K=null,me=null;return{setTest:function(ge){ge?le(2929):W(2929)},setMask:function(ge){se!==ge&&!H&&(e.depthMask(ge),se=ge)},setFunc:function(ge){if(K!==ge){if(ge)switch(ge){case gg:e.depthFunc(512);break;case yg:e.depthFunc(519);break;case bg:e.depthFunc(513);break;case Eu:e.depthFunc(515);break;case xg:e.depthFunc(514);break;case _g:e.depthFunc(518);break;case wg:e.depthFunc(516);break;case Sg:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);K=ge}},setLocked:function(ge){H=ge},setClear:function(ge){me!==ge&&(e.clearDepth(ge),me=ge)},reset:function(){H=!1,se=null,K=null,me=null}}}function a(){let H=!1,se=null,K=null,me=null,ge=null,Ee=null,Le=null,Ne=null,Pe=null;return{setTest:function(ze){H||(ze?le(2960):W(2960))},setMask:function(ze){se!==ze&&!H&&(e.stencilMask(ze),se=ze)},setFunc:function(ze,ce,Se){(K!==ze||me!==ce||ge!==Se)&&(e.stencilFunc(ze,ce,Se),K=ze,me=ce,ge=Se)},setOp:function(ze,ce,Se){(Ee!==ze||Le!==ce||Ne!==Se)&&(e.stencilOp(ze,ce,Se),Ee=ze,Le=ce,Ne=Se)},setLocked:function(ze){H=ze},setClear:function(ze){Pe!==ze&&(e.clearStencil(ze),Pe=ze)},reset:function(){H=!1,se=null,K=null,me=null,ge=null,Ee=null,Le=null,Ne=null,Pe=null}}}const s=new r,l=new o,u=new a;let c={},d=null,f=null,h=null,m=null,y=null,b=null,g=null,p=null,_=null,x=!1,S=null,M=null,T=null,R=null,L=null;const I=e.getParameter(35661);let k=!1,A=0;const C=e.getParameter(7938);C.indexOf("WebGL")!==-1?(A=parseFloat(/^WebGL (\d)/.exec(C)[1]),k=A>=1):C.indexOf("OpenGL ES")!==-1&&(A=parseFloat(/^OpenGL ES (\d)/.exec(C)[1]),k=A>=2);let E=null,D={};const q=new _t,O=new _t;function G(H,se,K){const me=new Uint8Array(4),ge=e.createTexture();e.bindTexture(H,ge),e.texParameteri(H,10241,9728),e.texParameteri(H,10240,9728);for(let Ee=0;Ee<K;Ee++)e.texImage2D(se+Ee,0,6408,1,1,0,6408,5121,me);return ge}const Y={};Y[3553]=G(3553,3553,1),Y[34067]=G(34067,34069,6),s.setClear(0,0,0,1),l.setClear(1),u.setClear(0),le(2929),l.setFunc(Eu),$(!1),fe(Wd),le(2884),J(Wi);function le(H){c[H]!==!0&&(e.enable(H),c[H]=!0)}function W(H){c[H]!==!1&&(e.disable(H),c[H]=!1)}function P(H){return d!==H?(e.useProgram(H),d=H,!0):!1}const Z={[Qr]:32774,[ag]:32778,[sg]:32779};if(i)Z[Xd]=32775,Z[Qd]=32776;else{const H=t.get("EXT_blend_minmax");H!==null&&(Z[Xd]=H.MIN_EXT,Z[Qd]=H.MAX_EXT)}const ne={[lg]:0,[ug]:1,[cg]:768,[Kf]:770,[vg]:776,[mg]:774,[fg]:772,[dg]:769,[Zf]:771,[pg]:775,[hg]:773};function J(H,se,K,me,ge,Ee,Le,Ne){if(H===Wi){f&&(W(3042),f=!1);return}if(f||(le(3042),f=!0),H!==og){if(H!==h||Ne!==x){if((m!==Qr||g!==Qr)&&(e.blendEquation(32774),m=Qr,g=Qr),Ne)switch(H){case ua:e.blendFuncSeparate(1,771,1,771);break;case $d:e.blendFunc(1,1);break;case jd:e.blendFuncSeparate(0,0,769,771);break;case Yd:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",H);break}else switch(H){case ua:e.blendFuncSeparate(770,771,1,771);break;case $d:e.blendFunc(770,1);break;case jd:e.blendFunc(0,769);break;case Yd:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",H);break}y=null,b=null,p=null,_=null,h=H,x=Ne}return}ge=ge||se,Ee=Ee||K,Le=Le||me,(se!==m||ge!==g)&&(e.blendEquationSeparate(Z[se],Z[ge]),m=se,g=ge),(K!==y||me!==b||Ee!==p||Le!==_)&&(e.blendFuncSeparate(ne[K],ne[me],ne[Ee],ne[Le]),y=K,b=me,p=Ee,_=Le),h=H,x=null}function U(H,se){H.side===tl?W(2884):le(2884);let K=H.side===Qt;se&&(K=!K),$(K),H.blending===ua&&H.transparent===!1?J(Wi):J(H.blending,H.blendEquation,H.blendSrc,H.blendDst,H.blendEquationAlpha,H.blendSrcAlpha,H.blendDstAlpha,H.premultipliedAlpha),l.setFunc(H.depthFunc),l.setTest(H.depthTest),l.setMask(H.depthWrite),s.setMask(H.colorWrite);const me=H.stencilWrite;u.setTest(me),me&&(u.setMask(H.stencilWriteMask),u.setFunc(H.stencilFunc,H.stencilRef,H.stencilFuncMask),u.setOp(H.stencilFail,H.stencilZFail,H.stencilZPass)),be(H.polygonOffset,H.polygonOffsetFactor,H.polygonOffsetUnits)}function $(H){S!==H&&(H?e.frontFace(2304):e.frontFace(2305),S=H)}function fe(H){H!==ng?(le(2884),H!==M&&(H===Wd?e.cullFace(1029):H===ig?e.cullFace(1028):e.cullFace(1032))):W(2884),M=H}function X(H){H!==T&&(k&&e.lineWidth(H),T=H)}function be(H,se,K){H?(le(32823),(R!==se||L!==K)&&(e.polygonOffset(se,K),R=se,L=K)):W(32823)}function ke(H){H?le(3089):W(3089)}function j(H){H===void 0&&(H=33984+I-1),E!==H&&(e.activeTexture(H),E=H)}function re(H,se){E===null&&j();let K=D[E];K===void 0&&(K={type:void 0,texture:void 0},D[E]=K),(K.type!==H||K.texture!==se)&&(e.bindTexture(H,se||Y[H]),K.type=H,K.texture=se)}function ue(){const H=D[E];H!==void 0&&H.type!==void 0&&(e.bindTexture(H.type,null),H.type=void 0,H.texture=void 0)}function we(){try{e.compressedTexImage2D.apply(e,arguments)}catch(H){console.error("THREE.WebGLState:",H)}}function _e(){try{e.texImage2D.apply(e,arguments)}catch(H){console.error("THREE.WebGLState:",H)}}function B(){try{e.texImage3D.apply(e,arguments)}catch(H){console.error("THREE.WebGLState:",H)}}function z(H){q.equals(H)===!1&&(e.scissor(H.x,H.y,H.z,H.w),q.copy(H))}function ve(H){O.equals(H)===!1&&(e.viewport(H.x,H.y,H.z,H.w),O.copy(H))}function he(){c={},E=null,D={},d=null,f=null,h=null,m=null,y=null,b=null,g=null,p=null,_=null,x=!1,S=null,M=null,T=null,R=null,L=null,s.reset(),l.reset(),u.reset()}return{buffers:{color:s,depth:l,stencil:u},enable:le,disable:W,useProgram:P,setBlending:J,setMaterial:U,setFlipSided:$,setCullFace:fe,setLineWidth:X,setPolygonOffset:be,setScissorTest:ke,activeTexture:j,bindTexture:re,unbindTexture:ue,compressedTexImage2D:we,texImage2D:_e,texImage3D:B,scissor:z,viewport:ve,reset:he}}function WM(e,t,n,i,r,o,a){const s=r.isWebGL2,l=r.maxTextures,u=r.maxCubemapSize,c=r.maxTextureSize,d=r.maxSamples,f=new WeakMap;let h,m=!1;try{m=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(B,z){return m?new OffscreenCanvas(B,z):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function b(B,z,ve,he){let H=1;if((B.width>he||B.height>he)&&(H=he/Math.max(B.width,B.height)),H<1||z===!0)if(typeof HTMLImageElement!="undefined"&&B instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&B instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&B instanceof ImageBitmap){const se=z?tt.floorPowerOfTwo:Math.floor,K=se(H*B.width),me=se(H*B.height);h===void 0&&(h=y(K,me));const ge=ve?y(K,me):h;return ge.width=K,ge.height=me,ge.getContext("2d").drawImage(B,0,0,K,me),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+B.width+"x"+B.height+") to ("+K+"x"+me+")."),ge}else return"data"in B&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+B.width+"x"+B.height+")."),B;return B}function g(B){return tt.isPowerOfTwo(B.width)&&tt.isPowerOfTwo(B.height)}function p(B){return s?!1:B.wrapS!==_n||B.wrapT!==_n||B.minFilter!==Zt&&B.minFilter!==on}function _(B,z){return B.generateMipmaps&&z&&B.minFilter!==Zt&&B.minFilter!==on}function x(B,z,ve,he){e.generateMipmap(B);const H=i.get(z);H.__maxMipLevel=Math.log(Math.max(ve,he))*Math.LOG2E}function S(B,z,ve){if(s===!1)return z;if(B!==null){if(e[B]!==void 0)return e[B];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+B+"'")}let he=z;return z===6403&&(ve===5126&&(he=33326),ve===5131&&(he=33325),ve===5121&&(he=33321)),z===6407&&(ve===5126&&(he=34837),ve===5131&&(he=34843),ve===5121&&(he=32849)),z===6408&&(ve===5126&&(he=34836),ve===5131&&(he=34842),ve===5121&&(he=32856)),(he===33325||he===33326||he===34842||he===34836)&&t.get("EXT_color_buffer_float"),he}function M(B){return B===Zt||B===Ru||B===ku?9728:9729}function T(B){const z=B.target;z.removeEventListener("dispose",T),L(z),z.isVideoTexture&&f.delete(z),a.memory.textures--}function R(B){const z=B.target;z.removeEventListener("dispose",R),I(z),a.memory.textures--}function L(B){const z=i.get(B);z.__webglInit!==void 0&&(e.deleteTexture(z.__webglTexture),i.remove(B))}function I(B){const z=i.get(B),ve=i.get(B.texture);if(!!B){if(ve.__webglTexture!==void 0&&e.deleteTexture(ve.__webglTexture),B.depthTexture&&B.depthTexture.dispose(),B.isWebGLCubeRenderTarget)for(let he=0;he<6;he++)e.deleteFramebuffer(z.__webglFramebuffer[he]),z.__webglDepthbuffer&&e.deleteRenderbuffer(z.__webglDepthbuffer[he]);else e.deleteFramebuffer(z.__webglFramebuffer),z.__webglDepthbuffer&&e.deleteRenderbuffer(z.__webglDepthbuffer),z.__webglMultisampledFramebuffer&&e.deleteFramebuffer(z.__webglMultisampledFramebuffer),z.__webglColorRenderbuffer&&e.deleteRenderbuffer(z.__webglColorRenderbuffer),z.__webglDepthRenderbuffer&&e.deleteRenderbuffer(z.__webglDepthRenderbuffer);i.remove(B.texture),i.remove(B)}}let k=0;function A(){k=0}function C(){const B=k;return B>=l&&console.warn("THREE.WebGLTextures: Trying to use "+B+" texture units while this GPU supports only "+l),k+=1,B}function E(B,z){const ve=i.get(B);if(B.isVideoTexture&&j(B),B.version>0&&ve.__version!==B.version){const he=B.image;if(he===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(he.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{P(ve,B,z);return}}n.activeTexture(33984+z),n.bindTexture(3553,ve.__webglTexture)}function D(B,z){const ve=i.get(B);if(B.version>0&&ve.__version!==B.version){P(ve,B,z);return}n.activeTexture(33984+z),n.bindTexture(35866,ve.__webglTexture)}function q(B,z){const ve=i.get(B);if(B.version>0&&ve.__version!==B.version){P(ve,B,z);return}n.activeTexture(33984+z),n.bindTexture(32879,ve.__webglTexture)}function O(B,z){const ve=i.get(B);if(B.version>0&&ve.__version!==B.version){Z(ve,B,z);return}n.activeTexture(33984+z),n.bindTexture(34067,ve.__webglTexture)}const G={[_s]:10497,[_n]:33071,[ws]:33648},Y={[Zt]:9728,[Ru]:9984,[ku]:9986,[on]:9729,[Jf]:9985,[Ia]:9987};function le(B,z,ve){ve?(e.texParameteri(B,10242,G[z.wrapS]),e.texParameteri(B,10243,G[z.wrapT]),(B===32879||B===35866)&&e.texParameteri(B,32882,G[z.wrapR]),e.texParameteri(B,10240,Y[z.magFilter]),e.texParameteri(B,10241,Y[z.minFilter])):(e.texParameteri(B,10242,33071),e.texParameteri(B,10243,33071),(B===32879||B===35866)&&e.texParameteri(B,32882,33071),(z.wrapS!==_n||z.wrapT!==_n)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(B,10240,M(z.magFilter)),e.texParameteri(B,10241,M(z.minFilter)),z.minFilter!==Zt&&z.minFilter!==on&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const he=t.get("EXT_texture_filter_anisotropic");if(he){if(z.type===Ui&&t.get("OES_texture_float_linear")===null||z.type===Ms&&(s||t.get("OES_texture_half_float_linear"))===null)return;(z.anisotropy>1||i.get(z).__currentAnisotropy)&&(e.texParameterf(B,he.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(z.anisotropy,r.getMaxAnisotropy())),i.get(z).__currentAnisotropy=z.anisotropy)}}function W(B,z){B.__webglInit===void 0&&(B.__webglInit=!0,z.addEventListener("dispose",T),B.__webglTexture=e.createTexture(),a.memory.textures++)}function P(B,z,ve){let he=3553;z.isDataTexture2DArray&&(he=35866),z.isDataTexture3D&&(he=32879),W(B,z),n.activeTexture(33984+ve),n.bindTexture(he,B.__webglTexture),e.pixelStorei(37440,z.flipY),e.pixelStorei(37441,z.premultiplyAlpha),e.pixelStorei(3317,z.unpackAlignment);const H=p(z)&&g(z.image)===!1,se=b(z.image,H,!1,c),K=g(se)||s,me=o.convert(z.format);let ge=o.convert(z.type),Ee=S(z.internalFormat,me,ge);le(he,z,K);let Le;const Ne=z.mipmaps;if(z.isDepthTexture)Ee=6402,s?z.type===Ui?Ee=36012:z.type===ds?Ee=33190:z.type===ca?Ee=35056:Ee=33189:z.type===Ui&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),z.format===io&&Ee===6402&&z.type!==Ss&&z.type!==ds&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),z.type=Ss,ge=o.convert(z.type)),z.format===ya&&Ee===6402&&(Ee=34041,z.type!==ca&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),z.type=ca,ge=o.convert(z.type))),n.texImage2D(3553,0,Ee,se.width,se.height,0,me,ge,null);else if(z.isDataTexture)if(Ne.length>0&&K){for(let Pe=0,ze=Ne.length;Pe<ze;Pe++)Le=Ne[Pe],n.texImage2D(3553,Pe,Ee,Le.width,Le.height,0,me,ge,Le.data);z.generateMipmaps=!1,B.__maxMipLevel=Ne.length-1}else n.texImage2D(3553,0,Ee,se.width,se.height,0,me,ge,se.data),B.__maxMipLevel=0;else if(z.isCompressedTexture){for(let Pe=0,ze=Ne.length;Pe<ze;Pe++)Le=Ne[Pe],z.format!==Nn&&z.format!==gr?me!==null?n.compressedTexImage2D(3553,Pe,Ee,Le.width,Le.height,0,Le.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,Pe,Ee,Le.width,Le.height,0,me,ge,Le.data);B.__maxMipLevel=Ne.length-1}else if(z.isDataTexture2DArray)n.texImage3D(35866,0,Ee,se.width,se.height,se.depth,0,me,ge,se.data),B.__maxMipLevel=0;else if(z.isDataTexture3D)n.texImage3D(32879,0,Ee,se.width,se.height,se.depth,0,me,ge,se.data),B.__maxMipLevel=0;else if(Ne.length>0&&K){for(let Pe=0,ze=Ne.length;Pe<ze;Pe++)Le=Ne[Pe],n.texImage2D(3553,Pe,Ee,me,ge,Le);z.generateMipmaps=!1,B.__maxMipLevel=Ne.length-1}else n.texImage2D(3553,0,Ee,me,ge,se),B.__maxMipLevel=0;_(z,K)&&x(he,z,se.width,se.height),B.__version=z.version,z.onUpdate&&z.onUpdate(z)}function Z(B,z,ve){if(z.image.length!==6)return;W(B,z),n.activeTexture(33984+ve),n.bindTexture(34067,B.__webglTexture),e.pixelStorei(37440,z.flipY);const he=z&&(z.isCompressedTexture||z.image[0].isCompressedTexture),H=z.image[0]&&z.image[0].isDataTexture,se=[];for(let Pe=0;Pe<6;Pe++)!he&&!H?se[Pe]=b(z.image[Pe],!1,!0,u):se[Pe]=H?z.image[Pe].image:z.image[Pe];const K=se[0],me=g(K)||s,ge=o.convert(z.format),Ee=o.convert(z.type),Le=S(z.internalFormat,ge,Ee);le(34067,z,me);let Ne;if(he){for(let Pe=0;Pe<6;Pe++){Ne=se[Pe].mipmaps;for(let ze=0;ze<Ne.length;ze++){const ce=Ne[ze];z.format!==Nn&&z.format!==gr?ge!==null?n.compressedTexImage2D(34069+Pe,ze,Le,ce.width,ce.height,0,ce.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+Pe,ze,Le,ce.width,ce.height,0,ge,Ee,ce.data)}}B.__maxMipLevel=Ne.length-1}else{Ne=z.mipmaps;for(let Pe=0;Pe<6;Pe++)if(H){n.texImage2D(34069+Pe,0,Le,se[Pe].width,se[Pe].height,0,ge,Ee,se[Pe].data);for(let ze=0;ze<Ne.length;ze++){const Se=Ne[ze].image[Pe].image;n.texImage2D(34069+Pe,ze+1,Le,Se.width,Se.height,0,ge,Ee,Se.data)}}else{n.texImage2D(34069+Pe,0,Le,ge,Ee,se[Pe]);for(let ze=0;ze<Ne.length;ze++){const ce=Ne[ze];n.texImage2D(34069+Pe,ze+1,Le,ge,Ee,ce.image[Pe])}}B.__maxMipLevel=Ne.length}_(z,me)&&x(34067,z,K.width,K.height),B.__version=z.version,z.onUpdate&&z.onUpdate(z)}function ne(B,z,ve,he){const H=o.convert(z.texture.format),se=o.convert(z.texture.type),K=S(z.texture.internalFormat,H,se);n.texImage2D(he,0,K,z.width,z.height,0,H,se,null),e.bindFramebuffer(36160,B),e.framebufferTexture2D(36160,ve,he,i.get(z.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function J(B,z,ve){if(e.bindRenderbuffer(36161,B),z.depthBuffer&&!z.stencilBuffer){let he=33189;if(ve){const H=z.depthTexture;H&&H.isDepthTexture&&(H.type===Ui?he=36012:H.type===ds&&(he=33190));const se=ke(z);e.renderbufferStorageMultisample(36161,se,he,z.width,z.height)}else e.renderbufferStorage(36161,he,z.width,z.height);e.framebufferRenderbuffer(36160,36096,36161,B)}else if(z.depthBuffer&&z.stencilBuffer){if(ve){const he=ke(z);e.renderbufferStorageMultisample(36161,he,35056,z.width,z.height)}else e.renderbufferStorage(36161,34041,z.width,z.height);e.framebufferRenderbuffer(36160,33306,36161,B)}else{const he=o.convert(z.texture.format),H=o.convert(z.texture.type),se=S(z.texture.internalFormat,he,H);if(ve){const K=ke(z);e.renderbufferStorageMultisample(36161,K,se,z.width,z.height)}else e.renderbufferStorage(36161,se,z.width,z.height)}e.bindRenderbuffer(36161,null)}function U(B,z){if(z&&z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,B),!(z.depthTexture&&z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(z.depthTexture).__webglTexture||z.depthTexture.image.width!==z.width||z.depthTexture.image.height!==z.height)&&(z.depthTexture.image.width=z.width,z.depthTexture.image.height=z.height,z.depthTexture.needsUpdate=!0),E(z.depthTexture,0);const he=i.get(z.depthTexture).__webglTexture;if(z.depthTexture.format===io)e.framebufferTexture2D(36160,36096,3553,he,0);else if(z.depthTexture.format===ya)e.framebufferTexture2D(36160,33306,3553,he,0);else throw new Error("Unknown depthTexture format")}function $(B){const z=i.get(B),ve=B.isWebGLCubeRenderTarget===!0;if(B.depthTexture){if(ve)throw new Error("target.depthTexture not supported in Cube render targets");U(z.__webglFramebuffer,B)}else if(ve){z.__webglDepthbuffer=[];for(let he=0;he<6;he++)e.bindFramebuffer(36160,z.__webglFramebuffer[he]),z.__webglDepthbuffer[he]=e.createRenderbuffer(),J(z.__webglDepthbuffer[he],B,!1)}else e.bindFramebuffer(36160,z.__webglFramebuffer),z.__webglDepthbuffer=e.createRenderbuffer(),J(z.__webglDepthbuffer,B,!1);e.bindFramebuffer(36160,null)}function fe(B){const z=i.get(B),ve=i.get(B.texture);B.addEventListener("dispose",R),ve.__webglTexture=e.createTexture(),a.memory.textures++;const he=B.isWebGLCubeRenderTarget===!0,H=B.isWebGLMultisampleRenderTarget===!0,se=g(B)||s;if(s&&B.texture.format===gr&&(B.texture.type===Ui||B.texture.type===Ms)&&(B.texture.format=Nn,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),he){z.__webglFramebuffer=[];for(let K=0;K<6;K++)z.__webglFramebuffer[K]=e.createFramebuffer()}else if(z.__webglFramebuffer=e.createFramebuffer(),H)if(s){z.__webglMultisampledFramebuffer=e.createFramebuffer(),z.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,z.__webglColorRenderbuffer);const K=o.convert(B.texture.format),me=o.convert(B.texture.type),ge=S(B.texture.internalFormat,K,me),Ee=ke(B);e.renderbufferStorageMultisample(36161,Ee,ge,B.width,B.height),e.bindFramebuffer(36160,z.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,z.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),B.depthBuffer&&(z.__webglDepthRenderbuffer=e.createRenderbuffer(),J(z.__webglDepthRenderbuffer,B,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(he){n.bindTexture(34067,ve.__webglTexture),le(34067,B.texture,se);for(let K=0;K<6;K++)ne(z.__webglFramebuffer[K],B,36064,34069+K);_(B.texture,se)&&x(34067,B.texture,B.width,B.height),n.bindTexture(34067,null)}else n.bindTexture(3553,ve.__webglTexture),le(3553,B.texture,se),ne(z.__webglFramebuffer,B,36064,3553),_(B.texture,se)&&x(3553,B.texture,B.width,B.height),n.bindTexture(3553,null);B.depthBuffer&&$(B)}function X(B){const z=B.texture,ve=g(B)||s;if(_(z,ve)){const he=B.isWebGLCubeRenderTarget?34067:3553,H=i.get(z).__webglTexture;n.bindTexture(he,H),x(he,z,B.width,B.height),n.bindTexture(he,null)}}function be(B){if(B.isWebGLMultisampleRenderTarget)if(s){const z=i.get(B);e.bindFramebuffer(36008,z.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,z.__webglFramebuffer);const ve=B.width,he=B.height;let H=16384;B.depthBuffer&&(H|=256),B.stencilBuffer&&(H|=1024),e.blitFramebuffer(0,0,ve,he,0,0,ve,he,H,9728),e.bindFramebuffer(36160,z.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function ke(B){return s&&B.isWebGLMultisampleRenderTarget?Math.min(d,B.samples):0}function j(B){const z=a.render.frame;f.get(B)!==z&&(f.set(B,z),B.update())}let re=!1,ue=!1;function we(B,z){B&&B.isWebGLRenderTarget&&(re===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),re=!0),B=B.texture),E(B,z)}function _e(B,z){B&&B.isWebGLCubeRenderTarget&&(ue===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),ue=!0),B=B.texture),O(B,z)}this.allocateTextureUnit=C,this.resetTextureUnits=A,this.setTexture2D=E,this.setTexture2DArray=D,this.setTexture3D=q,this.setTextureCube=O,this.setupRenderTarget=fe,this.updateRenderTargetMipmap=X,this.updateMultisampleRenderTarget=be,this.safeSetTexture2D=we,this.safeSetTextureCube=_e}function W0(e,t,n){const i=n.isWebGL2;function r(o){let a;if(o===Fa)return 5121;if(o===Ig)return 32819;if(o===Fg)return 32820;if(o===Dg)return 33635;if(o===kg)return 5120;if(o===Pg)return 5122;if(o===Ss)return 5123;if(o===Bg)return 5124;if(o===ds)return 5125;if(o===Ui)return 5126;if(o===Ms)return i?5131:(a=t.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(o===Og)return 6406;if(o===gr)return 6407;if(o===Nn)return 6408;if(o===Ng)return 6409;if(o===zg)return 6410;if(o===io)return 6402;if(o===ya)return 34041;if(o===Hg)return 6403;if(o===Vg)return 36244;if(o===Ug)return 33319;if(o===Gg)return 33320;if(o===Wg)return 36248;if(o===$g)return 36249;if(o===Kd||o===Zd||o===Jd||o===ef)if(a=t.get("WEBGL_compressed_texture_s3tc"),a!==null){if(o===Kd)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===Zd)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===Jd)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===ef)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===tf||o===nf||o===rf||o===of)if(a=t.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(o===tf)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===nf)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===rf)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===of)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===jg)return a=t.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if((o===af||o===sf)&&(a=t.get("WEBGL_compressed_texture_etc"),a!==null)){if(o===af)return a.COMPRESSED_RGB8_ETC2;if(o===sf)return a.COMPRESSED_RGBA8_ETC2_EAC}if(o===Yg||o===Xg||o===Qg||o===Kg||o===Zg||o===Jg||o===e0||o===t0||o===n0||o===i0||o===r0||o===o0||o===a0||o===s0||o===u0||o===c0||o===d0||o===f0||o===h0||o===m0||o===p0||o===v0||o===g0||o===y0||o===b0||o===x0||o===_0||o===w0)return a=t.get("WEBGL_compressed_texture_astc"),a!==null?o:null;if(o===l0)return a=t.get("EXT_texture_compression_bptc"),a!==null?o:null;if(o===ca)return i?34042:(a=t.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:r}}function Pu(e=[]){Yt.call(this),this.cameras=e}Pu.prototype=Object.assign(Object.create(Yt.prototype),{constructor:Pu,isArrayCamera:!0});function pr(){Ye.call(this),this.type="Group"}pr.prototype=Object.assign(Object.create(Ye.prototype),{constructor:pr,isGroup:!0});function ms(){this._targetRay=null,this._grip=null,this._hand=null}Object.assign(ms.prototype,{constructor:ms,getHandSpace:function(){if(this._hand===null&&(this._hand=new pr,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(let e=0;e<=window.XRHand.LITTLE_PHALANX_TIP;e++){const t=new pr;t.matrixAutoUpdate=!1,t.visible=!1,this._hand.joints.push(t),this._hand.add(t)}return this._hand},getTargetRaySpace:function(){return this._targetRay===null&&(this._targetRay=new pr,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return this._grip===null&&(this._grip=new pr,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this},update:function(e,t,n){let i=null,r=null,o=null;const a=this._targetRay,s=this._grip,l=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(l&&e.hand){o=!0;for(let u=0;u<=window.XRHand.LITTLE_PHALANX_TIP;u++)if(e.hand[u]){const c=t.getJointPose(e.hand[u],n),d=l.joints[u];c!==null&&(d.matrix.fromArray(c.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.jointRadius=c.radius),d.visible=c!==null;const f=l.joints[window.XRHand.INDEX_PHALANX_TIP],h=l.joints[window.XRHand.THUMB_PHALANX_TIP],m=f.position.distanceTo(h.position),y=.02,b=.005;l.inputState.pinching&&m>y+b?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&m<=y-b&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}}else a!==null&&(i=t.getPose(e.targetRaySpace,n),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale))),s!==null&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),r!==null&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale)));return a!==null&&(a.visible=i!==null),s!==null&&(s.visible=r!==null),l!==null&&(l.visible=o!==null),this}});function $0(e,t){const n=this;let i=null,r=1,o=null,a="local-floor",s=null;const l=[],u=new Map,c=new Yt;c.layers.enable(1),c.viewport=new _t;const d=new Yt;d.layers.enable(2),d.viewport=new _t;const f=[c,d],h=new Pu;h.layers.enable(1),h.layers.enable(2);let m=null,y=null;this.enabled=!1,this.isPresenting=!1,this.getController=function(k){let A=l[k];return A===void 0&&(A=new ms,l[k]=A),A.getTargetRaySpace()},this.getControllerGrip=function(k){let A=l[k];return A===void 0&&(A=new ms,l[k]=A),A.getGripSpace()},this.getHand=function(k){let A=l[k];return A===void 0&&(A=new ms,l[k]=A),A.getHandSpace()};function b(k){const A=u.get(k.inputSource);A&&A.dispatchEvent({type:k.type,data:k.inputSource})}function g(){u.forEach(function(k,A){k.disconnect(A)}),u.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),I.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function p(k){o=k,I.setContext(i),I.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}this.setFramebufferScaleFactor=function(k){r=k,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(k){a=k,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getSession=function(){return i},this.setSession=function(k){if(i=k,i!==null){i.addEventListener("select",b),i.addEventListener("selectstart",b),i.addEventListener("selectend",b),i.addEventListener("squeeze",b),i.addEventListener("squeezestart",b),i.addEventListener("squeezeend",b),i.addEventListener("end",g);const A=t.getContextAttributes();A.xrCompatible!==!0&&t.makeXRCompatible();const C={antialias:A.antialias,alpha:A.alpha,depth:A.depth,stencil:A.stencil,framebufferScaleFactor:r},E=new XRWebGLLayer(i,t,C);i.updateRenderState({baseLayer:E}),i.requestReferenceSpace(a).then(p),i.addEventListener("inputsourceschange",_)}};function _(k){const A=i.inputSources;for(let C=0;C<l.length;C++)u.set(A[C],l[C]);for(let C=0;C<k.removed.length;C++){const E=k.removed[C],D=u.get(E);D&&(D.dispatchEvent({type:"disconnected",data:E}),u.delete(E))}for(let C=0;C<k.added.length;C++){const E=k.added[C],D=u.get(E);D&&D.dispatchEvent({type:"connected",data:E})}}const x=new V,S=new V;function M(k,A,C){x.setFromMatrixPosition(A.matrixWorld),S.setFromMatrixPosition(C.matrixWorld);const E=x.distanceTo(S),D=A.projectionMatrix.elements,q=C.projectionMatrix.elements,O=D[14]/(D[10]-1),G=D[14]/(D[10]+1),Y=(D[9]+1)/D[5],le=(D[9]-1)/D[5],W=(D[8]-1)/D[0],P=(q[8]+1)/q[0],Z=O*W,ne=O*P,J=E/(-W+P),U=J*-W;A.matrixWorld.decompose(k.position,k.quaternion,k.scale),k.translateX(U),k.translateZ(J),k.matrixWorld.compose(k.position,k.quaternion,k.scale),k.matrixWorldInverse.copy(k.matrixWorld).invert();const $=O+J,fe=G+J,X=Z-U,be=ne+(E-U),ke=Y*G/fe*$,j=le*G/fe*$;k.projectionMatrix.makePerspective(X,be,ke,j,$,fe)}function T(k,A){A===null?k.matrixWorld.copy(k.matrix):k.matrixWorld.multiplyMatrices(A.matrixWorld,k.matrix),k.matrixWorldInverse.copy(k.matrixWorld).invert()}this.getCamera=function(k){h.near=d.near=c.near=k.near,h.far=d.far=c.far=k.far,(m!==h.near||y!==h.far)&&(i.updateRenderState({depthNear:h.near,depthFar:h.far}),m=h.near,y=h.far);const A=k.parent,C=h.cameras;T(h,A);for(let D=0;D<C.length;D++)T(C[D],A);k.matrixWorld.copy(h.matrixWorld);const E=k.children;for(let D=0,q=E.length;D<q;D++)E[D].updateMatrixWorld(!0);return C.length===2?M(h,c,d):h.projectionMatrix.copy(c.projectionMatrix),h};let R=null;function L(k,A){if(s=A.getViewerPose(o),s!==null){const E=s.views,D=i.renderState.baseLayer;e.setFramebuffer(D.framebuffer);let q=!1;E.length!==h.cameras.length&&(h.cameras.length=0,q=!0);for(let O=0;O<E.length;O++){const G=E[O],Y=D.getViewport(G),le=f[O];le.matrix.fromArray(G.transform.matrix),le.projectionMatrix.fromArray(G.projectionMatrix),le.viewport.set(Y.x,Y.y,Y.width,Y.height),O===0&&h.matrix.copy(le.matrix),q===!0&&h.cameras.push(le)}}const C=i.inputSources;for(let E=0;E<l.length;E++){const D=l[E],q=C[E];D.update(q,A,o)}R&&R(k,A)}const I=new D0;I.setAnimationLoop(L),this.setAnimationLoop=function(k){R=k},this.dispose=function(){}}Object.assign($0.prototype,Ri.prototype);function $M(e){function t(g,p){g.fogColor.value.copy(p.color),p.isFog?(g.fogNear.value=p.near,g.fogFar.value=p.far):p.isFogExp2&&(g.fogDensity.value=p.density)}function n(g,p,_,x){p.isMeshBasicMaterial?i(g,p):p.isMeshLambertMaterial?(i(g,p),l(g,p)):p.isMeshToonMaterial?(i(g,p),c(g,p)):p.isMeshPhongMaterial?(i(g,p),u(g,p)):p.isMeshStandardMaterial?(i(g,p),p.isMeshPhysicalMaterial?f(g,p):d(g,p)):p.isMeshMatcapMaterial?(i(g,p),h(g,p)):p.isMeshDepthMaterial?(i(g,p),m(g,p)):p.isMeshDistanceMaterial?(i(g,p),y(g,p)):p.isMeshNormalMaterial?(i(g,p),b(g,p)):p.isLineBasicMaterial?(r(g,p),p.isLineDashedMaterial&&o(g,p)):p.isPointsMaterial?a(g,p,_,x):p.isSpriteMaterial?s(g,p):p.isShadowMaterial?(g.color.value.copy(p.color),g.opacity.value=p.opacity):p.isShaderMaterial&&(p.uniformsNeedUpdate=!1)}function i(g,p){g.opacity.value=p.opacity,p.color&&g.diffuse.value.copy(p.color),p.emissive&&g.emissive.value.copy(p.emissive).multiplyScalar(p.emissiveIntensity),p.map&&(g.map.value=p.map),p.alphaMap&&(g.alphaMap.value=p.alphaMap),p.specularMap&&(g.specularMap.value=p.specularMap);const _=e.get(p).envMap;if(_){g.envMap.value=_,g.flipEnvMap.value=_.isCubeTexture&&_._needsFlipEnvMap?-1:1,g.reflectivity.value=p.reflectivity,g.refractionRatio.value=p.refractionRatio;const M=e.get(_).__maxMipLevel;M!==void 0&&(g.maxMipLevel.value=M)}p.lightMap&&(g.lightMap.value=p.lightMap,g.lightMapIntensity.value=p.lightMapIntensity),p.aoMap&&(g.aoMap.value=p.aoMap,g.aoMapIntensity.value=p.aoMapIntensity);let x;p.map?x=p.map:p.specularMap?x=p.specularMap:p.displacementMap?x=p.displacementMap:p.normalMap?x=p.normalMap:p.bumpMap?x=p.bumpMap:p.roughnessMap?x=p.roughnessMap:p.metalnessMap?x=p.metalnessMap:p.alphaMap?x=p.alphaMap:p.emissiveMap?x=p.emissiveMap:p.clearcoatMap?x=p.clearcoatMap:p.clearcoatNormalMap?x=p.clearcoatNormalMap:p.clearcoatRoughnessMap&&(x=p.clearcoatRoughnessMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),g.uvTransform.value.copy(x.matrix));let S;p.aoMap?S=p.aoMap:p.lightMap&&(S=p.lightMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),g.uv2Transform.value.copy(S.matrix))}function r(g,p){g.diffuse.value.copy(p.color),g.opacity.value=p.opacity}function o(g,p){g.dashSize.value=p.dashSize,g.totalSize.value=p.dashSize+p.gapSize,g.scale.value=p.scale}function a(g,p,_,x){g.diffuse.value.copy(p.color),g.opacity.value=p.opacity,g.size.value=p.size*_,g.scale.value=x*.5,p.map&&(g.map.value=p.map),p.alphaMap&&(g.alphaMap.value=p.alphaMap);let S;p.map?S=p.map:p.alphaMap&&(S=p.alphaMap),S!==void 0&&(S.matrixAutoUpdate===!0&&S.updateMatrix(),g.uvTransform.value.copy(S.matrix))}function s(g,p){g.diffuse.value.copy(p.color),g.opacity.value=p.opacity,g.rotation.value=p.rotation,p.map&&(g.map.value=p.map),p.alphaMap&&(g.alphaMap.value=p.alphaMap);let _;p.map?_=p.map:p.alphaMap&&(_=p.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),g.uvTransform.value.copy(_.matrix))}function l(g,p){p.emissiveMap&&(g.emissiveMap.value=p.emissiveMap)}function u(g,p){g.specular.value.copy(p.specular),g.shininess.value=Math.max(p.shininess,1e-4),p.emissiveMap&&(g.emissiveMap.value=p.emissiveMap),p.bumpMap&&(g.bumpMap.value=p.bumpMap,g.bumpScale.value=p.bumpScale,p.side===Qt&&(g.bumpScale.value*=-1)),p.normalMap&&(g.normalMap.value=p.normalMap,g.normalScale.value.copy(p.normalScale),p.side===Qt&&g.normalScale.value.negate()),p.displacementMap&&(g.displacementMap.value=p.displacementMap,g.displacementScale.value=p.displacementScale,g.displacementBias.value=p.displacementBias)}function c(g,p){p.gradientMap&&(g.gradientMap.value=p.gradientMap),p.emissiveMap&&(g.emissiveMap.value=p.emissiveMap),p.bumpMap&&(g.bumpMap.value=p.bumpMap,g.bumpScale.value=p.bumpScale,p.side===Qt&&(g.bumpScale.value*=-1)),p.normalMap&&(g.normalMap.value=p.normalMap,g.normalScale.value.copy(p.normalScale),p.side===Qt&&g.normalScale.value.negate()),p.displacementMap&&(g.displacementMap.value=p.displacementMap,g.displacementScale.value=p.displacementScale,g.displacementBias.value=p.displacementBias)}function d(g,p){g.roughness.value=p.roughness,g.metalness.value=p.metalness,p.roughnessMap&&(g.roughnessMap.value=p.roughnessMap),p.metalnessMap&&(g.metalnessMap.value=p.metalnessMap),p.emissiveMap&&(g.emissiveMap.value=p.emissiveMap),p.bumpMap&&(g.bumpMap.value=p.bumpMap,g.bumpScale.value=p.bumpScale,p.side===Qt&&(g.bumpScale.value*=-1)),p.normalMap&&(g.normalMap.value=p.normalMap,g.normalScale.value.copy(p.normalScale),p.side===Qt&&g.normalScale.value.negate()),p.displacementMap&&(g.displacementMap.value=p.displacementMap,g.displacementScale.value=p.displacementScale,g.displacementBias.value=p.displacementBias),e.get(p).envMap&&(g.envMapIntensity.value=p.envMapIntensity)}function f(g,p){d(g,p),g.reflectivity.value=p.reflectivity,g.clearcoat.value=p.clearcoat,g.clearcoatRoughness.value=p.clearcoatRoughness,p.sheen&&g.sheen.value.copy(p.sheen),p.clearcoatMap&&(g.clearcoatMap.value=p.clearcoatMap),p.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=p.clearcoatRoughnessMap),p.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(p.clearcoatNormalScale),g.clearcoatNormalMap.value=p.clearcoatNormalMap,p.side===Qt&&g.clearcoatNormalScale.value.negate()),g.transmission.value=p.transmission,p.transmissionMap&&(g.transmissionMap.value=p.transmissionMap)}function h(g,p){p.matcap&&(g.matcap.value=p.matcap),p.bumpMap&&(g.bumpMap.value=p.bumpMap,g.bumpScale.value=p.bumpScale,p.side===Qt&&(g.bumpScale.value*=-1)),p.normalMap&&(g.normalMap.value=p.normalMap,g.normalScale.value.copy(p.normalScale),p.side===Qt&&g.normalScale.value.negate()),p.displacementMap&&(g.displacementMap.value=p.displacementMap,g.displacementScale.value=p.displacementScale,g.displacementBias.value=p.displacementBias)}function m(g,p){p.displacementMap&&(g.displacementMap.value=p.displacementMap,g.displacementScale.value=p.displacementScale,g.displacementBias.value=p.displacementBias)}function y(g,p){p.displacementMap&&(g.displacementMap.value=p.displacementMap,g.displacementScale.value=p.displacementScale,g.displacementBias.value=p.displacementBias),g.referencePosition.value.copy(p.referencePosition),g.nearDistance.value=p.nearDistance,g.farDistance.value=p.farDistance}function b(g,p){p.bumpMap&&(g.bumpMap.value=p.bumpMap,g.bumpScale.value=p.bumpScale,p.side===Qt&&(g.bumpScale.value*=-1)),p.normalMap&&(g.normalMap.value=p.normalMap,g.normalScale.value.copy(p.normalScale),p.side===Qt&&g.normalScale.value.negate()),p.displacementMap&&(g.displacementMap.value=p.displacementMap,g.displacementScale.value=p.displacementScale,g.displacementBias.value=p.displacementBias)}return{refreshFogUniforms:t,refreshMaterialUniforms:n}}function jM(){const e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return e.style.display="block",e}function cl(e){e=e||{};const t=e.canvas!==void 0?e.canvas:jM(),n=e.context!==void 0?e.context:null,i=e.alpha!==void 0?e.alpha:!1,r=e.depth!==void 0?e.depth:!0,o=e.stencil!==void 0?e.stencil:!0,a=e.antialias!==void 0?e.antialias:!1,s=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,l=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,u=e.powerPreference!==void 0?e.powerPreference:"default",c=e.failIfMajorPerformanceCaveat!==void 0?e.failIfMajorPerformanceCaveat:!1;let d=null,f=null;const h=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Mn,this.physicallyCorrectLights=!1,this.toneMapping=no,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const m=this;let y=!1,b=null,g=0,p=0,_=null,x=null,S=-1,M=null;const T=new _t,R=new _t;let L=null,I=t.width,k=t.height,A=1,C=null,E=null;const D=new _t(0,0,I,k),q=new _t(0,0,I,k);let O=!1;const G=new ul;let Y=!1,le=!1;const W=new at,P=new V,Z={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ne(){return _===null?A:1}let J=n;function U(N,oe){for(let ae=0;ae<N.length;ae++){const pe=N[ae],F=t.getContext(pe,oe);if(F!==null)return F}return null}try{const N={alpha:i,depth:r,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:c};if(t.addEventListener("webglcontextlost",ce,!1),t.addEventListener("webglcontextrestored",Se,!1),J===null){const oe=["webgl2","webgl","experimental-webgl"];if(m.isWebGL1Renderer===!0&&oe.shift(),J=U(oe,N),J===null)throw U(oe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}J.getShaderPrecisionFormat===void 0&&(J.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(N){throw console.error("THREE.WebGLRenderer: "+N.message),N}let $,fe,X,be,ke,j,re,ue,we,_e,B,z,ve,he,H,se,K,me,ge,Ee,Le;function Ne(){$=new TS(J),fe=new wS(J,$,e),fe.isWebGL2===!1&&($.get("WEBGL_depth_texture"),$.get("OES_texture_float"),$.get("OES_texture_half_float"),$.get("OES_texture_half_float_linear"),$.get("OES_standard_derivatives"),$.get("OES_element_index_uint"),$.get("OES_vertex_array_object"),$.get("ANGLE_instanced_arrays")),$.get("OES_texture_float_linear"),Ee=new W0(J,$,fe),X=new GM(J,$,fe),X.scissor(R.copy(q).multiplyScalar(A).floor()),X.viewport(T.copy(D).multiplyScalar(A).floor()),be=new AS,ke=new PM,j=new WM(J,$,X,ke,fe,Ee,be),re=new MS(m),ue=new K_(J,fe),Le=new xS(J,$,ue,fe),we=new CS(J,ue,be,Le),_e=new PS(J,we,ue,be),K=new kS(J),H=new SS(ke),B=new kM(m,re,$,fe,Le,H),z=new $M(ke),ve=new FM(ke),he=new HM($,fe),se=new bS(m,re,X,_e,s),me=new _S(J,$,be,fe),ge=new ES(J,$,be,fe),be.programs=B.programs,m.capabilities=fe,m.extensions=$,m.properties=ke,m.renderLists=ve,m.state=X,m.info=be}Ne();const Pe=new $0(m,J);this.xr=Pe;const ze=new G0(m,_e,fe.maxTextureSize);this.shadowMap=ze,this.getContext=function(){return J},this.getContextAttributes=function(){return J.getContextAttributes()},this.forceContextLoss=function(){const N=$.get("WEBGL_lose_context");N&&N.loseContext()},this.forceContextRestore=function(){const N=$.get("WEBGL_lose_context");N&&N.restoreContext()},this.getPixelRatio=function(){return A},this.setPixelRatio=function(N){N!==void 0&&(A=N,this.setSize(I,k,!1))},this.getSize=function(N){return N===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),N=new Re),N.set(I,k)},this.setSize=function(N,oe,ae){if(Pe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}I=N,k=oe,t.width=Math.floor(N*A),t.height=Math.floor(oe*A),ae!==!1&&(t.style.width=N+"px",t.style.height=oe+"px"),this.setViewport(0,0,N,oe)},this.getDrawingBufferSize=function(N){return N===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),N=new Re),N.set(I*A,k*A).floor()},this.setDrawingBufferSize=function(N,oe,ae){I=N,k=oe,A=ae,t.width=Math.floor(N*ae),t.height=Math.floor(oe*ae),this.setViewport(0,0,N,oe)},this.getCurrentViewport=function(N){return N===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),N=new _t),N.copy(T)},this.getViewport=function(N){return N.copy(D)},this.setViewport=function(N,oe,ae,pe){N.isVector4?D.set(N.x,N.y,N.z,N.w):D.set(N,oe,ae,pe),X.viewport(T.copy(D).multiplyScalar(A).floor())},this.getScissor=function(N){return N.copy(q)},this.setScissor=function(N,oe,ae,pe){N.isVector4?q.set(N.x,N.y,N.z,N.w):q.set(N,oe,ae,pe),X.scissor(R.copy(q).multiplyScalar(A).floor())},this.getScissorTest=function(){return O},this.setScissorTest=function(N){X.setScissorTest(O=N)},this.setOpaqueSort=function(N){C=N},this.setTransparentSort=function(N){E=N},this.getClearColor=function(N){return N===void 0&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),N=new Ge),N.copy(se.getClearColor())},this.setClearColor=function(){se.setClearColor.apply(se,arguments)},this.getClearAlpha=function(){return se.getClearAlpha()},this.setClearAlpha=function(){se.setClearAlpha.apply(se,arguments)},this.clear=function(N,oe,ae){let pe=0;(N===void 0||N)&&(pe|=16384),(oe===void 0||oe)&&(pe|=256),(ae===void 0||ae)&&(pe|=1024),J.clear(pe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ce,!1),t.removeEventListener("webglcontextrestored",Se,!1),ve.dispose(),he.dispose(),ke.dispose(),re.dispose(),_e.dispose(),Le.dispose(),Pe.dispose(),vt.stop()};function ce(N){N.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function Se(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1,Ne()}function de(N){const oe=N.target;oe.removeEventListener("dispose",de),Ae(oe)}function Ae(N){$e(N),ke.remove(N)}function $e(N){const oe=ke.get(N).program;oe!==void 0&&B.releaseProgram(oe)}function et(N,oe){N.render(function(ae){m.renderBufferImmediate(ae,oe)})}this.renderBufferImmediate=function(N,oe){Le.initAttributes();const ae=ke.get(N);N.hasPositions&&!ae.position&&(ae.position=J.createBuffer()),N.hasNormals&&!ae.normal&&(ae.normal=J.createBuffer()),N.hasUvs&&!ae.uv&&(ae.uv=J.createBuffer()),N.hasColors&&!ae.color&&(ae.color=J.createBuffer());const pe=oe.getAttributes();N.hasPositions&&(J.bindBuffer(34962,ae.position),J.bufferData(34962,N.positionArray,35048),Le.enableAttribute(pe.position),J.vertexAttribPointer(pe.position,3,5126,!1,0,0)),N.hasNormals&&(J.bindBuffer(34962,ae.normal),J.bufferData(34962,N.normalArray,35048),Le.enableAttribute(pe.normal),J.vertexAttribPointer(pe.normal,3,5126,!1,0,0)),N.hasUvs&&(J.bindBuffer(34962,ae.uv),J.bufferData(34962,N.uvArray,35048),Le.enableAttribute(pe.uv),J.vertexAttribPointer(pe.uv,2,5126,!1,0,0)),N.hasColors&&(J.bindBuffer(34962,ae.color),J.bufferData(34962,N.colorArray,35048),Le.enableAttribute(pe.color),J.vertexAttribPointer(pe.color,3,5126,!1,0,0)),Le.disableUnusedAttributes(),J.drawArrays(4,0,N.count),N.count=0},this.renderBufferDirect=function(N,oe,ae,pe,F,Q){oe===null&&(oe=Z);const ie=F.isMesh&&F.matrixWorld.determinant()<0,Ce=kn(N,oe,pe,F);X.setMaterial(pe,ie);let Me=ae.index;const Xe=ae.attributes.position;if(Me===null){if(Xe===void 0||Xe.count===0)return}else if(Me.count===0)return;let Fe=1;pe.wireframe===!0&&(Me=we.getWireframeAttribute(ae),Fe=2),(pe.morphTargets||pe.morphNormals)&&K.update(F,ae,pe,Ce),Le.setup(F,pe,Ce,ae,Me);let Ie,je=me;Me!==null&&(Ie=ue.get(Me),je=ge,je.setIndex(Ie));const Ht=Me!==null?Me.count:Xe.count,ht=ae.drawRange.start*Fe,An=ae.drawRange.count*Fe,Vt=Q!==null?Q.start*Fe:0,Ga=Q!==null?Q.count*Fe:1/0,an=Math.max(ht,Vt),tr=Math.min(Ht,ht+An,Vt+Ga)-1,Bi=Math.max(0,tr-an+1);if(Bi!==0){if(F.isMesh)pe.wireframe===!0?(X.setLineWidth(pe.wireframeLinewidth*ne()),je.setMode(1)):je.setMode(4);else if(F.isLine){let nr=pe.linewidth;nr===void 0&&(nr=1),X.setLineWidth(nr*ne()),F.isLineSegments?je.setMode(1):F.isLineLoop?je.setMode(2):je.setMode(3)}else F.isPoints?je.setMode(0):F.isSprite&&je.setMode(4);if(F.isInstancedMesh)je.renderInstances(an,Bi,F.count);else if(ae.isInstancedBufferGeometry){const nr=Math.min(ae.instanceCount,ae._maxInstanceCount);je.renderInstances(an,Bi,nr)}else je.render(an,Bi)}},this.compile=function(N,oe){f=he.get(N),f.init(),N.traverseVisible(function(pe){pe.isLight&&pe.layers.test(oe.layers)&&(f.pushLight(pe),pe.castShadow&&f.pushShadow(pe))}),f.setupLights();const ae=new WeakMap;N.traverse(function(pe){const F=pe.material;if(F)if(Array.isArray(F))for(let Q=0;Q<F.length;Q++){const ie=F[Q];ae.has(ie)===!1&&(Xt(ie,N,pe),ae.set(ie))}else ae.has(F)===!1&&(Xt(F,N,pe),ae.set(F))})};let qe=null;function ot(N){Pe.isPresenting||qe&&qe(N)}const vt=new D0;vt.setAnimationLoop(ot),typeof window!="undefined"&&vt.setContext(window),this.setAnimationLoop=function(N){qe=N,Pe.setAnimationLoop(N),N===null?vt.stop():vt.start()},this.render=function(N,oe){let ae,pe;if(arguments[2]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),ae=arguments[2]),arguments[3]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),pe=arguments[3]),oe!==void 0&&oe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;Le.resetDefaultState(),S=-1,M=null,N.autoUpdate===!0&&N.updateMatrixWorld(),oe.parent===null&&oe.updateMatrixWorld(),Pe.enabled===!0&&Pe.isPresenting===!0&&(oe=Pe.getCamera(oe)),N.isScene===!0&&N.onBeforeRender(m,N,oe,ae||_),f=he.get(N,h.length),f.init(),h.push(f),W.multiplyMatrices(oe.projectionMatrix,oe.matrixWorldInverse),G.setFromProjectionMatrix(W),le=this.localClippingEnabled,Y=H.init(this.clippingPlanes,le,oe),d=ve.get(N,oe),d.init(),bt(N,oe,0,m.sortObjects),d.finish(),m.sortObjects===!0&&d.sort(C,E),Y===!0&&H.beginShadows();const F=f.state.shadowsArray;ze.render(F,N,oe),f.setupLights(),f.setupLightsView(oe),Y===!0&&H.endShadows(),this.info.autoReset===!0&&this.info.reset(),ae!==void 0&&this.setRenderTarget(ae),se.render(d,N,oe,pe);const Q=d.opaque,ie=d.transparent;Q.length>0&&tn(Q,N,oe),ie.length>0&&tn(ie,N,oe),N.isScene===!0&&N.onAfterRender(m,N,oe),_!==null&&(j.updateRenderTargetMipmap(_),j.updateMultisampleRenderTarget(_)),X.buffers.depth.setTest(!0),X.buffers.depth.setMask(!0),X.buffers.color.setMask(!0),X.setPolygonOffset(!1),h.pop(),h.length>0?f=h[h.length-1]:f=null,d=null};function bt(N,oe,ae,pe){if(N.visible===!1)return;if(N.layers.test(oe.layers)){if(N.isGroup)ae=N.renderOrder;else if(N.isLOD)N.autoUpdate===!0&&N.update(oe);else if(N.isLight)f.pushLight(N),N.castShadow&&f.pushShadow(N);else if(N.isSprite){if(!N.frustumCulled||G.intersectsSprite(N)){pe&&P.setFromMatrixPosition(N.matrixWorld).applyMatrix4(W);const ie=_e.update(N),Ce=N.material;Ce.visible&&d.push(N,ie,Ce,ae,P.z,null)}}else if(N.isImmediateRenderObject)pe&&P.setFromMatrixPosition(N.matrixWorld).applyMatrix4(W),d.push(N,null,N.material,ae,P.z,null);else if((N.isMesh||N.isLine||N.isPoints)&&(N.isSkinnedMesh&&N.skeleton.frame!==be.render.frame&&(N.skeleton.update(),N.skeleton.frame=be.render.frame),!N.frustumCulled||G.intersectsObject(N))){pe&&P.setFromMatrixPosition(N.matrixWorld).applyMatrix4(W);const ie=_e.update(N),Ce=N.material;if(Array.isArray(Ce)){const Me=ie.groups;for(let Xe=0,Fe=Me.length;Xe<Fe;Xe++){const Ie=Me[Xe],je=Ce[Ie.materialIndex];je&&je.visible&&d.push(N,ie,je,ae,P.z,Ie)}}else Ce.visible&&d.push(N,ie,Ce,ae,P.z,null)}}const Q=N.children;for(let ie=0,Ce=Q.length;ie<Ce;ie++)bt(Q[ie],oe,ae,pe)}function tn(N,oe,ae){const pe=oe.isScene===!0?oe.overrideMaterial:null;for(let F=0,Q=N.length;F<Q;F++){const ie=N[F],Ce=ie.object,Me=ie.geometry,Xe=pe===null?ie.material:pe,Fe=ie.group;if(ae.isArrayCamera){const Ie=ae.cameras;for(let je=0,Ht=Ie.length;je<Ht;je++){const ht=Ie[je];Ce.layers.test(ht.layers)&&(X.viewport(T.copy(ht.viewport)),f.setupLightsView(ht),bn(Ce,oe,ht,Me,Xe,Fe))}}else bn(Ce,oe,ae,Me,Xe,Fe)}}function bn(N,oe,ae,pe,F,Q){if(N.onBeforeRender(m,oe,ae,pe,F,Q),N.modelViewMatrix.multiplyMatrices(ae.matrixWorldInverse,N.matrixWorld),N.normalMatrix.getNormalMatrix(N.modelViewMatrix),N.isImmediateRenderObject){const ie=kn(ae,oe,F,N);X.setMaterial(F),Le.reset(),et(N,ie)}else m.renderBufferDirect(ae,oe,pe,F,N,Q);N.onAfterRender(m,oe,ae,pe,F,Q)}function Xt(N,oe,ae){oe.isScene!==!0&&(oe=Z);const pe=ke.get(N),F=f.state.lights,Q=f.state.shadowsArray,ie=F.state.version,Ce=B.getParameters(N,F.state,Q,oe,ae),Me=B.getProgramCacheKey(Ce);let Xe=pe.program,Fe=!0;if(Xe===void 0)N.addEventListener("dispose",de);else if(Xe.cacheKey!==Me)$e(N);else if(pe.lightsStateVersion!==ie)Fe=!1;else if(Ce.shaderID!==void 0){const ht=N.isMeshStandardMaterial?oe.environment:null;pe.envMap=re.get(N.envMap||ht);return}else Fe=!1;Fe&&(Ce.uniforms=B.getUniforms(N),N.onBeforeCompile(Ce,m),Xe=B.acquireProgram(Ce,Me),pe.program=Xe,pe.uniforms=Ce.uniforms,pe.outputEncoding=Ce.outputEncoding);const Ie=pe.uniforms;(!N.isShaderMaterial&&!N.isRawShaderMaterial||N.clipping===!0)&&(pe.numClippingPlanes=H.numPlanes,pe.numIntersection=H.numIntersection,Ie.clippingPlanes=H.uniform),pe.environment=N.isMeshStandardMaterial?oe.environment:null,pe.fog=oe.fog,pe.envMap=re.get(N.envMap||pe.environment),pe.needsLights=De(N),pe.lightsStateVersion=ie,pe.needsLights&&(Ie.ambientLightColor.value=F.state.ambient,Ie.lightProbe.value=F.state.probe,Ie.directionalLights.value=F.state.directional,Ie.directionalLightShadows.value=F.state.directionalShadow,Ie.spotLights.value=F.state.spot,Ie.spotLightShadows.value=F.state.spotShadow,Ie.rectAreaLights.value=F.state.rectArea,Ie.ltc_1.value=F.state.rectAreaLTC1,Ie.ltc_2.value=F.state.rectAreaLTC2,Ie.pointLights.value=F.state.point,Ie.pointLightShadows.value=F.state.pointShadow,Ie.hemisphereLights.value=F.state.hemi,Ie.directionalShadowMap.value=F.state.directionalShadowMap,Ie.directionalShadowMatrix.value=F.state.directionalShadowMatrix,Ie.spotShadowMap.value=F.state.spotShadowMap,Ie.spotShadowMatrix.value=F.state.spotShadowMatrix,Ie.pointShadowMap.value=F.state.pointShadowMap,Ie.pointShadowMatrix.value=F.state.pointShadowMatrix);const je=pe.program.getUniforms(),Ht=yr.seqWithValue(je.seq,Ie);pe.uniformsList=Ht}function kn(N,oe,ae,pe){oe.isScene!==!0&&(oe=Z),j.resetTextureUnits();const F=oe.fog,Q=ae.isMeshStandardMaterial?oe.environment:null,ie=_===null?m.outputEncoding:_.texture.encoding,Ce=re.get(ae.envMap||Q),Me=ke.get(ae),Xe=f.state.lights;if(Y===!0&&(le===!0||N!==M)){const Vt=N===M&&ae.id===S;H.setState(ae,N,Vt)}ae.version===Me.__version?(ae.fog&&Me.fog!==F||Me.environment!==Q||Me.needsLights&&Me.lightsStateVersion!==Xe.state.version||Me.numClippingPlanes!==void 0&&(Me.numClippingPlanes!==H.numPlanes||Me.numIntersection!==H.numIntersection)||Me.outputEncoding!==ie||Me.envMap!==Ce)&&Xt(ae,oe,pe):(Xt(ae,oe,pe),Me.__version=ae.version);let Fe=!1,Ie=!1,je=!1;const Ht=Me.program,ht=Ht.getUniforms(),An=Me.uniforms;if(X.useProgram(Ht.program)&&(Fe=!0,Ie=!0,je=!0),ae.id!==S&&(S=ae.id,Ie=!0),Fe||M!==N){if(ht.setValue(J,"projectionMatrix",N.projectionMatrix),fe.logarithmicDepthBuffer&&ht.setValue(J,"logDepthBufFC",2/(Math.log(N.far+1)/Math.LN2)),M!==N&&(M=N,Ie=!0,je=!0),ae.isShaderMaterial||ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshStandardMaterial||ae.envMap){const Vt=ht.map.cameraPosition;Vt!==void 0&&Vt.setValue(J,P.setFromMatrixPosition(N.matrixWorld))}(ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshLambertMaterial||ae.isMeshBasicMaterial||ae.isMeshStandardMaterial||ae.isShaderMaterial)&&ht.setValue(J,"isOrthographic",N.isOrthographicCamera===!0),(ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshLambertMaterial||ae.isMeshBasicMaterial||ae.isMeshStandardMaterial||ae.isShaderMaterial||ae.isShadowMaterial||ae.skinning)&&ht.setValue(J,"viewMatrix",N.matrixWorldInverse)}if(ae.skinning){ht.setOptional(J,pe,"bindMatrix"),ht.setOptional(J,pe,"bindMatrixInverse");const Vt=pe.skeleton;if(Vt){const Ga=Vt.bones;if(fe.floatVertexTextures){if(Vt.boneTexture===null){let an=Math.sqrt(Ga.length*4);an=tt.ceilPowerOfTwo(an),an=Math.max(an,4);const tr=new Float32Array(an*an*4);tr.set(Vt.boneMatrices);const Bi=new Yi(tr,an,an,Nn,Ui);Vt.boneMatrices=tr,Vt.boneTexture=Bi,Vt.boneTextureSize=an}ht.setValue(J,"boneTexture",Vt.boneTexture,j),ht.setValue(J,"boneTextureSize",Vt.boneTextureSize)}else ht.setOptional(J,Vt,"boneMatrices")}}return(Ie||Me.receiveShadow!==pe.receiveShadow)&&(Me.receiveShadow=pe.receiveShadow,ht.setValue(J,"receiveShadow",pe.receiveShadow)),Ie&&(ht.setValue(J,"toneMappingExposure",m.toneMappingExposure),Me.needsLights&&ye(An,je),F&&ae.fog&&z.refreshFogUniforms(An,F),z.refreshMaterialUniforms(An,ae,A,k),yr.upload(J,Me.uniformsList,An,j)),ae.isShaderMaterial&&ae.uniformsNeedUpdate===!0&&(yr.upload(J,Me.uniformsList,An,j),ae.uniformsNeedUpdate=!1),ae.isSpriteMaterial&&ht.setValue(J,"center",pe.center),ht.setValue(J,"modelViewMatrix",pe.modelViewMatrix),ht.setValue(J,"normalMatrix",pe.normalMatrix),ht.setValue(J,"modelMatrix",pe.matrixWorld),Ht}function ye(N,oe){N.ambientLightColor.needsUpdate=oe,N.lightProbe.needsUpdate=oe,N.directionalLights.needsUpdate=oe,N.directionalLightShadows.needsUpdate=oe,N.pointLights.needsUpdate=oe,N.pointLightShadows.needsUpdate=oe,N.spotLights.needsUpdate=oe,N.spotLightShadows.needsUpdate=oe,N.rectAreaLights.needsUpdate=oe,N.hemisphereLights.needsUpdate=oe}function De(N){return N.isMeshLambertMaterial||N.isMeshToonMaterial||N.isMeshPhongMaterial||N.isMeshStandardMaterial||N.isShadowMaterial||N.isShaderMaterial&&N.lights===!0}this.setFramebuffer=function(N){b!==N&&_===null&&J.bindFramebuffer(36160,N),b=N},this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return p},this.getRenderList=function(){return d},this.setRenderList=function(N){d=N},this.getRenderTarget=function(){return _},this.setRenderTarget=function(N,oe=0,ae=0){_=N,g=oe,p=ae,N&&ke.get(N).__webglFramebuffer===void 0&&j.setupRenderTarget(N);let pe=b,F=!1;if(N){const Q=ke.get(N).__webglFramebuffer;N.isWebGLCubeRenderTarget?(pe=Q[oe],F=!0):N.isWebGLMultisampleRenderTarget?pe=ke.get(N).__webglMultisampledFramebuffer:pe=Q,T.copy(N.viewport),R.copy(N.scissor),L=N.scissorTest}else T.copy(D).multiplyScalar(A).floor(),R.copy(q).multiplyScalar(A).floor(),L=O;if(x!==pe&&(J.bindFramebuffer(36160,pe),x=pe),X.viewport(T),X.scissor(R),X.setScissorTest(L),F){const Q=ke.get(N.texture);J.framebufferTexture2D(36160,36064,34069+oe,Q.__webglTexture,ae)}},this.readRenderTargetPixels=function(N,oe,ae,pe,F,Q,ie){if(!(N&&N.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ce=ke.get(N).__webglFramebuffer;if(N.isWebGLCubeRenderTarget&&ie!==void 0&&(Ce=Ce[ie]),Ce){let Me=!1;Ce!==x&&(J.bindFramebuffer(36160,Ce),Me=!0);try{const Xe=N.texture,Fe=Xe.format,Ie=Xe.type;if(Fe!==Nn&&Ee.convert(Fe)!==J.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(Ie!==Fa&&Ee.convert(Ie)!==J.getParameter(35738)&&!(Ie===Ui&&(fe.isWebGL2||$.get("OES_texture_float")||$.get("WEBGL_color_buffer_float")))&&!(Ie===Ms&&(fe.isWebGL2?$.get("EXT_color_buffer_float"):$.get("EXT_color_buffer_half_float")))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}J.checkFramebufferStatus(36160)===36053?oe>=0&&oe<=N.width-pe&&ae>=0&&ae<=N.height-F&&J.readPixels(oe,ae,pe,F,Ee.convert(Fe),Ee.convert(Ie),Q):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{Me&&J.bindFramebuffer(36160,x)}}},this.copyFramebufferToTexture=function(N,oe,ae=0){const pe=Math.pow(2,-ae),F=Math.floor(oe.image.width*pe),Q=Math.floor(oe.image.height*pe),ie=Ee.convert(oe.format);j.setTexture2D(oe,0),J.copyTexImage2D(3553,ae,ie,N.x,N.y,F,Q,0),X.unbindTexture()},this.copyTextureToTexture=function(N,oe,ae,pe=0){const F=oe.image.width,Q=oe.image.height,ie=Ee.convert(ae.format),Ce=Ee.convert(ae.type);j.setTexture2D(ae,0),J.pixelStorei(37440,ae.flipY),J.pixelStorei(37441,ae.premultiplyAlpha),J.pixelStorei(3317,ae.unpackAlignment),oe.isDataTexture?J.texSubImage2D(3553,pe,N.x,N.y,F,Q,ie,Ce,oe.image.data):oe.isCompressedTexture?J.compressedTexSubImage2D(3553,pe,N.x,N.y,oe.mipmaps[0].width,oe.mipmaps[0].height,ie,oe.mipmaps[0].data):J.texSubImage2D(3553,pe,N.x,N.y,ie,Ce,oe.image),pe===0&&ae.generateMipmaps&&J.generateMipmap(3553),X.unbindTexture()},this.initTexture=function(N){j.setTexture2D(N,0),X.unbindTexture()},this.resetState=function(){X.reset(),Le.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function df(e){cl.call(this,e)}df.prototype=Object.assign(Object.create(cl.prototype),{constructor:df,isWebGL1Renderer:!0});class wc{constructor(t,n){Object.defineProperty(this,"isFogExp2",{value:!0}),this.name="",this.color=new Ge(t),this.density=n!==void 0?n:25e-5}clone(){return new wc(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Sc{constructor(t,n,i){Object.defineProperty(this,"isFog",{value:!0}),this.name="",this.color=new Ge(t),this.near=n!==void 0?n:1,this.far=i!==void 0?i:1e3}clone(){return new Sc(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class oh extends Ye{constructor(){super(),Object.defineProperty(this,"isScene",{value:!0}),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,n){return super.copy(t,n),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const n=super.toJSON(t);return this.background!==null&&(n.object.background=this.background.toJSON(t)),this.environment!==null&&(n.object.environment=this.environment.toJSON(t)),this.fog!==null&&(n.object.fog=this.fog.toJSON()),n}}function On(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=sl,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=tt.generateUUID()}Object.defineProperty(On.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(On.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this},set:function(e,t=0){return this.array.set(e,t),this},clone:function(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=tt.generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new On(t,this.stride);return n.setUsage(this.usage),n},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=tt.generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const Nr=new V;function Cr(e,t,n,i){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i===!0}Object.defineProperties(Cr.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(e){this.data.needsUpdate=e}}});Object.assign(Cr.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(let t=0,n=this.data.count;t<n;t++)Nr.x=this.getX(t),Nr.y=this.getY(t),Nr.z=this.getZ(t),Nr.applyMatrix4(e),this.setXYZ(t,Nr.x,Nr.y,Nr.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this},clone:function(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return new Ze(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Cr(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}});function Er(e){Je.call(this),this.type="SpriteMaterial",this.color=new Ge(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Er.prototype=Object.create(Je.prototype);Er.prototype.constructor=Er;Er.prototype.isSpriteMaterial=!0;Er.prototype.copy=function(e){return Je.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};let Vo;const Qa=new V,Uo=new V,Go=new V,Wo=new Re,Ka=new Re,j0=new at,Pl=new V,Za=new V,Bl=new V,Om=new Re,cd=new Re,Nm=new Re;function Fs(e){if(Ye.call(this),this.type="Sprite",Vo===void 0){Vo=new Ke;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new On(t,5);Vo.setIndex([0,1,2,0,2,3]),Vo.setAttribute("position",new Cr(n,3,0,!1)),Vo.setAttribute("uv",new Cr(n,2,3,!1))}this.geometry=Vo,this.material=e!==void 0?e:new Er,this.center=new Re(.5,.5)}Fs.prototype=Object.assign(Object.create(Ye.prototype),{constructor:Fs,isSprite:!0,raycast:function(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Uo.setFromMatrixScale(this.matrixWorld),j0.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Go.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Uo.multiplyScalar(-Go.z);const n=this.material.rotation;let i,r;n!==0&&(r=Math.cos(n),i=Math.sin(n));const o=this.center;Il(Pl.set(-.5,-.5,0),Go,o,Uo,i,r),Il(Za.set(.5,-.5,0),Go,o,Uo,i,r),Il(Bl.set(.5,.5,0),Go,o,Uo,i,r),Om.set(0,0),cd.set(1,0),Nm.set(1,1);let a=e.ray.intersectTriangle(Pl,Za,Bl,!1,Qa);if(a===null&&(Il(Za.set(-.5,.5,0),Go,o,Uo,i,r),cd.set(0,1),a=e.ray.intersectTriangle(Pl,Bl,Za,!1,Qa),a===null))return;const s=e.ray.origin.distanceTo(Qa);s<e.near||s>e.far||t.push({distance:s,point:Qa.clone(),uv:cn.getUV(Qa,Pl,Za,Bl,Om,cd,Nm,new Re),face:null,object:this})},copy:function(e){return Ye.prototype.copy.call(this,e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}});function Il(e,t,n,i,r,o){Wo.subVectors(e,n).addScalar(.5).multiply(i),r!==void 0?(Ka.x=o*Wo.x-r*Wo.y,Ka.y=r*Wo.x+o*Wo.y):Ka.copy(Wo),e.copy(t),e.x+=Ka.x,e.y+=Ka.y,e.applyMatrix4(j0)}const Fl=new V,zm=new V;function Ds(){Ye.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}Ds.prototype=Object.assign(Object.create(Ye.prototype),{constructor:Ds,isLOD:!0,copy:function(e){Ye.prototype.copy.call(this,e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const r=t[n];this.addLevel(r.object.clone(),r.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t=0){t=Math.abs(t);const n=this.levels;let i;for(i=0;i<n.length&&!(t<n[i].distance);i++);return n.splice(i,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){if(this.levels.length>0){Fl.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Fl);this.getObjectForDistance(i).raycast(e,t)}},update:function(e){const t=this.levels;if(t.length>1){Fl.setFromMatrixPosition(e.matrixWorld),zm.setFromMatrixPosition(this.matrixWorld);const n=Fl.distanceTo(zm)/e.zoom;t[0].object.visible=!0;let i,r;for(i=1,r=t.length;i<r&&n>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<r;i++)t[i].object.visible=!1}},toJSON:function(e){const t=Ye.prototype.toJSON.call(this,e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,r=n.length;i<r;i++){const o=n[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}});const qm=new V,Hm=new _t,Vm=new _t,YM=new V,Um=new at;function Os(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Pt.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new at,this.bindMatrixInverse=new at}Os.prototype=Object.assign(Object.create(Pt.prototype),{constructor:Os,isSkinnedMesh:!0,copy:function(e){return Pt.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const e=new _t,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Pt.prototype.updateMatrixWorld.call(this,e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(e,t){const n=this.skeleton,i=this.geometry;Hm.fromBufferAttribute(i.attributes.skinIndex,e),Vm.fromBufferAttribute(i.attributes.skinWeight,e),qm.fromBufferAttribute(i.attributes.position,e).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){const o=Vm.getComponent(r);if(o!==0){const a=Hm.getComponent(r);Um.multiplyMatrices(n.bones[a].matrixWorld,n.boneInverses[a]),t.addScaledVector(YM.copy(qm).applyMatrix4(Um),o)}}return t.applyMatrix4(this.bindMatrixInverse)}});function Ns(){Ye.call(this),this.type="Bone"}Ns.prototype=Object.assign(Object.create(Ye.prototype),{constructor:Ns,isBone:!0});const Gm=new at,XM=new at;function zs(e=[],t=[]){this.uuid=tt.generateUUID(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}Object.assign(zs.prototype,{init:function(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new at)}},calculateInverses:function(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new at;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}},pose:function(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}},update:function(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let r=0,o=e.length;r<o;r++){const a=e[r]?e[r].matrixWorld:XM;Gm.multiplyMatrices(a,t[r]),Gm.toArray(n,r*16)}i!==null&&(i.needsUpdate=!0)},clone:function(){return new zs(this.bones,this.boneInverses)},getBoneByName:function(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}},dispose:function(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)},fromJSON:function(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const r=e.bones[n];let o=t[r];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),o=new Ns),this.bones.push(o),this.boneInverses.push(new at().fromArray(e.boneInverses[n]))}return this.init(),this},toJSON:function(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,r=t.length;i<r;i++){const o=t[i];e.bones.push(o.uuid);const a=n[i];e.boneInverses.push(a.toArray())}return e}});const Wm=new at,$m=new at,Dl=[],Ja=new Pt;function Bu(e,t,n){Pt.call(this,e,t),this.instanceMatrix=new Ze(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}Bu.prototype=Object.assign(Object.create(Pt.prototype),{constructor:Bu,isInstancedMesh:!0,copy:function(e){return Pt.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),this.count=e.count,this},getColorAt:function(e,t){t.fromArray(this.instanceColor.array,e*3)},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,e*16)},raycast:function(e,t){const n=this.matrixWorld,i=this.count;if(Ja.geometry=this.geometry,Ja.material=this.material,Ja.material!==void 0)for(let r=0;r<i;r++){this.getMatrixAt(r,Wm),$m.multiplyMatrices(n,Wm),Ja.matrixWorld=$m,Ja.raycast(e,Dl);for(let o=0,a=Dl.length;o<a;o++){const s=Dl[o];s.instanceId=r,s.object=this,t.push(s)}Dl.length=0}},setColorAt:function(e,t){this.instanceColor===null&&(this.instanceColor=new Ze(new Float32Array(this.count*3),3)),t.toArray(this.instanceColor.array,e*3)},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,e*16)},updateMorphTargets:function(){},dispose:function(){this.dispatchEvent({type:"dispose"})}});function Ft(e){Je.call(this),this.type="LineBasicMaterial",this.color=new Ge(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}Ft.prototype=Object.create(Je.prototype);Ft.prototype.constructor=Ft;Ft.prototype.isLineBasicMaterial=!0;Ft.prototype.copy=function(e){return Je.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};const jm=new V,Ym=new V,Xm=new at,Ol=new Da,Nl=new Zi;function Xn(e=new Ke,t=new Ft){Ye.call(this),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}Xn.prototype=Object.assign(Object.create(Ye.prototype),{constructor:Xn,isLine:!0,copy:function(e){return Ye.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,n=[0];for(let i=1,r=t.count;i<r;i++)jm.fromBufferAttribute(t,i-1),Ym.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=jm.distanceTo(Ym);e.setAttribute("lineDistance",new He(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;n[0]=0;for(let i=1,r=t.length;i<r;i++)n[i]=n[i-1],n[i]+=t[i-1].distanceTo(t[i])}return this},raycast:function(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold;if(n.boundingSphere===null&&n.computeBoundingSphere(),Nl.copy(n.boundingSphere),Nl.applyMatrix4(i),Nl.radius+=r,e.ray.intersectsSphere(Nl)===!1)return;Xm.copy(i).invert(),Ol.copy(e.ray).applyMatrix4(Xm);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o,s=new V,l=new V,u=new V,c=new V,d=this.isLineSegments?2:1;if(n.isBufferGeometry){const f=n.index,m=n.attributes.position;if(f!==null){const y=f.array;for(let b=0,g=y.length-1;b<g;b+=d){const p=y[b],_=y[b+1];if(s.fromBufferAttribute(m,p),l.fromBufferAttribute(m,_),Ol.distanceSqToSegment(s,l,c,u)>a)continue;c.applyMatrix4(this.matrixWorld);const S=e.ray.origin.distanceTo(c);S<e.near||S>e.far||t.push({distance:S,point:u.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else for(let y=0,b=m.count-1;y<b;y+=d){if(s.fromBufferAttribute(m,y),l.fromBufferAttribute(m,y+1),Ol.distanceSqToSegment(s,l,c,u)>a)continue;c.applyMatrix4(this.matrixWorld);const p=e.ray.origin.distanceTo(c);p<e.near||p>e.far||t.push({distance:p,point:u.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else if(n.isGeometry){const f=n.vertices,h=f.length;for(let m=0;m<h-1;m+=d){if(Ol.distanceSqToSegment(f[m],f[m+1],c,u)>a)continue;c.applyMatrix4(this.matrixWorld);const b=e.ray.origin.distanceTo(c);b<e.near||b>e.far||t.push({distance:b,point:u.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const zl=new V,ql=new V;function Cn(e,t){Xn.call(this,e,t),this.type="LineSegments"}Cn.prototype=Object.assign(Object.create(Xn.prototype),{constructor:Cn,isLineSegments:!0,computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,n=[];for(let i=0,r=t.count;i<r;i+=2)zl.fromBufferAttribute(t,i),ql.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+zl.distanceTo(ql);e.setAttribute("lineDistance",new He(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;for(let i=0,r=t.length;i<r;i+=2)zl.copy(t[i]),ql.copy(t[i+1]),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+zl.distanceTo(ql)}return this}});function Iu(e,t){Xn.call(this,e,t),this.type="LineLoop"}Iu.prototype=Object.assign(Object.create(Xn.prototype),{constructor:Iu,isLineLoop:!0});function di(e){Je.call(this),this.type="PointsMaterial",this.color=new Ge(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}di.prototype=Object.create(Je.prototype);di.prototype.constructor=di;di.prototype.isPointsMaterial=!0;di.prototype.copy=function(e){return Je.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};const Qm=new at,ff=new Da,Hl=new Zi,Vl=new V;function wa(e=new Ke,t=new di){Ye.call(this),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}wa.prototype=Object.assign(Object.create(Ye.prototype),{constructor:wa,isPoints:!0,copy:function(e){return Ye.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold;if(n.boundingSphere===null&&n.computeBoundingSphere(),Hl.copy(n.boundingSphere),Hl.applyMatrix4(i),Hl.radius+=r,e.ray.intersectsSphere(Hl)===!1)return;Qm.copy(i).invert(),ff.copy(e.ray).applyMatrix4(Qm);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o;if(n.isBufferGeometry){const s=n.index,u=n.attributes.position;if(s!==null){const c=s.array;for(let d=0,f=c.length;d<f;d++){const h=c[d];Vl.fromBufferAttribute(u,h),dd(Vl,h,a,i,e,t,this)}}else for(let c=0,d=u.count;c<d;c++)Vl.fromBufferAttribute(u,c),dd(Vl,c,a,i,e,t,this)}else{const s=n.vertices;for(let l=0,u=s.length;l<u;l++)dd(s[l],l,a,i,e,t,this)}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});function dd(e,t,n,i,r,o,a){const s=ff.distanceSqToPoint(e);if(s<n){const l=new V;ff.closestPointToPoint(e,l),l.applyMatrix4(i);const u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;o.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:t,face:null,object:a})}}function hf(e,t,n,i,r,o,a,s,l){Mt.call(this,e,t,n,i,r,o,a,s,l),this.format=a!==void 0?a:gr,this.minFilter=o!==void 0?o:on,this.magFilter=r!==void 0?r:on,this.generateMipmaps=!1;const u=this;function c(){u.needsUpdate=!0,e.requestVideoFrameCallback(c)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(c)}hf.prototype=Object.assign(Object.create(Mt.prototype),{constructor:hf,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});function Sa(e,t,n,i,r,o,a,s,l,u,c,d){Mt.call(this,null,o,a,s,l,u,i,r,c,d),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}Sa.prototype=Object.create(Mt.prototype);Sa.prototype.constructor=Sa;Sa.prototype.isCompressedTexture=!0;function qs(e,t,n,i,r,o,a,s,l){Mt.call(this,e,t,n,i,r,o,a,s,l),this.needsUpdate=!0}qs.prototype=Object.create(Mt.prototype);qs.prototype.constructor=qs;qs.prototype.isCanvasTexture=!0;function Hs(e,t,n,i,r,o,a,s,l,u){if(u=u!==void 0?u:io,u!==io&&u!==ya)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&u===io&&(n=Ss),n===void 0&&u===ya&&(n=ca),Mt.call(this,null,i,r,o,a,s,u,n,l),this.image={width:e,height:t},this.magFilter=a!==void 0?a:Zt,this.minFilter=s!==void 0?s:Zt,this.flipY=!1,this.generateMipmaps=!1}Hs.prototype=Object.create(Mt.prototype);Hs.prototype.constructor=Hs;Hs.prototype.isDepthTexture=!0;let QM=0;const bi=new at,fd=new Ye,Ul=new V;function St(){Object.defineProperty(this,"id",{value:QM+=2}),this.uuid=tt.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}St.prototype=Object.assign(Object.create(Ri.prototype),{constructor:St,isGeometry:!0,applyMatrix4:function(e){const t=new Sn().getNormalMatrix(e);for(let n=0,i=this.vertices.length;n<i;n++)this.vertices[n].applyMatrix4(e);for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n];r.normal.applyMatrix3(t).normalize();for(let o=0,a=r.vertexNormals.length;o<a;o++)r.vertexNormals[o].applyMatrix3(t).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return bi.makeRotationX(e),this.applyMatrix4(bi),this},rotateY:function(e){return bi.makeRotationY(e),this.applyMatrix4(bi),this},rotateZ:function(e){return bi.makeRotationZ(e),this.applyMatrix4(bi),this},translate:function(e,t,n){return bi.makeTranslation(e,t,n),this.applyMatrix4(bi),this},scale:function(e,t,n){return bi.makeScale(e,t,n),this.applyMatrix4(bi),this},lookAt:function(e){return fd.lookAt(e),fd.updateMatrix(),this.applyMatrix4(fd.matrix),this},fromBufferGeometry:function(e){const t=this,n=e.index!==null?e.index:void 0,i=e.attributes;if(i.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const r=i.position,o=i.normal,a=i.color,s=i.uv,l=i.uv2;l!==void 0&&(this.faceVertexUvs[1]=[]);for(let d=0;d<r.count;d++)t.vertices.push(new V().fromBufferAttribute(r,d)),a!==void 0&&t.colors.push(new Ge().fromBufferAttribute(a,d));function u(d,f,h,m){const y=a===void 0?[]:[t.colors[d].clone(),t.colors[f].clone(),t.colors[h].clone()],b=o===void 0?[]:[new V().fromBufferAttribute(o,d),new V().fromBufferAttribute(o,f),new V().fromBufferAttribute(o,h)],g=new Es(d,f,h,b,y,m);t.faces.push(g),s!==void 0&&t.faceVertexUvs[0].push([new Re().fromBufferAttribute(s,d),new Re().fromBufferAttribute(s,f),new Re().fromBufferAttribute(s,h)]),l!==void 0&&t.faceVertexUvs[1].push([new Re().fromBufferAttribute(l,d),new Re().fromBufferAttribute(l,f),new Re().fromBufferAttribute(l,h)])}const c=e.groups;if(c.length>0)for(let d=0;d<c.length;d++){const f=c[d],h=f.start,m=f.count;for(let y=h,b=h+m;y<b;y+=3)n!==void 0?u(n.getX(y),n.getX(y+1),n.getX(y+2),f.materialIndex):u(y,y+1,y+2,f.materialIndex)}else if(n!==void 0)for(let d=0;d<n.count;d+=3)u(n.getX(d),n.getX(d+1),n.getX(d+2));else for(let d=0;d<r.count;d+=3)u(d,d+1,d+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ul).negate(),this.translate(Ul.x,Ul.y,Ul.z),this},normalize:function(){this.computeBoundingSphere();const e=this.boundingSphere.center,t=this.boundingSphere.radius,n=t===0?1:1/t,i=new at;return i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(i),this},computeFaceNormals:function(){const e=new V,t=new V;for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n],o=this.vertices[r.a],a=this.vertices[r.b],s=this.vertices[r.c];e.subVectors(s,a),t.subVectors(o,a),e.cross(t),e.normalize(),r.normal.copy(e)}},computeVertexNormals:function(e=!0){const t=new Array(this.vertices.length);for(let n=0,i=this.vertices.length;n<i;n++)t[n]=new V;if(e){const n=new V,i=new V;for(let r=0,o=this.faces.length;r<o;r++){const a=this.faces[r],s=this.vertices[a.a],l=this.vertices[a.b],u=this.vertices[a.c];n.subVectors(u,l),i.subVectors(s,l),n.cross(i),t[a.a].add(n),t[a.b].add(n),t[a.c].add(n)}}else{this.computeFaceNormals();for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n];t[r.a].add(r.normal),t[r.b].add(r.normal),t[r.c].add(r.normal)}}for(let n=0,i=this.vertices.length;n<i;n++)t[n].normalize();for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n],o=r.vertexNormals;o.length===3?(o[0].copy(t[r.a]),o[1].copy(t[r.b]),o[2].copy(t[r.c])):(o[0]=t[r.a].clone(),o[1]=t[r.b].clone(),o[2]=t[r.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){const n=this.faces[e],i=n.vertexNormals;i.length===3?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let t=0,n=this.faces.length;t<n;t++){const i=this.faces[t];i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]);for(let r=0,o=i.vertexNormals.length;r<o;r++)i.__originalVertexNormals[r]?i.__originalVertexNormals[r].copy(i.vertexNormals[r]):i.__originalVertexNormals[r]=i.vertexNormals[r].clone()}const e=new St;e.faces=this.faces;for(let t=0,n=this.morphTargets.length;t<n;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];const r=this.morphNormals[t].faceNormals,o=this.morphNormals[t].vertexNormals;for(let a=0,s=this.faces.length;a<s;a++){const l=new V,u={a:new V,b:new V,c:new V};r.push(l),o.push(u)}}const i=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let r=0,o=this.faces.length;r<o;r++){const a=this.faces[r],s=i.faceNormals[r],l=i.vertexNormals[r];s.copy(a.normal),l.a.copy(a.vertexNormals[0]),l.b.copy(a.vertexNormals[1]),l.c.copy(a.vertexNormals[2])}}for(let t=0,n=this.faces.length;t<n;t++){const i=this.faces[t];i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals}},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new ki),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new Zi),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n=0){if(!(e&&e.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);return}let i;const r=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,l=e.faces,u=this.colors,c=e.colors;t!==void 0&&(i=new Sn().getNormalMatrix(t));for(let d=0,f=a.length;d<f;d++){const m=a[d].clone();t!==void 0&&m.applyMatrix4(t),o.push(m)}for(let d=0,f=c.length;d<f;d++)u.push(c[d].clone());for(let d=0,f=l.length;d<f;d++){const h=l[d];let m,y;const b=h.vertexNormals,g=h.vertexColors,p=new Es(h.a+r,h.b+r,h.c+r);p.normal.copy(h.normal),i!==void 0&&p.normal.applyMatrix3(i).normalize();for(let _=0,x=b.length;_<x;_++)m=b[_].clone(),i!==void 0&&m.applyMatrix3(i).normalize(),p.vertexNormals.push(m);p.color.copy(h.color);for(let _=0,x=g.length;_<x;_++)y=g[_],p.vertexColors.push(y.clone());p.materialIndex=h.materialIndex+n,s.push(p)}for(let d=0,f=e.faceVertexUvs.length;d<f;d++){const h=e.faceVertexUvs[d];this.faceVertexUvs[d]===void 0&&(this.faceVertexUvs[d]=[]);for(let m=0,y=h.length;m<y;m++){const b=h[m],g=[];for(let p=0,_=b.length;p<_;p++)g.push(b[p].clone());this.faceVertexUvs[d].push(g)}}},mergeMesh:function(e){if(!(e&&e.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)},mergeVertices:function(e=4){const t={},n=[],i=[],r=Math.pow(10,e);for(let s=0,l=this.vertices.length;s<l;s++){const u=this.vertices[s],c=Math.round(u.x*r)+"_"+Math.round(u.y*r)+"_"+Math.round(u.z*r);t[c]===void 0?(t[c]=s,n.push(this.vertices[s]),i[s]=n.length-1):i[s]=i[t[c]]}const o=[];for(let s=0,l=this.faces.length;s<l;s++){const u=this.faces[s];u.a=i[u.a],u.b=i[u.b],u.c=i[u.c];const c=[u.a,u.b,u.c];for(let d=0;d<3;d++)if(c[d]===c[(d+1)%3]){o.push(s);break}}for(let s=o.length-1;s>=0;s--){const l=o[s];this.faces.splice(l,1);for(let u=0,c=this.faceVertexUvs.length;u<c;u++)this.faceVertexUvs[u].splice(l,1)}const a=this.vertices.length-n.length;return this.vertices=n,a},setFromPoints:function(e){this.vertices=[];for(let t=0,n=e.length;t<n;t++){const i=e[t];this.vertices.push(new V(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){const e=this.faces,t=e.length;for(let s=0;s<t;s++)e[s]._id=s;function n(s,l){return s.materialIndex-l.materialIndex}e.sort(n);const i=this.faceVertexUvs[0],r=this.faceVertexUvs[1];let o,a;i&&i.length===t&&(o=[]),r&&r.length===t&&(a=[]);for(let s=0;s<t;s++){const l=e[s]._id;o&&o.push(i[l]),a&&a.push(r[l])}o&&(this.faceVertexUvs[0]=o),a&&(this.faceVertexUvs[1]=a)},toJSON:function(){const e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),this.parameters!==void 0){const h=this.parameters;for(const m in h)h[m]!==void 0&&(e[m]=h[m]);return e}const t=[];for(let h=0;h<this.vertices.length;h++){const m=this.vertices[h];t.push(m.x,m.y,m.z)}const n=[],i=[],r={},o=[],a={},s=[],l={};for(let h=0;h<this.faces.length;h++){const m=this.faces[h],y=!0,b=!1,g=this.faceVertexUvs[0][h]!==void 0,p=m.normal.length()>0,_=m.vertexNormals.length>0,x=m.color.r!==1||m.color.g!==1||m.color.b!==1,S=m.vertexColors.length>0;let M=0;if(M=u(M,0,0),M=u(M,1,y),M=u(M,2,b),M=u(M,3,g),M=u(M,4,p),M=u(M,5,_),M=u(M,6,x),M=u(M,7,S),n.push(M),n.push(m.a,m.b,m.c),n.push(m.materialIndex),g){const T=this.faceVertexUvs[0][h];n.push(f(T[0]),f(T[1]),f(T[2]))}if(p&&n.push(c(m.normal)),_){const T=m.vertexNormals;n.push(c(T[0]),c(T[1]),c(T[2]))}if(x&&n.push(d(m.color)),S){const T=m.vertexColors;n.push(d(T[0]),d(T[1]),d(T[2]))}}function u(h,m,y){return y?h|1<<m:h&~(1<<m)}function c(h){const m=h.x.toString()+h.y.toString()+h.z.toString();return r[m]!==void 0||(r[m]=i.length/3,i.push(h.x,h.y,h.z)),r[m]}function d(h){const m=h.r.toString()+h.g.toString()+h.b.toString();return a[m]!==void 0||(a[m]=o.length,o.push(h.getHex())),a[m]}function f(h){const m=h.x.toString()+h.y.toString();return l[m]!==void 0||(l[m]=s.length/2,s.push(h.x,h.y)),l[m]}return e.data={},e.data.vertices=t,e.data.normals=i,o.length>0&&(e.data.colors=o),s.length>0&&(e.data.uvs=[s]),e.data.faces=n,e},clone:function(){return new St().copy(this)},copy:function(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;const t=e.vertices;for(let d=0,f=t.length;d<f;d++)this.vertices.push(t[d].clone());const n=e.colors;for(let d=0,f=n.length;d<f;d++)this.colors.push(n[d].clone());const i=e.faces;for(let d=0,f=i.length;d<f;d++)this.faces.push(i[d].clone());for(let d=0,f=e.faceVertexUvs.length;d<f;d++){const h=e.faceVertexUvs[d];this.faceVertexUvs[d]===void 0&&(this.faceVertexUvs[d]=[]);for(let m=0,y=h.length;m<y;m++){const b=h[m],g=[];for(let p=0,_=b.length;p<_;p++){const x=b[p];g.push(x.clone())}this.faceVertexUvs[d].push(g)}}const r=e.morphTargets;for(let d=0,f=r.length;d<f;d++){const h={};if(h.name=r[d].name,r[d].vertices!==void 0){h.vertices=[];for(let m=0,y=r[d].vertices.length;m<y;m++)h.vertices.push(r[d].vertices[m].clone())}if(r[d].normals!==void 0){h.normals=[];for(let m=0,y=r[d].normals.length;m<y;m++)h.normals.push(r[d].normals[m].clone())}this.morphTargets.push(h)}const o=e.morphNormals;for(let d=0,f=o.length;d<f;d++){const h={};if(o[d].vertexNormals!==void 0){h.vertexNormals=[];for(let m=0,y=o[d].vertexNormals.length;m<y;m++){const b=o[d].vertexNormals[m],g={};g.a=b.a.clone(),g.b=b.b.clone(),g.c=b.c.clone(),h.vertexNormals.push(g)}}if(o[d].faceNormals!==void 0){h.faceNormals=[];for(let m=0,y=o[d].faceNormals.length;m<y;m++)h.faceNormals.push(o[d].faceNormals[m].clone())}this.morphNormals.push(h)}const a=e.skinWeights;for(let d=0,f=a.length;d<f;d++)this.skinWeights.push(a[d].clone());const s=e.skinIndices;for(let d=0,f=s.length;d<f;d++)this.skinIndices.push(s[d].clone());const l=e.lineDistances;for(let d=0,f=l.length;d<f;d++)this.lineDistances.push(l[d]);const u=e.boundingBox;u!==null&&(this.boundingBox=u.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class mf extends St{constructor(t,n,i,r,o,a){super(),this.type="BoxGeometry",this.parameters={width:t,height:n,depth:i,widthSegments:r,heightSegments:o,depthSegments:a},this.fromBufferGeometry(new ll(t,n,i,r,o,a)),this.mergeVertices()}}class ah extends Ke{constructor(t=1,n=8,i=0,r=Math.PI*2){super(),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:n,thetaStart:i,thetaLength:r},n=Math.max(3,n);const o=[],a=[],s=[],l=[],u=new V,c=new Re;a.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=n;d++,f+=3){const h=i+d/n*r;u.x=t*Math.cos(h),u.y=t*Math.sin(h),a.push(u.x,u.y,u.z),s.push(0,0,1),c.x=(a[f]/t+1)/2,c.y=(a[f+1]/t+1)/2,l.push(c.x,c.y)}for(let d=1;d<=n;d++)o.push(d,d+1,0);this.setIndex(o),this.setAttribute("position",new He(a,3)),this.setAttribute("normal",new He(s,3)),this.setAttribute("uv",new He(l,2))}}class Y0 extends St{constructor(t,n,i,r){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:n,thetaStart:i,thetaLength:r},this.fromBufferGeometry(new ah(t,n,i,r)),this.mergeVertices()}}class dl extends Ke{constructor(t=1,n=1,i=1,r=8,o=1,a=!1,s=0,l=Math.PI*2){super(),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:n,height:i,radialSegments:r,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:l};const u=this;r=Math.floor(r),o=Math.floor(o);const c=[],d=[],f=[],h=[];let m=0;const y=[],b=i/2;let g=0;p(),a===!1&&(t>0&&_(!0),n>0&&_(!1)),this.setIndex(c),this.setAttribute("position",new He(d,3)),this.setAttribute("normal",new He(f,3)),this.setAttribute("uv",new He(h,2));function p(){const x=new V,S=new V;let M=0;const T=(n-t)/i;for(let R=0;R<=o;R++){const L=[],I=R/o,k=I*(n-t)+t;for(let A=0;A<=r;A++){const C=A/r,E=C*l+s,D=Math.sin(E),q=Math.cos(E);S.x=k*D,S.y=-I*i+b,S.z=k*q,d.push(S.x,S.y,S.z),x.set(D,T,q).normalize(),f.push(x.x,x.y,x.z),h.push(C,1-I),L.push(m++)}y.push(L)}for(let R=0;R<r;R++)for(let L=0;L<o;L++){const I=y[L][R],k=y[L+1][R],A=y[L+1][R+1],C=y[L][R+1];c.push(I,k,C),c.push(k,A,C),M+=6}u.addGroup(g,M,0),g+=M}function _(x){const S=m,M=new Re,T=new V;let R=0;const L=x===!0?t:n,I=x===!0?1:-1;for(let A=1;A<=r;A++)d.push(0,b*I,0),f.push(0,I,0),h.push(.5,.5),m++;const k=m;for(let A=0;A<=r;A++){const E=A/r*l+s,D=Math.cos(E),q=Math.sin(E);T.x=L*q,T.y=b*I,T.z=L*D,d.push(T.x,T.y,T.z),f.push(0,I,0),M.x=D*.5+.5,M.y=q*.5*I+.5,h.push(M.x,M.y),m++}for(let A=0;A<r;A++){const C=S+A,E=k+A;x===!0?c.push(E,E+1,C):c.push(E+1,E,C),R+=3}u.addGroup(g,R,x===!0?1:2),g+=R}}}class sh extends St{constructor(t,n,i,r,o,a,s,l){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:n,height:i,radialSegments:r,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:l},this.fromBufferGeometry(new dl(t,n,i,r,o,a,s,l)),this.mergeVertices()}}class X0 extends sh{constructor(t,n,i,r,o,a,s){super(0,t,n,i,r,o,a,s),this.type="ConeGeometry",this.parameters={radius:t,height:n,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:a,thetaLength:s}}}class Q0 extends dl{constructor(t=1,n=1,i=8,r=1,o=!1,a=0,s=Math.PI*2){super(0,t,n,i,r,o,a,s),this.type="ConeBufferGeometry",this.parameters={radius:t,height:n,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:a,thetaLength:s}}}class Co extends Ke{constructor(t,n,i=1,r=0){super(),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:n,radius:i,detail:r};const o=[],a=[];s(r),u(i),c(),this.setAttribute("position",new He(o,3)),this.setAttribute("normal",new He(o.slice(),3)),this.setAttribute("uv",new He(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function s(p){const _=new V,x=new V,S=new V;for(let M=0;M<n.length;M+=3)h(n[M+0],_),h(n[M+1],x),h(n[M+2],S),l(_,x,S,p)}function l(p,_,x,S){const M=S+1,T=[];for(let R=0;R<=M;R++){T[R]=[];const L=p.clone().lerp(x,R/M),I=_.clone().lerp(x,R/M),k=M-R;for(let A=0;A<=k;A++)A===0&&R===M?T[R][A]=L:T[R][A]=L.clone().lerp(I,A/k)}for(let R=0;R<M;R++)for(let L=0;L<2*(M-R)-1;L++){const I=Math.floor(L/2);L%2===0?(f(T[R][I+1]),f(T[R+1][I]),f(T[R][I])):(f(T[R][I+1]),f(T[R+1][I+1]),f(T[R+1][I]))}}function u(p){const _=new V;for(let x=0;x<o.length;x+=3)_.x=o[x+0],_.y=o[x+1],_.z=o[x+2],_.normalize().multiplyScalar(p),o[x+0]=_.x,o[x+1]=_.y,o[x+2]=_.z}function c(){const p=new V;for(let _=0;_<o.length;_+=3){p.x=o[_+0],p.y=o[_+1],p.z=o[_+2];const x=b(p)/2/Math.PI+.5,S=g(p)/Math.PI+.5;a.push(x,1-S)}m(),d()}function d(){for(let p=0;p<a.length;p+=6){const _=a[p+0],x=a[p+2],S=a[p+4],M=Math.max(_,x,S),T=Math.min(_,x,S);M>.9&&T<.1&&(_<.2&&(a[p+0]+=1),x<.2&&(a[p+2]+=1),S<.2&&(a[p+4]+=1))}}function f(p){o.push(p.x,p.y,p.z)}function h(p,_){const x=p*3;_.x=t[x+0],_.y=t[x+1],_.z=t[x+2]}function m(){const p=new V,_=new V,x=new V,S=new V,M=new Re,T=new Re,R=new Re;for(let L=0,I=0;L<o.length;L+=9,I+=6){p.set(o[L+0],o[L+1],o[L+2]),_.set(o[L+3],o[L+4],o[L+5]),x.set(o[L+6],o[L+7],o[L+8]),M.set(a[I+0],a[I+1]),T.set(a[I+2],a[I+3]),R.set(a[I+4],a[I+5]),S.copy(p).add(_).add(x).divideScalar(3);const k=b(S);y(M,I+0,p,k),y(T,I+2,_,k),y(R,I+4,x,k)}}function y(p,_,x,S){S<0&&p.x===1&&(a[_]=p.x-1),x.x===0&&x.z===0&&(a[_]=S/2/Math.PI+.5)}function b(p){return Math.atan2(p.z,-p.x)}function g(p){return Math.atan2(-p.y,Math.sqrt(p.x*p.x+p.z*p.z))}}}class lh extends Co{constructor(t=1,n=0){const i=(1+Math.sqrt(5))/2,r=1/i,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,a,t,n),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:n}}}class K0 extends St{constructor(t,n){super(),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:n},this.fromBufferGeometry(new lh(t,n)),this.mergeVertices()}}const Gl=new V,Wl=new V,hd=new V,$l=new cn;class uh extends Ke{constructor(t,n){super(),this.type="EdgesGeometry",this.parameters={thresholdAngle:n},n=n!==void 0?n:1,t.isGeometry&&(t=new Ke().fromGeometry(t));const r=Math.pow(10,4),o=Math.cos(tt.DEG2RAD*n),a=t.getIndex(),s=t.getAttribute("position"),l=a?a.count:s.count,u=[0,0,0],c=["a","b","c"],d=new Array(3),f={},h=[];for(let m=0;m<l;m+=3){a?(u[0]=a.getX(m),u[1]=a.getX(m+1),u[2]=a.getX(m+2)):(u[0]=m,u[1]=m+1,u[2]=m+2);const{a:y,b,c:g}=$l;if(y.fromBufferAttribute(s,u[0]),b.fromBufferAttribute(s,u[1]),g.fromBufferAttribute(s,u[2]),$l.getNormal(hd),d[0]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,d[1]=`${Math.round(b.x*r)},${Math.round(b.y*r)},${Math.round(b.z*r)}`,d[2]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let p=0;p<3;p++){const _=(p+1)%3,x=d[p],S=d[_],M=$l[c[p]],T=$l[c[_]],R=`${x}_${S}`,L=`${S}_${x}`;L in f&&f[L]?(hd.dot(f[L].normal)<=o&&(h.push(M.x,M.y,M.z),h.push(T.x,T.y,T.z)),f[L]=null):R in f||(f[R]={index0:u[p],index1:u[_],normal:hd.clone()})}}for(const m in f)if(f[m]){const{index0:y,index1:b}=f[m];Gl.fromBufferAttribute(s,y),Wl.fromBufferAttribute(s,b),h.push(Gl.x,Gl.y,Gl.z),h.push(Wl.x,Wl.y,Wl.z)}this.setAttribute("position",new He(h,3))}}const KM={triangulate:function(e,t,n){n=n||2;const i=t&&t.length,r=i?t[0]*n:e.length;let o=Z0(e,0,r,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,u,c,d,f,h;if(i&&(o=nT(e,t,o,n)),e.length>80*n){s=u=e[0],l=c=e[1];for(let m=n;m<r;m+=n)d=e[m],f=e[m+1],d<s&&(s=d),f<l&&(l=f),d>u&&(u=d),f>c&&(c=f);h=Math.max(u-s,c-l),h=h!==0?1/h:0}return Vs(o,a,n,s,l,h),a}};function Z0(e,t,n,i,r){let o,a;if(r===hT(e,t,n,i)>0)for(o=t;o<n;o+=i)a=Km(o,e[o],e[o+1],a);else for(o=n-i;o>=t;o-=i)a=Km(o,e[o],e[o+1],a);return a&&Mc(a,a.next)&&(Gs(a),a=a.next),a}function Ar(e,t){if(!e)return e;t||(t=e);let n=e,i;do if(i=!1,!n.steiner&&(Mc(n,n.next)||Ot(n.prev,n,n.next)===0)){if(Gs(n),n=t=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==t);return t}function Vs(e,t,n,i,r,o,a){if(!e)return;!a&&o&&sT(e,i,r,o);let s=e,l,u;for(;e.prev!==e.next;){if(l=e.prev,u=e.next,o?JM(e,i,r,o):ZM(e)){t.push(l.i/n),t.push(e.i/n),t.push(u.i/n),Gs(e),e=u.next,s=u.next;continue}if(e=u,e===s){a?a===1?(e=eT(Ar(e),t,n),Vs(e,t,n,i,r,o,2)):a===2&&tT(e,t,n,i,r,o):Vs(Ar(e),t,n,i,r,o,1);break}}}function ZM(e){const t=e.prev,n=e,i=e.next;if(Ot(t,n,i)>=0)return!1;let r=e.next.next;for(;r!==e.prev;){if(sa(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)&&Ot(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function JM(e,t,n,i){const r=e.prev,o=e,a=e.next;if(Ot(r,o,a)>=0)return!1;const s=r.x<o.x?r.x<a.x?r.x:a.x:o.x<a.x?o.x:a.x,l=r.y<o.y?r.y<a.y?r.y:a.y:o.y<a.y?o.y:a.y,u=r.x>o.x?r.x>a.x?r.x:a.x:o.x>a.x?o.x:a.x,c=r.y>o.y?r.y>a.y?r.y:a.y:o.y>a.y?o.y:a.y,d=pf(s,l,t,n,i),f=pf(u,c,t,n,i);let h=e.prevZ,m=e.nextZ;for(;h&&h.z>=d&&m&&m.z<=f;){if(h!==e.prev&&h!==e.next&&sa(r.x,r.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Ot(h.prev,h,h.next)>=0||(h=h.prevZ,m!==e.prev&&m!==e.next&&sa(r.x,r.y,o.x,o.y,a.x,a.y,m.x,m.y)&&Ot(m.prev,m,m.next)>=0))return!1;m=m.nextZ}for(;h&&h.z>=d;){if(h!==e.prev&&h!==e.next&&sa(r.x,r.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Ot(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;m&&m.z<=f;){if(m!==e.prev&&m!==e.next&&sa(r.x,r.y,o.x,o.y,a.x,a.y,m.x,m.y)&&Ot(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function eT(e,t,n){let i=e;do{const r=i.prev,o=i.next.next;!Mc(r,o)&&J0(r,i,i.next,o)&&Us(r,o)&&Us(o,r)&&(t.push(r.i/n),t.push(i.i/n),t.push(o.i/n),Gs(i),Gs(i.next),i=e=o),i=i.next}while(i!==e);return Ar(i)}function tT(e,t,n,i,r,o){let a=e;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&cT(a,s)){let l=ey(a,s);a=Ar(a,a.next),l=Ar(l,l.next),Vs(a,t,n,i,r,o),Vs(l,t,n,i,r,o);return}s=s.next}a=a.next}while(a!==e)}function nT(e,t,n,i){const r=[];let o,a,s,l,u;for(o=0,a=t.length;o<a;o++)s=t[o]*i,l=o<a-1?t[o+1]*i:e.length,u=Z0(e,s,l,i,!1),u===u.next&&(u.steiner=!0),r.push(uT(u));for(r.sort(iT),o=0;o<r.length;o++)rT(r[o],n),n=Ar(n,n.next);return n}function iT(e,t){return e.x-t.x}function rT(e,t){if(t=oT(e,t),t){const n=ey(t,e);Ar(t,t.next),Ar(n,n.next)}}function oT(e,t){let n=t;const i=e.x,r=e.y;let o=-1/0,a;do{if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const f=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=i&&f>o){if(o=f,f===i){if(r===n.y)return n;if(r===n.next.y)return n.next}a=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!a)return null;if(i===o)return a;const s=a,l=a.x,u=a.y;let c=1/0,d;n=a;do i>=n.x&&n.x>=l&&i!==n.x&&sa(r<u?i:o,r,l,u,r<u?o:i,r,n.x,n.y)&&(d=Math.abs(r-n.y)/(i-n.x),Us(n,e)&&(d<c||d===c&&(n.x>a.x||n.x===a.x&&aT(a,n)))&&(a=n,c=d)),n=n.next;while(n!==s);return a}function aT(e,t){return Ot(e.prev,e,t.prev)<0&&Ot(t.next,e,e.next)<0}function sT(e,t,n,i){let r=e;do r.z===null&&(r.z=pf(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,lT(r)}function lT(e){let t,n,i,r,o,a,s,l,u=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,i=n,s=0,t=0;t<u&&(s++,i=i.nextZ,!!i);t++);for(l=u;s>0||l>0&&i;)s!==0&&(l===0||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;n=i}o.nextZ=null,u*=2}while(a>1);return e}function pf(e,t,n,i,r){return e=32767*(e-n)*r,t=32767*(t-i)*r,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function uT(e){let t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function sa(e,t,n,i,r,o,a,s){return(r-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(i-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(r-a)*(i-s)>=0}function cT(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!dT(e,t)&&(Us(e,t)&&Us(t,e)&&fT(e,t)&&(Ot(e.prev,e,t.prev)||Ot(e,t.prev,t))||Mc(e,t)&&Ot(e.prev,e,e.next)>0&&Ot(t.prev,t,t.next)>0)}function Ot(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Mc(e,t){return e.x===t.x&&e.y===t.y}function J0(e,t,n,i){const r=Yl(Ot(e,t,n)),o=Yl(Ot(e,t,i)),a=Yl(Ot(n,i,e)),s=Yl(Ot(n,i,t));return!!(r!==o&&a!==s||r===0&&jl(e,n,t)||o===0&&jl(e,i,t)||a===0&&jl(n,e,i)||s===0&&jl(n,t,i))}function jl(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Yl(e){return e>0?1:e<0?-1:0}function dT(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&J0(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function Us(e,t){return Ot(e.prev,e,e.next)<0?Ot(e,t,e.next)>=0&&Ot(e,e.prev,t)>=0:Ot(e,t,e.prev)<0||Ot(e,e.next,t)<0}function fT(e,t){let n=e,i=!1;const r=(e.x+t.x)/2,o=(e.y+t.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==e);return i}function ey(e,t){const n=new vf(e.i,e.x,e.y),i=new vf(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function Km(e,t,n,i){const r=new vf(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Gs(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function vf(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function hT(e,t,n,i){let r=0;for(let o=t,a=n-i;o<n;o+=i)r+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return r}const $i={area:function(e){const t=e.length;let n=0;for(let i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return n*.5},isClockWise:function(e){return $i.area(e)<0},triangulateShape:function(e,t){const n=[],i=[],r=[];Zm(e),Jm(n,e);let o=e.length;t.forEach(Zm);for(let s=0;s<t.length;s++)i.push(o),o+=t[s].length,Jm(n,t[s]);const a=KM.triangulate(n,i);for(let s=0;s<a.length;s+=3)r.push(a.slice(s,s+3));return r}};function Zm(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Jm(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class fl extends Ke{constructor(t,n){super(),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:n},t=Array.isArray(t)?t:[t];const i=this,r=[],o=[];for(let s=0,l=t.length;s<l;s++){const u=t[s];a(u)}this.setAttribute("position",new He(r,3)),this.setAttribute("uv",new He(o,2)),this.computeVertexNormals();function a(s){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1;let d=n.depth!==void 0?n.depth:100,f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,h=n.bevelThickness!==void 0?n.bevelThickness:6,m=n.bevelSize!==void 0?n.bevelSize:h-2,y=n.bevelOffset!==void 0?n.bevelOffset:0,b=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,p=n.UVGenerator!==void 0?n.UVGenerator:mT;n.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),d=n.amount);let _,x=!1,S,M,T,R;g&&(_=g.getSpacedPoints(c),x=!0,f=!1,S=g.computeFrenetFrames(c,!1),M=new V,T=new V,R=new V),f||(b=0,h=0,m=0,y=0);const L=s.extractPoints(u);let I=L.shape;const k=L.holes;if(!$i.isClockWise(I)){I=I.reverse();for(let j=0,re=k.length;j<re;j++){const ue=k[j];$i.isClockWise(ue)&&(k[j]=ue.reverse())}}const C=$i.triangulateShape(I,k),E=I;for(let j=0,re=k.length;j<re;j++){const ue=k[j];I=I.concat(ue)}function D(j,re,ue){return re||console.error("THREE.ExtrudeGeometry: vec does not exist"),re.clone().multiplyScalar(ue).add(j)}const q=I.length,O=C.length;function G(j,re,ue){let we,_e,B;const z=j.x-re.x,ve=j.y-re.y,he=ue.x-j.x,H=ue.y-j.y,se=z*z+ve*ve,K=z*H-ve*he;if(Math.abs(K)>Number.EPSILON){const me=Math.sqrt(se),ge=Math.sqrt(he*he+H*H),Ee=re.x-ve/me,Le=re.y+z/me,Ne=ue.x-H/ge,Pe=ue.y+he/ge,ze=((Ne-Ee)*H-(Pe-Le)*he)/(z*H-ve*he);we=Ee+z*ze-j.x,_e=Le+ve*ze-j.y;const ce=we*we+_e*_e;if(ce<=2)return new Re(we,_e);B=Math.sqrt(ce/2)}else{let me=!1;z>Number.EPSILON?he>Number.EPSILON&&(me=!0):z<-Number.EPSILON?he<-Number.EPSILON&&(me=!0):Math.sign(ve)===Math.sign(H)&&(me=!0),me?(we=-ve,_e=z,B=Math.sqrt(se)):(we=z,_e=ve,B=Math.sqrt(se/2))}return new Re(we/B,_e/B)}const Y=[];for(let j=0,re=E.length,ue=re-1,we=j+1;j<re;j++,ue++,we++)ue===re&&(ue=0),we===re&&(we=0),Y[j]=G(E[j],E[ue],E[we]);const le=[];let W,P=Y.concat();for(let j=0,re=k.length;j<re;j++){const ue=k[j];W=[];for(let we=0,_e=ue.length,B=_e-1,z=we+1;we<_e;we++,B++,z++)B===_e&&(B=0),z===_e&&(z=0),W[we]=G(ue[we],ue[B],ue[z]);le.push(W),P=P.concat(W)}for(let j=0;j<b;j++){const re=j/b,ue=h*Math.cos(re*Math.PI/2),we=m*Math.sin(re*Math.PI/2)+y;for(let _e=0,B=E.length;_e<B;_e++){const z=D(E[_e],Y[_e],we);$(z.x,z.y,-ue)}for(let _e=0,B=k.length;_e<B;_e++){const z=k[_e];W=le[_e];for(let ve=0,he=z.length;ve<he;ve++){const H=D(z[ve],W[ve],we);$(H.x,H.y,-ue)}}}const Z=m+y;for(let j=0;j<q;j++){const re=f?D(I[j],P[j],Z):I[j];x?(T.copy(S.normals[0]).multiplyScalar(re.x),M.copy(S.binormals[0]).multiplyScalar(re.y),R.copy(_[0]).add(T).add(M),$(R.x,R.y,R.z)):$(re.x,re.y,0)}for(let j=1;j<=c;j++)for(let re=0;re<q;re++){const ue=f?D(I[re],P[re],Z):I[re];x?(T.copy(S.normals[j]).multiplyScalar(ue.x),M.copy(S.binormals[j]).multiplyScalar(ue.y),R.copy(_[j]).add(T).add(M),$(R.x,R.y,R.z)):$(ue.x,ue.y,d/c*j)}for(let j=b-1;j>=0;j--){const re=j/b,ue=h*Math.cos(re*Math.PI/2),we=m*Math.sin(re*Math.PI/2)+y;for(let _e=0,B=E.length;_e<B;_e++){const z=D(E[_e],Y[_e],we);$(z.x,z.y,d+ue)}for(let _e=0,B=k.length;_e<B;_e++){const z=k[_e];W=le[_e];for(let ve=0,he=z.length;ve<he;ve++){const H=D(z[ve],W[ve],we);x?$(H.x,H.y+_[c-1].y,_[c-1].x+ue):$(H.x,H.y,d+ue)}}}ne(),J();function ne(){const j=r.length/3;if(f){let re=0,ue=q*re;for(let we=0;we<O;we++){const _e=C[we];fe(_e[2]+ue,_e[1]+ue,_e[0]+ue)}re=c+b*2,ue=q*re;for(let we=0;we<O;we++){const _e=C[we];fe(_e[0]+ue,_e[1]+ue,_e[2]+ue)}}else{for(let re=0;re<O;re++){const ue=C[re];fe(ue[2],ue[1],ue[0])}for(let re=0;re<O;re++){const ue=C[re];fe(ue[0]+q*c,ue[1]+q*c,ue[2]+q*c)}}i.addGroup(j,r.length/3-j,0)}function J(){const j=r.length/3;let re=0;U(E,re),re+=E.length;for(let ue=0,we=k.length;ue<we;ue++){const _e=k[ue];U(_e,re),re+=_e.length}i.addGroup(j,r.length/3-j,1)}function U(j,re){let ue=j.length;for(;--ue>=0;){const we=ue;let _e=ue-1;_e<0&&(_e=j.length-1);for(let B=0,z=c+b*2;B<z;B++){const ve=q*B,he=q*(B+1),H=re+we+ve,se=re+_e+ve,K=re+_e+he,me=re+we+he;X(H,se,K,me)}}}function $(j,re,ue){l.push(j),l.push(re),l.push(ue)}function fe(j,re,ue){be(j),be(re),be(ue);const we=r.length/3,_e=p.generateTopUV(i,r,we-3,we-2,we-1);ke(_e[0]),ke(_e[1]),ke(_e[2])}function X(j,re,ue,we){be(j),be(re),be(we),be(re),be(ue),be(we);const _e=r.length/3,B=p.generateSideWallUV(i,r,_e-6,_e-3,_e-2,_e-1);ke(B[0]),ke(B[1]),ke(B[3]),ke(B[1]),ke(B[2]),ke(B[3])}function be(j){r.push(l[j*3+0]),r.push(l[j*3+1]),r.push(l[j*3+2])}function ke(j){o.push(j.x),o.push(j.y)}}}toJSON(){const t=Ke.prototype.toJSON.call(this),n=this.parameters.shapes,i=this.parameters.options;return pT(n,i,t)}}const mT={generateTopUV:function(e,t,n,i,r){const o=t[n*3],a=t[n*3+1],s=t[i*3],l=t[i*3+1],u=t[r*3],c=t[r*3+1];return[new Re(o,a),new Re(s,l),new Re(u,c)]},generateSideWallUV:function(e,t,n,i,r,o){const a=t[n*3],s=t[n*3+1],l=t[n*3+2],u=t[i*3],c=t[i*3+1],d=t[i*3+2],f=t[r*3],h=t[r*3+1],m=t[r*3+2],y=t[o*3],b=t[o*3+1],g=t[o*3+2];return Math.abs(s-c)<.01?[new Re(a,1-l),new Re(u,1-d),new Re(f,1-m),new Re(y,1-g)]:[new Re(s,1-l),new Re(c,1-d),new Re(h,1-m),new Re(b,1-g)]}};function pT(e,t,n){if(n.shapes=[],Array.isArray(e))for(let i=0,r=e.length;i<r;i++){const o=e[i];n.shapes.push(o.uuid)}else n.shapes.push(e.uuid);return t.extrudePath!==void 0&&(n.options.extrudePath=t.extrudePath.toJSON()),n}class ch extends St{constructor(t,n){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:n},this.fromBufferGeometry(new fl(t,n)),this.mergeVertices()}toJSON(){const t=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return vT(n,i,t)}}function vT(e,t,n){if(n.shapes=[],Array.isArray(e))for(let i=0,r=e.length;i<r;i++){const o=e[i];n.shapes.push(o.uuid)}else n.shapes.push(e.uuid);return t.extrudePath!==void 0&&(n.options.extrudePath=t.extrudePath.toJSON()),n}class dh extends Co{constructor(t=1,n=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,o,t,n),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:n}}}class ty extends St{constructor(t,n){super(),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:n},this.fromBufferGeometry(new dh(t,n)),this.mergeVertices()}}class fh extends Ke{constructor(t,n=12,i=0,r=Math.PI*2){super(),this.type="LatheBufferGeometry",this.parameters={points:t,segments:n,phiStart:i,phiLength:r},n=Math.floor(n),r=tt.clamp(r,0,Math.PI*2);const o=[],a=[],s=[],l=1/n,u=new V,c=new Re;for(let d=0;d<=n;d++){const f=i+d*l*r,h=Math.sin(f),m=Math.cos(f);for(let y=0;y<=t.length-1;y++)u.x=t[y].x*h,u.y=t[y].y,u.z=t[y].x*m,a.push(u.x,u.y,u.z),c.x=d/n,c.y=y/(t.length-1),s.push(c.x,c.y)}for(let d=0;d<n;d++)for(let f=0;f<t.length-1;f++){const h=f+d*t.length,m=h,y=h+t.length,b=h+t.length+1,g=h+1;o.push(m,y,g),o.push(y,b,g)}if(this.setIndex(o),this.setAttribute("position",new He(a,3)),this.setAttribute("uv",new He(s,2)),this.computeVertexNormals(),r===Math.PI*2){const d=this.attributes.normal.array,f=new V,h=new V,m=new V,y=n*t.length*3;for(let b=0,g=0;b<t.length;b++,g+=3)f.x=d[g+0],f.y=d[g+1],f.z=d[g+2],h.x=d[y+g+0],h.y=d[y+g+1],h.z=d[y+g+2],m.addVectors(f,h).normalize(),d[g+0]=d[y+g+0]=m.x,d[g+1]=d[y+g+1]=m.y,d[g+2]=d[y+g+2]=m.z}}}class ny extends St{constructor(t,n,i,r){super(),this.type="LatheGeometry",this.parameters={points:t,segments:n,phiStart:i,phiLength:r},this.fromBufferGeometry(new fh(t,n,i,r)),this.mergeVertices()}}class Tc extends Co{constructor(t=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,t,n),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:n}}}class iy extends St{constructor(t,n){super(),this.type="OctahedronGeometry",this.parameters={radius:t,detail:n},this.fromBufferGeometry(new Tc(t,n)),this.mergeVertices()}}function Ma(e,t,n){Ke.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};const i=[],r=[],o=[],a=[],s=1e-5,l=new V,u=new V,c=new V,d=new V,f=new V;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const h=t+1;for(let m=0;m<=n;m++){const y=m/n;for(let b=0;b<=t;b++){const g=b/t;e(g,y,u),r.push(u.x,u.y,u.z),g-s>=0?(e(g-s,y,c),d.subVectors(u,c)):(e(g+s,y,c),d.subVectors(c,u)),y-s>=0?(e(g,y-s,c),f.subVectors(u,c)):(e(g,y+s,c),f.subVectors(c,u)),l.crossVectors(d,f).normalize(),o.push(l.x,l.y,l.z),a.push(g,y)}}for(let m=0;m<n;m++)for(let y=0;y<t;y++){const b=m*h+y,g=m*h+y+1,p=(m+1)*h+y+1,_=(m+1)*h+y;i.push(b,g,_),i.push(g,p,_)}this.setIndex(i),this.setAttribute("position",new He(r,3)),this.setAttribute("normal",new He(o,3)),this.setAttribute("uv",new He(a,2))}Ma.prototype=Object.create(Ke.prototype);Ma.prototype.constructor=Ma;function Ws(e,t,n){St.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new Ma(e,t,n)),this.mergeVertices()}Ws.prototype=Object.create(St.prototype);Ws.prototype.constructor=Ws;class ry extends St{constructor(t,n,i,r){super(),this.type="PlaneGeometry",this.parameters={width:t,height:n,widthSegments:i,heightSegments:r},this.fromBufferGeometry(new _c(t,n,i,r)),this.mergeVertices()}}class oy extends St{constructor(t,n,i,r){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:n,radius:i,detail:r},this.fromBufferGeometry(new Co(t,n,i,r)),this.mergeVertices()}}class hh extends Ke{constructor(t=.5,n=1,i=8,r=1,o=0,a=Math.PI*2){super(),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:o,thetaLength:a},i=Math.max(3,i),r=Math.max(1,r);const s=[],l=[],u=[],c=[];let d=t;const f=(n-t)/r,h=new V,m=new Re;for(let y=0;y<=r;y++){for(let b=0;b<=i;b++){const g=o+b/i*a;h.x=d*Math.cos(g),h.y=d*Math.sin(g),l.push(h.x,h.y,h.z),u.push(0,0,1),m.x=(h.x/n+1)/2,m.y=(h.y/n+1)/2,c.push(m.x,m.y)}d+=f}for(let y=0;y<r;y++){const b=y*(i+1);for(let g=0;g<i;g++){const p=g+b,_=p,x=p+i+1,S=p+i+2,M=p+1;s.push(_,x,M),s.push(x,S,M)}}this.setIndex(s),this.setAttribute("position",new He(l,3)),this.setAttribute("normal",new He(u,3)),this.setAttribute("uv",new He(c,2))}}class ay extends St{constructor(t,n,i,r,o,a){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new hh(t,n,i,r,o,a)),this.mergeVertices()}}class mh extends Ke{constructor(t,n=12){super(),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:n};const i=[],r=[],o=[],a=[];let s=0,l=0;if(Array.isArray(t)===!1)u(t);else for(let c=0;c<t.length;c++)u(t[c]),this.addGroup(s,l,c),s+=l,l=0;this.setIndex(i),this.setAttribute("position",new He(r,3)),this.setAttribute("normal",new He(o,3)),this.setAttribute("uv",new He(a,2));function u(c){const d=r.length/3,f=c.extractPoints(n);let h=f.shape;const m=f.holes;$i.isClockWise(h)===!1&&(h=h.reverse());for(let b=0,g=m.length;b<g;b++){const p=m[b];$i.isClockWise(p)===!0&&(m[b]=p.reverse())}const y=$i.triangulateShape(h,m);for(let b=0,g=m.length;b<g;b++){const p=m[b];h=h.concat(p)}for(let b=0,g=h.length;b<g;b++){const p=h[b];r.push(p.x,p.y,0),o.push(0,0,1),a.push(p.x,p.y)}for(let b=0,g=y.length;b<g;b++){const p=y[b],_=p[0]+d,x=p[1]+d,S=p[2]+d;i.push(_,x,S),l+=3}}}toJSON(){const t=Ke.prototype.toJSON.call(this),n=this.parameters.shapes;return gT(n,t)}}function gT(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,i=e.length;n<i;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}class ph extends St{constructor(t,n){super(),this.type="ShapeGeometry",typeof n=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),n=n.curveSegments),this.parameters={shapes:t,curveSegments:n},this.fromBufferGeometry(new mh(t,n)),this.mergeVertices()}toJSON(){const t=St.prototype.toJSON.call(this),n=this.parameters.shapes;return yT(n,t)}}function yT(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,i=e.length;n<i;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}class Cc extends Ke{constructor(t=1,n=8,i=6,r=0,o=Math.PI*2,a=0,s=Math.PI){super(),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:n,heightSegments:i,phiStart:r,phiLength:o,thetaStart:a,thetaLength:s},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(a+s,Math.PI);let u=0;const c=[],d=new V,f=new V,h=[],m=[],y=[],b=[];for(let g=0;g<=i;g++){const p=[],_=g/i;let x=0;g==0&&a==0?x=.5/n:g==i&&l==Math.PI&&(x=-.5/n);for(let S=0;S<=n;S++){const M=S/n;d.x=-t*Math.cos(r+M*o)*Math.sin(a+_*s),d.y=t*Math.cos(a+_*s),d.z=t*Math.sin(r+M*o)*Math.sin(a+_*s),m.push(d.x,d.y,d.z),f.copy(d).normalize(),y.push(f.x,f.y,f.z),b.push(M+x,1-_),p.push(u++)}c.push(p)}for(let g=0;g<i;g++)for(let p=0;p<n;p++){const _=c[g][p+1],x=c[g][p],S=c[g+1][p],M=c[g+1][p+1];(g!==0||a>0)&&h.push(_,x,M),(g!==i-1||l<Math.PI)&&h.push(x,S,M)}this.setIndex(h),this.setAttribute("position",new He(m,3)),this.setAttribute("normal",new He(y,3)),this.setAttribute("uv",new He(b,2))}}class sy extends St{constructor(t,n,i,r,o,a,s){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:n,heightSegments:i,phiStart:r,phiLength:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new Cc(t,n,i,r,o,a,s)),this.mergeVertices()}}class vh extends Co{constructor(t=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,t,n),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:n}}}class ly extends St{constructor(t,n){super(),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:n},this.fromBufferGeometry(new vh(t,n)),this.mergeVertices()}}class gh extends fl{constructor(t,n={}){const i=n.font;if(!(i&&i.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Ke;const r=i.generateShapes(t,n.size);n.depth=n.height!==void 0?n.height:50,n.bevelThickness===void 0&&(n.bevelThickness=10),n.bevelSize===void 0&&(n.bevelSize=8),n.bevelEnabled===void 0&&(n.bevelEnabled=!1),super(r,n),this.type="TextBufferGeometry"}}class uy extends St{constructor(t,n){super(),this.type="TextGeometry",this.parameters={text:t,parameters:n},this.fromBufferGeometry(new gh(t,n)),this.mergeVertices()}}class yh extends Ke{constructor(t=1,n=.4,i=8,r=6,o=Math.PI*2){super(),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:n,radialSegments:i,tubularSegments:r,arc:o},i=Math.floor(i),r=Math.floor(r);const a=[],s=[],l=[],u=[],c=new V,d=new V,f=new V;for(let h=0;h<=i;h++)for(let m=0;m<=r;m++){const y=m/r*o,b=h/i*Math.PI*2;d.x=(t+n*Math.cos(b))*Math.cos(y),d.y=(t+n*Math.cos(b))*Math.sin(y),d.z=n*Math.sin(b),s.push(d.x,d.y,d.z),c.x=t*Math.cos(y),c.y=t*Math.sin(y),f.subVectors(d,c).normalize(),l.push(f.x,f.y,f.z),u.push(m/r),u.push(h/i)}for(let h=1;h<=i;h++)for(let m=1;m<=r;m++){const y=(r+1)*h+m-1,b=(r+1)*(h-1)+m-1,g=(r+1)*(h-1)+m,p=(r+1)*h+m;a.push(y,b,p),a.push(b,g,p)}this.setIndex(a),this.setAttribute("position",new He(s,3)),this.setAttribute("normal",new He(l,3)),this.setAttribute("uv",new He(u,2))}}class cy extends St{constructor(t,n,i,r,o){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:n,radialSegments:i,tubularSegments:r,arc:o},this.fromBufferGeometry(new yh(t,n,i,r,o)),this.mergeVertices()}}class bh extends Ke{constructor(t=1,n=.4,i=64,r=8,o=2,a=3){super(),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:n,tubularSegments:i,radialSegments:r,p:o,q:a},i=Math.floor(i),r=Math.floor(r);const s=[],l=[],u=[],c=[],d=new V,f=new V,h=new V,m=new V,y=new V,b=new V,g=new V;for(let _=0;_<=i;++_){const x=_/i*o*Math.PI*2;p(x,o,a,t,h),p(x+.01,o,a,t,m),b.subVectors(m,h),g.addVectors(m,h),y.crossVectors(b,g),g.crossVectors(y,b),y.normalize(),g.normalize();for(let S=0;S<=r;++S){const M=S/r*Math.PI*2,T=-n*Math.cos(M),R=n*Math.sin(M);d.x=h.x+(T*g.x+R*y.x),d.y=h.y+(T*g.y+R*y.y),d.z=h.z+(T*g.z+R*y.z),l.push(d.x,d.y,d.z),f.subVectors(d,h).normalize(),u.push(f.x,f.y,f.z),c.push(_/i),c.push(S/r)}}for(let _=1;_<=i;_++)for(let x=1;x<=r;x++){const S=(r+1)*(_-1)+(x-1),M=(r+1)*_+(x-1),T=(r+1)*_+x,R=(r+1)*(_-1)+x;s.push(S,M,R),s.push(M,T,R)}this.setIndex(s),this.setAttribute("position",new He(l,3)),this.setAttribute("normal",new He(u,3)),this.setAttribute("uv",new He(c,2));function p(_,x,S,M,T){const R=Math.cos(_),L=Math.sin(_),I=S/x*_,k=Math.cos(I);T.x=M*(2+k)*.5*R,T.y=M*(2+k)*L*.5,T.z=M*Math.sin(I)*.5}}}class dy extends St{constructor(t,n,i,r,o,a,s){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:n,tubularSegments:i,radialSegments:r,p:o,q:a},s!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new bh(t,n,i,r,o,a)),this.mergeVertices()}}class xh extends Ke{constructor(t,n=64,i=1,r=8,o=!1){super(),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:n,radius:i,radialSegments:r,closed:o};const a=t.computeFrenetFrames(n,o);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const s=new V,l=new V,u=new Re;let c=new V;const d=[],f=[],h=[],m=[];y(),this.setIndex(m),this.setAttribute("position",new He(d,3)),this.setAttribute("normal",new He(f,3)),this.setAttribute("uv",new He(h,2));function y(){for(let _=0;_<n;_++)b(_);b(o===!1?n:0),p(),g()}function b(_){c=t.getPointAt(_/n,c);const x=a.normals[_],S=a.binormals[_];for(let M=0;M<=r;M++){const T=M/r*Math.PI*2,R=Math.sin(T),L=-Math.cos(T);l.x=L*x.x+R*S.x,l.y=L*x.y+R*S.y,l.z=L*x.z+R*S.z,l.normalize(),f.push(l.x,l.y,l.z),s.x=c.x+i*l.x,s.y=c.y+i*l.y,s.z=c.z+i*l.z,d.push(s.x,s.y,s.z)}}function g(){for(let _=1;_<=n;_++)for(let x=1;x<=r;x++){const S=(r+1)*(_-1)+(x-1),M=(r+1)*_+(x-1),T=(r+1)*_+x,R=(r+1)*(_-1)+x;m.push(S,M,R),m.push(M,T,R)}}function p(){for(let _=0;_<=n;_++)for(let x=0;x<=r;x++)u.x=_/n,u.y=x/r,h.push(u.x,u.y)}}toJSON(){const t=Ke.prototype.toJSON.call(this);return t.path=this.parameters.path.toJSON(),t}}class fy extends St{constructor(t,n,i,r,o,a){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:n,radius:i,radialSegments:r,closed:o},a!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed.");const s=new xh(t,n,i,r,o);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals,this.fromBufferGeometry(s),this.mergeVertices()}}class _h extends Ke{constructor(t){super(),this.type="WireframeGeometry";const n=[],i=[0,0],r={},o=["a","b","c"];if(t&&t.isGeometry){const a=t.faces;for(let s=0,l=a.length;s<l;s++){const u=a[s];for(let c=0;c<3;c++){const d=u[o[c]],f=u[o[(c+1)%3]];i[0]=Math.min(d,f),i[1]=Math.max(d,f);const h=i[0]+","+i[1];r[h]===void 0&&(r[h]={index1:i[0],index2:i[1]})}}for(const s in r){const l=r[s];let u=t.vertices[l.index1];n.push(u.x,u.y,u.z),u=t.vertices[l.index2],n.push(u.x,u.y,u.z)}}else if(t&&t.isBufferGeometry){const a=new V;if(t.index!==null){const s=t.attributes.position,l=t.index;let u=t.groups;u.length===0&&(u=[{start:0,count:l.count,materialIndex:0}]);for(let c=0,d=u.length;c<d;++c){const f=u[c],h=f.start,m=f.count;for(let y=h,b=h+m;y<b;y+=3)for(let g=0;g<3;g++){const p=l.getX(y+g),_=l.getX(y+(g+1)%3);i[0]=Math.min(p,_),i[1]=Math.max(p,_);const x=i[0]+","+i[1];r[x]===void 0&&(r[x]={index1:i[0],index2:i[1]})}}for(const c in r){const d=r[c];a.fromBufferAttribute(s,d.index1),n.push(a.x,a.y,a.z),a.fromBufferAttribute(s,d.index2),n.push(a.x,a.y,a.z)}}else{const s=t.attributes.position;for(let l=0,u=s.count/3;l<u;l++)for(let c=0;c<3;c++){const d=3*l+c;a.fromBufferAttribute(s,d),n.push(a.x,a.y,a.z);const f=3*l+(c+1)%3;a.fromBufferAttribute(s,f),n.push(a.x,a.y,a.z)}}}this.setAttribute("position",new He(n,3))}}var xn=Object.freeze({__proto__:null,BoxGeometry:mf,BoxBufferGeometry:ll,CircleGeometry:Y0,CircleBufferGeometry:ah,ConeGeometry:X0,ConeBufferGeometry:Q0,CylinderGeometry:sh,CylinderBufferGeometry:dl,DodecahedronGeometry:K0,DodecahedronBufferGeometry:lh,EdgesGeometry:uh,ExtrudeGeometry:ch,ExtrudeBufferGeometry:fl,IcosahedronGeometry:ty,IcosahedronBufferGeometry:dh,LatheGeometry:ny,LatheBufferGeometry:fh,OctahedronGeometry:iy,OctahedronBufferGeometry:Tc,ParametricGeometry:Ws,ParametricBufferGeometry:Ma,PlaneGeometry:ry,PlaneBufferGeometry:_c,PolyhedronGeometry:oy,PolyhedronBufferGeometry:Co,RingGeometry:ay,RingBufferGeometry:hh,ShapeGeometry:ph,ShapeBufferGeometry:mh,SphereGeometry:sy,SphereBufferGeometry:Cc,TetrahedronGeometry:ly,TetrahedronBufferGeometry:vh,TextGeometry:uy,TextBufferGeometry:gh,TorusGeometry:cy,TorusBufferGeometry:yh,TorusKnotGeometry:dy,TorusKnotBufferGeometry:bh,TubeGeometry:fy,TubeBufferGeometry:xh,WireframeGeometry:_h});function ho(e){Je.call(this),this.type="ShadowMaterial",this.color=new Ge(0),this.transparent=!0,this.setValues(e)}ho.prototype=Object.create(Je.prototype);ho.prototype.constructor=ho;ho.prototype.isShadowMaterial=!0;ho.prototype.copy=function(e){return Je.prototype.copy.call(this,e),this.color.copy(e.color),this};function Xi(e){Tn.call(this,e),this.type="RawShaderMaterial"}Xi.prototype=Object.create(Tn.prototype);Xi.prototype.constructor=Xi;Xi.prototype.isRawShaderMaterial=!0;function Ei(e){Je.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ge(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Mo,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}Ei.prototype=Object.create(Je.prototype);Ei.prototype.constructor=Ei;Ei.prototype.isMeshStandardMaterial=!0;Ei.prototype.copy=function(e){return Je.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this};function Lr(e){Ei.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Re(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(t){this.reflectivity=tt.clamp(2.5*(t-1)/(t+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(e)}Lr.prototype=Object.create(Ei.prototype);Lr.prototype.constructor=Lr;Lr.prototype.isMeshPhysicalMaterial=!0;Lr.prototype.copy=function(e){return Ei.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new Ge).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this};function Rr(e){Je.call(this),this.type="MeshPhongMaterial",this.color=new Ge(16777215),this.specular=new Ge(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Mo,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=nl,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Rr.prototype=Object.create(Je.prototype);Rr.prototype.constructor=Rr;Rr.prototype.isMeshPhongMaterial=!0;Rr.prototype.copy=function(e){return Je.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function mo(e){Je.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ge(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Mo,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}mo.prototype=Object.create(Je.prototype);mo.prototype.constructor=mo;mo.prototype.isMeshToonMaterial=!0;mo.prototype.copy=function(e){return Je.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function po(e){Je.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Mo,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}po.prototype=Object.create(Je.prototype);po.prototype.constructor=po;po.prototype.isMeshNormalMaterial=!0;po.prototype.copy=function(e){return Je.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function vo(e){Je.call(this),this.type="MeshLambertMaterial",this.color=new Ge(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=nl,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}vo.prototype=Object.create(Je.prototype);vo.prototype.constructor=vo;vo.prototype.isMeshLambertMaterial=!0;vo.prototype.copy=function(e){return Je.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function go(e){Je.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ge(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Mo,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}go.prototype=Object.create(Je.prototype);go.prototype.constructor=go;go.prototype.isMeshMatcapMaterial=!0;go.prototype.copy=function(e){return Je.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function yo(e){Ft.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}yo.prototype=Object.create(Ft.prototype);yo.prototype.constructor=yo;yo.prototype.isLineDashedMaterial=!0;yo.prototype.copy=function(e){return Ft.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var bT=Object.freeze({__proto__:null,ShadowMaterial:ho,SpriteMaterial:Er,RawShaderMaterial:Xi,ShaderMaterial:Tn,PointsMaterial:di,MeshPhysicalMaterial:Lr,MeshStandardMaterial:Ei,MeshPhongMaterial:Rr,MeshToonMaterial:mo,MeshNormalMaterial:po,MeshLambertMaterial:vo,MeshDepthMaterial:Mr,MeshDistanceMaterial:Tr,MeshBasicMaterial:jn,MeshMatcapMaterial:go,LineDashedMaterial:yo,LineBasicMaterial:Ft,Material:Je});const Rt={arraySlice:function(e,t,n){return Rt.isTypedArray(e)?new e.constructor(e.subarray(t,n!==void 0?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:typeof t.BYTES_PER_ELEMENT=="number"?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(r,o){return e[r]-e[o]}const n=e.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(t),i},sortedArray:function(e,t,n){const i=e.length,r=new e.constructor(i);for(let o=0,a=0;a!==i;++o){const s=n[o]*t;for(let l=0;l!==t;++l)r[a++]=e[s+l]}return r},flattenJSON:function(e,t,n,i){let r=1,o=e[0];for(;o!==void 0&&o[i]===void 0;)o=e[r++];if(o===void 0)return;let a=o[i];if(a!==void 0)if(Array.isArray(a))do a=o[i],a!==void 0&&(t.push(o.time),n.push.apply(n,a)),o=e[r++];while(o!==void 0);else if(a.toArray!==void 0)do a=o[i],a!==void 0&&(t.push(o.time),a.toArray(n,n.length)),o=e[r++];while(o!==void 0);else do a=o[i],a!==void 0&&(t.push(o.time),n.push(a)),o=e[r++];while(o!==void 0)},subclip:function(e,t,n,i,r=30){const o=e.clone();o.name=t;const a=[];for(let l=0;l<o.tracks.length;++l){const u=o.tracks[l],c=u.getValueSize(),d=[],f=[];for(let h=0;h<u.times.length;++h){const m=u.times[h]*r;if(!(m<n||m>=i)){d.push(u.times[h]);for(let y=0;y<c;++y)f.push(u.values[h*c+y])}}d.length!==0&&(u.times=Rt.convertArray(d,u.times.constructor),u.values=Rt.convertArray(f,u.values.constructor),a.push(u))}o.tracks=a;let s=1/0;for(let l=0;l<o.tracks.length;++l)s>o.tracks[l].times[0]&&(s=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*s);return o.resetDuration(),o},makeClipAdditive:function(e,t=0,n=e,i=30){i<=0&&(i=30);const r=n.tracks.length,o=t/i;for(let a=0;a<r;++a){const s=n.tracks[a],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const u=e.tracks.find(function(g){return g.name===s.name&&g.ValueTypeName===l});if(u===void 0)continue;let c=0;const d=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=d/3);let f=0;const h=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);const m=s.times.length-1;let y;if(o<=s.times[0]){const g=c,p=d-c;y=Rt.arraySlice(s.values,g,p)}else if(o>=s.times[m]){const g=m*d+c,p=g+d-c;y=Rt.arraySlice(s.values,g,p)}else{const g=s.createInterpolant(),p=c,_=d-c;g.evaluate(o),y=Rt.arraySlice(g.resultBuffer,p,_)}l==="quaternion"&&new pn().fromArray(y).normalize().conjugate().toArray(y);const b=u.times.length;for(let g=0;g<b;++g){const p=g*h+f;if(l==="quaternion")pn.multiplyQuaternionsFlat(u.values,p,y,0,u.values,p);else{const _=h-f*2;for(let x=0;x<_;++x)u.values[p+x]-=y[x]}}}return e.blendMode=eh,e}};function qn(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n}Object.assign(qn.prototype,{evaluate:function(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{let o;n:{i:if(!(e<i)){for(let a=n+2;;){if(i===void 0){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,r)}if(n===a)break;if(r=i,i=t[++n],e<i)break t}o=t.length;break n}if(!(e>=r)){const a=t[1];e<a&&(n=2,r=a);for(let s=n-2;;){if(r===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===s)break;if(i=r,r=t[--n-1],e>=r)break t}o=n,n=0;break n}break e}for(;n<o;){const a=n+o>>>1;e<t[a]?o=a:n=a+1}if(i=t[n],r=t[n-1],r===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,r,e)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let o=0;o!==i;++o)t[o]=n[r+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}});Object.assign(qn.prototype,{beforeStart_:qn.prototype.copySampleValue_,afterEnd_:qn.prototype.copySampleValue_});function Fu(e,t,n,i){qn.call(this,e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}Fu.prototype=Object.assign(Object.create(qn.prototype),{constructor:Fu,DefaultSettings_:{endingStart:Zr,endingEnd:Zr},intervalChanged_:function(e,t,n){const i=this.parameterPositions;let r=e-2,o=e+1,a=i[r],s=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Jr:r=e,a=2*t-n;break;case Cs:r=i.length-2,a=t+i[r]-i[r+1];break;default:r=e,a=n}if(s===void 0)switch(this.getSettings_().endingEnd){case Jr:o=e,s=2*n-t;break;case Cs:o=1,s=n+i[1]-i[0];break;default:o=e-1,s=t}const l=(n-t)*.5,u=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(s-n),this._offsetPrev=r*u,this._offsetNext=o*u},interpolate_:function(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,u=this._offsetPrev,c=this._offsetNext,d=this._weightPrev,f=this._weightNext,h=(n-t)/(i-t),m=h*h,y=m*h,b=-d*y+2*d*m-d*h,g=(1+d)*y+(-1.5-2*d)*m+(-.5+d)*h+1,p=(-1-f)*y+(1.5+f)*m+.5*h,_=f*y-f*m;for(let x=0;x!==a;++x)r[x]=b*o[u+x]+g*o[l+x]+p*o[s+x]+_*o[c+x];return r}});function $s(e,t,n,i){qn.call(this,e,t,n,i)}$s.prototype=Object.assign(Object.create(qn.prototype),{constructor:$s,interpolate_:function(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,u=(n-t)/(i-t),c=1-u;for(let d=0;d!==a;++d)r[d]=o[l+d]*c+o[s+d]*u;return r}});function Du(e,t,n,i){qn.call(this,e,t,n,i)}Du.prototype=Object.assign(Object.create(qn.prototype),{constructor:Du,interpolate_:function(e){return this.copySampleValue_(e-1)}});function dn(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Rt.convertArray(t,this.TimeBufferType),this.values=Rt.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}Object.assign(dn,{toJSON:function(e){const t=e.constructor;let n;if(t.toJSON!==void 0)n=t.toJSON(e);else{n={name:e.name,times:Rt.convertArray(e.times,Array),values:Rt.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}});Object.assign(dn.prototype,{constructor:dn,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:fs,InterpolantFactoryMethodDiscrete:function(e){return new Du(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new $s(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Fu(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){let t;switch(e){case Ts:t=this.InterpolantFactoryMethodDiscrete;break;case fs:t=this.InterpolantFactoryMethodLinear;break;case _u:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ts;case this.InterpolantFactoryMethodLinear:return fs;case this.InterpolantFactoryMethodSmooth:return _u}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(e!==0){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this},scale:function(e){if(e!==1){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this},trim:function(e,t){const n=this.times,i=n.length;let r=0,o=i-1;for(;r!==i&&n[r]<e;)++r;for(;o!==-1&&n[o]>t;)--o;if(++o,r!==0||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);const a=this.getValueSize();this.times=Rt.arraySlice(n,r,o),this.values=Rt.arraySlice(this.values,r*a,o*a)}return this},validate:function(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,r=n.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==r;a++){const s=n[a];if(typeof s=="number"&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),e=!1;break}if(o!==null&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),e=!1;break}o=s}if(i!==void 0&&Rt.isTypedArray(i))for(let a=0,s=i.length;a!==s;++a){const l=i[a];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,l),e=!1;break}}return e},optimize:function(){const e=Rt.arraySlice(this.times),t=Rt.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===_u,r=e.length-1;let o=1;for(let a=1;a<r;++a){let s=!1;const l=e[a],u=e[a+1];if(l!==u&&(a!==1||l!==l[0]))if(i)s=!0;else{const c=a*n,d=c-n,f=c+n;for(let h=0;h!==n;++h){const m=t[c+h];if(m!==t[d+h]||m!==t[f+h]){s=!0;break}}}if(s){if(a!==o){e[o]=e[a];const c=a*n,d=o*n;for(let f=0;f!==n;++f)t[d+f]=t[c+f]}++o}}if(r>0){e[o]=e[r];for(let a=r*n,s=o*n,l=0;l!==n;++l)t[s+l]=t[a+l];++o}return o!==e.length?(this.times=Rt.arraySlice(e,0,o),this.values=Rt.arraySlice(t,0,o*n)):(this.times=e,this.values=t),this},clone:function(){const e=Rt.arraySlice(this.times,0),t=Rt.arraySlice(this.values,0),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}});function Ou(e,t,n){dn.call(this,e,t,n)}Ou.prototype=Object.assign(Object.create(dn.prototype),{constructor:Ou,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Ts,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function Nu(e,t,n,i){dn.call(this,e,t,n,i)}Nu.prototype=Object.assign(Object.create(dn.prototype),{constructor:Nu,ValueTypeName:"color"});function Ta(e,t,n,i){dn.call(this,e,t,n,i)}Ta.prototype=Object.assign(Object.create(dn.prototype),{constructor:Ta,ValueTypeName:"number"});function zu(e,t,n,i){qn.call(this,e,t,n,i)}zu.prototype=Object.assign(Object.create(qn.prototype),{constructor:zu,interpolate_:function(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-t)/(i-t);let l=e*a;for(let u=l+a;l!==u;l+=4)pn.slerpFlat(r,0,o,l-a,o,l,s);return r}});function js(e,t,n,i){dn.call(this,e,t,n,i)}js.prototype=Object.assign(Object.create(dn.prototype),{constructor:js,ValueTypeName:"quaternion",DefaultInterpolation:fs,InterpolantFactoryMethodLinear:function(e){return new zu(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0});function qu(e,t,n,i){dn.call(this,e,t,n,i)}qu.prototype=Object.assign(Object.create(dn.prototype),{constructor:qu,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Ts,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function Ca(e,t,n,i){dn.call(this,e,t,n,i)}Ca.prototype=Object.assign(Object.create(dn.prototype),{constructor:Ca,ValueTypeName:"vector"});function Fn(e,t=-1,n,i=yc){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=tt.generateUUID(),this.duration<0&&this.resetDuration()}function xT(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ta;case"vector":case"vector2":case"vector3":case"vector4":return Ca;case"color":return Nu;case"quaternion":return js;case"bool":case"boolean":return Ou;case"string":return qu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function _T(e){if(e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=xT(e.type);if(e.times===void 0){const n=[],i=[];Rt.flattenJSON(e.keys,n,i,"value"),e.times=n,e.values=i}return t.parse!==void 0?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(Fn,{parse:function(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let o=0,a=n.length;o!==a;++o)t.push(_T(n[o]).scale(i));const r=new Fn(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r},toJSON:function(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,o=n.length;r!==o;++r)t.push(dn.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(e,t,n,i){const r=t.length,o=[];for(let a=0;a<r;a++){let s=[],l=[];s.push((a+r-1)%r,a,(a+1)%r),l.push(0,1,0);const u=Rt.getKeyframeOrder(s);s=Rt.sortedArray(s,1,u),l=Rt.sortedArray(l,1,u),!i&&s[0]===0&&(s.push(r),l.push(l[0])),o.push(new Ta(".morphTargetInfluences["+t[a].name+"]",s,l).scale(1/n))}return new Fn(e,-1,o)},findByName:function(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let a=0,s=e.length;a<s;a++){const l=e[a],u=l.name.match(r);if(u&&u.length>1){const c=u[1];let d=i[c];d||(i[c]=d=[]),d.push(l)}}const o=[];for(const a in i)o.push(Fn.CreateFromMorphTargetSequence(a,i[a],t,n));return o},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(c,d,f,h,m){if(f.length!==0){const y=[],b=[];Rt.flattenJSON(f,y,b,h),y.length!==0&&m.push(new c(d,y,b))}},i=[],r=e.name||"default",o=e.fps||30,a=e.blendMode;let s=e.length||-1;const l=e.hierarchy||[];for(let c=0;c<l.length;c++){const d=l[c].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const f={};let h;for(h=0;h<d.length;h++)if(d[h].morphTargets)for(let m=0;m<d[h].morphTargets.length;m++)f[d[h].morphTargets[m]]=-1;for(const m in f){const y=[],b=[];for(let g=0;g!==d[h].morphTargets.length;++g){const p=d[h];y.push(p.time),b.push(p.morphTarget===m?1:0)}i.push(new Ta(".morphTargetInfluence["+m+"]",y,b))}s=f.length*(o||1)}else{const f=".bones["+t[c].name+"]";n(Ca,f+".position",d,"pos",i),n(js,f+".quaternion",d,"rot",i),n(Ca,f+".scale",d,"scl",i)}}return i.length===0?null:new Fn(r,s,i,a)}});Object.assign(Fn.prototype,{resetDuration:function(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const r=this.tracks[n];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this},trim:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new Fn(this.name,this.duration,e,this.blendMode)},toJSON:function(){return Fn.toJSON(this)}});const bo={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function wh(e,t,n){const i=this;let r=!1,o=0,a=0,s;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(u){a++,r===!1&&i.onStart!==void 0&&i.onStart(u,o,a),r=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(r=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return s?s(u):u},this.setURLModifier=function(u){return s=u,this},this.addHandler=function(u,c){return l.push(u,c),this},this.removeHandler=function(u){const c=l.indexOf(u);return c!==-1&&l.splice(c,2),this},this.getHandler=function(u){for(let c=0,d=l.length;c<d;c+=2){const f=l[c],h=l[c+1];if(f.global&&(f.lastIndex=0),f.test(u))return h}return null}}const hy=new wh;function yt(e){this.manager=e!==void 0?e:hy,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(yt.prototype,{load:function(){},loadAsync:function(e,t){const n=this;return new Promise(function(i,r){n.load(e,i,t,r)})},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});const ri={};function Qn(e){yt.call(this,e)}Qn.prototype=Object.assign(Object.create(yt.prototype),{constructor:Qn,load:function(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=bo.get(e);if(o!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o;if(ri[e]!==void 0){ri[e].push({onLoad:t,onProgress:n,onError:i});return}const a=/^data:(.*?)(;base64)?,(.*)$/,s=e.match(a);let l;if(s){const u=s[1],c=!!s[2];let d=s[3];d=decodeURIComponent(d),c&&(d=atob(d));try{let f;const h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":const m=new Uint8Array(d.length);for(let b=0;b<d.length;b++)m[b]=d.charCodeAt(b);h==="blob"?f=new Blob([m.buffer],{type:u}):f=m.buffer;break;case"document":f=new DOMParser().parseFromString(d,u);break;case"json":f=JSON.parse(d);break;default:f=d;break}setTimeout(function(){t&&t(f),r.manager.itemEnd(e)},0)}catch(f){setTimeout(function(){i&&i(f),r.manager.itemError(e),r.manager.itemEnd(e)},0)}}else{ri[e]=[],ri[e].push({onLoad:t,onProgress:n,onError:i}),l=new XMLHttpRequest,l.open("GET",e,!0),l.addEventListener("load",function(u){const c=this.response,d=ri[e];if(delete ri[e],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),bo.add(e,c);for(let f=0,h=d.length;f<h;f++){const m=d[f];m.onLoad&&m.onLoad(c)}r.manager.itemEnd(e)}else{for(let f=0,h=d.length;f<h;f++){const m=d[f];m.onError&&m.onError(u)}r.manager.itemError(e),r.manager.itemEnd(e)}},!1),l.addEventListener("progress",function(u){const c=ri[e];for(let d=0,f=c.length;d<f;d++){const h=c[d];h.onProgress&&h.onProgress(u)}},!1),l.addEventListener("error",function(u){const c=ri[e];delete ri[e];for(let d=0,f=c.length;d<f;d++){const h=c[d];h.onError&&h.onError(u)}r.manager.itemError(e),r.manager.itemEnd(e)},!1),l.addEventListener("abort",function(u){const c=ri[e];delete ri[e];for(let d=0,f=c.length;d<f;d++){const h=c[d];h.onError&&h.onError(u)}r.manager.itemError(e),r.manager.itemEnd(e)},!1),this.responseType!==void 0&&(l.responseType=this.responseType),this.withCredentials!==void 0&&(l.withCredentials=this.withCredentials),l.overrideMimeType&&l.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(const u in this.requestHeader)l.setRequestHeader(u,this.requestHeader[u]);l.send(null)}return r.manager.itemStart(e),l},setResponseType:function(e){return this.responseType=e,this},setMimeType:function(e){return this.mimeType=e,this}});function gf(e){yt.call(this,e)}gf.prototype=Object.assign(Object.create(yt.prototype),{constructor:gf,load:function(e,t,n,i){const r=this,o=new Qn(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(a){try{t(r.parse(JSON.parse(a)))}catch(s){i?i(s):console.error(s),r.manager.itemError(e)}},n,i)},parse:function(e){const t=[];for(let n=0;n<e.length;n++){const i=Fn.parse(e[n]);t.push(i)}return t}});function yf(e){yt.call(this,e)}yf.prototype=Object.assign(Object.create(yt.prototype),{constructor:yf,load:function(e,t,n,i){const r=this,o=[],a=new Sa,s=new Qn(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(r.withCredentials);let l=0;function u(c){s.load(e[c],function(d){const f=r.parse(d,!0);o[c]={width:f.width,height:f.height,format:f.format,mipmaps:f.mipmaps},l+=1,l===6&&(f.mipmapCount===1&&(a.minFilter=on),a.image=o,a.format=f.format,a.needsUpdate=!0,t&&t(a))},n,i)}if(Array.isArray(e))for(let c=0,d=e.length;c<d;++c)u(c);else s.load(e,function(c){const d=r.parse(c,!0);if(d.isCubemap){const f=d.mipmaps.length/d.mipmapCount;for(let h=0;h<f;h++){o[h]={mipmaps:[]};for(let m=0;m<d.mipmapCount;m++)o[h].mipmaps.push(d.mipmaps[h*d.mipmapCount+m]),o[h].format=d.format,o[h].width=d.width,o[h].height=d.height}a.image=o}else a.image.width=d.width,a.image.height=d.height,a.mipmaps=d.mipmaps;d.mipmapCount===1&&(a.minFilter=on),a.format=d.format,a.needsUpdate=!0,t&&t(a)},n,i);return a}});function Ea(e){yt.call(this,e)}Ea.prototype=Object.assign(Object.create(yt.prototype),{constructor:Ea,load:function(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=bo.get(e);if(o!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o;const a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1),bo.add(e,this),t&&t(this),r.manager.itemEnd(e)}function l(u){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1),i&&i(u),r.manager.itemError(e),r.manager.itemEnd(e)}return a.addEventListener("load",s,!1),a.addEventListener("error",l,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(e),a.src=e,a}});function Hu(e){yt.call(this,e)}Hu.prototype=Object.assign(Object.create(yt.prototype),{constructor:Hu,load:function(e,t,n,i){const r=new Ci,o=new Ea(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function s(l){o.load(e[l],function(u){r.images[l]=u,a++,a===6&&(r.needsUpdate=!0,t&&t(r))},void 0,i)}for(let l=0;l<e.length;++l)s(l);return r}});function Vu(e){yt.call(this,e)}Vu.prototype=Object.assign(Object.create(yt.prototype),{constructor:Vu,load:function(e,t,n,i){const r=this,o=new Yi,a=new Qn(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(r.withCredentials),a.load(e,function(s){const l=r.parse(s);!l||(l.image!==void 0?o.image=l.image:l.data!==void 0&&(o.image.width=l.width,o.image.height=l.height,o.image.data=l.data),o.wrapS=l.wrapS!==void 0?l.wrapS:_n,o.wrapT=l.wrapT!==void 0?l.wrapT:_n,o.magFilter=l.magFilter!==void 0?l.magFilter:on,o.minFilter=l.minFilter!==void 0?l.minFilter:on,o.anisotropy=l.anisotropy!==void 0?l.anisotropy:1,l.format!==void 0&&(o.format=l.format),l.type!==void 0&&(o.type=l.type),l.mipmaps!==void 0&&(o.mipmaps=l.mipmaps,o.minFilter=Ia),l.mipmapCount===1&&(o.minFilter=on),o.needsUpdate=!0,t&&t(o,l))},n,i),o}});function Uu(e){yt.call(this,e)}Uu.prototype=Object.assign(Object.create(yt.prototype),{constructor:Uu,load:function(e,t,n,i){const r=new Mt,o=new Ea(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){r.image=a;const s=e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0;r.format=s?gr:Nn,r.needsUpdate=!0,t!==void 0&&t(r)},n,i),r}});function Qe(){this.type="Curve",this.arcLengthDivisions=200}Object.assign(Qe.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){const e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),r=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),r+=n.distanceTo(i),t.push(r),i=n;return this.cacheArcLengths=t,t},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){const n=this.getLengths();let i=0;const r=n.length;let o;t?o=t:o=e*n[r-1];let a=0,s=r-1,l;for(;a<=s;)if(i=Math.floor(a+(s-a)/2),l=n[i]-o,l<0)a=i+1;else if(l>0)s=i-1;else{s=i;break}if(i=s,n[i]===o)return i/(r-1);const u=n[i],d=n[i+1]-u,f=(o-u)/d;return(i+f)/(r-1)},getTangent:function(e,t){let i=e-1e-4,r=e+1e-4;i<0&&(i=0),r>1&&(r=1);const o=this.getPoint(i),a=this.getPoint(r),s=t||(o.isVector2?new Re:new V);return s.copy(a).sub(o).normalize(),s},getTangentAt:function(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)},computeFrenetFrames:function(e,t){const n=new V,i=[],r=[],o=[],a=new V,s=new at;for(let f=0;f<=e;f++){const h=f/e;i[f]=this.getTangentAt(h,new V),i[f].normalize()}r[0]=new V,o[0]=new V;let l=Number.MAX_VALUE;const u=Math.abs(i[0].x),c=Math.abs(i[0].y),d=Math.abs(i[0].z);u<=l&&(l=u,n.set(1,0,0)),c<=l&&(l=c,n.set(0,1,0)),d<=l&&n.set(0,0,1),a.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],a),o[0].crossVectors(i[0],r[0]);for(let f=1;f<=e;f++){if(r[f]=r[f-1].clone(),o[f]=o[f-1].clone(),a.crossVectors(i[f-1],i[f]),a.length()>Number.EPSILON){a.normalize();const h=Math.acos(tt.clamp(i[f-1].dot(i[f]),-1,1));r[f].applyMatrix4(s.makeRotationAxis(a,h))}o[f].crossVectors(i[f],r[f])}if(t===!0){let f=Math.acos(tt.clamp(r[0].dot(r[e]),-1,1));f/=e,i[0].dot(a.crossVectors(r[0],r[e]))>0&&(f=-f);for(let h=1;h<=e;h++)r[h].applyMatrix4(s.makeRotationAxis(i[h],f*h)),o[h].crossVectors(i[h],r[h])}return{tangents:i,normals:r,binormals:o}},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}});function Vn(e,t,n,i,r,o,a,s){Qe.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}Vn.prototype=Object.create(Qe.prototype);Vn.prototype.constructor=Vn;Vn.prototype.isEllipseCurve=!0;Vn.prototype.getPoint=function(e,t){const n=t||new Re,i=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(o?r=0:r=i),this.aClockwise===!0&&!o&&(r===i?r=-i:r=r-i);const a=this.aStartAngle+e*r;let s=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),d=s-this.aX,f=l-this.aY;s=d*u-f*c+this.aX,l=d*c+f*u+this.aY}return n.set(s,l)};Vn.prototype.copy=function(e){return Qe.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};Vn.prototype.toJSON=function(){const e=Qe.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e};Vn.prototype.fromJSON=function(e){return Qe.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};function Aa(e,t,n,i,r,o){Vn.call(this,e,t,n,n,i,r,o),this.type="ArcCurve"}Aa.prototype=Object.create(Vn.prototype);Aa.prototype.constructor=Aa;Aa.prototype.isArcCurve=!0;function Sh(){let e=0,t=0,n=0,i=0;function r(o,a,s,l){e=o,t=s,n=-3*o+3*a-2*s-l,i=2*o-2*a+s+l}return{initCatmullRom:function(o,a,s,l,u){r(a,s,u*(s-o),u*(l-a))},initNonuniformCatmullRom:function(o,a,s,l,u,c,d){let f=(a-o)/u-(s-o)/(u+c)+(s-a)/c,h=(s-a)/c-(l-a)/(c+d)+(l-s)/d;f*=c,h*=c,r(a,s,f,h)},calc:function(o){const a=o*o,s=a*o;return e+t*o+n*a+i*s}}}const Xl=new V,md=new Sh,pd=new Sh,vd=new Sh;function yn(e=[],t=!1,n="centripetal",i=.5){Qe.call(this),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}yn.prototype=Object.create(Qe.prototype);yn.prototype.constructor=yn;yn.prototype.isCatmullRomCurve3=!0;yn.prototype.getPoint=function(e,t=new V){const n=t,i=this.points,r=i.length,o=(r-(this.closed?0:1))*e;let a=Math.floor(o),s=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/r)+1)*r:s===0&&a===r-1&&(a=r-2,s=1);let l,u;this.closed||a>0?l=i[(a-1)%r]:(Xl.subVectors(i[0],i[1]).add(i[0]),l=Xl);const c=i[a%r],d=i[(a+1)%r];if(this.closed||a+2<r?u=i[(a+2)%r]:(Xl.subVectors(i[r-1],i[r-2]).add(i[r-1]),u=Xl),this.curveType==="centripetal"||this.curveType==="chordal"){const f=this.curveType==="chordal"?.5:.25;let h=Math.pow(l.distanceToSquared(c),f),m=Math.pow(c.distanceToSquared(d),f),y=Math.pow(d.distanceToSquared(u),f);m<1e-4&&(m=1),h<1e-4&&(h=m),y<1e-4&&(y=m),md.initNonuniformCatmullRom(l.x,c.x,d.x,u.x,h,m,y),pd.initNonuniformCatmullRom(l.y,c.y,d.y,u.y,h,m,y),vd.initNonuniformCatmullRom(l.z,c.z,d.z,u.z,h,m,y)}else this.curveType==="catmullrom"&&(md.initCatmullRom(l.x,c.x,d.x,u.x,this.tension),pd.initCatmullRom(l.y,c.y,d.y,u.y,this.tension),vd.initCatmullRom(l.z,c.z,d.z,u.z,this.tension));return n.set(md.calc(s),pd.calc(s),vd.calc(s)),n};yn.prototype.copy=function(e){Qe.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};yn.prototype.toJSON=function(){const e=Qe.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e};yn.prototype.fromJSON=function(e){Qe.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new V().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};function ep(e,t,n,i,r){const o=(i-t)*.5,a=(r-n)*.5,s=e*e,l=e*s;return(2*n-2*i+o+a)*l+(-3*n+3*i-2*o-a)*s+o*e+n}function wT(e,t){const n=1-e;return n*n*t}function ST(e,t){return 2*(1-e)*e*t}function MT(e,t){return e*e*t}function ps(e,t,n,i){return wT(e,t)+ST(e,n)+MT(e,i)}function TT(e,t){const n=1-e;return n*n*n*t}function CT(e,t){const n=1-e;return 3*n*n*e*t}function ET(e,t){return 3*(1-e)*e*e*t}function AT(e,t){return e*e*e*t}function vs(e,t,n,i,r){return TT(e,t)+CT(e,n)+ET(e,i)+AT(e,r)}function fi(e=new Re,t=new Re,n=new Re,i=new Re){Qe.call(this),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}fi.prototype=Object.create(Qe.prototype);fi.prototype.constructor=fi;fi.prototype.isCubicBezierCurve=!0;fi.prototype.getPoint=function(e,t=new Re){const n=t,i=this.v0,r=this.v1,o=this.v2,a=this.v3;return n.set(vs(e,i.x,r.x,o.x,a.x),vs(e,i.y,r.y,o.y,a.y)),n};fi.prototype.copy=function(e){return Qe.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};fi.prototype.toJSON=function(){const e=Qe.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};fi.prototype.fromJSON=function(e){return Qe.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function Ai(e=new V,t=new V,n=new V,i=new V){Qe.call(this),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}Ai.prototype=Object.create(Qe.prototype);Ai.prototype.constructor=Ai;Ai.prototype.isCubicBezierCurve3=!0;Ai.prototype.getPoint=function(e,t=new V){const n=t,i=this.v0,r=this.v1,o=this.v2,a=this.v3;return n.set(vs(e,i.x,r.x,o.x,a.x),vs(e,i.y,r.y,o.y,a.y),vs(e,i.z,r.z,o.z,a.z)),n};Ai.prototype.copy=function(e){return Qe.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};Ai.prototype.toJSON=function(){const e=Qe.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};Ai.prototype.fromJSON=function(e){return Qe.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function Rn(e=new Re,t=new Re){Qe.call(this),this.type="LineCurve",this.v1=e,this.v2=t}Rn.prototype=Object.create(Qe.prototype);Rn.prototype.constructor=Rn;Rn.prototype.isLineCurve=!0;Rn.prototype.getPoint=function(e,t=new Re){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};Rn.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};Rn.prototype.getTangent=function(e,t){const n=t||new Re;return n.copy(this.v2).sub(this.v1).normalize(),n};Rn.prototype.copy=function(e){return Qe.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Rn.prototype.toJSON=function(){const e=Qe.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Rn.prototype.fromJSON=function(e){return Qe.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function hi(e=new V,t=new V){Qe.call(this),this.type="LineCurve3",this.v1=e,this.v2=t}hi.prototype=Object.create(Qe.prototype);hi.prototype.constructor=hi;hi.prototype.isLineCurve3=!0;hi.prototype.getPoint=function(e,t=new V){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};hi.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};hi.prototype.copy=function(e){return Qe.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};hi.prototype.toJSON=function(){const e=Qe.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};hi.prototype.fromJSON=function(e){return Qe.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function mi(e=new Re,t=new Re,n=new Re){Qe.call(this),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}mi.prototype=Object.create(Qe.prototype);mi.prototype.constructor=mi;mi.prototype.isQuadraticBezierCurve=!0;mi.prototype.getPoint=function(e,t=new Re){const n=t,i=this.v0,r=this.v1,o=this.v2;return n.set(ps(e,i.x,r.x,o.x),ps(e,i.y,r.y,o.y)),n};mi.prototype.copy=function(e){return Qe.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};mi.prototype.toJSON=function(){const e=Qe.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};mi.prototype.fromJSON=function(e){return Qe.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Li(e=new V,t=new V,n=new V){Qe.call(this),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}Li.prototype=Object.create(Qe.prototype);Li.prototype.constructor=Li;Li.prototype.isQuadraticBezierCurve3=!0;Li.prototype.getPoint=function(e,t=new V){const n=t,i=this.v0,r=this.v1,o=this.v2;return n.set(ps(e,i.x,r.x,o.x),ps(e,i.y,r.y,o.y),ps(e,i.z,r.z,o.z)),n};Li.prototype.copy=function(e){return Qe.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Li.prototype.toJSON=function(){const e=Qe.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Li.prototype.fromJSON=function(e){return Qe.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function pi(e=[]){Qe.call(this),this.type="SplineCurve",this.points=e}pi.prototype=Object.create(Qe.prototype);pi.prototype.constructor=pi;pi.prototype.isSplineCurve=!0;pi.prototype.getPoint=function(e,t=new Re){const n=t,i=this.points,r=(i.length-1)*e,o=Math.floor(r),a=r-o,s=i[o===0?o:o-1],l=i[o],u=i[o>i.length-2?i.length-1:o+1],c=i[o>i.length-3?i.length-1:o+2];return n.set(ep(a,s.x,l.x,u.x,c.x),ep(a,s.y,l.y,u.y,c.y)),n};pi.prototype.copy=function(e){Qe.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this};pi.prototype.toJSON=function(){const e=Qe.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e};pi.prototype.fromJSON=function(e){Qe.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new Re().fromArray(i))}return this};var bf=Object.freeze({__proto__:null,ArcCurve:Aa,CatmullRomCurve3:yn,CubicBezierCurve:fi,CubicBezierCurve3:Ai,EllipseCurve:Vn,LineCurve:Rn,LineCurve3:hi,QuadraticBezierCurve:mi,QuadraticBezierCurve3:Li,SplineCurve:pi});function Gi(){Qe.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}Gi.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Gi,add:function(e){this.curves.push(e)},closePath:function(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Rn(t,e))},getPoint:function(e){const t=e*this.getLength(),n=this.getCurveLengths();let i=0;for(;i<n.length;){if(n[i]>=t){const r=n[i]-t,o=this.curves[i],a=o.getLength(),s=a===0?0:1-r/a;return o.getPointAt(s)}i++}return null},getLength:function(){const e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e=12){const t=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const o=r[i],a=o&&o.isEllipseCurve?e*2:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a);for(let l=0;l<s.length;l++){const u=s[l];n&&n.equals(u)||(t.push(u),n=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t},copy:function(e){Qe.prototype.copy.call(this,e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){const e=Qe.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e},fromJSON:function(e){Qe.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(new bf[i.type]().fromJSON(i))}return this}});function si(e){Gi.call(this),this.type="Path",this.currentPoint=new Re,e&&this.setFromPoints(e)}si.prototype=Object.assign(Object.create(Gi.prototype),{constructor:si,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){const n=new Rn(this.currentPoint.clone(),new Re(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,i){const r=new mi(this.currentPoint.clone(),new Re(e,t),new Re(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this},bezierCurveTo:function(e,t,n,i,r,o){const a=new fi(this.currentPoint.clone(),new Re(e,t),new Re(n,i),new Re(r,o));return this.curves.push(a),this.currentPoint.set(r,o),this},splineThru:function(e){const t=[this.currentPoint.clone()].concat(e),n=new pi(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,i,r,o){const a=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+a,t+s,n,i,r,o),this},absarc:function(e,t,n,i,r,o){return this.absellipse(e,t,n,n,i,r,o),this},ellipse:function(e,t,n,i,r,o,a,s){const l=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+l,t+u,n,i,r,o,a,s),this},absellipse:function(e,t,n,i,r,o,a,s){const l=new Vn(e,t,n,i,r,o,a,s);if(this.curves.length>0){const c=l.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(l);const u=l.getPoint(1);return this.currentPoint.copy(u),this},copy:function(e){return Gi.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){const e=Gi.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Gi.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}});function br(e){si.call(this,e),this.uuid=tt.generateUUID(),this.type="Shape",this.holes=[]}br.prototype=Object.assign(Object.create(si.prototype),{constructor:br,getPointsHoles:function(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){si.prototype.copy.call(this,e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(i.clone())}return this},toJSON:function(){const e=si.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e},fromJSON:function(e){si.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(new si().fromJSON(i))}return this}});function Lt(e,t=1){Ye.call(this),this.type="Light",this.color=new Ge(e),this.intensity=t}Lt.prototype=Object.assign(Object.create(Ye.prototype),{constructor:Lt,isLight:!0,copy:function(e){return Ye.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){const t=Ye.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}});function Gu(e,t,n){Lt.call(this,e,n),this.type="HemisphereLight",this.position.copy(Ye.DefaultUp),this.updateMatrix(),this.groundColor=new Ge(t)}Gu.prototype=Object.assign(Object.create(Lt.prototype),{constructor:Gu,isHemisphereLight:!0,copy:function(e){return Lt.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}});function Qi(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Re(512,512),this.map=null,this.mapPass=null,this.matrix=new at,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ul,this._frameExtents=new Re(1,1),this._viewportCount=1,this._viewports=[new _t(0,0,1,1)]}Object.assign(Qi.prototype,{_projScreenMatrix:new at,_lightPositionWorld:new V,_lookTarget:new V,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){const t=this.camera,n=this.matrix,i=this._projScreenMatrix,r=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(e.matrixWorld),t.position.copy(o),r.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(r),t.updateMatrixWorld(),i.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}});function xf(){Qi.call(this,new Yt(50,1,.5,500)),this.focus=1}xf.prototype=Object.assign(Object.create(Qi.prototype),{constructor:xf,isSpotLightShadow:!0,updateMatrices:function(e){const t=this.camera,n=tt.RAD2DEG*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;(n!==t.fov||i!==t.aspect||r!==t.far)&&(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),Qi.prototype.updateMatrices.call(this,e)}});function Wu(e,t,n,i,r,o){Lt.call(this,e,t),this.type="SpotLight",this.position.copy(Ye.DefaultUp),this.updateMatrix(),this.target=new Ye,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(a){this.intensity=a/Math.PI}}),this.distance=n!==void 0?n:0,this.angle=i!==void 0?i:Math.PI/3,this.penumbra=r!==void 0?r:0,this.decay=o!==void 0?o:1,this.shadow=new xf}Wu.prototype=Object.assign(Object.create(Lt.prototype),{constructor:Wu,isSpotLight:!0,copy:function(e){return Lt.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function _f(){Qi.call(this,new Yt(90,1,.5,500)),this._frameExtents=new Re(4,2),this._viewportCount=6,this._viewports=[new _t(2,1,1,1),new _t(0,1,1,1),new _t(3,1,1,1),new _t(1,1,1,1),new _t(3,0,1,1),new _t(1,0,1,1)],this._cubeDirections=[new V(1,0,0),new V(-1,0,0),new V(0,0,1),new V(0,0,-1),new V(0,1,0),new V(0,-1,0)],this._cubeUps=[new V(0,1,0),new V(0,1,0),new V(0,1,0),new V(0,1,0),new V(0,0,1),new V(0,0,-1)]}_f.prototype=Object.assign(Object.create(Qi.prototype),{constructor:_f,isPointLightShadow:!0,updateMatrices:function(e,t=0){const n=this.camera,i=this.matrix,r=this._lightPositionWorld,o=this._lookTarget,a=this._projScreenMatrix;r.setFromMatrixPosition(e.matrixWorld),n.position.copy(r),o.copy(n.position),o.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(o),n.updateMatrixWorld(),i.makeTranslation(-r.x,-r.y,-r.z),a.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(a)}});function $u(e,t,n,i){Lt.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(r){this.intensity=r/(4*Math.PI)}}),this.distance=n!==void 0?n:0,this.decay=i!==void 0?i:1,this.shadow=new _f}$u.prototype=Object.assign(Object.create(Lt.prototype),{constructor:$u,isPointLight:!0,copy:function(e){return Lt.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}});function La(e=-1,t=1,n=1,i=-1,r=.1,o=2e3){Ti.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=r,this.far=o,this.updateProjectionMatrix()}La.prototype=Object.assign(Object.create(Ti.prototype),{constructor:La,isOrthographicCamera:!0,copy:function(e,t){return Ti.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,i,r,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-e,o=n+e,a=i+t,s=i-t;if(this.view!==null&&this.view.enabled){const l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=l*this.view.offsetX,o=r+l*this.view.width,a-=u*this.view.offsetY,s=a-u*this.view.height}this.projectionMatrix.makeOrthographic(r,o,a,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(e){const t=Ye.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}});function wf(){Qi.call(this,new La(-5,5,5,-5,.5,500))}wf.prototype=Object.assign(Object.create(Qi.prototype),{constructor:wf,isDirectionalLightShadow:!0,updateMatrices:function(e){Qi.prototype.updateMatrices.call(this,e)}});function ju(e,t){Lt.call(this,e,t),this.type="DirectionalLight",this.position.copy(Ye.DefaultUp),this.updateMatrix(),this.target=new Ye,this.shadow=new wf}ju.prototype=Object.assign(Object.create(Lt.prototype),{constructor:ju,isDirectionalLight:!0,copy:function(e){return Lt.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function Yu(e,t){Lt.call(this,e,t),this.type="AmbientLight"}Yu.prototype=Object.assign(Object.create(Lt.prototype),{constructor:Yu,isAmbientLight:!0});function Xu(e,t,n,i){Lt.call(this,e,t),this.type="RectAreaLight",this.width=n!==void 0?n:10,this.height=i!==void 0?i:10}Xu.prototype=Object.assign(Object.create(Lt.prototype),{constructor:Xu,isRectAreaLight:!0,copy:function(e){return Lt.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){const t=Lt.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});class my{constructor(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new V)}set(t){for(let n=0;n<9;n++)this.coefficients[n].copy(t[n]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,n){const i=t.x,r=t.y,o=t.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*r),n.addScaledVector(a[2],.488603*o),n.addScaledVector(a[3],.488603*i),n.addScaledVector(a[4],1.092548*(i*r)),n.addScaledVector(a[5],1.092548*(r*o)),n.addScaledVector(a[6],.315392*(3*o*o-1)),n.addScaledVector(a[7],1.092548*(i*o)),n.addScaledVector(a[8],.546274*(i*i-r*r)),n}getIrradianceAt(t,n){const i=t.x,r=t.y,o=t.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*r),n.addScaledVector(a[2],2*.511664*o),n.addScaledVector(a[3],2*.511664*i),n.addScaledVector(a[4],2*.429043*i*r),n.addScaledVector(a[5],2*.429043*r*o),n.addScaledVector(a[6],.743125*o*o-.247708),n.addScaledVector(a[7],2*.429043*i*o),n.addScaledVector(a[8],.429043*(i*i-r*r)),n}add(t){for(let n=0;n<9;n++)this.coefficients[n].add(t.coefficients[n]);return this}addScaledSH(t,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],n);return this}scale(t){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(t);return this}lerp(t,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],n);return this}equals(t){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(t.coefficients[n]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(t,n+r*3);return this}toArray(t=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(t,n+r*3);return t}static getBasisAt(t,n){const i=t.x,r=t.y,o=t.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*o,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*i*o,n[8]=.546274*(i*i-r*r)}}function Wn(e,t){Lt.call(this,void 0,t),this.type="LightProbe",this.sh=e!==void 0?e:new my}Wn.prototype=Object.assign(Object.create(Lt.prototype),{constructor:Wn,isLightProbe:!0,copy:function(e){return Lt.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){const t=Lt.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}});function Qu(e){yt.call(this,e),this.textures={}}Qu.prototype=Object.assign(Object.create(yt.prototype),{constructor:Qu,load:function(e,t,n,i){const r=this,o=new Qn(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(a){try{t(r.parse(JSON.parse(a)))}catch(s){i?i(s):console.error(s),r.manager.itemError(e)}},n,i)},parse:function(e){const t=this.textures;function n(r){return t[r]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",r),t[r]}const i=new bT[e.type];if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=new Ge().setHex(e.sheen)),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.skinning!==void 0&&(i.skinning=e.skinning),e.morphTargets!==void 0&&(i.morphTargets=e.morphTargets),e.morphNormals!==void 0&&(i.morphNormals=e.morphNormals),e.dithering!==void 0&&(i.dithering=e.dithering),e.vertexTangents!==void 0&&(i.vertexTangents=e.vertexTangents),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const r in e.uniforms){const o=e.uniforms[r];switch(i.uniforms[r]={},o.type){case"t":i.uniforms[r].value=n(o.value);break;case"c":i.uniforms[r].value=new Ge().setHex(o.value);break;case"v2":i.uniforms[r].value=new Re().fromArray(o.value);break;case"v3":i.uniforms[r].value=new V().fromArray(o.value);break;case"v4":i.uniforms[r].value=new _t().fromArray(o.value);break;case"m3":i.uniforms[r].value=new Sn().fromArray(o.value);break;case"m4":i.uniforms[r].value=new at().fromArray(o.value);break;default:i.uniforms[r].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const r in e.extensions)i.extensions[r]=e.extensions[r];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=n(e.map)),e.matcap!==void 0&&(i.matcap=n(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let r=e.normalScale;Array.isArray(r)===!1&&(r=[r,r]),i.normalScale=new Re().fromArray(r)}return e.displacementMap!==void 0&&(i.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=n(e.specularMap)),e.envMap!==void 0&&(i.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Re().fromArray(e.clearcoatNormalScale)),e.transmission!==void 0&&(i.transmission=e.transmission),e.transmissionMap!==void 0&&(i.transmissionMap=n(e.transmissionMap)),i},setTextures:function(e){return this.textures=e,this}});const Mh={decodeText:function(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}},extractUrlBase:function(e){const t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}};function Ys(){Ke.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}Ys.prototype=Object.assign(Object.create(Ke.prototype),{constructor:Ys,isInstancedBufferGeometry:!0,copy:function(e){return Ke.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const e=Ke.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}});function Ku(e,t,n,i){typeof n=="number"&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Ze.call(this,e,t,n),this.meshPerAttribute=i||1}Ku.prototype=Object.assign(Object.create(Ze.prototype),{constructor:Ku,isInstancedBufferAttribute:!0,copy:function(e){return Ze.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){const e=Ze.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}});function Zu(e){yt.call(this,e)}Zu.prototype=Object.assign(Object.create(yt.prototype),{constructor:Zu,load:function(e,t,n,i){const r=this,o=new Qn(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(a){try{t(r.parse(JSON.parse(a)))}catch(s){i?i(s):console.error(s),r.manager.itemError(e)}},n,i)},parse:function(e){const t={},n={};function i(f,h){if(t[h]!==void 0)return t[h];const y=f.interleavedBuffers[h],b=r(f,y.buffer),g=ss(y.type,b),p=new On(g,y.stride);return p.uuid=y.uuid,t[h]=p,p}function r(f,h){if(n[h]!==void 0)return n[h];const y=f.arrayBuffers[h],b=new Uint32Array(y).buffer;return n[h]=b,b}const o=e.isInstancedBufferGeometry?new Ys:new Ke,a=e.data.index;if(a!==void 0){const f=ss(a.type,a.array);o.setIndex(new Ze(f,1))}const s=e.data.attributes;for(const f in s){const h=s[f];let m;if(h.isInterleavedBufferAttribute){const y=i(e.data,h.data);m=new Cr(y,h.itemSize,h.offset,h.normalized)}else{const y=ss(h.type,h.array),b=h.isInstancedBufferAttribute?Ku:Ze;m=new b(y,h.itemSize,h.normalized)}h.name!==void 0&&(m.name=h.name),o.setAttribute(f,m)}const l=e.data.morphAttributes;if(l)for(const f in l){const h=l[f],m=[];for(let y=0,b=h.length;y<b;y++){const g=h[y];let p;if(g.isInterleavedBufferAttribute){const _=i(e.data,g.data);p=new Cr(_,g.itemSize,g.offset,g.normalized)}else{const _=ss(g.type,g.array);p=new Ze(_,g.itemSize,g.normalized)}g.name!==void 0&&(p.name=g.name),m.push(p)}o.morphAttributes[f]=m}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const c=e.data.groups||e.data.drawcalls||e.data.offsets;if(c!==void 0)for(let f=0,h=c.length;f!==h;++f){const m=c[f];o.addGroup(m.start,m.count,m.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const f=new V;d.center!==void 0&&f.fromArray(d.center),o.boundingSphere=new Zi(f,d.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}});class LT extends yt{constructor(t){super(t)}load(t,n,i,r){const o=this,a=this.path===""?Mh.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||a;const s=new Qn(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(t,function(l){let u=null;try{u=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+t+".",d.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+t);return}o.parse(u,n)},i,r)}parse(t,n){const i=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),o=this.parseGeometries(t.geometries,r),a=this.parseImages(t.images,function(){n!==void 0&&n(u)}),s=this.parseTextures(t.textures,a),l=this.parseMaterials(t.materials,s),u=this.parseObject(t.object,o,l,i),c=this.parseSkeletons(t.skeletons,u);if(this.bindSkeletons(u,c),n!==void 0){let d=!1;for(const f in a)if(a[f]instanceof HTMLImageElement){d=!0;break}d===!1&&n(u)}return u}parseShapes(t){const n={};if(t!==void 0)for(let i=0,r=t.length;i<r;i++){const o=new br().fromJSON(t[i]);n[o.uuid]=o}return n}parseSkeletons(t,n){const i={},r={};if(n.traverse(function(o){o.isBone&&(r[o.uuid]=o)}),t!==void 0)for(let o=0,a=t.length;o<a;o++){const s=new zs().fromJSON(t[o],r);i[s.uuid]=s}return i}parseGeometries(t,n){const i={};let r;if(t!==void 0){const o=new Zu;for(let a=0,s=t.length;a<s;a++){let l;const u=t[a];switch(u.type){case"PlaneGeometry":case"PlaneBufferGeometry":l=new xn[u.type](u.width,u.height,u.widthSegments,u.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":l=new xn[u.type](u.width,u.height,u.depth,u.widthSegments,u.heightSegments,u.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":l=new xn[u.type](u.radius,u.segments,u.thetaStart,u.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":l=new xn[u.type](u.radiusTop,u.radiusBottom,u.height,u.radialSegments,u.heightSegments,u.openEnded,u.thetaStart,u.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":l=new xn[u.type](u.radius,u.height,u.radialSegments,u.heightSegments,u.openEnded,u.thetaStart,u.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":l=new xn[u.type](u.radius,u.widthSegments,u.heightSegments,u.phiStart,u.phiLength,u.thetaStart,u.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":l=new xn[u.type](u.radius,u.detail);break;case"RingGeometry":case"RingBufferGeometry":l=new xn[u.type](u.innerRadius,u.outerRadius,u.thetaSegments,u.phiSegments,u.thetaStart,u.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":l=new xn[u.type](u.radius,u.tube,u.radialSegments,u.tubularSegments,u.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":l=new xn[u.type](u.radius,u.tube,u.tubularSegments,u.radialSegments,u.p,u.q);break;case"TubeGeometry":case"TubeBufferGeometry":l=new xn[u.type](new bf[u.path.type]().fromJSON(u.path),u.tubularSegments,u.radius,u.radialSegments,u.closed);break;case"LatheGeometry":case"LatheBufferGeometry":l=new xn[u.type](u.points,u.segments,u.phiStart,u.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":l=new xn[u.type](u.vertices,u.indices,u.radius,u.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":r=[];for(let d=0,f=u.shapes.length;d<f;d++){const h=n[u.shapes[d]];r.push(h)}l=new xn[u.type](r,u.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":r=[];for(let d=0,f=u.shapes.length;d<f;d++){const h=n[u.shapes[d]];r.push(h)}const c=u.options.extrudePath;c!==void 0&&(u.options.extrudePath=new bf[c.type]().fromJSON(c)),l=new xn[u.type](r,u.options);break;case"BufferGeometry":case"InstancedBufferGeometry":l=o.parse(u);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+u.type+'"');continue}l.uuid=u.uuid,u.name!==void 0&&(l.name=u.name),l.isBufferGeometry===!0&&u.userData!==void 0&&(l.userData=u.userData),i[u.uuid]=l}}return i}parseMaterials(t,n){const i={},r={};if(t!==void 0){const o=new Qu;o.setTextures(n);for(let a=0,s=t.length;a<s;a++){const l=t[a];if(l.type==="MultiMaterial"){const u=[];for(let c=0;c<l.materials.length;c++){const d=l.materials[c];i[d.uuid]===void 0&&(i[d.uuid]=o.parse(d)),u.push(i[d.uuid])}r[l.uuid]=u}else i[l.uuid]===void 0&&(i[l.uuid]=o.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(t){const n={};if(t!==void 0)for(let i=0;i<t.length;i++){const r=t[i],o=Fn.parse(r);n[o.uuid]=o}return n}parseImages(t,n){const i=this,r={};let o;function a(l){return i.manager.itemStart(l),o.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:i.resourcePath+u;return a(c)}else return l.data?{data:ss(l.type,l.data),width:l.width,height:l.height}:null}if(t!==void 0&&t.length>0){const l=new wh(n);o=new Ea(l),o.setCrossOrigin(this.crossOrigin);for(let u=0,c=t.length;u<c;u++){const d=t[u],f=d.url;if(Array.isArray(f)){r[d.uuid]=[];for(let h=0,m=f.length;h<m;h++){const y=f[h],b=s(y);b!==null&&(b instanceof HTMLImageElement?r[d.uuid].push(b):r[d.uuid].push(new Yi(b.data,b.width,b.height)))}}else{const h=s(d.url);h!==null&&(r[d.uuid]=h)}}}return r}parseTextures(t,n){function i(o,a){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),a[o])}const r={};if(t!==void 0)for(let o=0,a=t.length;o<a;o++){const s=t[o];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),n[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);let l;const u=n[s.image];Array.isArray(u)?(l=new Ci(u),u.length===6&&(l.needsUpdate=!0)):(u&&u.data?l=new Yi(u.data,u.width,u.height):l=new Mt(u),u&&(l.needsUpdate=!0)),l.uuid=s.uuid,s.name!==void 0&&(l.name=s.name),s.mapping!==void 0&&(l.mapping=i(s.mapping,RT)),s.offset!==void 0&&l.offset.fromArray(s.offset),s.repeat!==void 0&&l.repeat.fromArray(s.repeat),s.center!==void 0&&l.center.fromArray(s.center),s.rotation!==void 0&&(l.rotation=s.rotation),s.wrap!==void 0&&(l.wrapS=i(s.wrap[0],tp),l.wrapT=i(s.wrap[1],tp)),s.format!==void 0&&(l.format=s.format),s.type!==void 0&&(l.type=s.type),s.encoding!==void 0&&(l.encoding=s.encoding),s.minFilter!==void 0&&(l.minFilter=i(s.minFilter,np)),s.magFilter!==void 0&&(l.magFilter=i(s.magFilter,np)),s.anisotropy!==void 0&&(l.anisotropy=s.anisotropy),s.flipY!==void 0&&(l.flipY=s.flipY),s.premultiplyAlpha!==void 0&&(l.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(l.unpackAlignment=s.unpackAlignment),r[s.uuid]=l}return r}parseObject(t,n,i,r){let o;function a(c){return n[c]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",c),n[c]}function s(c){if(c!==void 0){if(Array.isArray(c)){const d=[];for(let f=0,h=c.length;f<h;f++){const m=c[f];i[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),d.push(i[m])}return d}return i[c]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",c),i[c]}}let l,u;switch(t.type){case"Scene":o=new oh,t.background!==void 0&&Number.isInteger(t.background)&&(o.background=new Ge(t.background)),t.fog!==void 0&&(t.fog.type==="Fog"?o.fog=new Sc(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&&(o.fog=new wc(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":o=new Yt(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&&(o.focus=t.focus),t.zoom!==void 0&&(o.zoom=t.zoom),t.filmGauge!==void 0&&(o.filmGauge=t.filmGauge),t.filmOffset!==void 0&&(o.filmOffset=t.filmOffset),t.view!==void 0&&(o.view=Object.assign({},t.view));break;case"OrthographicCamera":o=new La(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&&(o.zoom=t.zoom),t.view!==void 0&&(o.view=Object.assign({},t.view));break;case"AmbientLight":o=new Yu(t.color,t.intensity);break;case"DirectionalLight":o=new ju(t.color,t.intensity);break;case"PointLight":o=new $u(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":o=new Xu(t.color,t.intensity,t.width,t.height);break;case"SpotLight":o=new Wu(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":o=new Gu(t.color,t.groundColor,t.intensity);break;case"LightProbe":o=new Wn().fromJSON(t);break;case"SkinnedMesh":l=a(t.geometry),u=s(t.material),o=new Os(l,u),t.bindMode!==void 0&&(o.bindMode=t.bindMode),t.bindMatrix!==void 0&&o.bindMatrix.fromArray(t.bindMatrix),t.skeleton!==void 0&&(o.skeleton=t.skeleton);break;case"Mesh":l=a(t.geometry),u=s(t.material),o=new Pt(l,u);break;case"InstancedMesh":l=a(t.geometry),u=s(t.material);const c=t.count,d=t.instanceMatrix;o=new Bu(l,u,c),o.instanceMatrix=new Ze(new Float32Array(d.array),16);break;case"LOD":o=new Ds;break;case"Line":o=new Xn(a(t.geometry),s(t.material));break;case"LineLoop":o=new Iu(a(t.geometry),s(t.material));break;case"LineSegments":o=new Cn(a(t.geometry),s(t.material));break;case"PointCloud":case"Points":o=new wa(a(t.geometry),s(t.material));break;case"Sprite":o=new Fs(s(t.material));break;case"Group":o=new pr;break;case"Bone":o=new Ns;break;default:o=new Ye}if(o.uuid=t.uuid,t.name!==void 0&&(o.name=t.name),t.matrix!==void 0?(o.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=t.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(t.position!==void 0&&o.position.fromArray(t.position),t.rotation!==void 0&&o.rotation.fromArray(t.rotation),t.quaternion!==void 0&&o.quaternion.fromArray(t.quaternion),t.scale!==void 0&&o.scale.fromArray(t.scale)),t.castShadow!==void 0&&(o.castShadow=t.castShadow),t.receiveShadow!==void 0&&(o.receiveShadow=t.receiveShadow),t.shadow&&(t.shadow.bias!==void 0&&(o.shadow.bias=t.shadow.bias),t.shadow.normalBias!==void 0&&(o.shadow.normalBias=t.shadow.normalBias),t.shadow.radius!==void 0&&(o.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&&(o.visible=t.visible),t.frustumCulled!==void 0&&(o.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&&(o.renderOrder=t.renderOrder),t.userData!==void 0&&(o.userData=t.userData),t.layers!==void 0&&(o.layers.mask=t.layers),t.children!==void 0){const c=t.children;for(let d=0;d<c.length;d++)o.add(this.parseObject(c[d],n,i,r))}if(t.animations!==void 0){const c=t.animations;for(let d=0;d<c.length;d++){const f=c[d];o.animations.push(r[f])}}if(t.type==="LOD"){t.autoUpdate!==void 0&&(o.autoUpdate=t.autoUpdate);const c=t.levels;for(let d=0;d<c.length;d++){const f=c[d],h=o.getObjectByProperty("uuid",f.object);h!==void 0&&o.addLevel(h,f.distance)}}return o}bindSkeletons(t,n){Object.keys(n).length!==0&&t.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=n[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}setTexturePath(t){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)}}const RT={UVMapping:gc,CubeReflectionMapping:il,CubeRefractionMapping:rl,EquirectangularReflectionMapping:Au,EquirectangularRefractionMapping:Lu,CubeUVReflectionMapping:Ba,CubeUVRefractionMapping:ol},tp={RepeatWrapping:_s,ClampToEdgeWrapping:_n,MirroredRepeatWrapping:ws},np={NearestFilter:Zt,NearestMipmapNearestFilter:Ru,NearestMipmapLinearFilter:ku,LinearFilter:on,LinearMipmapNearestFilter:Jf,LinearMipmapLinearFilter:Ia};function Sf(e){typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),yt.call(this,e),this.options={premultiplyAlpha:"none"}}Sf.prototype=Object.assign(Object.create(yt.prototype),{constructor:Sf,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:function(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=bo.get(e);if(o!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",fetch(e,a).then(function(s){return s.blob()}).then(function(s){return createImageBitmap(s,r.options)}).then(function(s){bo.add(e,s),t&&t(s),r.manager.itemEnd(e)}).catch(function(s){i&&i(s),r.manager.itemError(e),r.manager.itemEnd(e)}),r.manager.itemStart(e)}});function Th(){this.type="ShapePath",this.color=new Ge,this.subPaths=[],this.currentPath=null}Object.assign(Th.prototype,{moveTo:function(e,t){return this.currentPath=new si,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this},bezierCurveTo:function(e,t,n,i,r,o){return this.currentPath.bezierCurveTo(e,t,n,i,r,o),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(g){const p=[];for(let _=0,x=g.length;_<x;_++){const S=g[_],M=new br;M.curves=S.curves,p.push(M)}return p}function i(g,p){const _=p.length;let x=!1;for(let S=_-1,M=0;M<_;S=M++){let T=p[S],R=p[M],L=R.x-T.x,I=R.y-T.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(T=p[M],L=-L,R=p[S],I=-I),g.y<T.y||g.y>R.y)continue;if(g.y===T.y){if(g.x===T.x)return!0}else{const k=I*(g.x-T.x)-L*(g.y-T.y);if(k===0)return!0;if(k<0)continue;x=!x}}else{if(g.y!==T.y)continue;if(R.x<=g.x&&g.x<=T.x||T.x<=g.x&&g.x<=R.x)return!0}}return x}const r=$i.isClockWise,o=this.subPaths;if(o.length===0)return[];if(t===!0)return n(o);let a,s,l;const u=[];if(o.length===1)return s=o[0],l=new br,l.curves=s.curves,u.push(l),u;let c=!r(o[0].getPoints());c=e?!c:c;const d=[],f=[];let h=[],m=0,y;f[m]=void 0,h[m]=[];for(let g=0,p=o.length;g<p;g++)s=o[g],y=s.getPoints(),a=r(y),a=e?!a:a,a?(!c&&f[m]&&m++,f[m]={s:new br,p:y},f[m].s.curves=s.curves,c&&m++,h[m]=[]):h[m].push({h:s,p:y[0]});if(!f[0])return n(o);if(f.length>1){let g=!1;const p=[];for(let _=0,x=f.length;_<x;_++)d[_]=[];for(let _=0,x=f.length;_<x;_++){const S=h[_];for(let M=0;M<S.length;M++){const T=S[M];let R=!0;for(let L=0;L<f.length;L++)i(T.p,f[L].p)&&(_!==L&&p.push({froms:_,tos:L,hole:M}),R?(R=!1,d[L].push(T)):g=!0);R&&d[_].push(T)}}p.length>0&&(g||(h=d))}let b;for(let g=0,p=f.length;g<p;g++){l=f[g].s,u.push(l),b=h[g];for(let _=0,x=b.length;_<x;_++)l.holes.push(b[_].h)}return u}});function Ch(e){this.type="Font",this.data=e}Object.assign(Ch.prototype,{isFont:!0,generateShapes:function(e,t=100){const n=[],i=kT(e,t,this.data);for(let r=0,o=i.length;r<o;r++)Array.prototype.push.apply(n,i[r].toShapes());return n}});function kT(e,t,n){const i=Array.from?Array.from(e):String(e).split(""),r=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,a=[];let s=0,l=0;for(let u=0;u<i.length;u++){const c=i[u];if(c===`
`)s=0,l-=o;else{const d=PT(c,r,s,l,n);s+=d.offsetX,a.push(d.path)}}return a}function PT(e,t,n,i,r){const o=r.glyphs[e]||r.glyphs["?"];if(!o){console.error('THREE.Font: character "'+e+'" does not exists in font family '+r.familyName+".");return}const a=new Th;let s,l,u,c,d,f,h,m;if(o.o){const y=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let b=0,g=y.length;b<g;)switch(y[b++]){case"m":s=y[b++]*t+n,l=y[b++]*t+i,a.moveTo(s,l);break;case"l":s=y[b++]*t+n,l=y[b++]*t+i,a.lineTo(s,l);break;case"q":u=y[b++]*t+n,c=y[b++]*t+i,d=y[b++]*t+n,f=y[b++]*t+i,a.quadraticCurveTo(d,f,u,c);break;case"b":u=y[b++]*t+n,c=y[b++]*t+i,d=y[b++]*t+n,f=y[b++]*t+i,h=y[b++]*t+n,m=y[b++]*t+i,a.bezierCurveTo(d,f,h,m,u,c);break}}return{offsetX:o.ha*t,path:a}}function Mf(e){yt.call(this,e)}Mf.prototype=Object.assign(Object.create(yt.prototype),{constructor:Mf,load:function(e,t,n,i){const r=this,o=new Qn(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(a){let s;try{s=JSON.parse(a)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),s=JSON.parse(a.substring(65,a.length-2))}const l=r.parse(s);t&&t(l)},n,i)},parse:function(e){return new Ch(e)}});let Ql;const Eh={getContext:function(){return Ql===void 0&&(Ql=new(window.AudioContext||window.webkitAudioContext)),Ql},setContext:function(e){Ql=e}};function Ju(e){yt.call(this,e)}Ju.prototype=Object.assign(Object.create(yt.prototype),{constructor:Ju,load:function(e,t,n,i){const r=this,o=new Qn(r.manager);o.setResponseType("arraybuffer"),o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(a){try{const s=a.slice(0);Eh.getContext().decodeAudioData(s,function(u){t(u)})}catch(s){i?i(s):console.error(s),r.manager.itemError(e)}},n,i)}});function Tf(e,t,n){Wn.call(this,void 0,n);const i=new Ge().set(e),r=new Ge().set(t),o=new V(i.r,i.g,i.b),a=new V(r.r,r.g,r.b),s=Math.sqrt(Math.PI),l=s*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(s),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(l)}Tf.prototype=Object.assign(Object.create(Wn.prototype),{constructor:Tf,isHemisphereLightProbe:!0,copy:function(e){return Wn.prototype.copy.call(this,e),this},toJSON:function(e){return Wn.prototype.toJSON.call(this,e)}});function Cf(e,t){Wn.call(this,void 0,t);const n=new Ge().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}Cf.prototype=Object.assign(Object.create(Wn.prototype),{constructor:Cf,isAmbientLightProbe:!0,copy:function(e){return Wn.prototype.copy.call(this,e),this},toJSON:function(e){return Wn.prototype.toJSON.call(this,e)}});const ip=new at,rp=new at;function py(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Yt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Yt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(py.prototype,{update:function(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;const i=e.projectionMatrix.clone(),r=t.eyeSep/2,o=r*t.near/t.focus,a=t.near*Math.tan(tt.DEG2RAD*t.fov*.5)/t.zoom;let s,l;rp.elements[12]=-r,ip.elements[12]=r,s=-a*t.aspect+o,l=a*t.aspect+o,i.elements[0]=2*t.near/(l-s),i.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(i),s=-a*t.aspect-o,l=a*t.aspect-o,i.elements[0]=2*t.near/(l-s),i.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(rp),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(ip)}});class vy{constructor(t){this.autoStart=t!==void 0?t:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=op(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=op();t=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=t}return t}}function op(){return(typeof performance=="undefined"?Date:performance).now()}const zr=new V,ap=new pn,BT=new V,qr=new V;class IT extends Ye{constructor(){super(),this.type="AudioListener",this.context=Eh.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new vy}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const n=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(zr,ap,BT),qr.set(0,0,-1).applyQuaternion(ap),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(zr.x,r),n.positionY.linearRampToValueAtTime(zr.y,r),n.positionZ.linearRampToValueAtTime(zr.z,r),n.forwardX.linearRampToValueAtTime(qr.x,r),n.forwardY.linearRampToValueAtTime(qr.y,r),n.forwardZ.linearRampToValueAtTime(qr.z,r),n.upX.linearRampToValueAtTime(i.x,r),n.upY.linearRampToValueAtTime(i.y,r),n.upZ.linearRampToValueAtTime(i.z,r)}else n.setPosition(zr.x,zr.y,zr.z),n.setOrientation(qr.x,qr.y,qr.z,i.x,i.y,i.z)}}class Ah extends Ye{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,n=this.filters.length;t<n;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,n=this.filters.length;t<n;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}const Hr=new V,sp=new pn,FT=new V,Vr=new V;class DT extends Ah{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,n,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Hr,sp,FT),Vr.set(0,0,1).applyQuaternion(sp);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Hr.x,i),n.positionY.linearRampToValueAtTime(Hr.y,i),n.positionZ.linearRampToValueAtTime(Hr.z,i),n.orientationX.linearRampToValueAtTime(Vr.x,i),n.orientationY.linearRampToValueAtTime(Vr.y,i),n.orientationZ.linearRampToValueAtTime(Vr.z,i)}else n.setPosition(Hr.x,Hr.y,Hr.z),n.setOrientation(Vr.x,Vr.y,Vr.z)}}class gy{constructor(t,n=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)t+=n[i];return t/n.length}}function Lh(e,t,n){this.binding=e,this.valueSize=n;let i,r,o;switch(t){case"quaternion":i=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(Lh.prototype,{accumulate:function(e,t){const n=this.buffer,i=this.valueSize,r=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)n[r+a]=n[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(n,r,0,a,i)}this.cumulativeWeight=o},accumulateAdditive:function(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e},apply:function(e){const t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const s=t*this._origIndex;this._mixBufferRegion(n,i,s,1-r,t)}o>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let s=t,l=t+t;s!==l;++s)if(n[s]!==n[s+t]){a.setValue(n,i);break}},saveOriginalState:function(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let r=n,o=i;r!==o;++r)t[r]=t[i+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]},_select:function(e,t,n,i,r){if(i>=.5)for(let o=0;o!==r;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,i){pn.slerpFlat(e,t,e,t,e,n,i)},_slerpAdditive:function(e,t,n,i,r){const o=this._workIndex*r;pn.multiplyQuaternionsFlat(e,o,e,t,e,n),pn.slerpFlat(e,t,e,t,e,o,i)},_lerp:function(e,t,n,i,r){const o=1-i;for(let a=0;a!==r;++a){const s=t+a;e[s]=e[s]*o+e[n+a]*i}},_lerpAdditive:function(e,t,n,i,r){for(let o=0;o!==r;++o){const a=t+o;e[a]=e[a]+e[n+o]*i}}});const Rh="\\[\\]\\.:\\/",OT=new RegExp("["+Rh+"]","g"),kh="[^"+Rh+"]",NT="[^"+Rh.replace("\\.","")+"]",zT=/((?:WC+[\/:])*)/.source.replace("WC",kh),qT=/(WCOD+)?/.source.replace("WCOD",NT),HT=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",kh),VT=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",kh),UT=new RegExp("^"+zT+qT+HT+VT+"$"),GT=["material","materials","bones"];function yy(e,t,n){const i=n||vn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}Object.assign(yy.prototype,{getValue:function(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)},setValue:function(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)},bind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}});function vn(e,t,n){this.path=t,this.parsedPath=n||vn.parseTrackName(t),this.node=vn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}Object.assign(vn,{Composite:yy,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new vn.Composite(e,t,n):new vn(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(OT,"")},parseTrackName:function(e){const t=UT.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const r=n.nodeName.substring(i+1);GT.indexOf(r)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(r){for(let o=0;o<r.length;o++){const a=r[o];if(a.name===t||a.uuid===t)return a;const s=n(a.children);if(s)return s}return null},i=n(e.children);if(i)return i}return null}});Object.assign(vn.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,n){t[n]=this.node[this.propertyName]},function(t,n){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)t[n++]=i[r]},function(t,n){t[n]=this.resolvedProperty[this.propertyIndex]},function(t,n){this.resolvedProperty.toArray(t,n)}],SetterByBindingTypeAndVersioning:[[function(t,n){this.targetObject[this.propertyName]=t[n]},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)i[r]=t[n++]},function(t,n){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)i[r]=t[n++];this.targetObject.needsUpdate=!0},function(t,n){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)i[r]=t[n++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty[this.propertyIndex]=t[n]},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty.fromArray(t,n)},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,n){this.bind(),this.getValue(t,n)},setValue:function(t,n){this.bind(),this.setValue(t,n)},bind:function(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let r=t.propertyIndex;if(e||(e=vn.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let l=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===l){l=u;break}break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(l!==void 0){if(e[l]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[l]}}const o=e[i];if(o===void 0){const l=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(r!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}s=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else o.fromArray!==void 0&&o.toArray!==void 0?(s=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(s=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][a]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}});Object.assign(vn.prototype,{_getValue_unbound:vn.prototype.getValue,_setValue_unbound:vn.prototype.setValue});function by(){this.uuid=tt.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}Object.assign(by.prototype,{isAnimationObjectGroup:!0,add:function(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,o=r.length;let a,s=e.length,l=this.nCachedObjects_;for(let u=0,c=arguments.length;u!==c;++u){const d=arguments[u],f=d.uuid;let h=t[f];if(h===void 0){h=s++,t[f]=h,e.push(d);for(let m=0,y=o;m!==y;++m)r[m].push(new vn(d,n[m],i[m]))}else if(h<l){a=e[h];const m=--l,y=e[m];t[y.uuid]=h,e[h]=y,t[f]=m,e[m]=d;for(let b=0,g=o;b!==g;++b){const p=r[b],_=p[m];let x=p[h];p[h]=_,x===void 0&&(x=new vn(d,n[b],i[b])),p[m]=x}}else e[h]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l},remove:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const s=arguments[o],l=s.uuid,u=t[l];if(u!==void 0&&u>=r){const c=r++,d=e[c];t[d.uuid]=u,e[u]=d,t[l]=c,e[c]=s;for(let f=0,h=i;f!==h;++f){const m=n[f],y=m[c],b=m[u];m[u]=y,m[c]=b}}}this.nCachedObjects_=r},uncache:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_,o=e.length;for(let a=0,s=arguments.length;a!==s;++a){const l=arguments[a],u=l.uuid,c=t[u];if(c!==void 0)if(delete t[u],c<r){const d=--r,f=e[d],h=--o,m=e[h];t[f.uuid]=c,e[c]=f,t[m.uuid]=d,e[d]=m,e.pop();for(let y=0,b=i;y!==b;++y){const g=n[y],p=g[d],_=g[h];g[c]=p,g[d]=_,g.pop()}}else{const d=--o,f=e[d];d>0&&(t[f.uuid]=c),e[c]=f,e.pop();for(let h=0,m=i;h!==m;++h){const y=n[h];y[c]=y[d],y.pop()}}}this.nCachedObjects_=r},subscribe_:function(e,t){const n=this._bindingsIndicesByPath;let i=n[e];const r=this._bindings;if(i!==void 0)return r[i];const o=this._paths,a=this._parsedPaths,s=this._objects,l=s.length,u=this.nCachedObjects_,c=new Array(l);i=r.length,n[e]=i,o.push(e),a.push(t),r.push(c);for(let d=u,f=s.length;d!==f;++d){const h=s[d];c[d]=new vn(h,e,t)}return c},unsubscribe_:function(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const i=this._paths,r=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a],l=e[a];t[l]=n,o[n]=s,o.pop(),r[n]=r[a],r.pop(),i[n]=i[a],i.pop()}}});class WT{constructor(t,n,i=null,r=n.blendMode){this._mixer=t,this._clip=n,this._localRoot=i,this.blendMode=r;const o=n.tracks,a=o.length,s=new Array(a),l={endingStart:Zr,endingEnd:Zr};for(let u=0;u!==a;++u){const c=o[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=M0,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,n){return this.loop=t,this.repetitions=n,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,n,i){if(t.fadeOut(n),this.fadeIn(n),i){const r=this._clip.duration,o=t._clip.duration,a=o/r,s=r/o;t.warp(1,a,n),this.warp(s,1,n)}return this}crossFadeTo(t,n,i){return t.crossFadeFrom(this,n,i)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,n,i){const r=this._mixer,o=r.time,a=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=r._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,u=s.sampleValues;return l[0]=o,l[1]=o+i,u[0]=t/a,u[1]=n/a,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,n,i,r){if(!this.enabled){this._updateWeight(t);return}const o=this._startTime;if(o!==null){const l=(t-o)*i;if(l<0||i===0)return;this._startTime=null,n=i*l}n*=this._updateTimeScale(t);const a=this._updateTime(n),s=this._updateWeight(t);if(s>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case eh:for(let c=0,d=l.length;c!==d;++c)l[c].evaluate(a),u[c].accumulateAdditive(s);break;case yc:default:for(let c=0,d=l.length;c!==d;++c)l[c].evaluate(a),u[c].accumulate(r,s)}}}_updateWeight(t){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(t)[0];n*=r,t>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(t){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;i!==null&&(n*=i.evaluate(t)[0],t>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n))}return this._effectiveTimeScale=n,n}_updateTime(t){const n=this._clip.duration,i=this.loop;let r=this.time+t,o=this._loopCount;const a=i===T0;if(t===0)return o===-1?r:a&&(o&1)===1?n-r:r;if(i===S0){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(o===-1&&(t>=0?(o=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=n||r<0){const s=Math.floor(r/n);r-=n*s,o+=Math.abs(s);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=t>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(l===1){const u=t<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=o,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=r;if(a&&(o&1)===1)return n-r}return r}_setEndings(t,n,i){const r=this._interpolantSettings;i?(r.endingStart=Jr,r.endingEnd=Jr):(t?r.endingStart=this.zeroSlopeAtStart?Jr:Zr:r.endingStart=Cs,n?r.endingEnd=this.zeroSlopeAtEnd?Jr:Zr:r.endingEnd=Cs)}_scheduleFading(t,n,i){const r=this._mixer,o=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const s=a.parameterPositions,l=a.sampleValues;return s[0]=o,l[0]=n,s[1]=o+t,l[1]=i,this}}function Ef(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}Ef.prototype=Object.assign(Object.create(Ri.prototype),{constructor:Ef,_bindAction:function(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName;let u=l[s];u===void 0&&(u={},l[s]=u);for(let c=0;c!==r;++c){const d=i[c],f=d.name;let h=u[f];if(h!==void 0)o[c]=h;else{if(h=o[c],h!==void 0){h._cacheIndex===null&&(++h.referenceCount,this._addInactiveBinding(h,s,f));continue}const m=t&&t._propertyBindings[c].binding.parsedPath;h=new Lh(vn.create(n,f,m),d.ValueTypeName,d.getValueSize()),++h.referenceCount,this._addInactiveBinding(h,s,f),o[c]=h}a[c].resultBuffer=h.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,i=e._clip.uuid,r=this._actionsByClip[i];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,i,n)}const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){const i=this._actions,r=this._actionsByClip;let o=r[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,o=this._actionsByClip,a=o[r],s=a.knownActions,l=s[s.length-1],u=e._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),e._byClipCacheIndex=null;const c=a.actionByRoot,d=(e._localRoot||this._root).uuid;delete c[d],s.length===0&&delete o[r],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];--r.referenceCount===0&&this._removeInactiveBinding(r)}},_lendAction:function(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackAction:function(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_addInactiveBinding:function(e,t,n){const i=this._bindingsByRootAndName,r=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[n]=e,e._cacheIndex=r.length,r.push(e)},_removeInactiveBinding:function(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,o=this._bindingsByRootAndName,a=o[i],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete a[r],Object.keys(a).length===0&&delete o[i]},_lendBinding:function(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackBinding:function(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_lendControlInterpolant:function(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new $s(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,n){const i=t||this._root,r=i.uuid;let o=typeof e=="string"?Fn.findByName(i,e):e;const a=o!==null?o.uuid:e,s=this._actionsByClip[a];let l=null;if(n===void 0&&(o!==null?n=o.blendMode:n=yc),s!==void 0){const c=s.actionByRoot[r];if(c!==void 0&&c.blendMode===n)return c;l=s.knownActions[0],o===null&&(o=l._clip)}if(o===null)return null;const u=new WT(this,o,t,n);return this._bindAction(u,l),this._addInactiveAction(u,a,r),u},existingAction:function(e,t){const n=t||this._root,i=n.uuid,r=typeof e=="string"?Fn.findByName(n,e):e,o=r?r.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null},stopAllAction:function(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this},update:function(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),o=this._accuIndex^=1;for(let l=0;l!==n;++l)t[l]._update(i,e,r,o);const a=this._bindings,s=this._nActiveBindings;for(let l=0;l!==s;++l)a[l].apply(o);return this},setTime:function(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(r!==void 0){const o=r.knownActions;for(let a=0,s=o.length;a!==s;++a){const l=o[a];this._deactivateAction(l);const u=l._cacheIndex,c=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,t[u]=c,t.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}},uncacheRoot:function(e){const t=e.uuid,n=this._actionsByClip;for(const o in n){const a=n[o].actionByRoot,s=a[t];s!==void 0&&(this._deactivateAction(s),this._removeInactiveAction(s))}const i=this._bindingsByRootAndName,r=i[t];if(r!==void 0)for(const o in r){const a=r[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}},uncacheAction:function(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}});class Ec{constructor(t){typeof t=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}clone(){return new Ec(this.value.clone===void 0?this.value:this.value.clone())}}function Af(e,t,n){On.call(this,e,t),this.meshPerAttribute=n||1}Af.prototype=Object.assign(Object.create(On.prototype),{constructor:Af,isInstancedInterleavedBuffer:!0,copy:function(e){return On.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){const t=On.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){const t=On.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}});function Ph(e,t,n,i,r){this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}Object.defineProperty(Ph.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(Ph.prototype,{isGLBufferAttribute:!0,setBuffer:function(e){return this.buffer=e,this},setType:function(e,t){return this.type=e,this.elementSize=t,this},setItemSize:function(e){return this.itemSize=e,this},setCount:function(e){return this.count=e,this}});function Bh(e,t,n,i){this.ray=new Da(e,t),this.near=n||0,this.far=i||1/0,this.camera=null,this.layers=new rh,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function lp(e,t){return e.distance-t.distance}function Lf(e,t,n,i){if(e.layers.test(t.layers)&&e.raycast(t,n),i===!0){const r=e.children;for(let o=0,a=r.length;o<a;o++)Lf(r[o],t,n,!0)}}Object.assign(Bh.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)},intersectObject:function(e,t,n){const i=n||[];return Lf(e,this,i,t),i.sort(lp),i},intersectObjects:function(e,t,n){const i=n||[];if(Array.isArray(e)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(let r=0,o=e.length;r<o;r++)Lf(e[r],this,i,t);return i.sort(lp),i}});class $T{constructor(t=1,n=0,i=0){return this.radius=t,this.phi=n,this.theta=i,this}set(t,n,i){return this.radius=t,this.phi=n,this.theta=i,this}clone(){return new this.constructor().copy(this)}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,n,i){return this.radius=Math.sqrt(t*t+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(tt.clamp(n/this.radius,-1,1))),this}}class jT{constructor(t,n,i){return this.radius=t!==void 0?t:1,this.theta=n!==void 0?n:0,this.y=i!==void 0?i:0,this}set(t,n,i){return this.radius=t,this.theta=n,this.y=i,this}clone(){return new this.constructor().copy(this)}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,n,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=n,this}}const up=new Re;class xy{constructor(t,n){Object.defineProperty(this,"isBox2",{value:!0}),this.min=t!==void 0?t:new Re(1/0,1/0),this.max=n!==void 0?n:new Re(-1/0,-1/0)}set(t,n){return this.min.copy(t),this.max.copy(n),this}setFromPoints(t){this.makeEmpty();for(let n=0,i=t.length;n<i;n++)this.expandByPoint(t[n]);return this}setFromCenterAndSize(t,n){const i=up.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return t===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new Re),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return t===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new Re),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,n){return n===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),n=new Re),n.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,n){return n===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),n=new Re),n.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return up.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const cp=new V,Kl=new V;class _y{constructor(t,n){this.start=t!==void 0?t:new V,this.end=n!==void 0?n:new V}set(t,n){return this.start.copy(t),this.end.copy(n),this}clone(){return new this.constructor().copy(this)}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new V),t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),t=new V),t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,n){return n===void 0&&(console.warn("THREE.Line3: .at() target is now required"),n=new V),this.delta(n).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,n){cp.subVectors(t,this.start),Kl.subVectors(this.end,this.start);const i=Kl.dot(Kl);let o=Kl.dot(cp)/i;return n&&(o=tt.clamp(o,0,1)),o}closestPointToPoint(t,n,i){const r=this.closestPointToPointParameter(t,n);return i===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),i=new V),this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}function Xs(e){Ye.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}Xs.prototype=Object.create(Ye.prototype);Xs.prototype.constructor=Xs;Xs.prototype.isImmediateRenderObject=!0;const dp=new V;class YT extends Ye{constructor(t,n){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const i=new Ke,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,s=1,l=32;a<l;a++,s++){const u=a/l*Math.PI*2,c=s/l*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}i.setAttribute("position",new He(r,3));const o=new Ft({fog:!1,toneMapped:!1});this.cone=new Cn(i,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const t=this.light.distance?this.light.distance:1e3,n=t*Math.tan(this.light.angle);this.cone.scale.set(n,n,t),dp.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(dp),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const cr=new V,Zl=new at,gd=new at;class wy extends Cn{constructor(t){const n=Sy(t),i=new Ke,r=[],o=[],a=new Ge(0,0,1),s=new Ge(0,1,0);for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),o.push(a.r,a.g,a.b),o.push(s.r,s.g,s.b))}i.setAttribute("position",new He(r,3)),i.setAttribute("color",new He(o,3));const l=new Ft({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=t,this.bones=n,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const n=this.bones,i=this.geometry,r=i.getAttribute("position");gd.copy(this.root.matrixWorld).invert();for(let o=0,a=0;o<n.length;o++){const s=n[o];s.parent&&s.parent.isBone&&(Zl.multiplyMatrices(gd,s.matrixWorld),cr.setFromMatrixPosition(Zl),r.setXYZ(a,cr.x,cr.y,cr.z),Zl.multiplyMatrices(gd,s.parent.matrixWorld),cr.setFromMatrixPosition(Zl),r.setXYZ(a+1,cr.x,cr.y,cr.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}}function Sy(e){const t=[];e&&e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,Sy(e.children[n]));return t}class XT extends Pt{constructor(t,n,i){const r=new Cc(n,4,2),o=new jn({wireframe:!0,fog:!1,toneMapped:!1});super(r,o),this.light=t,this.light.updateMatrixWorld(),this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const QT=new V,fp=new Ge,hp=new Ge;class KT extends Ye{constructor(t,n,i){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;const r=new Tc(n);r.rotateY(Math.PI*.5),this.material=new jn({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=r.getAttribute("position"),a=new Float32Array(o.count*3);r.setAttribute("color",new Ze(a,3)),this.add(new Pt(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=t.geometry.getAttribute("color");fp.copy(this.light.color),hp.copy(this.light.groundColor);for(let i=0,r=n.count;i<r;i++){const o=i<r/2?fp:hp;n.setXYZ(i,o.r,o.g,o.b)}n.needsUpdate=!0}t.lookAt(QT.setFromMatrixPosition(this.light.matrixWorld).negate())}}class My extends Cn{constructor(t=10,n=10,i=4473924,r=8947848){i=new Ge(i),r=new Ge(r);const o=n/2,a=t/n,s=t/2,l=[],u=[];for(let f=0,h=0,m=-s;f<=n;f++,m+=a){l.push(-s,0,m,s,0,m),l.push(m,0,-s,m,0,s);const y=f===o?i:r;y.toArray(u,h),h+=3,y.toArray(u,h),h+=3,y.toArray(u,h),h+=3,y.toArray(u,h),h+=3}const c=new Ke;c.setAttribute("position",new He(l,3)),c.setAttribute("color",new He(u,3));const d=new Ft({vertexColors:!0,toneMapped:!1});super(c,d),this.type="GridHelper"}}class ZT extends Cn{constructor(t=10,n=16,i=8,r=64,o=4473924,a=8947848){o=new Ge(o),a=new Ge(a);const s=[],l=[];for(let d=0;d<=n;d++){const f=d/n*(Math.PI*2),h=Math.sin(f)*t,m=Math.cos(f)*t;s.push(0,0,0),s.push(h,0,m);const y=d&1?o:a;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let d=0;d<=i;d++){const f=d&1?o:a,h=t-t/i*d;for(let m=0;m<r;m++){let y=m/r*(Math.PI*2),b=Math.sin(y)*h,g=Math.cos(y)*h;s.push(b,0,g),l.push(f.r,f.g,f.b),y=(m+1)/r*(Math.PI*2),b=Math.sin(y)*h,g=Math.cos(y)*h,s.push(b,0,g),l.push(f.r,f.g,f.b)}}const u=new Ke;u.setAttribute("position",new He(s,3)),u.setAttribute("color",new He(l,3));const c=new Ft({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}}const mp=new V,Jl=new V,pp=new V;class JT extends Ye{constructor(t,n,i){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,n===void 0&&(n=1);let r=new Ke;r.setAttribute("position",new He([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new Ft({fog:!1,toneMapped:!1});this.lightPlane=new Xn(r,o),this.add(this.lightPlane),r=new Ke,r.setAttribute("position",new He([0,0,0,0,0,1],3)),this.targetLine=new Xn(r,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){mp.setFromMatrixPosition(this.light.matrixWorld),Jl.setFromMatrixPosition(this.light.target.matrixWorld),pp.subVectors(Jl,mp),this.lightPlane.lookAt(Jl),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Jl),this.targetLine.scale.z=pp.length()}}const eu=new V,Ut=new Ti;class eC extends Cn{constructor(t){const n=new Ke,i=new Ft({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],o=[],a={},s=new Ge(16755200),l=new Ge(16711680),u=new Ge(43775),c=new Ge(16777215),d=new Ge(3355443);f("n1","n2",s),f("n2","n4",s),f("n4","n3",s),f("n3","n1",s),f("f1","f2",s),f("f2","f4",s),f("f4","f3",s),f("f3","f1",s),f("n1","f1",s),f("n2","f2",s),f("n3","f3",s),f("n4","f4",s),f("p","n1",l),f("p","n2",l),f("p","n3",l),f("p","n4",l),f("u1","u2",u),f("u2","u3",u),f("u3","u1",u),f("c","t",c),f("p","c",d),f("cn1","cn2",d),f("cn3","cn4",d),f("cf1","cf2",d),f("cf3","cf4",d);function f(m,y,b){h(m,b),h(y,b)}function h(m,y){r.push(0,0,0),o.push(y.r,y.g,y.b),a[m]===void 0&&(a[m]=[]),a[m].push(r.length/3-1)}n.setAttribute("position",new He(r,3)),n.setAttribute("color",new He(o,3)),super(n,i),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}update(){const t=this.geometry,n=this.pointMap,i=1,r=1;Ut.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Wt("c",n,t,Ut,0,0,-1),Wt("t",n,t,Ut,0,0,1),Wt("n1",n,t,Ut,-i,-r,-1),Wt("n2",n,t,Ut,i,-r,-1),Wt("n3",n,t,Ut,-i,r,-1),Wt("n4",n,t,Ut,i,r,-1),Wt("f1",n,t,Ut,-i,-r,1),Wt("f2",n,t,Ut,i,-r,1),Wt("f3",n,t,Ut,-i,r,1),Wt("f4",n,t,Ut,i,r,1),Wt("u1",n,t,Ut,i*.7,r*1.1,-1),Wt("u2",n,t,Ut,-i*.7,r*1.1,-1),Wt("u3",n,t,Ut,0,r*2,-1),Wt("cf1",n,t,Ut,-i,0,1),Wt("cf2",n,t,Ut,i,0,1),Wt("cf3",n,t,Ut,0,-r,1),Wt("cf4",n,t,Ut,0,r,1),Wt("cn1",n,t,Ut,-i,0,-1),Wt("cn2",n,t,Ut,i,0,-1),Wt("cn3",n,t,Ut,0,-r,-1),Wt("cn4",n,t,Ut,0,r,-1),t.getAttribute("position").needsUpdate=!0}}function Wt(e,t,n,i,r,o,a){eu.set(r,o,a).unproject(i);const s=t[e];if(s!==void 0){const l=n.getAttribute("position");for(let u=0,c=s.length;u<c;u++)l.setXYZ(s[u],eu.x,eu.y,eu.z)}}const tu=new ki;class Ty extends Cn{constructor(t,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),o=new Ke;o.setIndex(new Ze(i,1)),o.setAttribute("position",new Ze(r,3)),super(o,new Ft({color:n,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(t){if(t!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&tu.setFromObject(this.object),tu.isEmpty())return;const n=tu.min,i=tu.max,r=this.geometry.attributes.position,o=r.array;o[0]=i.x,o[1]=i.y,o[2]=i.z,o[3]=n.x,o[4]=i.y,o[5]=i.z,o[6]=n.x,o[7]=n.y,o[8]=i.z,o[9]=i.x,o[10]=n.y,o[11]=i.z,o[12]=i.x,o[13]=i.y,o[14]=n.z,o[15]=n.x,o[16]=i.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=i.x,o[22]=n.y,o[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t){return Cn.prototype.copy.call(this,t),this.object=t.object,this}}class tC extends Cn{constructor(t,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Ke;o.setIndex(new Ze(i,1)),o.setAttribute("position",new He(r,3)),super(o,new Ft({color:n,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}}class nC extends Xn{constructor(t,n=1,i=16776960){const r=i,o=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],a=new Ke;a.setAttribute("position",new He(o,3)),a.computeBoundingSphere(),super(a,new Ft({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=n;const s=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],l=new Ke;l.setAttribute("position",new He(s,3)),l.computeBoundingSphere(),this.add(new Pt(l,new jn({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){let n=-this.plane.constant;Math.abs(n)<1e-8&&(n=1e-8),this.scale.set(.5*this.size,.5*this.size,n),this.children[0].material.side=n<0?Qt:Pa,this.lookAt(this.plane.normal),super.updateMatrixWorld(t)}}const vp=new V;let nu,yd;class iC extends Ye{constructor(t,n,i,r,o,a){super(),this.type="ArrowHelper",t===void 0&&(t=new V(0,0,1)),n===void 0&&(n=new V(0,0,0)),i===void 0&&(i=1),r===void 0&&(r=16776960),o===void 0&&(o=.2*i),a===void 0&&(a=.2*o),nu===void 0&&(nu=new Ke,nu.setAttribute("position",new He([0,0,0,0,1,0],3)),yd=new dl(0,.5,1,5,1),yd.translate(0,-.5,0)),this.position.copy(n),this.line=new Xn(nu,new Ft({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Pt(yd,new jn({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,o,a)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{vp.set(t.z,0,-t.x).normalize();const n=Math.acos(t.y);this.quaternion.setFromAxisAngle(vp,n)}}setLength(t,n,i){n===void 0&&(n=.2*t),i===void 0&&(i=.2*n),this.line.scale.set(1,Math.max(1e-4,t-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}}class Cy extends Cn{constructor(t=1){const n=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Ke;r.setAttribute("position",new He(n,3)),r.setAttribute("color",new He(i,3));const o=new Ft({vertexColors:!0,toneMapped:!1});super(r,o),this.type="AxesHelper"}}const Ey=new Float32Array(1),rC=new Int32Array(Ey.buffer),oC={toHalfFloat:function(e){Ey[0]=e;const t=rC[0];let n=t>>16&32768,i=t>>12&2047;const r=t>>23&255;return r<103?n:r>142?(n|=31744,n|=(r==255?0:1)&&t&8388607,n):r<113?(i|=2048,n|=(i>>114-r)+(i>>113-r&1),n):(n|=r-112<<10|i>>1,n+=i&1,n)}},da=4,xr=8,_i=Math.pow(2,xr),Ay=[.125,.215,.35,.446,.526,.582],Ly=xr-da+1+Ay.length,$o=20,Si={[Mn]:0,[al]:1,[xc]:2,[th]:3,[nh]:4,[ih]:5,[bc]:6},bd=new La,{_lodPlanes:es,_sizeLods:gp,_sigmas:iu}=lC(),yp=new Ge;let xd=null;const Yr=(1+Math.sqrt(5))/2,jo=1/Yr,bp=[new V(1,1,1),new V(-1,1,1),new V(1,1,-1),new V(-1,1,-1),new V(0,Yr,jo),new V(0,Yr,-jo),new V(jo,0,Yr),new V(-jo,0,Yr),new V(Yr,jo,0),new V(-Yr,jo,0)];class aC{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._blurMaterial=uC($o),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(t,n=0,i=.1,r=100){xd=this._renderer.getRenderTarget();const o=this._allocateTargets();return this._sceneToCubeUV(t,i,r,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(t){return this._fromTexture(t)}fromCubemap(t){return this._fromTexture(t)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=wp(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=_p(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let t=0;t<es.length;t++)es[t].dispose()}_cleanup(t){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(xd),t.scissorTest=!1,ru(t,0,0,t.width,t.height)}_fromTexture(t){xd=this._renderer.getRenderTarget();const n=this._allocateTargets(t);return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(t){const n={magFilter:Zt,minFilter:Zt,generateMipmaps:!1,type:Fa,format:qg,encoding:sC(t)?t.encoding:xc,depthBuffer:!1},i=xp(n);return i.depthBuffer=!t,this._pingPongRenderTarget=xp(n),i}_compileMaterial(t){const n=new Pt(es[0],t);this._renderer.compile(n,bd)}_sceneToCubeUV(t,n,i,r){const s=new Yt(90,1,n,i),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,d=c.outputEncoding,f=c.toneMapping;c.getClearColor(yp);const h=c.getClearAlpha();c.toneMapping=no,c.outputEncoding=Mn;let m=t.background;if(m&&m.isColor){m.convertSRGBToLinear();const y=Math.max(m.r,m.g,m.b),b=Math.min(Math.max(Math.ceil(Math.log2(y)),-128),127);m=m.multiplyScalar(Math.pow(2,-b));const g=(b+128)/255;c.setClearColor(m,g),t.background=null}for(let y=0;y<6;y++){const b=y%3;b==0?(s.up.set(0,l[y],0),s.lookAt(u[y],0,0)):b==1?(s.up.set(0,0,l[y]),s.lookAt(0,u[y],0)):(s.up.set(0,l[y],0),s.lookAt(0,0,u[y])),ru(r,b*_i,y>2?_i:0,_i,_i),c.setRenderTarget(r),c.render(t,s)}c.toneMapping=f,c.outputEncoding=d,c.setClearColor(yp,h)}_textureToCubeUV(t,n){const i=this._renderer;t.isCubeTexture?this._cubemapShader==null&&(this._cubemapShader=wp()):this._equirectShader==null&&(this._equirectShader=_p());const r=t.isCubeTexture?this._cubemapShader:this._equirectShader,o=new Pt(es[0],r),a=r.uniforms;a.envMap.value=t,t.isCubeTexture||a.texelSize.value.set(1/t.image.width,1/t.image.height),a.inputEncoding.value=Si[t.encoding],a.outputEncoding.value=Si[n.texture.encoding],ru(n,0,0,3*_i,2*_i),i.setRenderTarget(n),i.render(o,bd)}_applyPMREM(t){const n=this._renderer,i=n.autoClear;n.autoClear=!1;for(let r=1;r<Ly;r++){const o=Math.sqrt(iu[r]*iu[r]-iu[r-1]*iu[r-1]),a=bp[(r-1)%bp.length];this._blur(t,r-1,r,o,a)}n.autoClear=i}_blur(t,n,i,r,o){const a=this._pingPongRenderTarget;this._halfBlur(t,a,n,i,r,"latitudinal",o),this._halfBlur(a,t,i,i,r,"longitudinal",o)}_halfBlur(t,n,i,r,o,a,s){const l=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,d=new Pt(es[r],u),f=u.uniforms,h=gp[i]-1,m=isFinite(o)?Math.PI/(2*h):2*Math.PI/(2*$o-1),y=o/m,b=isFinite(o)?1+Math.floor(c*y):$o;b>$o&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${b} samples when the maximum is set to ${$o}`);const g=[];let p=0;for(let M=0;M<$o;++M){const T=M/y,R=Math.exp(-T*T/2);g.push(R),M==0?p+=R:M<b&&(p+=2*R)}for(let M=0;M<g.length;M++)g[M]=g[M]/p;f.envMap.value=t.texture,f.samples.value=b,f.weights.value=g,f.latitudinal.value=a==="latitudinal",s&&(f.poleAxis.value=s),f.dTheta.value=m,f.mipInt.value=xr-i,f.inputEncoding.value=Si[t.texture.encoding],f.outputEncoding.value=Si[t.texture.encoding];const _=gp[r],x=3*Math.max(0,_i-2*_),S=(r===0?0:2*_i)+2*_*(r>xr-da?r-xr+da:0);ru(n,x,S,3*_,2*_),l.setRenderTarget(n),l.render(d,bd)}}function sC(e){return e===void 0||e.type!==Fa?!1:e.encoding===Mn||e.encoding===al||e.encoding===bc}function lC(){const e=[],t=[],n=[];let i=xr;for(let r=0;r<Ly;r++){const o=Math.pow(2,i);t.push(o);let a=1/o;r>xr-da?a=Ay[r-xr+da-1]:r==0&&(a=0),n.push(a);const s=1/(o-1),l=-s/2,u=1+s/2,c=[l,l,u,l,u,u,l,l,u,u,l,u],d=6,f=6,h=3,m=2,y=1,b=new Float32Array(h*f*d),g=new Float32Array(m*f*d),p=new Float32Array(y*f*d);for(let x=0;x<d;x++){const S=x%3*2/3-1,M=x>2?0:-1,T=[S,M,0,S+2/3,M,0,S+2/3,M+1,0,S,M,0,S+2/3,M+1,0,S,M+1,0];b.set(T,h*f*x),g.set(c,m*f*x);const R=[x,x,x,x,x,x];p.set(R,y*f*x)}const _=new Ke;_.setAttribute("position",new Ze(b,h)),_.setAttribute("uv",new Ze(g,m)),_.setAttribute("faceIndex",new Ze(p,y)),e.push(_),i>da&&i--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}function xp(e){const t=new zn(3*_i,3*_i,e);return t.texture.mapping=Ba,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function ru(e,t,n,i,r){e.viewport.set(t,n,i,r),e.scissor.set(t,n,i,r)}function uC(e){const t=new Float32Array(e),n=new V(0,1,0);return new Xi({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:Si[Mn]},outputEncoding:{value:Si[Mn]}},vertexShader:Ih(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${Fh()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Wi,depthTest:!1,depthWrite:!1})}function _p(){const e=new Re(1,1);return new Xi({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:e},inputEncoding:{value:Si[Mn]},outputEncoding:{value:Si[Mn]}},vertexShader:Ih(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${Fh()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Wi,depthTest:!1,depthWrite:!1})}function wp(){return new Xi({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Si[Mn]},outputEncoding:{value:Si[Mn]}},vertexShader:Ih(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${Fh()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Wi,depthTest:!1,depthWrite:!1})}function Ih(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Fh(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function cC(e,t,n,i,r,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Es(e,t,n,r,o,a)}const dC=0,fC=1,hC=0,mC=1,pC=2;function vC(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function gC(e=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function yC(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new wa(e,t)}function bC(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Fs(e)}function xC(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new wa(e,t)}function _C(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new di(e)}function wC(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new di(e)}function SC(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new di(e)}function MC(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new V(e,t,n)}function TC(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Ze(e,t).setUsage(lo)}function CC(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new As(e,t)}function EC(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Ls(e,t)}function AC(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Rs(e,t)}function LC(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new ks(e,t)}function RC(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new uo(e,t)}function kC(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Ps(e,t)}function PC(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new co(e,t)}function BC(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new He(e,t)}function IC(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Is(e,t)}Qe.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Qe.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e};Object.assign(Gi.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=new St;for(let n=0,i=e.length;n<i;n++){const r=e[n];t.vertices.push(new V(r.x,r.y,r.z||0))}return t}});Object.assign(si.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}});function Ry(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),yn.call(this,e),this.type="catmullrom",this.closed=!0}Ry.prototype=Object.create(yn.prototype);function ky(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),yn.call(this,e),this.type="catmullrom"}ky.prototype=Object.create(yn.prototype);function Dh(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),yn.call(this,e),this.type="catmullrom"}Dh.prototype=Object.create(yn.prototype);Object.assign(Dh.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});function FC(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Cy(e)}function DC(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Ty(e,t)}function OC(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Cn(new uh(e.geometry),new Ft({color:t!==void 0?t:16777215}))}My.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};wy.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function NC(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Cn(new _h(e.geometry),new Ft({color:t!==void 0?t:16777215}))}Object.assign(yt.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Mh.extractUrlBase(e)}});yt.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};function zC(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Qn(e)}function qC(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Vu(e)}Object.assign(xy.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}});Object.assign(ki.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}});Object.assign(Zi.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}});ul.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)};_y.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)};Object.assign(tt,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),tt.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),tt.ceilPowerOfTwo(e)}});Object.assign(Sn.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},getInverse:function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()}});Object.assign(at.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new V().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,i,r,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,n,r,o)},getInverse:function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()}});wi.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)};Object.assign(pn.prototype,{multiplyVector3:function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},inverse:function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()}});Object.assign(Da.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}});Object.assign(cn.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}});Object.assign(cn,{barycoordFromPoint:function(e,t,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),cn.getBarycoord(e,t,n,i,r)},normal:function(e,t,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),cn.getNormal(e,t,n,i)}});Object.assign(br.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ch(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ph(this,e)}});Object.assign(Re.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(V.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(_t.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(St.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.assign(Ye.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.defineProperties(Ye.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.assign(Pt.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}});Object.defineProperties(Pt.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),C0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});Object.defineProperties(Ds.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}});Object.defineProperty(zs.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});Os.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Object.defineProperty(Qe.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}});Yt.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),t!==void 0&&(this.filmGauge=t),this.setFocalLength(e)};Object.defineProperties(Lt.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}});Object.defineProperties(Ze.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===lo},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(lo)}}});Object.assign(Ze.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?lo:sl),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(Ke.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(t&&t.isBufferAttribute)&&!(t&&t.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Ze(arguments[1],arguments[2]))):e==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t)},addDrawCall:function(e,t,n){n!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.defineProperties(Ke.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Object.defineProperties(Ys.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}});Object.defineProperties(Bh.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}});Object.defineProperties(On.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===lo},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}});Object.assign(On.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?lo:sl),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(fl.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}});Object.assign(oh.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}});Object.defineProperties(Ec.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}});Object.defineProperties(Je.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Ge}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===Qf}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}});Object.defineProperties(Rr.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(Lr.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(e){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=e}}});Object.defineProperties(Tn.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}});Object.assign(cl.prototype,{clearTarget:function(e,t,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,i)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}});Object.defineProperties(cl.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=e===!0?al:Mn}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(G0.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});function HC(e,t,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new ji(e,n)}Object.defineProperties(zn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}});Object.defineProperties(Ah.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return new Ju().load(e,function(i){t.setBuffer(i)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}});gy.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};fo.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};fo.prototype.clear=function(e,t,n,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,n,i)};const VC={merge:function(e,t,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");let i;t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),i=t.matrix,t=t.geometry),e.merge(t,i,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};To.crossOrigin=void 0;To.loadTexture=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new Uu;r.setCrossOrigin(this.crossOrigin);const o=r.load(e,n,void 0,i);return t&&(o.mapping=t),o};To.loadTextureCube=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new Hu;r.setCrossOrigin(this.crossOrigin);const o=r.load(e,n,void 0,i);return t&&(o.mapping=t),o};To.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};To.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function UC(){console.error("THREE.CanvasRenderer has been removed")}function GC(){console.error("THREE.JSONLoader has been removed.")}const WC={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function $C(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:tg}}));var _d=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Lg,AddEquation:Qr,AddOperation:Tg,AdditiveAnimationBlendMode:eh,AdditiveBlending:$d,AlphaFormat:Og,AlwaysDepth:yg,AlwaysStencilFunc:k0,AmbientLight:Yu,AmbientLightProbe:Cf,AnimationClip:Fn,AnimationLoader:gf,AnimationMixer:Ef,AnimationObjectGroup:by,AnimationUtils:Rt,ArcCurve:Aa,ArrayCamera:Pu,ArrowHelper:iC,Audio:Ah,AudioAnalyser:gy,AudioContext:Eh,AudioListener:IT,AudioLoader:Ju,AxesHelper:Cy,AxisHelper:FC,BackSide:Qt,BasicDepthPacking:A0,BasicShadowMap:o_,BinaryTextureLoader:qC,Bone:Ns,BooleanKeyframeTrack:Ou,BoundingBoxHelper:DC,Box2:xy,Box3:ki,Box3Helper:tC,BoxBufferGeometry:ll,BoxGeometry:mf,BoxHelper:Ty,BufferAttribute:Ze,BufferGeometry:Ke,BufferGeometryLoader:Zu,ByteType:kg,Cache:bo,Camera:Ti,CameraHelper:eC,CanvasRenderer:UC,CanvasTexture:qs,CatmullRomCurve3:yn,CineonToneMapping:Ag,CircleBufferGeometry:ah,CircleGeometry:Y0,ClampToEdgeWrapping:_n,Clock:vy,ClosedSplineCurve3:Ry,Color:Ge,ColorKeyframeTrack:Nu,CompressedTexture:Sa,CompressedTextureLoader:yf,ConeBufferGeometry:Q0,ConeGeometry:X0,CubeCamera:fo,CubeGeometry:mf,CubeReflectionMapping:il,CubeRefractionMapping:rl,CubeTexture:Ci,CubeTextureLoader:Hu,CubeUVReflectionMapping:Ba,CubeUVRefractionMapping:ol,CubicBezierCurve:fi,CubicBezierCurve3:Ai,CubicInterpolant:Fu,CullFaceBack:Wd,CullFaceFront:ig,CullFaceFrontBack:r_,CullFaceNone:ng,Curve:Qe,CurvePath:Gi,CustomBlending:og,CustomToneMapping:Rg,CylinderBufferGeometry:dl,CylinderGeometry:sh,Cylindrical:jT,DataTexture:Yi,DataTexture2DArray:xa,DataTexture3D:_a,DataTextureLoader:Vu,DataUtils:oC,DecrementStencilOp:v_,DecrementWrapStencilOp:y_,DefaultLoadingManager:hy,DepthFormat:io,DepthStencilFormat:ya,DepthTexture:Hs,DirectionalLight:ju,DirectionalLightHelper:JT,DiscreteInterpolant:Du,DodecahedronBufferGeometry:lh,DodecahedronGeometry:K0,DoubleSide:tl,DstAlphaFactor:fg,DstColorFactor:mg,DynamicBufferAttribute:TC,DynamicCopyUsage:P_,DynamicDrawUsage:lo,DynamicReadUsage:L_,EdgesGeometry:uh,EdgesHelper:OC,EllipseCurve:Vn,EqualDepth:xg,EqualStencilFunc:w_,EquirectangularReflectionMapping:Au,EquirectangularRefractionMapping:Lu,Euler:Oa,EventDispatcher:Ri,ExtrudeBufferGeometry:fl,ExtrudeGeometry:ch,Face3:Es,Face4:cC,FaceColors:mC,FileLoader:Qn,FlatShading:Qf,Float16BufferAttribute:Bs,Float32Attribute:BC,Float32BufferAttribute:He,Float64Attribute:IC,Float64BufferAttribute:Is,FloatType:Ui,Fog:Sc,FogExp2:wc,Font:Ch,FontLoader:Mf,FrontSide:Pa,Frustum:ul,GLBufferAttribute:Ph,GLSL1:I_,GLSL3:lf,GammaEncoding:bc,Geometry:St,GeometryUtils:VC,GreaterDepth:wg,GreaterEqualDepth:_g,GreaterEqualStencilFunc:C_,GreaterStencilFunc:M_,GridHelper:My,Group:pr,HalfFloatType:Ms,HemisphereLight:Gu,HemisphereLightHelper:KT,HemisphereLightProbe:Tf,IcosahedronBufferGeometry:dh,IcosahedronGeometry:ty,ImageBitmapLoader:Sf,ImageLoader:Ea,ImageUtils:To,ImmediateRenderObject:Xs,IncrementStencilOp:p_,IncrementWrapStencilOp:g_,InstancedBufferAttribute:Ku,InstancedBufferGeometry:Ys,InstancedInterleavedBuffer:Af,InstancedMesh:Bu,Int16Attribute:LC,Int16BufferAttribute:ks,Int32Attribute:kC,Int32BufferAttribute:Ps,Int8Attribute:CC,Int8BufferAttribute:As,IntType:Bg,InterleavedBuffer:On,InterleavedBufferAttribute:Cr,Interpolant:qn,InterpolateDiscrete:Ts,InterpolateLinear:fs,InterpolateSmooth:_u,InvertStencilOp:b_,JSONLoader:GC,KeepStencilOp:wu,KeyframeTrack:dn,LOD:Ds,LatheBufferGeometry:fh,LatheGeometry:ny,Layers:rh,LensFlare:$C,LessDepth:bg,LessEqualDepth:Eu,LessEqualStencilFunc:S_,LessStencilFunc:__,Light:Lt,LightProbe:Wn,Line:Xn,Line3:_y,LineBasicMaterial:Ft,LineCurve:Rn,LineCurve3:hi,LineDashedMaterial:yo,LineLoop:Iu,LinePieces:fC,LineSegments:Cn,LineStrip:dC,LinearEncoding:Mn,LinearFilter:on,LinearInterpolant:$s,LinearMipMapLinearFilter:c_,LinearMipMapNearestFilter:u_,LinearMipmapLinearFilter:Ia,LinearMipmapNearestFilter:Jf,LinearToneMapping:Cg,Loader:yt,LoaderUtils:Mh,LoadingManager:wh,LogLuvEncoding:E0,LoopOnce:S0,LoopPingPong:T0,LoopRepeat:M0,LuminanceAlphaFormat:zg,LuminanceFormat:Ng,MOUSE:n_,Material:Je,MaterialLoader:Qu,Math:tt,MathUtils:tt,Matrix3:Sn,Matrix4:at,MaxEquation:Qd,Mesh:Pt,MeshBasicMaterial:jn,MeshDepthMaterial:Mr,MeshDistanceMaterial:Tr,MeshFaceMaterial:vC,MeshLambertMaterial:vo,MeshMatcapMaterial:go,MeshNormalMaterial:po,MeshPhongMaterial:Rr,MeshPhysicalMaterial:Lr,MeshStandardMaterial:Ei,MeshToonMaterial:mo,MinEquation:Xd,MirroredRepeatWrapping:ws,MixOperation:Mg,MultiMaterial:gC,MultiplyBlending:Yd,MultiplyOperation:nl,NearestFilter:Zt,NearestMipMapLinearFilter:l_,NearestMipMapNearestFilter:s_,NearestMipmapLinearFilter:ku,NearestMipmapNearestFilter:Ru,NeverDepth:gg,NeverStencilFunc:x_,NoBlending:Wi,NoColors:hC,NoToneMapping:no,NormalAnimationBlendMode:yc,NormalBlending:ua,NotEqualDepth:Sg,NotEqualStencilFunc:T_,NumberKeyframeTrack:Ta,Object3D:Ye,ObjectLoader:LT,ObjectSpaceNormalMap:R0,OctahedronBufferGeometry:Tc,OctahedronGeometry:iy,OneFactor:ug,OneMinusDstAlphaFactor:hg,OneMinusDstColorFactor:pg,OneMinusSrcAlphaFactor:Zf,OneMinusSrcColorFactor:dg,OrthographicCamera:La,PCFShadowMap:Xf,PCFSoftShadowMap:rg,PMREMGenerator:aC,ParametricBufferGeometry:Ma,ParametricGeometry:Ws,Particle:bC,ParticleBasicMaterial:wC,ParticleSystem:xC,ParticleSystemMaterial:SC,Path:si,PerspectiveCamera:Yt,Plane:wi,PlaneBufferGeometry:_c,PlaneGeometry:ry,PlaneHelper:nC,PointCloud:yC,PointCloudMaterial:_C,PointLight:$u,PointLightHelper:XT,Points:wa,PointsMaterial:di,PolarGridHelper:ZT,PolyhedronBufferGeometry:Co,PolyhedronGeometry:oy,PositionalAudio:DT,PropertyBinding:vn,PropertyMixer:Lh,QuadraticBezierCurve:mi,QuadraticBezierCurve3:Li,Quaternion:pn,QuaternionKeyframeTrack:js,QuaternionLinearInterpolant:zu,REVISION:tg,RGBADepthPacking:L0,RGBAFormat:Nn,RGBAIntegerFormat:$g,RGBA_ASTC_10x10_Format:o0,RGBA_ASTC_10x5_Format:n0,RGBA_ASTC_10x6_Format:i0,RGBA_ASTC_10x8_Format:r0,RGBA_ASTC_12x10_Format:a0,RGBA_ASTC_12x12_Format:s0,RGBA_ASTC_4x4_Format:Yg,RGBA_ASTC_5x4_Format:Xg,RGBA_ASTC_5x5_Format:Qg,RGBA_ASTC_6x5_Format:Kg,RGBA_ASTC_6x6_Format:Zg,RGBA_ASTC_8x5_Format:Jg,RGBA_ASTC_8x6_Format:e0,RGBA_ASTC_8x8_Format:t0,RGBA_BPTC_Format:l0,RGBA_ETC2_EAC_Format:sf,RGBA_PVRTC_2BPPV1_Format:of,RGBA_PVRTC_4BPPV1_Format:rf,RGBA_S3TC_DXT1_Format:Zd,RGBA_S3TC_DXT3_Format:Jd,RGBA_S3TC_DXT5_Format:ef,RGBDEncoding:ih,RGBEEncoding:xc,RGBEFormat:qg,RGBFormat:gr,RGBIntegerFormat:Wg,RGBM16Encoding:nh,RGBM7Encoding:th,RGB_ETC1_Format:jg,RGB_ETC2_Format:af,RGB_PVRTC_2BPPV1_Format:nf,RGB_PVRTC_4BPPV1_Format:tf,RGB_S3TC_DXT1_Format:Kd,RGFormat:Ug,RGIntegerFormat:Gg,RawShaderMaterial:Xi,Ray:Da,Raycaster:Bh,RectAreaLight:Xu,RedFormat:Hg,RedIntegerFormat:Vg,ReinhardToneMapping:Eg,RepeatWrapping:_s,ReplaceStencilOp:m_,ReverseSubtractEquation:sg,RingBufferGeometry:hh,RingGeometry:ay,SRGB8_ALPHA8_ASTC_10x10_Format:x0,SRGB8_ALPHA8_ASTC_10x5_Format:g0,SRGB8_ALPHA8_ASTC_10x6_Format:y0,SRGB8_ALPHA8_ASTC_10x8_Format:b0,SRGB8_ALPHA8_ASTC_12x10_Format:_0,SRGB8_ALPHA8_ASTC_12x12_Format:w0,SRGB8_ALPHA8_ASTC_4x4_Format:u0,SRGB8_ALPHA8_ASTC_5x4_Format:c0,SRGB8_ALPHA8_ASTC_5x5_Format:d0,SRGB8_ALPHA8_ASTC_6x5_Format:f0,SRGB8_ALPHA8_ASTC_6x6_Format:h0,SRGB8_ALPHA8_ASTC_8x5_Format:m0,SRGB8_ALPHA8_ASTC_8x6_Format:p0,SRGB8_ALPHA8_ASTC_8x8_Format:v0,Scene:oh,SceneUtils:WC,ShaderChunk:lt,ShaderLib:oi,ShaderMaterial:Tn,ShadowMaterial:ho,Shape:br,ShapeBufferGeometry:mh,ShapeGeometry:ph,ShapePath:Th,ShapeUtils:$i,ShortType:Pg,Skeleton:zs,SkeletonHelper:wy,SkinnedMesh:Os,SmoothShading:a_,Sphere:Zi,SphereBufferGeometry:Cc,SphereGeometry:sy,Spherical:$T,SphericalHarmonics3:my,Spline:Dh,SplineCurve:pi,SplineCurve3:ky,SpotLight:Wu,SpotLightHelper:YT,Sprite:Fs,SpriteMaterial:Er,SrcAlphaFactor:Kf,SrcAlphaSaturateFactor:vg,SrcColorFactor:cg,StaticCopyUsage:k_,StaticDrawUsage:sl,StaticReadUsage:A_,StereoCamera:py,StreamCopyUsage:B_,StreamDrawUsage:E_,StreamReadUsage:R_,StringKeyframeTrack:qu,SubtractEquation:ag,SubtractiveBlending:jd,TOUCH:i_,TangentSpaceNormalMap:Mo,TetrahedronBufferGeometry:vh,TetrahedronGeometry:ly,TextBufferGeometry:gh,TextGeometry:uy,Texture:Mt,TextureLoader:Uu,TorusBufferGeometry:yh,TorusGeometry:cy,TorusKnotBufferGeometry:bh,TorusKnotGeometry:dy,Triangle:cn,TriangleFanDrawMode:f_,TriangleStripDrawMode:d_,TrianglesDrawMode:C0,TubeBufferGeometry:xh,TubeGeometry:fy,UVMapping:gc,Uint16Attribute:RC,Uint16BufferAttribute:uo,Uint32Attribute:PC,Uint32BufferAttribute:co,Uint8Attribute:EC,Uint8BufferAttribute:Ls,Uint8ClampedAttribute:AC,Uint8ClampedBufferAttribute:Rs,Uniform:Ec,UniformsLib:Oe,UniformsUtils:F0,UnsignedByteType:Fa,UnsignedInt248Type:ca,UnsignedIntType:ds,UnsignedShort4444Type:Ig,UnsignedShort5551Type:Fg,UnsignedShort565Type:Dg,UnsignedShortType:Ss,VSMShadowMap:ia,Vector2:Re,Vector3:V,Vector4:_t,VectorKeyframeTrack:Ca,Vertex:MC,VertexColors:pC,VideoTexture:hf,WebGL1Renderer:df,WebGLCubeRenderTarget:ji,WebGLMultisampleRenderTarget:uf,WebGLRenderTarget:zn,WebGLRenderTargetCube:HC,WebGLRenderer:cl,WebGLUtils:W0,WireframeGeometry:_h,WireframeHelper:NC,WrapAroundEnding:Cs,XHRLoader:zC,ZeroCurvatureEnding:Zr,ZeroFactor:lg,ZeroSlopeEnding:Jr,ZeroStencilOp:h_,sRGBEncoding:al},Symbol.toStringTag,{value:"Module"}));Number.prototype.clamp=function(e,t){return Math.min(Math.max(this,e),t)};function Py(){return typeof navigator!="undefined"?/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600:null}function By(e,t){return e==null&&(e=0),t==null&&(t=1),e+Math.random()*(t-e)}function hr(e,t){return e==null&&(e=0),t==null&&(t=1),Math.floor(e+Math.random()*(t-e+1))}const jC=e=>document.querySelector(e),YC=e=>typeof e=="number"?"#"+("00000"+e.toString(16)).slice(-6):e,Sp=e=>.299*e.r+.587*e.g+.114*e.b;function Iy(e){for(;e.children&&e.children.length>0;)Iy(e.children[0]),e.remove(e.children[0]);e.geometry&&e.geometry.dispose(),e.material&&(Object.keys(e.material).forEach(t=>{!e.material[t]||e.material[t]!==null&&typeof e.material[t].dispose=="function"&&e.material[t].dispose()}),e.material.dispose())}const Ac=typeof window=="object";let ou=Ac&&window.THREE||{};Ac&&!window.VANTA&&(window.VANTA={});const Mi=Ac&&window.VANTA||{};Mi.register=(e,t)=>Mi[e]=n=>new t(n);Mi.version="0.5.24";const wd=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};Mi.VantaBase=class{constructor(t={}){if(!Ac)return!1;Mi.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const n=typeof this.getDefaultOptions=="function"?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},n),(t instanceof HTMLElement||typeof t=="string")&&(t={el:t}),Object.assign(this.options,t),this.options.THREE&&(ou=this.options.THREE),this.el=this.options.el,this.el==null)wd('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const r=this.el;if(this.el=jC(r),!this.el){wd("Cannot find element",r);return}}this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(r){wd("Init error",r),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=YC(this.options.backgroundColor));return}this.initMouse(),this.resize(),this.animationLoop();const i=window.addEventListener;i("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(i("scroll",this.windowMouseMoveWrapper),i("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(i("touchstart",this.windowTouchWrapper),i("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&i("deviceorientation",this.windowGyroWrapper)}setOptions(t={}){Object.assign(this.options,t),this.triggerMouseMove()}prepareEl(){let t,n;if(typeof Node!="undefined"&&Node.TEXT_NODE)for(t=0;t<this.el.childNodes.length;t++){const i=this.el.childNodes[t];if(i.nodeType===Node.TEXT_NODE){const r=document.createElement("span");r.textContent=i.textContent,i.parentElement.insertBefore(r,i),i.remove()}}for(t=0;t<this.el.children.length;t++)n=this.el.children[t],getComputedStyle(n).position==="static"&&(n.style.position="relative"),getComputedStyle(n).zIndex==="auto"&&(n.style.zIndex=1);getComputedStyle(this.el).position==="static"&&(this.el.style.position="relative")}applyCanvasStyles(t,n={}){Object.assign(t.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(t.style,n),t.classList.add("vanta-canvas")}initThree(){if(!ou.WebGLRenderer){console.warn("[VANTA] No THREE defined on window");return}this.renderer=new ou.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new ou.Scene}getCanvasElement(){if(this.renderer)return this.renderer.domElement;if(this.p5renderer)return this.p5renderer.canvas}getCanvasRect(){const t=this.getCanvasElement();return t?t.getBoundingClientRect():!1}windowMouseMoveWrapper(t){const n=this.getCanvasRect();if(!n)return!1;const i=t.clientX-n.left,r=t.clientY-n.top;i>=0&&r>=0&&i<=n.width&&r<=n.height&&(this.mouseX=i,this.mouseY=r,this.options.mouseEase||this.triggerMouseMove(i,r))}windowTouchWrapper(t){const n=this.getCanvasRect();if(!n)return!1;if(t.touches.length===1){const i=t.touches[0].clientX-n.left,r=t.touches[0].clientY-n.top;i>=0&&r>=0&&i<=n.width&&r<=n.height&&(this.mouseX=i,this.mouseY=r,this.options.mouseEase||this.triggerMouseMove(i,r))}}windowGyroWrapper(t){const n=this.getCanvasRect();if(!n)return!1;const i=Math.round(t.alpha*2)-n.left,r=Math.round(t.beta*2)-n.top;i>=0&&r>=0&&i<=n.width&&r<=n.height&&(this.mouseX=i,this.mouseY=r,this.options.mouseEase||this.triggerMouseMove(i,r))}triggerMouseMove(t,n){t===void 0&&n===void 0&&(this.options.mouseEase?(t=this.mouseEaseX,n=this.mouseEaseY):(t=this.mouseX,n=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=t/this.scale,this.uniforms.iMouse.value.y=n/this.scale);const i=t/this.width,r=n/this.height;typeof this.onMouseMove=="function"&&this.onMouseMove(i,r)}setSize(){this.scale||(this.scale=1),Py()&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,typeof this.camera.updateProjectionMatrix=="function"&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),typeof this.onResize=="function"&&this.onResize()}isOnScreen(){const t=this.el.offsetHeight,n=this.el.getBoundingClientRect(),i=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,r=n.top+i,o=r-window.innerHeight,a=r+t;return o<=i&&i<=a}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const t=performance.now();if(this.prevNow){let n=(t-this.prevNow)/16.666666666666668;n=Math.max(.2,Math.min(n,5)),this.t+=n,this.t2+=(this.options.speed||1)*n,this.uniforms&&(this.uniforms.iTime.value=this.t2*.016667)}return this.prevNow=t,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=(this.mouseX-this.mouseEaseX)*.05,this.mouseEaseY+=(this.mouseY-this.mouseEaseY)*.05,this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&(typeof this.onUpdate=="function"&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),typeof this.afterRender=="function"&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);typeof this.onRestart=="function"&&this.onRestart(),this.init()}init(){typeof this.onInit=="function"&&this.onInit()}destroy(){typeof this.onDestroy=="function"&&this.onDestroy();const t=window.removeEventListener;t("touchstart",this.windowTouchWrapper),t("touchmove",this.windowTouchWrapper),t("scroll",this.windowMouseMoveWrapper),t("mousemove",this.windowMouseMoveWrapper),t("deviceorientation",this.windowGyroWrapper),t("resize",this.resize),window.cancelAnimationFrame(this.req);const n=this.scene;n&&n.children&&Iy(n),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),Mi.current===this&&(Mi.current=null)}};var Fy=Mi.VantaBase;const XC=typeof window=="object";let Ct=XC&&window.THREE;class Dy extends Fy{static initClass(){this.prototype.defaultOptions={color:16727937,backgroundColor:2299196,points:10,maxDistance:20,spacing:15,showDots:!0}}constructor(t){Ct=t.THREE||Ct,super(t)}genPoint(t,n,i){let r;if(this.points||(this.points=[]),this.options.showDots){const o=new Ct.SphereGeometry(.25,12,12),a=new Ct.MeshLambertMaterial({color:this.options.color});r=new Ct.Mesh(o,a)}else r=new Ct.Object3D;return this.cont.add(r),r.ox=t,r.oy=n,r.oz=i,r.position.set(t,n,i),r.r=By(-2,2),this.points.push(r)}onInit(){this.cont=new Ct.Group,this.cont.position.set(0,0,0),this.scene.add(this.cont);let t=this.options.points,{spacing:n}=this.options;Py()&&(t=~~(t*.75),n=~~(n*.65));const i=t*t*2;this.linePositions=new Float32Array(i*i*3),this.lineColors=new Float32Array(i*i*3);const r=Sp(new Ct.Color(this.options.color)),o=Sp(new Ct.Color(this.options.backgroundColor));this.blending=r>o?"additive":"subtractive";const a=new Ct.BufferGeometry;a.setAttribute("position",new Ct.BufferAttribute(this.linePositions,3).setUsage(Ct.DynamicDrawUsage)),a.setAttribute("color",new Ct.BufferAttribute(this.lineColors,3).setUsage(Ct.DynamicDrawUsage)),a.computeBoundingSphere(),a.setDrawRange(0,0);const s=new Ct.LineBasicMaterial({vertexColors:Ct.VertexColors,blending:this.blending==="additive"?Ct.AdditiveBlending:null,transparent:!0});this.linesMesh=new Ct.LineSegments(a,s),this.cont.add(this.linesMesh);for(let u=0;u<=t;u++)for(let c=0;c<=t;c++){const d=hr(-3,3),f=(u-t/2)*n+hr(-5,5);let h=(c-t/2)*n+hr(-5,5);u%2&&(h+=n*.5),this.genPoint(f,d-hr(5,15),h),this.genPoint(f+hr(-5,5),d+hr(5,15),h+hr(-5,5))}this.camera=new Ct.PerspectiveCamera(25,this.width/this.height,.01,1e4),this.camera.position.set(50,100,150),this.scene.add(this.camera);const l=new Ct.AmbientLight(16777215,.75);return this.scene.add(l),this.spot=new Ct.SpotLight(16777215,1),this.spot.position.set(0,200,0),this.spot.distance=400,this.spot.target=this.cont,this.scene.add(this.spot)}onDestroy(){this.scene&&this.scene.remove(this.linesMesh),this.spot=this.points=this.linesMesh=this.lineColors=this.linePositions=null}setOptions(t){super.setOptions(t),t.color&&this.points.forEach(n=>{n.material.color=new Ct.Color(t.color)})}onUpdate(){let t;const n=this.camera;Math.abs(n.tx-n.position.x)>.01&&(t=n.tx-n.position.x,n.position.x+=t*.02),Math.abs(n.ty-n.position.y)>.01&&(t=n.ty-n.position.y,n.position.y+=t*.02),n.lookAt(new Ct.Vector3(0,0,0));let i=0,r=0,o=0;const a=new Ct.Color(this.options.backgroundColor),s=new Ct.Color(this.options.color),l=s.clone().sub(a);this.rayCaster&&this.rayCaster.setFromCamera(new Ct.Vector2(this.rcMouseX,this.rcMouseY),this.camera);for(let u=0;u<this.points.length;u++){let c,d;const f=this.points[u];this.rayCaster?d=this.rayCaster.ray.distanceToPoint(f.position):d=1e3;const h=d.clamp(5,15);if(f.scale.x=f.scale.y=f.scale.z=((15-h)*.25).clamp(1,100),f.r!==0){let m=Math.atan2(f.position.z,f.position.x);c=Math.sqrt(f.position.z*f.position.z+f.position.x*f.position.x),m+=25e-5*f.r,f.position.x=c*Math.cos(m),f.position.z=c*Math.sin(m)}for(let m=u;m<this.points.length;m++){const y=this.points[m],b=f.position.x-y.position.x,g=f.position.y-y.position.y,p=f.position.z-y.position.z;if(c=Math.sqrt(b*b+g*g+p*p),c<this.options.maxDistance){let _;const x=((1-c/this.options.maxDistance)*2).clamp(0,1);this.blending==="additive"?_=new Ct.Color(0).lerp(l,x):_=a.clone().lerp(s,x),this.linePositions[i++]=f.position.x,this.linePositions[i++]=f.position.y,this.linePositions[i++]=f.position.z,this.linePositions[i++]=y.position.x,this.linePositions[i++]=y.position.y,this.linePositions[i++]=y.position.z,this.lineColors[r++]=_.r,this.lineColors[r++]=_.g,this.lineColors[r++]=_.b,this.lineColors[r++]=_.r,this.lineColors[r++]=_.g,this.lineColors[r++]=_.b,o++}}}return this.linesMesh.geometry.setDrawRange(0,o*2),this.linesMesh.geometry.attributes.position.needsUpdate=!0,this.linesMesh.geometry.attributes.color.needsUpdate=!0,this.t*.001}onMouseMove(t,n){const i=this.camera;i.oy||(i.oy=i.position.y,i.ox=i.position.x,i.oz=i.position.z);const r=Math.atan2(i.oz,i.ox),o=Math.sqrt(i.oz*i.oz+i.ox*i.ox),a=r+(t-.5)*2*(this.options.mouseCoeffX||1);i.tz=o*Math.sin(a),i.tx=o*Math.cos(a),i.ty=i.oy+(n-.5)*50*(this.options.mouseCoeffY||1),this.rayCaster,this.rcMouseX=t*2-1,this.rcMouseY=-t*2+1}onRestart(){this.scene&&this.scene.remove(this.linesMesh),this.points=[]}}Dy.initClass();Mi.register("NET",Dy);let In=typeof window=="object"&&window.THREE;const QC={color:21896,shininess:30,waveHeight:15,waveSpeed:1,zoom:1};class Oh extends Fy{static initClass(){this.prototype.ww=100,this.prototype.hh=80,this.prototype.waveNoise=4}constructor(t){In=t.THREE||In,super(t)}getMaterial(){const t={color:this.options.color,shininess:this.options.shininess,flatShading:!0,side:In.DoubleSide};return new In.MeshPhongMaterial(t)}onInit(){let t,n;const r=this.getMaterial(),o=new In.BufferGeometry;this.gg=[];const a=[];for(t=0;t<=this.ww;t++)for(this.gg[t]=[],n=0;n<=this.hh;n++){const f=a.length,h=new In.Vector3((t-this.ww*.5)*18,By(0,this.waveNoise)-10,(this.hh*.5-n)*18);a.push(h),this.gg[t][n]=f}o.setFromPoints(a);const s=[];for(t=1;t<=this.ww;t++)for(n=1;n<=this.hh;n++){let f,h;const m=this.gg[t][n],y=this.gg[t][n-1],b=this.gg[t-1][n],g=this.gg[t-1][n-1];hr(0,1)?(f=[g,y,b],h=[y,b,m]):(f=[g,y,m],h=[g,b,m]),s.push(...f,...h)}o.setIndex(s),this.plane=new In.Mesh(o,r),this.scene.add(this.plane);const l=new In.AmbientLight(16777215,.9);this.scene.add(l);const u=new In.PointLight(16777215,.9);u.position.set(-100,250,-100),this.scene.add(u),this.camera=new In.PerspectiveCamera(35,this.width/this.height,50,1e4);const c=-10,d=-10;this.cameraPosition=new In.Vector3(250+c,200,400+d),this.cameraTarget=new In.Vector3(150+c,-30,200+d),this.camera.position.copy(this.cameraPosition),this.scene.add(this.camera)}onUpdate(){let t;this.plane.material.color.set(this.options.color),this.plane.material.shininess=this.options.shininess,this.camera.ox=this.cameraPosition.x/this.options.zoom,this.camera.oy=this.cameraPosition.y/this.options.zoom,this.camera.oz=this.cameraPosition.z/this.options.zoom,this.controls!=null&&this.controls.update();const n=this.camera;Math.abs(n.tx-n.position.x)>.01&&(t=n.tx-n.position.x,n.position.x+=t*.02),Math.abs(n.ty-n.position.y)>.01&&(t=n.ty-n.position.y,n.position.y+=t*.02),Math.abs(n.tz-n.position.z)>.01&&(t=n.tz-n.position.z,n.position.z+=t*.02),n.lookAt(this.cameraTarget),this.oy=this.oy||{};for(let i=0;i<this.plane.geometry.attributes.position.array.length;i+=3){const r={x:this.plane.geometry.attributes.position.array[i],y:this.plane.geometry.attributes.position.array[i+1],z:this.plane.geometry.attributes.position.array[i+2],oy:this.oy[i]};if(!r.oy)this.oy[i]=r.y;else{const o=this.options.waveSpeed,a=Math.sqrt(o)*Math.cos(-r.x-r.z*.7),s=Math.sin(o*this.t*.02-o*r.x*.025+o*r.z*.015+a),l=Math.pow(s+1,2)/4;r.y=r.oy+l*this.options.waveHeight,this.plane.geometry.attributes.position.array[i+1]=r.y}}this.plane.geometry.attributes.position.setUsage(In.DynamicDrawUsage),this.plane.geometry.computeVertexNormals(),this.plane.geometry.attributes.position.needsUpdate=!0,this.wireframe&&(this.wireframe.geometry.fromGeometry(this.plane.geometry),this.wireframe.geometry.computeFaceNormals())}onMouseMove(t,n){const i=this.camera;return i.oy||(i.oy=i.position.y,i.ox=i.position.x,i.oz=i.position.z),i.tx=i.ox+(t-.5)*100/this.options.zoom,i.ty=i.oy+(n-.5)*-100/this.options.zoom,i.tz=i.oz+(t-.5)*-50/this.options.zoom}}Oh.prototype.defaultOptions=QC;Oh.initClass();var Mp=Mi.register("WAVES",Oh);/*!
 * Quasar Framework v2.16.6
 * (c) 2015-present Razvan Stoenescu
 * Released under the MIT License.
 */var Sd=null;function Nh(){return Sd!==null?Sd:Sd=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}}typeof __QUASAR_SSR__!="boolean"&&(Nh().__QUASAR_SSR__=!1);typeof __QUASAR_SSR_CLIENT__!="boolean"&&(Nh().__QUASAR_SSR_CLIENT__=!1);typeof __QUASAR_SSR_PWA__!="boolean"&&(Nh().__QUASAR_SSR_PWA__=!1);function Jt(e,t,n,i){return Object.defineProperty(e,t,{get:n,set:i,enumerable:!0}),e}function Oy(e,t){for(const n in t)Jt(e,n,t[n]);return e}var Kn=ee(__QUASAR_SSR_CLIENT__&&(__QUASAR_SSR_PWA__?document.body.getAttribute("data-server-rendered")!==null:!0)),Rf;function KC(e,t){const n=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(vivaldi)[\/]([\w.]+)/.exec(e)||/(chrome|crios)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(firefox|fxios)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(e)||[];return{browser:n[5]||n[3]||n[1]||"",version:n[4]||n[2]||"0",platform:t[0]||""}}function ZC(e){return/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[]}var Ny="ontouchstart"in window||window.navigator.maxTouchPoints>0;function JC(e){const t=e.toLowerCase(),n=ZC(t),i=KC(t,n),r={};i.browser&&(r[i.browser]=!0,r.version=i.version,r.versionNumber=parseInt(i.version,10)),i.platform&&(r[i.platform]=!0);const o=r.android||r.ios||r.bb||r.blackberry||r.ipad||r.iphone||r.ipod||r.kindle||r.playbook||r.silk||r["windows phone"];if(o===!0||t.indexOf("mobile")!==-1?r.mobile=!0:r.desktop=!0,r["windows phone"]&&(r.winphone=!0,delete r["windows phone"]),r.edga||r.edgios||r.edg?(r.edge=!0,i.browser="edge"):r.crios?(r.chrome=!0,i.browser="chrome"):r.fxios&&(r.firefox=!0,i.browser="firefox"),(r.ipod||r.ipad||r.iphone)&&(r.ios=!0),r.vivaldi&&(i.browser="vivaldi",r.vivaldi=!0),(r.chrome||r.opr||r.safari||r.vivaldi||r.mobile===!0&&r.ios!==!0&&o!==!0)&&(r.webkit=!0),r.opr&&(i.browser="opera",r.opera=!0),r.safari&&(r.blackberry||r.bb?(i.browser="blackberry",r.blackberry=!0):r.playbook?(i.browser="playbook",r.playbook=!0):r.android?(i.browser="android",r.android=!0):r.kindle?(i.browser="kindle",r.kindle=!0):r.silk&&(i.browser="silk",r.silk=!0)),r.name=i.browser,r.platform=i.platform,t.indexOf("electron")!==-1)r.electron=!0;else if(document.location.href.indexOf("-extension://")!==-1)r.bex=!0;else{if(window.Capacitor!==void 0?(r.capacitor=!0,r.nativeMobile=!0,r.nativeMobileWrapper="capacitor"):(window._cordovaNative!==void 0||window.cordova!==void 0)&&(r.cordova=!0,r.nativeMobile=!0,r.nativeMobileWrapper="cordova"),Kn.value===!0&&(Rf={is:{...r}}),Ny===!0&&r.mac===!0&&(r.desktop===!0&&r.safari===!0||r.nativeMobile===!0&&r.android!==!0&&r.ios!==!0&&r.ipad!==!0)){delete r.mac,delete r.desktop;const a=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(r,{mobile:!0,ios:!0,platform:a,[a]:!0})}r.mobile!==!0&&window.navigator.userAgentData&&window.navigator.userAgentData.mobile&&(delete r.desktop,r.mobile=!0)}return r}var Tp=navigator.userAgent||navigator.vendor||window.opera,eE={has:{touch:!1,webStorage:!1},within:{iframe:!1}},rt={userAgent:Tp,is:JC(Tp),has:{touch:Ny},within:{iframe:window.self!==window.top}},kf={install(e){const{$q:t}=e;Kn.value===!0?(e.onSSRHydrated.push(()=>{Object.assign(t.platform,rt),Kn.value=!1}),t.platform=na(this)):t.platform=this}};{let e;Jt(rt.has,"webStorage",()=>{if(e!==void 0)return e;try{if(window.localStorage)return e=!0,!0}catch{}return e=!1,!1}),Object.assign(kf,rt),Kn.value===!0&&(Object.assign(kf,Rf,eE),Rf=null)}var tE=kf;function xe(e){return Qv(Kv(e))}function gi(e){return Qv(e)}var Br=(e,t)=>{const n=na(e);for(const i in e)Jt(t,i,()=>n[i],r=>{n[i]=r});return t},xt={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const e=Object.defineProperty({},"passive",{get(){Object.assign(xt,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,e),window.removeEventListener("qtest",null,e)}catch{}function $t(){}function Lc(e){return e.button===0}function En(e){return e.touches&&e.touches[0]?e=e.touches[0]:e.changedTouches&&e.changedTouches[0]?e=e.changedTouches[0]:e.targetTouches&&e.targetTouches[0]&&(e=e.targetTouches[0]),{top:e.clientY,left:e.clientX}}function nE(e){if(e.path)return e.path;if(e.composedPath)return e.composedPath();const t=[];let n=e.target;for(;n;){if(t.push(n),n.tagName==="HTML")return t.push(document),t.push(window),t;n=n.parentElement}}function Bt(e){e.stopPropagation()}function en(e){e.cancelable!==!1&&e.preventDefault()}function nt(e){e.cancelable!==!1&&e.preventDefault(),e.stopPropagation()}function fa(e,t){if(e===void 0||t===!0&&e.__dragPrevented===!0)return;const n=t===!0?i=>{i.__dragPrevented=!0,i.addEventListener("dragstart",en,xt.notPassiveCapture)}:i=>{delete i.__dragPrevented,i.removeEventListener("dragstart",en,xt.notPassiveCapture)};e.querySelectorAll("a, img").forEach(n)}function Dt(e,t,n){const i=`__q_${t}_evt`;e[i]=e[i]!==void 0?e[i].concat(n):n,n.forEach(r=>{r[0].addEventListener(r[1],e[r[2]],xt[r[3]])})}function gn(e,t){const n=`__q_${t}_evt`;e[n]!==void 0&&(e[n].forEach(i=>{i[0].removeEventListener(i[1],e[i[2]],xt[i[3]])}),e[n]=void 0)}function za(e,t=250,n){let i=null;function r(){const o=arguments,a=()=>{i=null,n!==!0&&e.apply(this,o)};i!==null?clearTimeout(i):n===!0&&e.apply(this,o),i=setTimeout(a,t)}return r.cancel=()=>{i!==null&&clearTimeout(i)},r}var Md=["sm","md","lg","xl"],{passive:Cp}=xt;Br({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:$t,setDebounce:$t,install({$q:e,onSSRHydrated:t}){if(e.screen=this,this.__installed===!0){e.config.screen!==void 0&&(e.config.screen.bodyClasses===!1?document.body.classList.remove(`screen--${this.name}`):this.__update(!0));return}const{visualViewport:n}=window,i=n||window,r=document.scrollingElement||document.documentElement,o=n===void 0||rt.is.mobile===!0?()=>[Math.max(window.innerWidth,r.clientWidth),Math.max(window.innerHeight,r.clientHeight)]:()=>[n.width*n.scale+window.innerWidth-r.clientWidth,n.height*n.scale+window.innerHeight-r.clientHeight],a=e.config.screen!==void 0&&e.config.screen.bodyClasses===!0;this.__update=d=>{const[f,h]=o();if(h!==this.height&&(this.height=h),f!==this.width)this.width=f;else if(d!==!0)return;let m=this.sizes;this.gt.xs=f>=m.sm,this.gt.sm=f>=m.md,this.gt.md=f>=m.lg,this.gt.lg=f>=m.xl,this.lt.sm=f<m.sm,this.lt.md=f<m.md,this.lt.lg=f<m.lg,this.lt.xl=f<m.xl,this.xs=this.lt.sm,this.sm=this.gt.xs===!0&&this.lt.md===!0,this.md=this.gt.sm===!0&&this.lt.lg===!0,this.lg=this.gt.md===!0&&this.lt.xl===!0,this.xl=this.gt.lg,m=this.xs===!0&&"xs"||this.sm===!0&&"sm"||this.md===!0&&"md"||this.lg===!0&&"lg"||"xl",m!==this.name&&(a===!0&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${m}`)),this.name=m)};let s,l={},u=16;this.setSizes=d=>{Md.forEach(f=>{d[f]!==void 0&&(l[f]=d[f])})},this.setDebounce=d=>{u=d};const c=()=>{const d=getComputedStyle(document.body);d.getPropertyValue("--q-size-sm")&&Md.forEach(f=>{this.sizes[f]=parseInt(d.getPropertyValue(`--q-size-${f}`),10)}),this.setSizes=f=>{Md.forEach(h=>{f[h]&&(this.sizes[h]=f[h])}),this.__update(!0)},this.setDebounce=f=>{s!==void 0&&i.removeEventListener("resize",s,Cp),s=f>0?za(this.__update,f):this.__update,i.addEventListener("resize",s,Cp)},this.setDebounce(u),Object.keys(l).length!==0?(this.setSizes(l),l=void 0):this.__update(),a===!0&&this.name==="xs"&&document.body.classList.add("screen--xs")};Kn.value===!0?t.push(c):c()}});var fn=Br({isActive:!1,mode:!1},{__media:void 0,set(e){fn.mode=e,e==="auto"?(fn.__media===void 0&&(fn.__media=window.matchMedia("(prefers-color-scheme: dark)"),fn.__updateMedia=()=>{fn.set("auto")},fn.__media.addListener(fn.__updateMedia)),e=fn.__media.matches):fn.__media!==void 0&&(fn.__media.removeListener(fn.__updateMedia),fn.__media=void 0),fn.isActive=e===!0,document.body.classList.remove(`body--${e===!0?"light":"dark"}`),document.body.classList.add(`body--${e===!0?"dark":"light"}`)},toggle(){fn.set(fn.isActive===!1)},install({$q:e,ssrContext:t}){const{dark:n}=e.config;e.dark=this,this.__installed!==!0&&this.set(n!==void 0?n:!1)}}),iE=fn;function Eo(e){return e!==Object(e)||e.isComposing===!0||e.qKeyEvent===!0}function Zn(e,t){return Eo(e)===!0?!1:[].concat(t).includes(e.keyCode)}var Pf={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh",expand:e=>e?`Expand "${e}"`:"Expand",collapse:e=>e?`Collapse "${e}"`:"Collapse"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:e=>e===1?"1 record selected.":(e===0?"No":e)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(e,t,n)=>e+"-"+t+" of "+n,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function Ep(){const e=Array.isArray(navigator.languages)===!0&&navigator.languages.length!==0?navigator.languages[0]:navigator.language;if(typeof e=="string")return e.split(/[-_]/).map((t,n)=>n===0?t.toLowerCase():n>1||t.length<4?t.toUpperCase():t[0].toUpperCase()+t.slice(1).toLowerCase()).join("-")}var Xr=Br({__qLang:{}},{getLocale:Ep,set(e=Pf,t){const n={...e,rtl:e.rtl===!0,getLocale:Ep};{if(n.set=Xr.set,Xr.__langConfig===void 0||Xr.__langConfig.noHtmlAttrs!==!0){const i=document.documentElement;i.setAttribute("dir",n.rtl===!0?"rtl":"ltr"),i.setAttribute("lang",n.isoName)}Object.assign(Xr.__qLang,n)}},install({$q:e,lang:t,ssrContext:n}){e.lang=Xr.__qLang,Xr.__langConfig=e.config.lang,this.__installed===!0?t!==void 0&&this.set(t):(this.props=new Proxy(this.__qLang,{get(){return Reflect.get(...arguments)},ownKeys(i){return Reflect.ownKeys(i).filter(r=>r!=="set"&&r!=="getLocale")}}),this.set(t||Pf))}}),zy=Xr,rE={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}},Ap=Br({iconMapFn:null,__qIconSet:{}},{set(e,t){const n={...e};n.set=Ap.set,Object.assign(Ap.__qIconSet,n)},install({$q:e,iconSet:t,ssrContext:n}){e.config.iconMapFn!==void 0&&(this.iconMapFn=e.config.iconMapFn),e.iconSet=this.__qIconSet,Jt(e,"iconMapFn",()=>this.iconMapFn,i=>{this.iconMapFn=i}),this.__installed===!0?t!==void 0&&this.set(t):(this.props=new Proxy(this.__qIconSet,{get(){return Reflect.get(...arguments)},ownKeys(i){return Reflect.ownKeys(i).filter(r=>r!=="set")}}),this.set(t||rE))}}),oE="_q_",qy="_q_t_",Hy="_q_s_",Ao="_q_l_",Vy="_q_pc_",Uy="_q_f_",Gy="_q_fo_",Wy="_q_tabs_",$y="_q_u_";function gt(){}var Lp={};function li(e,t){if(e===t)return!0;if(e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,i;if(e.constructor===Array){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(li(e[i],t[i])!==!0)return!1;return!0}if(e.constructor===Map){if(e.size!==t.size)return!1;let o=e.entries();for(i=o.next();i.done!==!0;){if(t.has(i.value[0])!==!0)return!1;i=o.next()}for(o=e.entries(),i=o.next();i.done!==!0;){if(li(i.value[1],t.get(i.value[0]))!==!0)return!1;i=o.next()}return!0}if(e.constructor===Set){if(e.size!==t.size)return!1;const o=e.entries();for(i=o.next();i.done!==!0;){if(t.has(i.value[0])!==!0)return!1;i=o.next()}return!0}if(e.buffer!=null&&e.buffer.constructor===ArrayBuffer){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const r=Object.keys(e).filter(o=>e[o]!==void 0);if(n=r.length,n!==Object.keys(t).filter(o=>t[o]!==void 0).length)return!1;for(i=n;i--!==0;){const o=r[i];if(li(e[o],t[o])!==!0)return!1}return!0}return e!==e&&t!==t}function wn(e){return e!==null&&typeof e=="object"&&Array.isArray(e)!==!0}function Bf(e){return Object.prototype.toString.call(e)==="[object Date]"}function aE(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Qs(e){return typeof e=="number"&&isFinite(e)}function jy(e,t){const n=Yx(e);n.config.globalProperties=t.config.globalProperties;const{reload:i,...r}=t._context;return Object.assign(n._context,r),n}var Rp=["B","KB","MB","GB","TB","PB"];function If(e,t=1){let n=0;for(;parseInt(e,10)>=1024&&n<Rp.length-1;)e/=1024,++n;return`${e.toFixed(t)}${Rp[n]}`}function wt(e,t,n){return n<=t?t:Math.min(n,Math.max(t,e))}function ec(e,t,n){if(n<=t)return t;const i=n-t+1;let r=t+(e-t)%i;return r<t&&(r=i+r),r===0?0:r}function mt(e,t=2,n="0"){if(e==null)return e;const i=""+e;return i.length>=t?i:new Array(t-i.length+1).join(n)+i}var zh=XMLHttpRequest,Yy=zh.prototype.open,sE=["top","right","bottom","left"],tc=[],gs=0;function lE({p:e,pos:t,active:n,horiz:i,reverse:r,dir:o}){let a=1,s=1;return i===!0?(r===!0&&(a=-1),t==="bottom"&&(s=-1),{transform:`translate3d(${a*(e-100)}%,${n?0:s*-200}%,0)`}):(r===!0&&(s=-1),t==="right"&&(a=-1),{transform:`translate3d(${n?0:o*a*-200}%,${s*(e-100)}%,0)`})}function uE(e,t){return typeof t!="number"&&(e<25?t=Math.random()*3+3:e<65?t=Math.random()*3:e<85?t=Math.random()*2:e<99?t=.6:t=0),wt(e+t,0,100)}function cE(e){gs++,tc.push(e),!(gs>1)&&(zh.prototype.open=function(t,n){const i=[],r=()=>{tc.forEach(a=>{(a.hijackFilter.value===null||a.hijackFilter.value(n)===!0)&&(a.start(),i.push(a.stop))})},o=()=>{i.forEach(a=>{a()})};this.addEventListener("loadstart",r,{once:!0}),this.addEventListener("loadend",o,{once:!0}),Yy.apply(this,arguments)})}function dE(e){tc=tc.filter(t=>t.start!==e),gs=Math.max(0,gs-1),gs===0&&(zh.prototype.open=Yy)}var fE=xe({name:"QAjaxBar",props:{position:{type:String,default:"top",validator:e=>sE.includes(e)},size:{type:String,default:"2px"},color:String,skipHijack:Boolean,reverse:Boolean,hijackFilter:Function},emits:["start","stop"],setup(e,{emit:t}){const{proxy:n}=Be(),i=ee(0),r=ee(!1),o=ee(!0);let a=0,s=null,l;const u=w(()=>`q-loading-bar q-loading-bar--${e.position}`+(e.color!==void 0?` bg-${e.color}`:"")+(o.value===!0?"":" no-transition")),c=w(()=>e.position==="top"||e.position==="bottom"),d=w(()=>c.value===!0?"height":"width"),f=w(()=>{const _=r.value,x=lE({p:i.value,pos:e.position,active:_,horiz:c.value,reverse:n.$q.lang.rtl===!0&&["top","bottom"].includes(e.position)?e.reverse===!1:e.reverse,dir:n.$q.lang.rtl===!0?-1:1});return x[d.value]=e.size,x.opacity=_?1:0,x}),h=w(()=>r.value===!0?{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":i.value}:{"aria-hidden":"true"});function m(_=300){const x=l;return l=Math.max(0,_)||0,a++,a>1?(x===0&&_>0?g():s!==null&&x>0&&_<=0&&(clearTimeout(s),s=null),a):(s!==null&&clearTimeout(s),t("start"),i.value=0,s=setTimeout(()=>{s=null,o.value=!0,_>0&&g()},r._value===!0?500:1),r._value!==!0&&(r.value=!0,o.value=!1),a)}function y(_){return a>0&&(i.value=uE(i.value,_)),a}function b(){if(a=Math.max(0,a-1),a>0)return a;s!==null&&(clearTimeout(s),s=null),t("stop");const _=()=>{o.value=!0,i.value=100,s=setTimeout(()=>{s=null,r.value=!1},1e3)};return i.value===0?s=setTimeout(_,1):_(),a}function g(){i.value<100&&(s=setTimeout(()=>{s=null,y(),g()},l))}let p;return It(()=>{e.skipHijack!==!0&&(p=!0,cE({start:m,stop:b,hijackFilter:w(()=>e.hijackFilter||null)}))}),st(()=>{s!==null&&clearTimeout(s),p===!0&&dE(m)}),Object.assign(n,{start:m,stop:b,increment:y}),()=>v("div",{class:u.value,style:f.value,...h.value})}}),Ff={xs:18,sm:24,md:32,lg:38,xl:46},Ji={size:String};function er(e,t=Ff){return w(()=>e.size!==void 0?{fontSize:e.size in t?`${t[e.size]}px`:e.size}:null)}function We(e,t){return e!==void 0&&e()||t}function hl(e,t){if(e!==void 0){const n=e();if(n!=null)return n.slice()}return t}function Nt(e,t){return e!==void 0?t.concat(e()):t}function qh(e,t){return e===void 0?t:t!==void 0?t.concat(e()):e()}function Jn(e,t,n,i,r,o){t.key=i+r;const a=v(e,t,n);return r===!0?ci(a,o()):a}var kp="0 0 24 24",Pp=e=>e,Td=e=>`ionicons ${e}`,Xy={"mdi-":e=>`mdi ${e}`,"icon-":Pp,"bt-":e=>`bt ${e}`,"eva-":e=>`eva ${e}`,"ion-md":Td,"ion-ios":Td,"ion-logo":Td,"iconfont ":Pp,"ti-":e=>`themify-icon ${e}`,"bi-":e=>`bootstrap-icons ${e}`},Qy={o_:"-outlined",r_:"-round",s_:"-sharp"},Ky={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},hE=new RegExp("^("+Object.keys(Xy).join("|")+")"),mE=new RegExp("^("+Object.keys(Qy).join("|")+")"),Bp=new RegExp("^("+Object.keys(Ky).join("|")+")"),pE=/^[Mm]\s?[-+]?\.?\d/,vE=/^img:/,gE=/^svguse:/,yE=/^ion-/,bE=/^(fa-(sharp|solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /,ft=xe({name:"QIcon",props:{...Ji,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=Be(),i=er(e),r=w(()=>"q-icon"+(e.left===!0?" on-left":"")+(e.right===!0?" on-right":"")+(e.color!==void 0?` text-${e.color}`:"")),o=w(()=>{let a,s=e.name;if(s==="none"||!s)return{none:!0};if(n.iconMapFn!==null){const c=n.iconMapFn(s);if(c!==void 0)if(c.icon!==void 0){if(s=c.icon,s==="none"||!s)return{none:!0}}else return{cls:c.cls,content:c.content!==void 0?c.content:" "}}if(pE.test(s)===!0){const[c,d=kp]=s.split("|");return{svg:!0,viewBox:d,nodes:c.split("&&").map(f=>{const[h,m,y]=f.split("@@");return v("path",{style:m,d:h,transform:y})})}}if(vE.test(s)===!0)return{img:!0,src:s.substring(4)};if(gE.test(s)===!0){const[c,d=kp]=s.split("|");return{svguse:!0,src:c.substring(7),viewBox:d}}let l=" ";const u=s.match(hE);if(u!==null)a=Xy[u[1]](s);else if(bE.test(s)===!0)a=s;else if(yE.test(s)===!0)a=`ionicons ion-${n.platform.is.ios===!0?"ios":"md"}${s.substring(3)}`;else if(Bp.test(s)===!0){a="notranslate material-symbols";const c=s.match(Bp);c!==null&&(s=s.substring(6),a+=Ky[c[1]]),l=s}else{a="notranslate material-icons";const c=s.match(mE);c!==null&&(s=s.substring(2),a+=Qy[c[1]]),l=s}return{cls:a,content:l}});return()=>{const a={class:r.value,style:i.value,"aria-hidden":"true",role:"presentation"};return o.value.none===!0?v(e.tag,a,We(t.default)):o.value.img===!0?v(e.tag,a,Nt(t.default,[v("img",{src:o.value.src})])):o.value.svg===!0?v(e.tag,a,Nt(t.default,[v("svg",{viewBox:o.value.viewBox||"0 0 24 24"},o.value.nodes)])):o.value.svguse===!0?v(e.tag,a,Nt(t.default,[v("svg",{viewBox:o.value.viewBox},[v("use",{"xlink:href":o.value.src})])])):(o.value.cls!==void 0&&(a.class+=" "+o.value.cls),v(e.tag,a,Nt(t.default,[o.value.content])))}}});xe({name:"QAvatar",props:{...Ji,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:t}){const n=er(e),i=w(()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(e.square===!0?" q-avatar--square":e.rounded===!0?" rounded-borders":"")),r=w(()=>e.fontSize?{fontSize:e.fontSize}:null);return()=>{const o=e.icon!==void 0?[v(ft,{name:e.icon})]:void 0;return v("div",{class:i.value,style:n.value},[v("div",{class:"q-avatar__content row flex-center overflow-hidden",style:r.value},qh(t.default,o))])}}});var xE=["top","middle","bottom"];xe({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>xE.includes(e)}},setup(e,{slots:t}){const n=w(()=>e.align!==void 0?{verticalAlign:e.align}:null),i=w(()=>{const r=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(r!==void 0?` text-${r}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>v("div",{class:i.value,style:n.value,role:"status","aria-label":e.label},Nt(t.default,e.label!==void 0?[e.label]:[]))}});var ct={dark:{type:Boolean,default:null}};function dt(e,t){return w(()=>e.dark===null?t.dark.isActive:e.dark)}xe({name:"QBanner",props:{...ct,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=Be(),i=dt(e,n),r=w(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(i.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),o=w(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const a=[v("div",{class:"q-banner__avatar col-auto row items-center self-start"},We(t.avatar)),v("div",{class:"q-banner__content col text-body2"},We(t.default))],s=We(t.action);return s!==void 0&&a.push(v("div",{class:o.value},s)),v("div",{class:r.value+(e.inlineActions===!1&&s!==void 0?" q-banner--top-padding":""),role:"alert"},a)}}});xe({name:"QBar",props:{...ct,dense:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=Be(),i=dt(e,n),r=w(()=>`q-bar row no-wrap items-center q-bar--${e.dense===!0?"dense":"standard"}  q-bar--${i.value===!0?"dark":"light"}`);return()=>v("div",{class:r.value,role:"toolbar"},We(t.default))}});var Zy={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},_E=Object.keys(Zy),Hh={align:{type:String,validator:e=>_E.includes(e)}};function Vh(e){return w(()=>{const t=e.align===void 0?e.vertical===!0?"stretch":"left":e.align;return`${e.vertical===!0?"items":"justify"}-${Zy[t]}`})}function Su(e){if(Object(e.$parent)===e.$parent)return e.$parent;let{parent:t}=e.$;for(;Object(t)===t;){if(Object(t.proxy)===t.proxy)return t.proxy;t=t.parent}}function Jy(e,t){typeof t.type=="symbol"?Array.isArray(t.children)===!0&&t.children.forEach(n=>{Jy(e,n)}):e.add(t)}function Uh(e){const t=new Set;return e.forEach(n=>{Jy(t,n)}),Array.from(t)}function Gh(e){return e.appContext.config.globalProperties.$router!==void 0}function _r(e){return e.isUnmounted===!0||e.isDeactivated===!0}var wE=["",!0];xe({name:"QBreadcrumbs",props:{...Hh,separator:{type:String,default:"/"},separatorColor:String,activeColor:{type:String,default:"primary"},gutter:{type:String,validator:e=>["none","xs","sm","md","lg","xl"].includes(e),default:"sm"}},setup(e,{slots:t}){const n=Vh(e),i=w(()=>`flex items-center ${n.value}${e.gutter==="none"?"":` q-gutter-${e.gutter}`}`),r=w(()=>e.separatorColor?` text-${e.separatorColor}`:""),o=w(()=>` text-${e.activeColor}`);return()=>{if(t.default===void 0)return;const a=Uh(We(t.default));if(a.length===0)return;let s=1;const l=[],u=a.filter(d=>d.type!==void 0&&d.type.name==="QBreadcrumbsEl").length,c=t.separator!==void 0?t.separator:()=>e.separator;return a.forEach(d=>{if(d.type!==void 0&&d.type.name==="QBreadcrumbsEl"){const f=s<u,h=d.props!==null&&wE.includes(d.props.disable),m=(f===!0?"":" q-breadcrumbs--last")+(h!==!0&&f===!0?o.value:"");s++,l.push(v("div",{class:`flex items-center${m}`},[d])),f===!0&&l.push(v("div",{class:"q-breadcrumbs__separator"+r.value},c()))}else l.push(d)}),v("div",{class:"q-breadcrumbs"},[v("div",{class:i.value},l)])}}});function Ip(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}function Fp(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function SE(e,t){for(const n in t){const i=t[n],r=e[n];if(typeof i=="string"){if(i!==r)return!1}else if(Array.isArray(r)===!1||r.length!==i.length||i.some((o,a)=>o!==r[a]))return!1}return!0}function Dp(e,t){return Array.isArray(t)===!0?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function ME(e,t){return Array.isArray(e)===!0?Dp(e,t):Array.isArray(t)===!0?Dp(t,e):e===t}function TE(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(ME(e[n],t[n])===!1)return!1;return!0}var eb={to:[String,Object],replace:Boolean,href:String,target:String,disable:Boolean},ml={...eb,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"}};function Rc({fallbackTag:e,useDisableForRouterLinkProps:t=!0}={}){const n=Be(),{props:i,proxy:r,emit:o}=n,a=Gh(n),s=w(()=>i.disable!==!0&&i.href!==void 0),l=t===!0?w(()=>a===!0&&i.disable!==!0&&s.value!==!0&&i.to!==void 0&&i.to!==null&&i.to!==""):w(()=>a===!0&&s.value!==!0&&i.to!==void 0&&i.to!==null&&i.to!==""),u=w(()=>l.value===!0?p(i.to):null),c=w(()=>u.value!==null),d=w(()=>s.value===!0||c.value===!0),f=w(()=>i.type==="a"||d.value===!0?"a":i.tag||e||"div"),h=w(()=>s.value===!0?{href:i.href,target:i.target}:c.value===!0?{href:u.value.href,target:i.target}:{}),m=w(()=>{if(c.value===!1)return-1;const{matched:S}=u.value,{length:M}=S,T=S[M-1];if(T===void 0)return-1;const R=r.$route.matched;if(R.length===0)return-1;const L=R.findIndex(Fp.bind(null,T));if(L!==-1)return L;const I=Ip(S[M-2]);return M>1&&Ip(T)===I&&R[R.length-1].path!==I?R.findIndex(Fp.bind(null,S[M-2])):L}),y=w(()=>c.value===!0&&m.value!==-1&&SE(r.$route.params,u.value.params)),b=w(()=>y.value===!0&&m.value===r.$route.matched.length-1&&TE(r.$route.params,u.value.params)),g=w(()=>c.value===!0?b.value===!0?` ${i.exactActiveClass} ${i.activeClass}`:i.exact===!0?"":y.value===!0?` ${i.activeClass}`:"":"");function p(S){try{return r.$router.resolve(S)}catch{}return null}function _(S,{returnRouterError:M,to:T=i.to,replace:R=i.replace}={}){if(i.disable===!0)return S.preventDefault(),Promise.resolve(!1);if(S.metaKey||S.altKey||S.ctrlKey||S.shiftKey||S.button!==void 0&&S.button!==0||i.target==="_blank")return Promise.resolve(!1);S.preventDefault();const L=r.$router[R===!0?"replace":"push"](T);return M===!0?L:L.then(()=>{}).catch(()=>{})}function x(S){if(c.value===!0){const M=T=>_(S,T);o("click",S,M),S.defaultPrevented!==!0&&M()}else o("click",S)}return{hasRouterLink:c,hasHrefLink:s,hasLink:d,linkTag:f,resolvedLink:u,linkIsActive:y,linkIsExactActive:b,linkClass:g,linkAttrs:h,getLink:p,navigateToRouterLink:_,navigateOnClick:x}}xe({name:"QBreadcrumbsEl",props:{...ml,label:String,icon:String,tag:{type:String,default:"span"}},emits:["click"],setup(e,{slots:t}){const{linkTag:n,linkAttrs:i,linkClass:r,navigateOnClick:o}=Rc(),a=w(()=>({class:"q-breadcrumbs__el q-link flex inline items-center relative-position "+(e.disable!==!0?"q-link--focusable"+r.value:"q-breadcrumbs__el--disable"),...i.value,onClick:o})),s=w(()=>"q-breadcrumbs__el-icon"+(e.label!==void 0?" q-breadcrumbs__el-icon--with-label":""));return()=>{const l=[];return e.icon!==void 0&&l.push(v(ft,{class:s.value,name:e.icon})),e.label!==void 0&&l.push(e.label),v(n.value,{...a.value},Nt(t.default,l))}}});var zt={size:{type:[String,Number],default:"1em"},color:String};function qt(e){return{cSize:w(()=>e.size in Ff?`${Ff[e.size]}px`:e.size),classes:w(()=>"q-spinner"+(e.color?` text-${e.color}`:""))}}var vi=xe({name:"QSpinner",props:{...zt,thickness:{type:Number,default:5}},setup(e){const{cSize:t,classes:n}=qt(e);return()=>v("svg",{class:n.value+" q-spinner-mat",width:t.value,height:t.value,viewBox:"25 25 50 50"},[v("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":e.thickness,"stroke-miterlimit":"10"})])}});function nc(e){if(e===window)return{top:0,left:0};const{top:t,left:n}=e.getBoundingClientRect();return{top:t,left:n}}function Ra(e){return e===window?window.innerHeight:e.getBoundingClientRect().height}function Df(e,t){const n=e.style;for(const i in t)n[i]=t[i]}function CE(e){if(e==null)return;if(typeof e=="string")try{return document.querySelector(e)||void 0}catch{return}const t=Qx(e);if(t)return t.$el||t}function tb(e,t){if(e==null||e.contains(t)===!0)return!0;for(let n=e.nextElementSibling;n!==null;n=n.nextElementSibling)if(n.contains(t))return!0;return!1}function nb(e,t=250){let n=!1,i;return function(){return n===!1&&(n=!0,setTimeout(()=>{n=!1},t),i=e.apply(this,arguments)),i}}function Op(e,t,n,i){n.modifiers.stop===!0&&Bt(e);const r=n.modifiers.color;let o=n.modifiers.center;o=o===!0||i===!0;const a=document.createElement("span"),s=document.createElement("span"),l=En(e),{left:u,top:c,width:d,height:f}=t.getBoundingClientRect(),h=Math.sqrt(d*d+f*f),m=h/2,y=`${(d-h)/2}px`,b=o?y:`${l.left-u-m}px`,g=`${(f-h)/2}px`,p=o?g:`${l.top-c-m}px`;s.className="q-ripple__inner",Df(s,{height:`${h}px`,width:`${h}px`,transform:`translate3d(${b},${p},0) scale3d(.2,.2,1)`,opacity:0}),a.className=`q-ripple${r?" text-"+r:""}`,a.setAttribute("dir","ltr"),a.appendChild(s),t.appendChild(a);const _=()=>{a.remove(),clearTimeout(x)};n.abort.push(_);let x=setTimeout(()=>{s.classList.add("q-ripple__inner--enter"),s.style.transform=`translate3d(${y},${g},0) scale3d(1,1,1)`,s.style.opacity=.2,x=setTimeout(()=>{s.classList.remove("q-ripple__inner--enter"),s.classList.add("q-ripple__inner--leave"),s.style.opacity=0,x=setTimeout(()=>{a.remove(),n.abort.splice(n.abort.indexOf(_),1)},275)},250)},50)}function Np(e,{modifiers:t,value:n,arg:i}){const r=Object.assign({},e.cfg.ripple,t,n);e.modifiers={early:r.early===!0,stop:r.stop===!0,center:r.center===!0,color:r.color||i,keyCodes:[].concat(r.keyCodes||13)}}var kc=gi({name:"ripple",beforeMount(e,t){const n=t.instance.$.appContext.config.globalProperties.$q.config||{};if(n.ripple===!1)return;const i={cfg:n,enabled:t.value!==!1,modifiers:{},abort:[],start(r){i.enabled===!0&&r.qSkipRipple!==!0&&r.type===(i.modifiers.early===!0?"pointerdown":"click")&&Op(r,e,i,r.qKeyEvent===!0)},keystart:nb(r=>{i.enabled===!0&&r.qSkipRipple!==!0&&Zn(r,i.modifiers.keyCodes)===!0&&r.type===`key${i.modifiers.early===!0?"down":"up"}`&&Op(r,e,i,!0)},300)};Np(i,t),e.__qripple=i,Dt(i,"main",[[e,"pointerdown","start","passive"],[e,"click","start","passive"],[e,"keydown","keystart","passive"],[e,"keyup","keystart","passive"]])},updated(e,t){if(t.oldValue!==t.value){const n=e.__qripple;n!==void 0&&(n.enabled=t.value!==!1,n.enabled===!0&&Object(t.value)===t.value&&Np(n,t))}},beforeUnmount(e){const t=e.__qripple;t!==void 0&&(t.abort.forEach(n=>{n()}),gn(t,"main"),delete e._qripple)}}),ic={none:0,xs:4,sm:8,md:16,lg:24,xl:32},EE={xs:8,sm:10,md:14,lg:20,xl:24},AE=["button","submit","reset"],LE=/[^\s]\/[^\s]/,ib=["flat","outline","push","unelevated"];function Wh(e,t){return e.flat===!0?"flat":e.outline===!0?"outline":e.push===!0?"push":e.unelevated===!0?"unelevated":t}function rb(e){const t=Wh(e);return t!==void 0?{[t]:!0}:{}}var $h={...Ji,...eb,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,...ib.reduce((e,t)=>(e[t]=Boolean)&&e,{}),square:Boolean,rounded:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...Hh.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean},RE={...$h,round:Boolean};function kE(e){const t=er(e,EE),n=Vh(e),{hasRouterLink:i,hasLink:r,linkTag:o,linkAttrs:a,navigateOnClick:s}=Rc({fallbackTag:"button"}),l=w(()=>{const b=e.fab===!1&&e.fabMini===!1?t.value:{};return e.padding!==void 0?Object.assign({},b,{padding:e.padding.split(/\s+/).map(g=>g in ic?ic[g]+"px":g).join(" "),minWidth:"0",minHeight:"0"}):b}),u=w(()=>e.rounded===!0||e.fab===!0||e.fabMini===!0),c=w(()=>e.disable!==!0&&e.loading!==!0),d=w(()=>c.value===!0?e.tabindex||0:-1),f=w(()=>Wh(e,"standard")),h=w(()=>{const b={tabindex:d.value};return r.value===!0?Object.assign(b,a.value):AE.includes(e.type)===!0&&(b.type=e.type),o.value==="a"?(e.disable===!0?b["aria-disabled"]="true":b.href===void 0&&(b.role="button"),i.value!==!0&&LE.test(e.type)===!0&&(b.type=e.type)):e.disable===!0&&(b.disabled="",b["aria-disabled"]="true"),e.loading===!0&&e.percentage!==void 0&&Object.assign(b,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":e.percentage}),b}),m=w(()=>{let b;e.color!==void 0?e.flat===!0||e.outline===!0?b=`text-${e.textColor||e.color}`:b=`bg-${e.color} text-${e.textColor||"white"}`:e.textColor&&(b=`text-${e.textColor}`);const g=e.round===!0?"round":`rectangle${u.value===!0?" q-btn--rounded":e.square===!0?" q-btn--square":""}`;return`q-btn--${f.value} q-btn--${g}`+(b!==void 0?" "+b:"")+(c.value===!0?" q-btn--actionable q-focusable q-hoverable":e.disable===!0?" disabled":"")+(e.fab===!0?" q-btn--fab":e.fabMini===!0?" q-btn--fab-mini":"")+(e.noCaps===!0?" q-btn--no-uppercase":"")+(e.dense===!0?" q-btn--dense":"")+(e.stretch===!0?" no-border-radius self-stretch":"")+(e.glossy===!0?" glossy":"")+(e.square?" q-btn--square":"")}),y=w(()=>n.value+(e.stack===!0?" column":" row")+(e.noWrap===!0?" no-wrap text-no-wrap":"")+(e.loading===!0?" q-btn__content--hidden":""));return{classes:m,style:l,innerClasses:y,attributes:h,hasLink:r,linkTag:o,navigateOnClick:s,isActionable:c}}var{passiveCapture:Un}=xt,Yo=null,Xo=null,Qo=null,pt=xe({name:"QBtn",props:{...RE,percentage:Number,darkPercentage:Boolean,onTouchstart:[Function,Array]},emits:["click","keydown","mousedown","keyup"],setup(e,{slots:t,emit:n}){const{proxy:i}=Be(),{classes:r,style:o,innerClasses:a,attributes:s,hasLink:l,linkTag:u,navigateOnClick:c,isActionable:d}=kE(e),f=ee(null),h=ee(null);let m=null,y,b=null;const g=w(()=>e.label!==void 0&&e.label!==null&&e.label!==""),p=w(()=>e.disable===!0||e.ripple===!1?!1:{keyCodes:l.value===!0?[13,32]:[13],...e.ripple===!0?{}:e.ripple}),_=w(()=>({center:e.round})),x=w(()=>{const E=Math.max(0,Math.min(100,e.percentage));return E>0?{transition:"transform 0.6s",transform:`translateX(${E-100}%)`}:{}}),S=w(()=>{if(e.loading===!0)return{onMousedown:C,onTouchstart:C,onClick:C,onKeydown:C,onKeyup:C};if(d.value===!0){const E={onClick:T,onKeydown:R,onMousedown:I};if(i.$q.platform.has.touch===!0){const D=e.onTouchstart!==void 0?"":"Passive";E[`onTouchstart${D}`]=L}return E}return{onClick:nt}}),M=w(()=>({ref:f,class:"q-btn q-btn-item non-selectable no-outline "+r.value,style:o.value,...s.value,...S.value}));function T(E){if(f.value!==null){if(E!==void 0){if(E.defaultPrevented===!0)return;const D=document.activeElement;if(e.type==="submit"&&D!==document.body&&f.value.contains(D)===!1&&D.contains(f.value)===!1){f.value.focus();const q=()=>{document.removeEventListener("keydown",nt,!0),document.removeEventListener("keyup",q,Un),f.value!==null&&f.value.removeEventListener("blur",q,Un)};document.addEventListener("keydown",nt,!0),document.addEventListener("keyup",q,Un),f.value.addEventListener("blur",q,Un)}}c(E)}}function R(E){f.value!==null&&(n("keydown",E),Zn(E,[13,32])===!0&&Xo!==f.value&&(Xo!==null&&A(),E.defaultPrevented!==!0&&(f.value.focus(),Xo=f.value,f.value.classList.add("q-btn--active"),document.addEventListener("keyup",k,!0),f.value.addEventListener("blur",k,Un)),nt(E)))}function L(E){f.value!==null&&(n("touchstart",E),E.defaultPrevented!==!0&&(Yo!==f.value&&(Yo!==null&&A(),Yo=f.value,m=E.target,m.addEventListener("touchcancel",k,Un),m.addEventListener("touchend",k,Un)),y=!0,b!==null&&clearTimeout(b),b=setTimeout(()=>{b=null,y=!1},200)))}function I(E){f.value!==null&&(E.qSkipRipple=y===!0,n("mousedown",E),E.defaultPrevented!==!0&&Qo!==f.value&&(Qo!==null&&A(),Qo=f.value,f.value.classList.add("q-btn--active"),document.addEventListener("mouseup",k,Un)))}function k(E){if(f.value!==null&&!(E!==void 0&&E.type==="blur"&&document.activeElement===f.value)){if(E!==void 0&&E.type==="keyup"){if(Xo===f.value&&Zn(E,[13,32])===!0){const D=new MouseEvent("click",E);D.qKeyEvent=!0,E.defaultPrevented===!0&&en(D),E.cancelBubble===!0&&Bt(D),f.value.dispatchEvent(D),nt(E),E.qKeyEvent=!0}n("keyup",E)}A()}}function A(E){const D=h.value;E!==!0&&(Yo===f.value||Qo===f.value)&&D!==null&&D!==document.activeElement&&(D.setAttribute("tabindex",-1),D.focus()),Yo===f.value&&(m!==null&&(m.removeEventListener("touchcancel",k,Un),m.removeEventListener("touchend",k,Un)),Yo=m=null),Qo===f.value&&(document.removeEventListener("mouseup",k,Un),Qo=null),Xo===f.value&&(document.removeEventListener("keyup",k,!0),f.value!==null&&f.value.removeEventListener("blur",k,Un),Xo=null),f.value!==null&&f.value.classList.remove("q-btn--active")}function C(E){nt(E),E.qSkipRipple=!0}return st(()=>{A(!0)}),Object.assign(i,{click:E=>{d.value===!0&&T(E)}}),()=>{let E=[];e.icon!==void 0&&E.push(v(ft,{name:e.icon,left:e.stack!==!0&&g.value===!0,role:"img","aria-hidden":"true"})),g.value===!0&&E.push(v("span",{class:"block"},[e.label])),E=Nt(t.default,E),e.iconRight!==void 0&&e.round===!1&&E.push(v(ft,{name:e.iconRight,right:e.stack!==!0&&g.value===!0,role:"img","aria-hidden":"true"}));const D=[v("span",{class:"q-focus-helper",ref:h})];return e.loading===!0&&e.percentage!==void 0&&D.push(v("span",{class:"q-btn__progress absolute-full overflow-hidden"+(e.darkPercentage===!0?" q-btn__progress--dark":"")},[v("span",{class:"q-btn__progress-indicator fit block",style:x.value})])),D.push(v("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+a.value},E)),e.loading!==null&&D.push(v(Kt,{name:"q-transition--fade"},()=>e.loading===!0?[v("span",{key:"loading",class:"absolute-full flex flex-center"},t.loading!==void 0?t.loading():[v(vi)])]:null)),ci(v(u.value,M.value,D),[[kc,p.value,void 0,_.value]])}}}),ob=xe({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=w(()=>{const i=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(r=>e[r]===!0).map(r=>`q-btn-group--${r}`).join(" ");return`q-btn-group row no-wrap${i.length!==0?" "+i:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>v("div",{class:n.value},We(t.default))}});function ui(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),tE.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}var ab={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},sb={...ab,contextMenu:Boolean};function jh({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:i,proxy:r,emit:o}=Be(),a=ee(null);let s=null;function l(h){return a.value===null?!1:h===void 0||h.touches===void 0||h.touches.length<=1}const u={};n===void 0&&(Object.assign(u,{hide(h){r.hide(h)},toggle(h){r.toggle(h),h.qAnchorHandled=!0},toggleKey(h){Zn(h,13)===!0&&u.toggle(h)},contextClick(h){r.hide(h),en(h),ut(()=>{r.show(h),h.qAnchorHandled=!0})},prevent:en,mobileTouch(h){if(u.mobileCleanup(h),l(h)!==!0)return;r.hide(h),a.value.classList.add("non-selectable");const m=h.target;Dt(u,"anchor",[[m,"touchmove","mobileCleanup","passive"],[m,"touchend","mobileCleanup","passive"],[m,"touchcancel","mobileCleanup","passive"],[a.value,"contextmenu","prevent","notPassive"]]),s=setTimeout(()=>{s=null,r.show(h),h.qAnchorHandled=!0},300)},mobileCleanup(h){a.value.classList.remove("non-selectable"),s!==null&&(clearTimeout(s),s=null),e.value===!0&&h!==void 0&&ui()}}),n=function(h=i.contextMenu){if(i.noParentEvent===!0||a.value===null)return;let m;h===!0?r.$q.platform.is.mobile===!0?m=[[a.value,"touchstart","mobileTouch","passive"]]:m=[[a.value,"mousedown","hide","passive"],[a.value,"contextmenu","contextClick","notPassive"]]:m=[[a.value,"click","toggle","passive"],[a.value,"keyup","toggleKey","passive"]],Dt(u,"anchor",m)});function c(){gn(u,"anchor")}function d(h){for(a.value=h;a.value.classList.contains("q-anchor--skip");)a.value=a.value.parentNode;n()}function f(){if(i.target===!1||i.target===""||r.$el.parentNode===null)a.value=null;else if(i.target===!0)d(r.$el.parentNode);else{let h=i.target;if(typeof i.target=="string")try{h=document.querySelector(i.target)}catch{h=void 0}h!=null?(a.value=h.$el||h,n()):(a.value=null,console.error(`Anchor: target "${i.target}" not found`))}}return Te(()=>i.contextMenu,h=>{a.value!==null&&(c(),n(h))}),Te(()=>i.target,()=>{a.value!==null&&c(),f()}),Te(()=>i.noParentEvent,h=>{a.value!==null&&(h===!0?c():n())}),It(()=>{f(),t!==!0&&i.modelValue===!0&&a.value===null&&o("update:modelValue",!1)}),st(()=>{s!==null&&clearTimeout(s),c()}),{anchorEl:a,canShow:l,anchorEvents:u}}function lb(e,t){const n=ee(null);let i;function r(s,l){const u=`${l!==void 0?"add":"remove"}EventListener`,c=l!==void 0?l:i;s!==window&&s[u]("scroll",c,xt.passive),window[u]("scroll",c,xt.passive),i=l}function o(){n.value!==null&&(r(n.value),n.value=null)}const a=Te(()=>e.noParentEvent,()=>{n.value!==null&&(o(),t())});return st(a),{localScrollTarget:n,unconfigureScrollTarget:o,changeScrollEvent:r}}var qa={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Ha=["beforeShow","show","beforeHide","hide"];function Va({showing:e,canShow:t,hideOnRouteChange:n,handleShow:i,handleHide:r,processOnMount:o}){const a=Be(),{props:s,emit:l,proxy:u}=a;let c;function d(p){e.value===!0?m(p):f(p)}function f(p){if(s.disable===!0||p!==void 0&&p.qAnchorHandled===!0||t!==void 0&&t(p)!==!0)return;const _=s["onUpdate:modelValue"]!==void 0;_===!0&&(l("update:modelValue",!0),c=p,ut(()=>{c===p&&(c=void 0)})),(s.modelValue===null||_===!1)&&h(p)}function h(p){e.value!==!0&&(e.value=!0,l("beforeShow",p),i!==void 0?i(p):l("show",p))}function m(p){if(s.disable===!0)return;const _=s["onUpdate:modelValue"]!==void 0;_===!0&&(l("update:modelValue",!1),c=p,ut(()=>{c===p&&(c=void 0)})),(s.modelValue===null||_===!1)&&y(p)}function y(p){e.value!==!1&&(e.value=!1,l("beforeHide",p),r!==void 0?r(p):l("hide",p))}function b(p){s.disable===!0&&p===!0?s["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!1):p===!0!==e.value&&(p===!0?h:y)(c)}Te(()=>s.modelValue,b),n!==void 0&&Gh(a)===!0&&Te(()=>u.$route.fullPath,()=>{n.value===!0&&e.value===!0&&m()}),o===!0&&It(()=>{b(s.modelValue)});const g={show:f,hide:m,toggle:d};return Object.assign(u,g),g}var eo=[],Ks=[];function ub(e){Ks=Ks.filter(t=>t!==e)}function PE(e){ub(e),Ks.push(e)}function zp(e){ub(e),Ks.length===0&&eo.length!==0&&(eo[eo.length-1](),eo=[])}function Ua(e){Ks.length===0?e():eo.push(e)}function BE(e){eo=eo.filter(t=>t!==e)}var ha=[],ys=[],IE=1,mr=document.body;function Yh(e,t){const n=document.createElement("div");if(n.id=t!==void 0?`q-portal--${t}--${IE++}`:e,Lp.globalNodes!==void 0){const i=Lp.globalNodes.class;i!==void 0&&(n.className=i)}return mr.appendChild(n),ha.push(n),ys.push(t),n}function cb(e){const t=ha.indexOf(e);ha.splice(t,1),ys.splice(t,1),e.remove()}function FE(e){if(e===mr)return;if(mr=e,mr===document.body||ys.reduce((n,i)=>i==="dialog"?n+1:n,0)<2){ha.forEach(n=>{n.contains(mr)===!1&&mr.appendChild(n)});return}const t=ys.lastIndexOf("dialog");for(let n=0;n<ha.length;n++){const i=ha[n];(n===t||ys[n]!=="dialog")&&i.contains(mr)===!1&&mr.appendChild(i)}}var ma=[];function DE(e){return ma.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function db(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return Su(e)}else if(e.__qPortal===!0){const n=Su(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=Su(e)}while(e!=null)}function OE(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=db(e,t);continue}e.hide(t)}e=Su(e)}}var NE=xe({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function zE(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Xh(e,t,n,i){const r=ee(!1),o=ee(!1);let a=null;const s={},l=i==="dialog"&&zE(e);function u(d){if(d===!0){zp(s),o.value=!0;return}o.value=!1,r.value===!1&&(l===!1&&a===null&&(a=Yh(!1,i)),r.value=!0,ma.push(e.proxy),PE(s))}function c(d){if(o.value=!1,d!==!0)return;zp(s),r.value=!1;const f=ma.indexOf(e.proxy);f!==-1&&ma.splice(f,1),a!==null&&(cb(a),a=null)}return Zv(()=>{c(!0)}),e.proxy.__qPortal=!0,Jt(e.proxy,"contentEl",()=>t.value),{showPortal:u,hidePortal:c,portalIsActive:r,portalIsAccessible:o,renderPortal:()=>l===!0?n():r.value===!0?[v(jx,{to:a},v(NE,n))]:void 0}}var ro={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Pc(e,t=()=>{},n=()=>{}){return{transitionProps:w(()=>{const i=`q-transition--${e.transitionShow||t()}`,r=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${i}-enter-from`,enterActiveClass:`${i}-enter-active`,enterToClass:`${i}-enter-to`,leaveFromClass:`${r}-leave-from`,leaveActiveClass:`${r}-leave-active`,leaveToClass:`${r}-leave-to`}}),transitionStyle:w(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function pa(){let e;const t=Be();function n(){e=void 0}return Ki(n),st(n),{removeTick:n,registerTick(i){e=i,ut(()=>{e===i&&(_r(t)===!1&&e(),e=void 0)})}}}function kr(){let e=null;const t=Be();function n(){e!==null&&(clearTimeout(e),e=null)}return Ki(n),st(n),{removeTimeout:n,registerTimeout(i,r){n(),_r(t)===!1&&(e=setTimeout(()=>{e=null,i()},r))}}}var Lo=[Element,String],qE=[null,document,document.body,document.scrollingElement,document.documentElement];function Pi(e,t){let n=CE(t);if(n===void 0){if(e==null)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return qE.includes(n)?window:n}function au(e){return(e===window?document.body:e).scrollHeight}function wr(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function Bc(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function fb(e,t,n=0){const i=arguments[3]===void 0?performance.now():arguments[3],r=wr(e);if(n<=0){r!==t&&Of(e,t);return}requestAnimationFrame(o=>{const a=o-i,s=r+(t-r)/Math.max(a,n)*a;Of(e,s),s!==t&&fb(e,t,n-a,o)})}function hb(e,t,n=0){const i=arguments[3]===void 0?performance.now():arguments[3],r=Bc(e);if(n<=0){r!==t&&Nf(e,t);return}requestAnimationFrame(o=>{const a=o-i,s=r+(t-r)/Math.max(a,n)*a;Nf(e,s),s!==t&&hb(e,t,n-a,o)})}function Of(e,t){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t);return}e.scrollTop=t}function Nf(e,t){if(e===window){window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=t}function va(e,t,n){if(n){fb(e,t,n);return}Of(e,t)}function Cd(e,t,n){if(n){hb(e,t,n);return}Nf(e,t)}var su;function Mu(){if(su!==void 0)return su;const e=document.createElement("p"),t=document.createElement("div");Df(e,{width:"100%",height:"200px"}),Df(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let i=e.offsetWidth;return n===i&&(i=t.clientWidth),t.remove(),su=n-i,su}function HE(e,t=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}var oo=[],ka;function VE(e){ka=e.keyCode===27}function UE(){ka===!0&&(ka=!1)}function GE(e){ka===!0&&(ka=!1,Zn(e,27)===!0&&oo[oo.length-1](e))}function mb(e){window[e]("keydown",VE),window[e]("blur",UE),window[e]("keyup",GE),ka=!1}function pb(e){rt.is.desktop===!0&&(oo.push(e),oo.length===1&&mb("addEventListener"))}function rc(e){const t=oo.indexOf(e);t!==-1&&(oo.splice(t,1),oo.length===0&&mb("removeEventListener"))}var ao=[];function vb(e){ao[ao.length-1](e)}function gb(e){rt.is.desktop===!0&&(ao.push(e),ao.length===1&&document.body.addEventListener("focusin",vb))}function zf(e){const t=ao.indexOf(e);t!==-1&&(ao.splice(t,1),ao.length===0&&document.body.removeEventListener("focusin",vb))}var{notPassiveCapture:oc}=xt,so=[];function ac(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=ma.length-1;for(;n>=0;){const i=ma[n].$;if(i.type.name==="QTooltip"){n--;continue}if(i.type.name!=="QDialog")break;if(i.props.seamless!==!0)return;n--}for(let i=so.length-1;i>=0;i--){const r=so[i];if((r.anchorEl.value===null||r.anchorEl.value.contains(t)===!1)&&(t===document.body||r.innerRef.value!==null&&r.innerRef.value.contains(t)===!1))e.qClickOutside=!0,r.onClickOutside(e);else return}}function yb(e){so.push(e),so.length===1&&(document.addEventListener("mousedown",ac,oc),document.addEventListener("touchstart",ac,oc))}function sc(e){const t=so.findIndex(n=>n===e);t!==-1&&(so.splice(t,1),so.length===0&&(document.removeEventListener("mousedown",ac,oc),document.removeEventListener("touchstart",ac,oc)))}var qp,Hp;function lc(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function bb(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}var qf={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{qf[`${e}#ltr`]=e,qf[`${e}#rtl`]=e});function uc(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:qf[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function WE(e,t){let{top:n,left:i,right:r,bottom:o,width:a,height:s}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],i-=t[0],o+=t[1],r+=t[0],a+=t[0],s+=t[1]),{top:n,bottom:o,height:s,left:i,right:r,width:a,middle:i+(r-i)/2,center:n+(o-n)/2}}function $E(e,t,n){let{top:i,left:r}=e.getBoundingClientRect();return i+=t.top,r+=t.left,n!==void 0&&(i+=n[1],r+=n[0]),{top:i,bottom:i+1,height:1,left:r,right:r+1,width:1,middle:r,center:i}}function jE(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function Vp(e,t,n,i){return{top:e[n.vertical]-t[i.vertical],left:e[n.horizontal]-t[i.horizontal]}}function Qh(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{Qh(e,t+1)},10);return}const{targetEl:n,offset:i,anchorEl:r,anchorOrigin:o,selfOrigin:a,absoluteOffset:s,fit:l,cover:u,maxHeight:c,maxWidth:d}=e;if(rt.is.ios===!0&&window.visualViewport!==void 0){const M=document.body.style,{offsetLeft:T,offsetTop:R}=window.visualViewport;T!==qp&&(M.setProperty("--q-pe-left",T+"px"),qp=T),R!==Hp&&(M.setProperty("--q-pe-top",R+"px"),Hp=R)}const{scrollLeft:f,scrollTop:h}=n,m=s===void 0?WE(r,u===!0?[0,0]:i):$E(r,s,i);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:d||"100vw",maxHeight:c||"100vh",visibility:"visible"});const{offsetWidth:y,offsetHeight:b}=n,{elWidth:g,elHeight:p}=l===!0||u===!0?{elWidth:Math.max(m.width,y),elHeight:u===!0?Math.max(m.height,b):b}:{elWidth:y,elHeight:b};let _={maxWidth:d,maxHeight:c};(l===!0||u===!0)&&(_.minWidth=m.width+"px",u===!0&&(_.minHeight=m.height+"px")),Object.assign(n.style,_);const x=jE(g,p);let S=Vp(m,x,o,a);if(s===void 0||i===void 0)Ed(S,m,x,o,a);else{const{top:M,left:T}=S;Ed(S,m,x,o,a);let R=!1;if(S.top!==M){R=!0;const L=2*i[1];m.center=m.top-=L,m.bottom-=L+2}if(S.left!==T){R=!0;const L=2*i[0];m.middle=m.left-=L,m.right-=L+2}R===!0&&(S=Vp(m,x,o,a),Ed(S,m,x,o,a))}_={top:S.top+"px",left:S.left+"px"},S.maxHeight!==void 0&&(_.maxHeight=S.maxHeight+"px",m.height>S.maxHeight&&(_.minHeight=_.maxHeight)),S.maxWidth!==void 0&&(_.maxWidth=S.maxWidth+"px",m.width>S.maxWidth&&(_.minWidth=_.maxWidth)),Object.assign(n.style,_),n.scrollTop!==h&&(n.scrollTop=h),n.scrollLeft!==f&&(n.scrollLeft=f)}function Ed(e,t,n,i,r){const o=n.bottom,a=n.right,s=Mu(),l=window.innerHeight-s,u=document.body.clientWidth;if(e.top<0||e.top+o>l)if(r.vertical==="center")e.top=t[i.vertical]>l/2?Math.max(0,l-o):0,e.maxHeight=Math.min(o,l);else if(t[i.vertical]>l/2){const c=Math.min(l,i.vertical==="center"?t.center:i.vertical===r.vertical?t.bottom:t.top);e.maxHeight=Math.min(o,c),e.top=Math.max(0,c-o)}else e.top=Math.max(0,i.vertical==="center"?t.center:i.vertical===r.vertical?t.top:t.bottom),e.maxHeight=Math.min(o,l-e.top);if(e.left<0||e.left+a>u)if(e.maxWidth=Math.min(a,u),r.horizontal==="middle")e.left=t[i.horizontal]>u/2?Math.max(0,u-a):0;else if(t[i.horizontal]>u/2){const c=Math.min(u,i.horizontal==="middle"?t.middle:i.horizontal===r.horizontal?t.right:t.left);e.maxWidth=Math.min(a,c),e.left=Math.max(0,c-e.maxWidth)}else e.left=Math.max(0,i.horizontal==="middle"?t.middle:i.horizontal===r.horizontal?t.left:t.right),e.maxWidth=Math.min(a,u-e.left)}var Ic=xe({name:"QMenu",inheritAttrs:!1,props:{...sb,...qa,...ct,...ro,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:lc},self:{type:String,validator:lc},offset:{type:Array,validator:bb},scrollTarget:Lo,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Ha,"click","escapeKey"],setup(e,{slots:t,emit:n,attrs:i}){let r=null,o,a,s;const l=Be(),{proxy:u}=l,{$q:c}=u,d=ee(null),f=ee(!1),h=w(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),m=dt(e,c),{registerTick:y,removeTick:b}=pa(),{registerTimeout:g}=kr(),{transitionProps:p,transitionStyle:_}=Pc(e),{localScrollTarget:x,changeScrollEvent:S,unconfigureScrollTarget:M}=lb(e,Z),{anchorEl:T,canShow:R}=jh({showing:f}),{hide:L}=Va({showing:f,canShow:R,handleShow:le,handleHide:W,hideOnRouteChange:h,processOnMount:!0}),{showPortal:I,hidePortal:k,renderPortal:A}=Xh(l,d,fe,"menu"),C={anchorEl:T,innerRef:d,onClickOutside(X){if(e.persistent!==!0&&f.value===!0)return L(X),(X.type==="touchstart"||X.target.classList.contains("q-dialog__backdrop"))&&nt(X),!0}},E=w(()=>uc(e.anchor||(e.cover===!0?"center middle":"bottom start"),c.lang.rtl)),D=w(()=>e.cover===!0?E.value:uc(e.self||"top start",c.lang.rtl)),q=w(()=>(e.square===!0?" q-menu--square":"")+(m.value===!0?" q-menu--dark q-dark":"")),O=w(()=>e.autoClose===!0?{onClick:ne}:{}),G=w(()=>f.value===!0&&e.persistent!==!0);Te(G,X=>{X===!0?(pb(U),yb(C)):(rc(U),sc(C))});function Y(){Ua(()=>{let X=d.value;X&&X.contains(document.activeElement)!==!0&&(X=X.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||X.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||X.querySelector("[autofocus], [data-autofocus]")||X,X.focus({preventScroll:!0}))})}function le(X){if(r=e.noRefocus===!1?document.activeElement:null,gb(J),I(),Z(),o=void 0,X!==void 0&&(e.touchPosition||e.contextMenu)){const be=En(X);if(be.left!==void 0){const{top:ke,left:j}=T.value.getBoundingClientRect();o={left:be.left-j,top:be.top-ke}}}a===void 0&&(a=Te(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,$)),e.noFocus!==!0&&document.activeElement.blur(),y(()=>{$(),e.noFocus!==!0&&Y()}),g(()=>{c.platform.is.ios===!0&&(s=e.autoClose,d.value.click()),$(),I(!0),n("show",X)},e.transitionDuration)}function W(X){b(),k(),P(!0),r!==null&&(X===void 0||X.qClickOutside!==!0)&&(((X&&X.type.indexOf("key")===0?r.closest('[tabindex]:not([tabindex^="-"])'):void 0)||r).focus(),r=null),g(()=>{k(!0),n("hide",X)},e.transitionDuration)}function P(X){o=void 0,a!==void 0&&(a(),a=void 0),(X===!0||f.value===!0)&&(zf(J),M(),sc(C),rc(U)),X!==!0&&(r=null)}function Z(){(T.value!==null||e.scrollTarget!==void 0)&&(x.value=Pi(T.value,e.scrollTarget),S(x.value,$))}function ne(X){s!==!0?(db(u,X),n("click",X)):s=!1}function J(X){G.value===!0&&e.noFocus!==!0&&tb(d.value,X.target)!==!0&&Y()}function U(X){n("escapeKey"),L(X)}function $(){Qh({targetEl:d.value,offset:e.offset,anchorEl:T.value,anchorOrigin:E.value,selfOrigin:D.value,absoluteOffset:o,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function fe(){return v(Kt,p.value,()=>f.value===!0?v("div",{role:"menu",...i,ref:d,tabindex:-1,class:["q-menu q-position-engine scroll"+q.value,i.class],style:[i.style,_.value],...O.value},We(t.default)):null)}return st(P),Object.assign(u,{focus:Y,updatePosition:$}),A}}),Ad,lu=0,un=new Array(256);for(let e=0;e<256;e++)un[e]=(e+256).toString(16).substring(1);var YE=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let i=t;i>0;i--)n.push(Math.floor(Math.random()*256));return n}})(),Up=4096;function Zs(){(Ad===void 0||lu+16>Up)&&(lu=0,Ad=YE(Up));const e=Array.prototype.slice.call(Ad,lu,lu+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,un[e[0]]+un[e[1]]+un[e[2]]+un[e[3]]+"-"+un[e[4]]+un[e[5]]+"-"+un[e[6]]+un[e[7]]+"-"+un[e[8]]+un[e[9]]+"-"+un[e[10]]+un[e[11]]+un[e[12]]+un[e[13]]+un[e[14]]+un[e[15]]}function XE(e){return e==null?null:e}function Gp(e,t){return e==null?t===!0?`f_${Zs()}`:null:e}function Fc({getValue:e,required:t=!0}={}){if(Kn.value===!0){const n=e!==void 0?ee(XE(e())):ee(null);return t===!0&&n.value===null&&It(()=>{n.value=`f_${Zs()}`}),e!==void 0&&Te(e,i=>{n.value=Gp(i,t)}),n}return e!==void 0?w(()=>Gp(e(),t)):ee(`f_${Zs()}`)}var QE=Object.keys($h);function KE(e){return QE.reduce((t,n)=>{const i=e[n];return i!==void 0&&(t[n]=i),t},{})}var ZE=xe({name:"QBtnDropdown",props:{...$h,...ro,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:n}){const{proxy:i}=Be(),r=ee(e.modelValue),o=ee(null),a=Fc(),s=w(()=>{const x={"aria-expanded":r.value===!0?"true":"false","aria-haspopup":"true","aria-controls":a.value,"aria-label":e.toggleAriaLabel||i.$q.lang.label[r.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(x["aria-disabled"]="true"),x}),l=w(()=>"q-btn-dropdown__arrow"+(r.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),u=w(()=>rb(e)),c=w(()=>KE(e));Te(()=>e.modelValue,x=>{o.value!==null&&o.value[x?"show":"hide"]()}),Te(()=>e.split,_);function d(x){r.value=!0,n("beforeShow",x)}function f(x){n("show",x),n("update:modelValue",!0)}function h(x){r.value=!1,n("beforeHide",x)}function m(x){n("hide",x),n("update:modelValue",!1)}function y(x){n("click",x)}function b(x){Bt(x),_(),n("click",x)}function g(x){o.value!==null&&o.value.toggle(x)}function p(x){o.value!==null&&o.value.show(x)}function _(x){o.value!==null&&o.value.hide(x)}return Object.assign(i,{show:p,hide:_,toggle:g}),It(()=>{e.modelValue===!0&&p()}),()=>{const x=[v(ft,{class:l.value,name:e.dropdownIcon||i.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&x.push(v(Ic,{ref:o,id:a.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:d,onShow:f,onBeforeHide:h,onHide:m},t.default)),e.split===!1?v(pt,{class:"q-btn-dropdown q-btn-dropdown--simple",...c.value,...s.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:y},{default:()=>We(t.label,[]).concat(x),loading:t.loading}):v(ob,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...u.value,glossy:e.glossy,stretch:e.stretch},()=>[v(pt,{class:"q-btn-dropdown--current",...c.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:b},{default:t.label,loading:t.loading}),v(pt,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...s.value,...u.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>x)])}}}),ei={name:String};function pl(e){return w(()=>({type:"hidden",name:e.name,value:e.modelValue}))}function Ir(e={}){return(t,n,i)=>{t[n](v("input",{class:"hidden"+(i||""),...e.value}))}}function Kh(e){return w(()=>e.name||e.for)}xe({name:"QBtnToggle",props:{...ei,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(t=>("label"in t||"icon"in t||"slot"in t)&&"value"in t)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:t,emit:n}){const i=w(()=>e.options.find(f=>f.value===e.modelValue)!==void 0),r=w(()=>({type:"hidden",name:e.name,value:e.modelValue})),o=Ir(r),a=w(()=>rb(e)),s=w(()=>({rounded:e.rounded,dense:e.dense,...a.value})),l=w(()=>e.options.map((f,h)=>{const{attrs:m,value:y,slot:b,...g}=f;return{slot:b,props:{key:h,"aria-pressed":y===e.modelValue?"true":"false",...m,...g,...s.value,disable:e.disable===!0||g.disable===!0,color:y===e.modelValue?c(g,"toggleColor"):c(g,"color"),textColor:y===e.modelValue?c(g,"toggleTextColor"):c(g,"textColor"),noCaps:c(g,"noCaps")===!0,noWrap:c(g,"noWrap")===!0,size:c(g,"size"),padding:c(g,"padding"),ripple:c(g,"ripple"),stack:c(g,"stack")===!0,stretch:c(g,"stretch")===!0,onClick(p){u(y,f,p)}}}}));function u(f,h,m){e.readonly!==!0&&(e.modelValue===f?e.clearable===!0&&(n("update:modelValue",null,null),n("clear")):n("update:modelValue",f,h),n("click",m))}function c(f,h){return f[h]===void 0?e[h]:f[h]}function d(){const f=l.value.map(h=>v(pt,h.props,h.slot!==void 0?t[h.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&i.value===!0&&o(f,"push"),Nt(t.default,f)}return()=>v(ob,{class:"q-btn-toggle",...a.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},d)}});var xb=xe({name:"QCard",props:{...ct,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=Be(),i=dt(e,n),r=w(()=>"q-card"+(i.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>v(e.tag,{class:r.value},We(t.default))}}),Kr=xe({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=w(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>v(e.tag,{class:n.value},We(t.default))}}),JE=xe({name:"QCardActions",props:{...Hh,vertical:Boolean},setup(e,{slots:t}){const n=Vh(e),i=w(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>v("div",{class:i.value},We(t.default))}}),Zh={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},e2=Object.keys(Zh);Zh.all=!0;function cc(e){const t={};for(const n of e2)e[n]===!0&&(t[n]=!0);return Object.keys(t).length===0?Zh:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}var t2=["INPUT","TEXTAREA"];function dc(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&t2.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function n2(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((n,i)=>{const r=parseFloat(n);r&&(t[i]=r)}),t}var i2=gi({name:"touch-swipe",beforeMount(e,{value:t,arg:n,modifiers:i}){if(i.mouse!==!0&&rt.has.touch!==!0)return;const r=i.mouseCapture===!0?"Capture":"",o={handler:t,sensitivity:n2(n),direction:cc(i),noop:$t,mouseStart(a){dc(a,o)&&Lc(a)&&(Dt(o,"temp",[[document,"mousemove","move",`notPassive${r}`],[document,"mouseup","end","notPassiveCapture"]]),o.start(a,!0))},touchStart(a){if(dc(a,o)){const s=a.target;Dt(o,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","notPassiveCapture"],[s,"touchend","end","notPassiveCapture"]]),o.start(a)}},start(a,s){rt.is.firefox===!0&&fa(e,!0);const l=En(a);o.event={x:l.left,y:l.top,time:Date.now(),mouse:s===!0,dir:!1}},move(a){if(o.event===void 0)return;if(o.event.dir!==!1){nt(a);return}const s=Date.now()-o.event.time;if(s===0)return;const l=En(a),u=l.left-o.event.x,c=Math.abs(u),d=l.top-o.event.y,f=Math.abs(d);if(o.event.mouse!==!0){if(c<o.sensitivity[1]&&f<o.sensitivity[1]){o.end(a);return}}else if(window.getSelection().toString()!==""){o.end(a);return}else if(c<o.sensitivity[2]&&f<o.sensitivity[2])return;const h=c/s,m=f/s;o.direction.vertical===!0&&c<f&&c<100&&m>o.sensitivity[0]&&(o.event.dir=d<0?"up":"down"),o.direction.horizontal===!0&&c>f&&f<100&&h>o.sensitivity[0]&&(o.event.dir=u<0?"left":"right"),o.direction.up===!0&&c<f&&d<0&&c<100&&m>o.sensitivity[0]&&(o.event.dir="up"),o.direction.down===!0&&c<f&&d>0&&c<100&&m>o.sensitivity[0]&&(o.event.dir="down"),o.direction.left===!0&&c>f&&u<0&&f<100&&h>o.sensitivity[0]&&(o.event.dir="left"),o.direction.right===!0&&c>f&&u>0&&f<100&&h>o.sensitivity[0]&&(o.event.dir="right"),o.event.dir!==!1?(nt(a),o.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),ui(),o.styleCleanup=y=>{o.styleCleanup=void 0,document.body.classList.remove("non-selectable");const b=()=>{document.body.classList.remove("no-pointer-events--children")};y===!0?setTimeout(b,50):b()}),o.handler({evt:a,touch:o.event.mouse!==!0,mouse:o.event.mouse,direction:o.event.dir,duration:s,distance:{x:c,y:f}})):o.end(a)},end(a){o.event!==void 0&&(gn(o,"temp"),rt.is.firefox===!0&&fa(e,!1),o.styleCleanup!==void 0&&o.styleCleanup(!0),a!==void 0&&o.event.dir!==!1&&nt(a),o.event=void 0)}};if(e.__qtouchswipe=o,i.mouse===!0){const a=i.mouseCapture===!0||i.mousecapture===!0?"Capture":"";Dt(o,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}rt.has.touch===!0&&Dt(o,"main",[[e,"touchstart","touchStart",`passive${i.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchswipe;n!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&n.end(),n.handler=t.value),n.direction=cc(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(gn(t,"main"),gn(t,"temp"),rt.is.firefox===!0&&fa(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchswipe)}});function vl(){let e=Object.create(null);return{getCache:(t,n)=>e[t]===void 0?e[t]=typeof n=="function"?n():n:e[t],setCache(t,n){e[t]=n},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}var Jh={name:{required:!0},disable:Boolean},Wp={setup(e,{slots:t}){return()=>v("div",{class:"q-panel scroll",role:"tabpanel"},We(t.default))}},em={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},tm=["update:modelValue","beforeTransition","transition"];function nm(){const{props:e,emit:t,proxy:n}=Be(),{getCache:i}=vl();let r,o;const a=ee(null),s=ee(null);function l(C){const E=e.vertical===!0?"up":"left";T((n.$q.lang.rtl===!0?-1:1)*(C.direction===E?1:-1))}const u=w(()=>[[i2,l,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),c=w(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),d=w(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),f=w(()=>`--q-transition-duration: ${e.transitionDuration}ms`),h=w(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),m=w(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),y=w(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);Te(()=>e.modelValue,(C,E)=>{const D=_(C)===!0?x(C):-1;o!==!0&&M(D===-1?0:D<x(E)?-1:1),a.value!==D&&(a.value=D,t("beforeTransition",C,E),ut(()=>{t("transition",C,E)}))});function b(){T(1)}function g(){T(-1)}function p(C){t("update:modelValue",C)}function _(C){return C!=null&&C!==""}function x(C){return r.findIndex(E=>E.props.name===C&&E.props.disable!==""&&E.props.disable!==!0)}function S(){return r.filter(C=>C.props.disable!==""&&C.props.disable!==!0)}function M(C){const E=C!==0&&e.animated===!0&&a.value!==-1?"q-transition--"+(C===-1?c.value:d.value):null;s.value!==E&&(s.value=E)}function T(C,E=a.value){let D=E+C;for(;D!==-1&&D<r.length;){const q=r[D];if(q!==void 0&&q.props.disable!==""&&q.props.disable!==!0){M(C),o=!0,t("update:modelValue",q.props.name),setTimeout(()=>{o=!1});return}D+=C}e.infinite===!0&&r.length!==0&&E!==-1&&E!==r.length&&T(C,C===-1?r.length:-1)}function R(){const C=x(e.modelValue);return a.value!==C&&(a.value=C),!0}function L(){const C=_(e.modelValue)===!0&&R()&&r[a.value];return e.keepAlive===!0?[v(Jv,m.value,[v(y.value===!0?i(h.value,()=>({...Wp,name:h.value})):Wp,{key:h.value,style:f.value},()=>C)])]:[v("div",{class:"q-panel scroll",style:f.value,key:h.value,role:"tabpanel"},[C])]}function I(){if(r.length!==0)return e.animated===!0?[v(Kt,{name:s.value},L)]:L()}function k(C){return r=Uh(We(C.default,[])).filter(E=>E.props!==null&&E.props.slot===void 0&&_(E.props.name)===!0),r.length}function A(){return r}return Object.assign(n,{next:b,previous:g,goTo:p}),{panelIndex:a,panelDirectives:u,updatePanelsList:k,updatePanelIndex:R,getPanelContent:I,getEnabledPanels:S,getPanels:A,isValidPanelName:_,keepAliveProps:m,needsUniqueKeepAliveWrapper:y,goToPanelByOffset:T,goToPanel:p,nextPanel:b,previousPanel:g}}var ts=0,im={fullscreen:Boolean,noRouteFullscreenExit:Boolean},rm=["update:fullscreen","fullscreen"];function om(){const e=Be(),{props:t,emit:n,proxy:i}=e;let r,o;const a=ee(!1);Gh(e)===!0&&Te(()=>i.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&u()}),Te(()=>t.fullscreen,c=>{a.value!==c&&s()}),Te(a,c=>{n("update:fullscreen",c),n("fullscreen",c)});function s(){a.value===!0?u():l()}function l(){a.value!==!0&&(a.value=!0,o=i.$el.parentNode,o.replaceChild(r,i.$el),document.body.appendChild(i.$el),ts++,ts===1&&document.body.classList.add("q-body--fullscreen-mixin"))}function u(){a.value===!0&&(o.replaceChild(i.$el,r),a.value=!1,ts=Math.max(0,ts-1),ts===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),i.$el.scrollIntoView!==void 0&&setTimeout(()=>{i.$el.scrollIntoView()})))}return Yf(()=>{r=document.createElement("span")}),It(()=>{t.fullscreen===!0&&l()}),st(u),Object.assign(i,{toggleFullscreen:s,setFullscreen:l,exitFullscreen:u}),{inFullscreen:a,toggleFullscreen:s}}var r2=["top","right","bottom","left"],o2=["regular","flat","outline","push","unelevated"];xe({name:"QCarousel",props:{...ct,...em,...im,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>o2.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>r2.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...rm,...tm],setup(e,{slots:t}){const{proxy:{$q:n}}=Be(),i=dt(e,n);let r=null,o;const{updatePanelsList:a,getPanelContent:s,panelDirectives:l,goToPanel:u,previousPanel:c,nextPanel:d,getEnabledPanels:f,panelIndex:h}=nm(),{inFullscreen:m}=om(),y=w(()=>m.value!==!0&&e.height!==void 0?{height:e.height}:{}),b=w(()=>e.vertical===!0?"vertical":"horizontal"),g=w(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),p=w(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(m.value===!0?" fullscreen":"")+(i.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${b.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${g.value}`:"")),_=w(()=>{const I=[e.prevIcon||n.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||n.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&n.lang.rtl===!0?I.reverse():I}),x=w(()=>e.navigationIcon||n.iconSet.carousel.navigationIcon),S=w(()=>e.navigationActiveIcon||x.value),M=w(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));Te(()=>e.modelValue,()=>{e.autoplay&&T()}),Te(()=>e.autoplay,I=>{I?T():r!==null&&(clearTimeout(r),r=null)});function T(){const I=Qs(e.autoplay)===!0?Math.abs(e.autoplay):5e3;r!==null&&clearTimeout(r),r=setTimeout(()=>{r=null,I>=0?d():c()},I)}It(()=>{e.autoplay&&T()}),st(()=>{r!==null&&clearTimeout(r)});function R(I,k){return v("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${I} q-carousel__navigation--${g.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[v("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},f().map(k))])}function L(){const I=[];if(e.navigation===!0){const k=t["navigation-icon"]!==void 0?t["navigation-icon"]:C=>v(pt,{key:"nav"+C.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${C.active===!0?"":"in"}active`,...C.btnProps,onClick:C.onClick}),A=o-1;I.push(R("buttons",(C,E)=>{const D=C.props.name,q=h.value===E;return k({index:E,maxIndex:A,name:D,active:q,btnProps:{icon:q===!0?S.value:x.value,size:"sm",...M.value},onClick:()=>{u(D)}})}))}else if(e.thumbnails===!0){const k=e.controlColor!==void 0?` text-${e.controlColor}`:"";I.push(R("thumbnails",A=>{const C=A.props;return v("img",{key:"tmb#"+C.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${C.name===e.modelValue?"":"in"}active`+k,src:C.imgSrc||C["img-src"],onClick:()=>{u(C.name)}})}))}return e.arrows===!0&&h.value>=0&&((e.infinite===!0||h.value>0)&&I.push(v("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${b.value} absolute flex flex-center`},[v(pt,{icon:_.value[0],...M.value,onClick:c})])),(e.infinite===!0||h.value<o-1)&&I.push(v("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${b.value} absolute flex flex-center`},[v(pt,{icon:_.value[1],...M.value,onClick:d})]))),Nt(t.control,I)}return()=>(o=a(t),v("div",{class:p.value,style:y.value},[Jn("div",{class:"q-carousel__slides-container"},s(),"sl-cont",e.swipeable,()=>l.value)].concat(L())))}});xe({name:"QCarouselSlide",props:{...Jh,imgSrc:String},setup(e,{slots:t}){const n=w(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>v("div",{class:"q-carousel__slide",style:n.value},We(t.default))}});xe({name:"QCarouselControl",props:{position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,default:()=>[18,18],validator:e=>e.length===2}},setup(e,{slots:t}){const n=w(()=>`q-carousel__control absolute absolute-${e.position}`),i=w(()=>({margin:`${e.offset[1]}px ${e.offset[0]}px`}));return()=>v("div",{class:n.value,style:i.value},We(t.default))}});xe({name:"QChatMessage",props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelHtml:Boolean,nameHtml:Boolean,textHtml:Boolean,stampHtml:Boolean},setup(e,{slots:t}){const n=w(()=>e.sent===!0?"sent":"received"),i=w(()=>`q-message-text-content q-message-text-content--${n.value}`+(e.textColor!==void 0?` text-${e.textColor}`:"")),r=w(()=>`q-message-text q-message-text--${n.value}`+(e.bgColor!==void 0?` text-${e.bgColor}`:"")),o=w(()=>"q-message-container row items-end no-wrap"+(e.sent===!0?" reverse":"")),a=w(()=>e.size!==void 0?`col-${e.size}`:""),s=w(()=>({msg:e.textHtml===!0?"innerHTML":"textContent",stamp:e.stampHtml===!0?"innerHTML":"textContent",name:e.nameHtml===!0?"innerHTML":"textContent",label:e.labelHtml===!0?"innerHTML":"textContent"}));function l(c){return t.stamp!==void 0?[c,v("div",{class:"q-message-stamp"},t.stamp())]:e.stamp?[c,v("div",{class:"q-message-stamp",[s.value.stamp]:e.stamp})]:[c]}function u(c,d){const f=d===!0?c.length>1?h=>h:h=>v("div",[h]):h=>v("div",{[s.value.msg]:h});return c.map((h,m)=>v("div",{key:m,class:r.value},[v("div",{class:i.value},l(f(h)))]))}return()=>{const c=[];t.avatar!==void 0?c.push(t.avatar()):e.avatar!==void 0&&c.push(v("img",{class:`q-message-avatar q-message-avatar--${n.value}`,src:e.avatar,"aria-hidden":"true"}));const d=[];t.name!==void 0?d.push(v("div",{class:`q-message-name q-message-name--${n.value}`},t.name())):e.name!==void 0&&d.push(v("div",{class:`q-message-name q-message-name--${n.value}`,[s.value.name]:e.name})),t.default!==void 0?d.push(u(Uh(t.default()),!0)):e.text!==void 0&&d.push(u(e.text)),c.push(v("div",{class:a.value},d));const f=[];return t.label!==void 0?f.push(v("div",{class:"q-message-label"},t.label())):e.label!==void 0&&f.push(v("div",{class:"q-message-label",[s.value.label]:e.label})),f.push(v("div",{class:o.value},c)),v("div",{class:`q-message q-message-${n.value}`},f)}}});function _b(e,t){const n=ee(null),i=w(()=>e.disable===!0?null:v("span",{ref:n,class:"no-outline",tabindex:-1}));function r(o){const a=t.value;o!==void 0&&o.type.indexOf("key")===0?a!==null&&document.activeElement!==a&&a.contains(document.activeElement)===!0&&a.focus():n.value!==null&&(o===void 0||a!==null&&a.contains(o.target)===!0)&&n.value.focus()}return{refocusTargetEl:i,refocusTarget:r}}var wb={xs:30,sm:35,md:40,lg:50,xl:60},Sb={...ct,...Ji,...ei,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Mb=["update:modelValue"];function Tb(e,t){const{props:n,slots:i,emit:r,proxy:o}=Be(),{$q:a}=o,s=dt(n,a),l=ee(null),{refocusTargetEl:u,refocusTarget:c}=_b(n,l),d=er(n,wb),f=w(()=>n.val!==void 0&&Array.isArray(n.modelValue)),h=w(()=>{const A=Vi(n.val);return f.value===!0?n.modelValue.findIndex(C=>Vi(C)===A):-1}),m=w(()=>f.value===!0?h.value!==-1:Vi(n.modelValue)===Vi(n.trueValue)),y=w(()=>f.value===!0?h.value===-1:Vi(n.modelValue)===Vi(n.falseValue)),b=w(()=>m.value===!1&&y.value===!1),g=w(()=>n.disable===!0?-1:n.tabindex||0),p=w(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(n.disable===!0?" disabled":"")+(s.value===!0?` q-${e}--dark`:"")+(n.dense===!0?` q-${e}--dense`:"")+(n.leftLabel===!0?" reverse":"")),_=w(()=>{const A=m.value===!0?"truthy":y.value===!0?"falsy":"indet",C=n.color!==void 0&&(n.keepColor===!0||(e==="toggle"?m.value===!0:y.value!==!0))?` text-${n.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${A}${C}`}),x=w(()=>{const A={type:"checkbox"};return n.name!==void 0&&Object.assign(A,{".checked":m.value,"^checked":m.value===!0?"checked":void 0,name:n.name,value:f.value===!0?n.val:n.trueValue}),A}),S=Ir(x),M=w(()=>{const A={tabindex:g.value,role:e==="toggle"?"switch":"checkbox","aria-label":n.label,"aria-checked":b.value===!0?"mixed":m.value===!0?"true":"false"};return n.disable===!0&&(A["aria-disabled"]="true"),A});function T(A){A!==void 0&&(nt(A),c(A)),n.disable!==!0&&r("update:modelValue",R(),A)}function R(){if(f.value===!0){if(m.value===!0){const A=n.modelValue.slice();return A.splice(h.value,1),A}return n.modelValue.concat([n.val])}if(m.value===!0){if(n.toggleOrder!=="ft"||n.toggleIndeterminate===!1)return n.falseValue}else if(y.value===!0){if(n.toggleOrder==="ft"||n.toggleIndeterminate===!1)return n.trueValue}else return n.toggleOrder!=="ft"?n.trueValue:n.falseValue;return n.indeterminateValue}function L(A){(A.keyCode===13||A.keyCode===32)&&nt(A)}function I(A){(A.keyCode===13||A.keyCode===32)&&T(A)}const k=t(m,b);return Object.assign(o,{toggle:T}),()=>{const A=k();n.disable!==!0&&S(A,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const C=[v("div",{class:_.value,style:d.value,"aria-hidden":"true"},A)];u.value!==null&&C.push(u.value);const E=n.label!==void 0?Nt(i.default,[n.label]):We(i.default);return E!==void 0&&C.push(v("div",{class:`q-${e}__label q-anchor--skip`},E)),v("div",{ref:l,class:p.value,...M.value,onClick:T,onKeydown:L,onKeyup:I},C)}}var a2=v("div",{key:"svg",class:"q-checkbox__bg absolute"},[v("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[v("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),v("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),bs=xe({name:"QCheckbox",props:Sb,emits:Mb,setup(e){function t(n,i){const r=w(()=>(n.value===!0?e.checkedIcon:i.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>r.value!==null?[v("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[v(ft,{class:"q-checkbox__icon",name:r.value})])]:[a2]}return Tb("checkbox",t)}}),s2={xs:8,sm:10,md:14,lg:20,xl:24},Cb=xe({name:"QChip",props:{...ct,...Ji,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=Be(),r=dt(e,i),o=er(e,s2),a=w(()=>e.selected===!0||e.icon!==void 0),s=w(()=>e.selected===!0?e.iconSelected||i.iconSet.chip.selected:e.icon),l=w(()=>e.iconRemove||i.iconSet.chip.remove),u=w(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),c=w(()=>{const b=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(b?` text-${b} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(u.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(r.value===!0?" q-chip--dark q-dark":"")}),d=w(()=>{const b=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},g={...b,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||i.lang.label.remove};return{chip:b,remove:g}});function f(b){b.keyCode===13&&h(b)}function h(b){e.disable||(n("update:selected",!e.selected),n("click",b))}function m(b){(b.keyCode===void 0||b.keyCode===13)&&(nt(b),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function y(){const b=[];u.value===!0&&b.push(v("div",{class:"q-focus-helper"})),a.value===!0&&b.push(v(ft,{class:"q-chip__icon q-chip__icon--left",name:s.value}));const g=e.label!==void 0?[v("div",{class:"ellipsis"},[e.label])]:void 0;return b.push(v("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},qh(t.default,g))),e.iconRight&&b.push(v(ft,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&b.push(v(ft,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:l.value,...d.value.remove,onClick:m,onKeyup:m})),b}return()=>{if(e.modelValue===!1)return;const b={class:c.value,style:o.value};return u.value===!0&&Object.assign(b,d.value.chip,{onClick:h,onKeyup:f}),Jn("div",b,y(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[kc,e.ripple]])}}}),am={...Ji,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},Hf=50,Eb=2*Hf,Ab=Eb*Math.PI,l2=Math.round(Ab*1e3)/1e3,Lb=xe({name:"QCircularProgress",props:{...am,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=Be(),i=er(e),r=w(()=>{const h=(n.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(n.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-h}deg)`:`rotate3d(0, 0, 1, ${h-90}deg)`}}),o=w(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),a=w(()=>Eb/(1-e.thickness/2)),s=w(()=>`${a.value/2} ${a.value/2} ${a.value} ${a.value}`),l=w(()=>wt(e.value,e.min,e.max)),u=w(()=>e.max-e.min),c=w(()=>e.thickness/2*a.value),d=w(()=>{const h=(e.max-l.value)/u.value,m=e.rounded===!0&&l.value<e.max&&h<.25?c.value/2*(1-h/.25):0;return Ab*h+m});function f({thickness:h,offset:m,color:y,cls:b,rounded:g}){return v("circle",{class:"q-circular-progress__"+b+(y!==void 0?` text-${y}`:""),style:o.value,fill:"transparent",stroke:"currentColor","stroke-width":h,"stroke-dasharray":l2,"stroke-dashoffset":m,"stroke-linecap":g,cx:a.value,cy:a.value,r:Hf})}return()=>{const h=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&h.push(v("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:Hf-c.value/2,cx:a.value,cy:a.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&h.push(f({cls:"track",thickness:c.value,offset:0,color:e.trackColor})),h.push(f({cls:"circle",thickness:c.value,offset:d.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const m=[v("svg",{class:"q-circular-progress__svg",style:r.value,viewBox:s.value,"aria-hidden":"true"},h)];return e.showValue===!0&&m.push(v("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},t.default!==void 0?t.default():[v("div",l.value)])),v("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:i.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:l.value},qh(t.internal,m))}}});function Ld(e,t,n){const i=En(e);let r,o=i.left-t.event.x,a=i.top-t.event.y,s=Math.abs(o),l=Math.abs(a);const u=t.direction;u.horizontal===!0&&u.vertical!==!0?r=o<0?"left":"right":u.horizontal!==!0&&u.vertical===!0?r=a<0?"up":"down":u.up===!0&&a<0?(r="up",s>l&&(u.left===!0&&o<0?r="left":u.right===!0&&o>0&&(r="right"))):u.down===!0&&a>0?(r="down",s>l&&(u.left===!0&&o<0?r="left":u.right===!0&&o>0&&(r="right"))):u.left===!0&&o<0?(r="left",s<l&&(u.up===!0&&a<0?r="up":u.down===!0&&a>0&&(r="down"))):u.right===!0&&o>0&&(r="right",s<l&&(u.up===!0&&a<0?r="up":u.down===!0&&a>0&&(r="down")));let c=!1;if(r===void 0&&n===!1){if(t.event.isFirst===!0||t.event.lastDir===void 0)return{};r=t.event.lastDir,c=!0,r==="left"||r==="right"?(i.left-=o,s=0,o=0):(i.top-=a,l=0,a=0)}return{synthetic:c,payload:{evt:e,touch:t.event.mouse!==!0,mouse:t.event.mouse===!0,position:i,direction:r,isFirst:t.event.isFirst,isFinal:n===!0,duration:Date.now()-t.event.time,distance:{x:s,y:l},offset:{x:o,y:a},delta:{x:i.left-t.event.lastX,y:i.top-t.event.lastY}}}}var u2=0,$n=gi({name:"touch-pan",beforeMount(e,{value:t,modifiers:n}){if(n.mouse!==!0&&rt.has.touch!==!0)return;function i(o,a){n.mouse===!0&&a===!0?nt(o):(n.stop===!0&&Bt(o),n.prevent===!0&&en(o))}const r={uid:"qvtp_"+u2++,handler:t,modifiers:n,direction:cc(n),noop:$t,mouseStart(o){dc(o,r)&&Lc(o)&&(Dt(r,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),r.start(o,!0))},touchStart(o){if(dc(o,r)){const a=o.target;Dt(r,"temp",[[a,"touchmove","move","notPassiveCapture"],[a,"touchcancel","end","passiveCapture"],[a,"touchend","end","passiveCapture"]]),r.start(o)}},start(o,a){if(rt.is.firefox===!0&&fa(e,!0),r.lastEvt=o,a===!0||n.stop===!0){if(r.direction.all!==!0&&(a!==!0||r.modifiers.mouseAllDir!==!0&&r.modifiers.mousealldir!==!0)){const u=o.type.indexOf("mouse")!==-1?new MouseEvent(o.type,o):new TouchEvent(o.type,o);o.defaultPrevented===!0&&en(u),o.cancelBubble===!0&&Bt(u),Object.assign(u,{qKeyEvent:o.qKeyEvent,qClickOutside:o.qClickOutside,qAnchorHandled:o.qAnchorHandled,qClonedBy:o.qClonedBy===void 0?[r.uid]:o.qClonedBy.concat(r.uid)}),r.initialEvent={target:o.target,event:u}}Bt(o)}const{left:s,top:l}=En(o);r.event={x:s,y:l,time:Date.now(),mouse:a===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:s,lastY:l}},move(o){if(r.event===void 0)return;const a=En(o),s=a.left-r.event.x,l=a.top-r.event.y;if(s===0&&l===0)return;r.lastEvt=o;const u=r.event.mouse===!0,c=()=>{i(o,u);let h;n.preserveCursor!==!0&&n.preservecursor!==!0&&(h=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),u===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),ui(),r.styleCleanup=m=>{if(r.styleCleanup=void 0,h!==void 0&&(document.documentElement.style.cursor=h),document.body.classList.remove("non-selectable"),u===!0){const y=()=>{document.body.classList.remove("no-pointer-events--children")};m!==void 0?setTimeout(()=>{y(),m()},50):y()}else m!==void 0&&m()}};if(r.event.detected===!0){r.event.isFirst!==!0&&i(o,r.event.mouse);const{payload:h,synthetic:m}=Ld(o,r,!1);h!==void 0&&(r.handler(h)===!1?r.end(o):(r.styleCleanup===void 0&&r.event.isFirst===!0&&c(),r.event.lastX=h.position.left,r.event.lastY=h.position.top,r.event.lastDir=m===!0?void 0:h.direction,r.event.isFirst=!1));return}if(r.direction.all===!0||u===!0&&(r.modifiers.mouseAllDir===!0||r.modifiers.mousealldir===!0)){c(),r.event.detected=!0,r.move(o);return}const d=Math.abs(s),f=Math.abs(l);d!==f&&(r.direction.horizontal===!0&&d>f||r.direction.vertical===!0&&d<f||r.direction.up===!0&&d<f&&l<0||r.direction.down===!0&&d<f&&l>0||r.direction.left===!0&&d>f&&s<0||r.direction.right===!0&&d>f&&s>0?(r.event.detected=!0,r.move(o)):r.end(o,!0))},end(o,a){if(r.event!==void 0){if(gn(r,"temp"),rt.is.firefox===!0&&fa(e,!1),a===!0)r.styleCleanup!==void 0&&r.styleCleanup(),r.event.detected!==!0&&r.initialEvent!==void 0&&r.initialEvent.target.dispatchEvent(r.initialEvent.event);else if(r.event.detected===!0){r.event.isFirst===!0&&r.handler(Ld(o===void 0?r.lastEvt:o,r).payload);const{payload:s}=Ld(o===void 0?r.lastEvt:o,r,!0),l=()=>{r.handler(s)};r.styleCleanup!==void 0?r.styleCleanup(l):l()}r.event=void 0,r.initialEvent=void 0,r.lastEvt=void 0}}};if(e.__qtouchpan=r,n.mouse===!0){const o=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";Dt(r,"main",[[e,"mousedown","mouseStart",`passive${o}`]])}rt.has.touch===!0&&Dt(r,"main",[[e,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchpan;n!==void 0&&(t.oldValue!==t.value&&(typeof value!="function"&&n.end(),n.handler=t.value),n.direction=cc(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;t!==void 0&&(t.event!==void 0&&t.end(),gn(t,"main"),gn(t,"temp"),rt.is.firefox===!0&&fa(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchpan)}}),$p="q-slider__marker-labels",c2=e=>({value:e}),d2=({marker:e})=>v("div",{key:e.value,style:e.style,class:e.classes},e.label),sm=[34,37,40,33,39,38],Rb={...ct,...ei,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},kb=["pan","update:modelValue","change"];function Pb({updateValue:e,updatePosition:t,getDragging:n,formAttrs:i}){const{props:r,emit:o,slots:a,proxy:{$q:s}}=Be(),l=dt(r,s),u=Ir(i),c=ee(!1),d=ee(!1),f=ee(!1),h=ee(!1),m=w(()=>r.vertical===!0?"--v":"--h"),y=w(()=>"-"+(r.switchLabelSide===!0?"switched":"standard")),b=w(()=>r.vertical===!0?r.reverse===!0:r.reverse!==(s.lang.rtl===!0)),g=w(()=>isNaN(r.innerMin)===!0||r.innerMin<r.min?r.min:r.innerMin),p=w(()=>isNaN(r.innerMax)===!0||r.innerMax>r.max?r.max:r.innerMax),_=w(()=>r.disable!==!0&&r.readonly!==!0&&g.value<p.value),x=w(()=>{if(r.step===0)return Ae=>Ae;const de=(String(r.step).trim().split(".")[1]||"").length;return Ae=>parseFloat(Ae.toFixed(de))}),S=w(()=>r.step===0?1:r.step),M=w(()=>_.value===!0?r.tabindex||0:-1),T=w(()=>r.max-r.min),R=w(()=>p.value-g.value),L=w(()=>ke(g.value)),I=w(()=>ke(p.value)),k=w(()=>r.vertical===!0?b.value===!0?"bottom":"top":b.value===!0?"right":"left"),A=w(()=>r.vertical===!0?"height":"width"),C=w(()=>r.vertical===!0?"width":"height"),E=w(()=>r.vertical===!0?"vertical":"horizontal"),D=w(()=>{const de={role:"slider","aria-valuemin":g.value,"aria-valuemax":p.value,"aria-orientation":E.value,"data-step":r.step};return r.disable===!0?de["aria-disabled"]="true":r.readonly===!0&&(de["aria-readonly"]="true"),de}),q=w(()=>`q-slider q-slider${m.value} q-slider--${c.value===!0?"":"in"}active inline no-wrap `+(r.vertical===!0?"row":"column")+(r.disable===!0?" disabled":" q-slider--enabled"+(_.value===!0?" q-slider--editable":""))+(f.value==="both"?" q-slider--focus":"")+(r.label||r.labelAlways===!0?" q-slider--label":"")+(r.labelAlways===!0?" q-slider--label-always":"")+(l.value===!0?" q-slider--dark":"")+(r.dense===!0?" q-slider--dense q-slider--dense"+m.value:""));function O(de){const Ae="q-slider__"+de;return`${Ae} ${Ae}${m.value} ${Ae}${m.value}${y.value}`}function G(de){const Ae="q-slider__"+de;return`${Ae} ${Ae}${m.value}`}const Y=w(()=>{const de=r.selectionColor||r.color;return"q-slider__selection absolute"+(de!==void 0?` text-${de}`:"")}),le=w(()=>G("markers")+" absolute overflow-hidden"),W=w(()=>G("track-container")),P=w(()=>O("pin")),Z=w(()=>O("label")),ne=w(()=>O("text-container")),J=w(()=>O("marker-labels-container")+(r.markerLabelsClass!==void 0?` ${r.markerLabelsClass}`:"")),U=w(()=>"q-slider__track relative-position no-outline"+(r.trackColor!==void 0?` bg-${r.trackColor}`:"")),$=w(()=>{const de={[C.value]:r.trackSize};return r.trackImg!==void 0&&(de.backgroundImage=`url(${r.trackImg}) !important`),de}),fe=w(()=>"q-slider__inner absolute"+(r.innerTrackColor!==void 0?` bg-${r.innerTrackColor}`:"")),X=w(()=>{const de=I.value-L.value,Ae={[k.value]:`${100*L.value}%`,[A.value]:de===0?"2px":`${100*de}%`};return r.innerTrackImg!==void 0&&(Ae.backgroundImage=`url(${r.innerTrackImg}) !important`),Ae});function be(de){const{min:Ae,max:$e,step:et}=r;let qe=Ae+de*($e-Ae);if(et>0){const ot=(qe-g.value)%et;qe+=(Math.abs(ot)>=et/2?(ot<0?-1:1)*et:0)-ot}return qe=x.value(qe),wt(qe,g.value,p.value)}function ke(de){return T.value===0?0:(de-r.min)/T.value}function j(de,Ae){const $e=En(de),et=r.vertical===!0?wt(($e.top-Ae.top)/Ae.height,0,1):wt(($e.left-Ae.left)/Ae.width,0,1);return wt(b.value===!0?1-et:et,L.value,I.value)}const re=w(()=>Qs(r.markers)===!0?r.markers:S.value),ue=w(()=>{const de=[],Ae=re.value,$e=r.max;let et=r.min;do de.push(et),et+=Ae;while(et<$e);return de.push($e),de}),we=w(()=>{const de=` ${$p}${m.value}-`;return $p+`${de}${r.switchMarkerLabelsSide===!0?"switched":"standard"}${de}${b.value===!0?"rtl":"ltr"}`}),_e=w(()=>r.markerLabels===!1?null:ve(r.markerLabels).map((de,Ae)=>({index:Ae,value:de.value,label:de.label||de.value,classes:we.value+(de.classes!==void 0?" "+de.classes:""),style:{...he(de.value),...de.style||{}}}))),B=w(()=>({markerList:_e.value,markerMap:H.value,classes:we.value,getStyle:he})),z=w(()=>{const de=R.value===0?"2px":100*re.value/R.value;return{...X.value,backgroundSize:r.vertical===!0?`2px ${de}%`:`${de}% 2px`}});function ve(de){if(de===!1)return null;if(de===!0)return ue.value.map(c2);if(typeof de=="function")return ue.value.map($e=>{const et=de($e);return wn(et)===!0?{...et,value:$e}:{value:$e,label:et}});const Ae=({value:$e})=>$e>=r.min&&$e<=r.max;return Array.isArray(de)===!0?de.map($e=>wn($e)===!0?$e:{value:$e}).filter(Ae):Object.keys(de).map($e=>{const et=de[$e],qe=Number($e);return wn(et)===!0?{...et,value:qe}:{value:qe,label:et}}).filter(Ae)}function he(de){return{[k.value]:`${100*(de-r.min)/T.value}%`}}const H=w(()=>{if(r.markerLabels===!1)return null;const de={};return _e.value.forEach(Ae=>{de[Ae.value]=Ae}),de});function se(){if(a["marker-label-group"]!==void 0)return a["marker-label-group"](B.value);const de=a["marker-label"]||d2;return _e.value.map(Ae=>de({marker:Ae,...B.value}))}const K=w(()=>[[$n,me,void 0,{[E.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function me(de){de.isFinal===!0?(h.value!==void 0&&(t(de.evt),de.touch===!0&&e(!0),h.value=void 0,o("pan","end")),c.value=!1,f.value=!1):de.isFirst===!0?(h.value=n(de.evt),t(de.evt),e(),c.value=!0,o("pan","start")):(t(de.evt),e())}function ge(){f.value=!1}function Ee(de){t(de,n(de)),e(),d.value=!0,c.value=!0,document.addEventListener("mouseup",Le,!0)}function Le(){d.value=!1,c.value=!1,e(!0),ge(),document.removeEventListener("mouseup",Le,!0)}function Ne(de){t(de,n(de)),e(!0)}function Pe(de){sm.includes(de.keyCode)&&e(!0)}function ze(de){if(r.vertical===!0)return null;const Ae=s.lang.rtl!==r.reverse?1-de:de;return{transform:`translateX(calc(${2*Ae-1} * ${r.thumbSize} / 2 + ${50-100*Ae}%))`}}function ce(de){const Ae=w(()=>d.value===!1&&(f.value===de.focusValue||f.value==="both")?" q-slider--focus":""),$e=w(()=>`q-slider__thumb q-slider__thumb${m.value} q-slider__thumb${m.value}-${b.value===!0?"rtl":"ltr"} absolute non-selectable`+Ae.value+(de.thumbColor.value!==void 0?` text-${de.thumbColor.value}`:"")),et=w(()=>({width:r.thumbSize,height:r.thumbSize,[k.value]:`${100*de.ratio.value}%`,zIndex:f.value===de.focusValue?2:void 0})),qe=w(()=>de.labelColor.value!==void 0?` text-${de.labelColor.value}`:""),ot=w(()=>ze(de.ratio.value)),vt=w(()=>"q-slider__text"+(de.labelTextColor.value!==void 0?` text-${de.labelTextColor.value}`:""));return()=>{const bt=[v("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[v("path",{d:r.thumbPath})]),v("div",{class:"q-slider__focus-ring fit"})];return(r.label===!0||r.labelAlways===!0)&&(bt.push(v("div",{class:P.value+" absolute fit no-pointer-events"+qe.value},[v("div",{class:Z.value,style:{minWidth:r.thumbSize}},[v("div",{class:ne.value,style:ot.value},[v("span",{class:vt.value},de.label.value)])])])),r.name!==void 0&&r.disable!==!0&&u(bt,"push")),v("div",{class:$e.value,style:et.value,...de.getNodeData()},bt)}}function Se(de,Ae,$e,et){const qe=[];r.innerTrackColor!=="transparent"&&qe.push(v("div",{key:"inner",class:fe.value,style:X.value})),r.selectionColor!=="transparent"&&qe.push(v("div",{key:"selection",class:Y.value,style:de.value})),r.markers!==!1&&qe.push(v("div",{key:"marker",class:le.value,style:z.value})),et(qe);const ot=[Jn("div",{key:"trackC",class:W.value,tabindex:Ae.value,...$e.value},[v("div",{class:U.value,style:$.value},qe)],"slide",_.value,()=>K.value)];if(r.markerLabels!==!1){const vt=r.switchMarkerLabelsSide===!0?"unshift":"push";ot[vt](v("div",{key:"markerL",class:J.value},se()))}return ot}return st(()=>{document.removeEventListener("mouseup",Le,!0)}),{state:{active:c,focus:f,preventFocus:d,dragging:h,editable:_,classes:q,tabindex:M,attributes:D,roundValueFn:x,keyStep:S,trackLen:T,innerMin:g,innerMinRatio:L,innerMax:p,innerMaxRatio:I,positionProp:k,sizeProp:A,isReversed:b},methods:{onActivate:Ee,onMobileClick:Ne,onBlur:ge,onKeyup:Pe,getContent:Se,getThumbRenderFn:ce,convertRatioToModel:be,convertModelToRatio:ke,getDraggingRatio:j}}}var f2=()=>({}),Ko=xe({name:"QSlider",props:{...Rb,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:kb,setup(e,{emit:t}){const{proxy:{$q:n}}=Be(),{state:i,methods:r}=Pb({updateValue:m,updatePosition:b,getDragging:y,formAttrs:pl(e)}),o=ee(null),a=ee(0),s=ee(0);function l(){s.value=e.modelValue===null?i.innerMin.value:wt(e.modelValue,i.innerMin.value,i.innerMax.value)}Te(()=>`${e.modelValue}|${i.innerMin.value}|${i.innerMax.value}`,l),l();const u=w(()=>r.convertModelToRatio(s.value)),c=w(()=>i.active.value===!0?a.value:u.value),d=w(()=>{const _={[i.positionProp.value]:`${100*i.innerMinRatio.value}%`,[i.sizeProp.value]:`${100*(c.value-i.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(_.backgroundImage=`url(${e.selectionImg}) !important`),_}),f=r.getThumbRenderFn({focusValue:!0,getNodeData:f2,ratio:c,label:w(()=>e.labelValue!==void 0?e.labelValue:s.value),thumbColor:w(()=>e.thumbColor||e.color),labelColor:w(()=>e.labelColor),labelTextColor:w(()=>e.labelTextColor)}),h=w(()=>i.editable.value!==!0?{}:n.platform.is.mobile===!0?{onClick:r.onMobileClick}:{onMousedown:r.onActivate,onFocus:g,onBlur:r.onBlur,onKeydown:p,onKeyup:r.onKeyup});function m(_){s.value!==e.modelValue&&t("update:modelValue",s.value),_===!0&&t("change",s.value)}function y(){return o.value.getBoundingClientRect()}function b(_,x=i.dragging.value){const S=r.getDraggingRatio(_,x);s.value=r.convertRatioToModel(S),a.value=e.snap!==!0||e.step===0?S:r.convertModelToRatio(s.value)}function g(){i.focus.value=!0}function p(_){if(!sm.includes(_.keyCode))return;nt(_);const x=([34,33].includes(_.keyCode)?10:1)*i.keyStep.value,S=([34,37,40].includes(_.keyCode)?-1:1)*(i.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*x;s.value=wt(i.roundValueFn.value(s.value+S),i.innerMin.value,i.innerMax.value),m()}return()=>{const _=r.getContent(d,i.tabindex,h,x=>{x.push(f())});return v("div",{ref:o,class:i.classes.value+(e.modelValue===null?" q-slider--no-value":""),...i.attributes.value,"aria-valuenow":e.modelValue},_)}}});function Bb(){const e=ee(!Kn.value);return e.value===!1&&It(()=>{e.value=!0}),{isHydrated:e}}var Ib=typeof ResizeObserver!="undefined",jp=Ib===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},xo=xe({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:t}){let n=null,i,r={width:-1,height:-1};function o(l){l===!0||e.debounce===0||e.debounce==="0"?a():n===null&&(n=setTimeout(a,e.debounce))}function a(){if(n!==null&&(clearTimeout(n),n=null),i){const{offsetWidth:l,offsetHeight:u}=i;(l!==r.width||u!==r.height)&&(r={width:l,height:u},t("resize",r))}}const{proxy:s}=Be();if(s.trigger=o,Ib===!0){let l;const u=c=>{i=s.$el.parentNode,i?(l=new ResizeObserver(o),l.observe(i),a()):c!==!0&&ut(()=>{u(!0)})};return It(()=>{u()}),st(()=>{n!==null&&clearTimeout(n),l!==void 0&&(l.disconnect!==void 0?l.disconnect():i&&l.unobserve(i))}),$t}else{let l=function(){n!==null&&(clearTimeout(n),n=null),d!==void 0&&(d.removeEventListener!==void 0&&d.removeEventListener("resize",o,xt.passive),d=void 0)},u=function(){l(),i&&i.contentDocument&&(d=i.contentDocument.defaultView,d.addEventListener("resize",o,xt.passive),a())};const{isHydrated:c}=Bb();let d;return It(()=>{ut(()=>{i=s.$el,i&&u()})}),st(l),()=>{if(c.value===!0)return v("object",{class:"q--avoid-card-border",style:jp.style,tabindex:-1,type:"text/html",data:jp.url,"aria-hidden":"true",onLoad:u})}}}}),Js=!1;if(!__QUASAR_SSR__){const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,Js=e.scrollLeft>=0,e.remove()}function h2(e,t,n){const i=n===!0?["left","right"]:["top","bottom"];return`absolute-${t===!0?i[0]:i[1]}${e?` text-${e}`:""}`}var m2=["left","center","right","justify"],Yp=xe({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>m2.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:t,emit:n}){const{proxy:i}=Be(),{$q:r}=i,{registerTick:o}=pa(),{registerTick:a}=pa(),{registerTick:s}=pa(),{registerTimeout:l,removeTimeout:u}=kr(),{registerTimeout:c,removeTimeout:d}=kr(),f=ee(null),h=ee(null),m=ee(e.modelValue),y=ee(!1),b=ee(!0),g=ee(!1),p=ee(!1),_=[],x=ee(0),S=ee(!1);let M=null,T=null,R;const L=w(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:h2(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),I=w(()=>{const H=x.value,se=m.value;for(let K=0;K<H;K++)if(_[K].name.value===se)return!0;return!1}),k=w(()=>`q-tabs__content--align-${y.value===!0?"left":p.value===!0?"justify":e.align}`),A=w(()=>`q-tabs row no-wrap items-center q-tabs--${y.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),C=w(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+k.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),E=w(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),D=w(()=>e.vertical!==!0&&r.lang.rtl===!0),q=w(()=>Js===!1&&D.value===!0);Te(D,P),Te(()=>e.modelValue,H=>{O({name:H,setCurrent:!0,skipEmit:!0})}),Te(()=>e.outsideArrows,G);function O({name:H,setCurrent:se,skipEmit:K}){m.value!==H&&(K!==!0&&e["onUpdate:modelValue"]!==void 0&&n("update:modelValue",H),(se===!0||e["onUpdate:modelValue"]===void 0)&&(le(m.value,H),m.value=H))}function G(){o(()=>{Y({width:f.value.offsetWidth,height:f.value.offsetHeight})})}function Y(H){if(E.value===void 0||h.value===null)return;const se=H[E.value.container],K=Math.min(h.value[E.value.scroll],Array.prototype.reduce.call(h.value.children,(ge,Ee)=>ge+(Ee[E.value.content]||0),0)),me=se>0&&K>se;y.value=me,me===!0&&a(P),p.value=se<parseInt(e.breakpoint,10)}function le(H,se){const K=H!=null&&H!==""?_.find(ge=>ge.name.value===H):null,me=se!=null&&se!==""?_.find(ge=>ge.name.value===se):null;if(K&&me){const ge=K.tabIndicatorRef.value,Ee=me.tabIndicatorRef.value;M!==null&&(clearTimeout(M),M=null),ge.style.transition="none",ge.style.transform="none",Ee.style.transition="none",Ee.style.transform="none";const Le=ge.getBoundingClientRect(),Ne=Ee.getBoundingClientRect();Ee.style.transform=e.vertical===!0?`translate3d(0,${Le.top-Ne.top}px,0) scale3d(1,${Ne.height?Le.height/Ne.height:1},1)`:`translate3d(${Le.left-Ne.left}px,0,0) scale3d(${Ne.width?Le.width/Ne.width:1},1,1)`,s(()=>{M=setTimeout(()=>{M=null,Ee.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",Ee.style.transform="none"},70)})}me&&y.value===!0&&W(me.rootRef.value)}function W(H){const{left:se,width:K,top:me,height:ge}=h.value.getBoundingClientRect(),Ee=H.getBoundingClientRect();let Le=e.vertical===!0?Ee.top-me:Ee.left-se;if(Le<0){h.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(Le),P();return}Le+=e.vertical===!0?Ee.height-ge:Ee.width-K,Le>0&&(h.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(Le),P())}function P(){const H=h.value;if(H===null)return;const se=H.getBoundingClientRect(),K=e.vertical===!0?H.scrollTop:Math.abs(H.scrollLeft);D.value===!0?(b.value=Math.ceil(K+se.width)<H.scrollWidth-1,g.value=K>0):(b.value=K>0,g.value=e.vertical===!0?Math.ceil(K+se.height)<H.scrollHeight:Math.ceil(K+se.width)<H.scrollWidth)}function Z(H){T!==null&&clearInterval(T),T=setInterval(()=>{X(H)===!0&&U()},5)}function ne(){Z(q.value===!0?Number.MAX_SAFE_INTEGER:0)}function J(){Z(q.value===!0?0:Number.MAX_SAFE_INTEGER)}function U(){T!==null&&(clearInterval(T),T=null)}function $(H,se){const K=Array.prototype.filter.call(h.value.children,Ne=>Ne===se||Ne.matches&&Ne.matches(".q-tab.q-focusable")===!0),me=K.length;if(me===0)return;if(H===36)return W(K[0]),K[0].focus(),!0;if(H===35)return W(K[me-1]),K[me-1].focus(),!0;const ge=H===(e.vertical===!0?38:37),Ee=H===(e.vertical===!0?40:39),Le=ge===!0?-1:Ee===!0?1:void 0;if(Le!==void 0){const Ne=D.value===!0?-1:1,Pe=K.indexOf(se)+Le*Ne;return Pe>=0&&Pe<me&&(W(K[Pe]),K[Pe].focus({preventScroll:!0})),!0}}const fe=w(()=>q.value===!0?{get:H=>Math.abs(H.scrollLeft),set:(H,se)=>{H.scrollLeft=-se}}:e.vertical===!0?{get:H=>H.scrollTop,set:(H,se)=>{H.scrollTop=se}}:{get:H=>H.scrollLeft,set:(H,se)=>{H.scrollLeft=se}});function X(H){const se=h.value,{get:K,set:me}=fe.value;let ge=!1,Ee=K(se);const Le=H<Ee?-1:1;return Ee+=Le*5,Ee<0?(ge=!0,Ee=0):(Le===-1&&Ee<=H||Le===1&&Ee>=H)&&(ge=!0,Ee=H),me(se,Ee),P(),ge}function be(H,se){for(const K in H)if(H[K]!==se[K])return!1;return!0}function ke(){let H=null,se={matchedLen:0,queryDiff:9999,hrefLen:0};const K=_.filter(Le=>Le.routeData!==void 0&&Le.routeData.hasRouterLink.value===!0),{hash:me,query:ge}=i.$route,Ee=Object.keys(ge).length;for(const Le of K){const Ne=Le.routeData.exact.value===!0;if(Le.routeData[Ne===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:Pe,query:ze,matched:ce,href:Se}=Le.routeData.resolvedLink.value,de=Object.keys(ze).length;if(Ne===!0){if(Pe!==me||de!==Ee||be(ge,ze)===!1)continue;H=Le.name.value;break}if(Pe!==""&&Pe!==me||de!==0&&be(ze,ge)===!1)continue;const Ae={matchedLen:ce.length,queryDiff:Ee-de,hrefLen:Se.length-Pe.length};if(Ae.matchedLen>se.matchedLen){H=Le.name.value,se=Ae;continue}else if(Ae.matchedLen!==se.matchedLen)continue;if(Ae.queryDiff<se.queryDiff)H=Le.name.value,se=Ae;else if(Ae.queryDiff!==se.queryDiff)continue;Ae.hrefLen>se.hrefLen&&(H=Le.name.value,se=Ae)}H===null&&_.some(Le=>Le.routeData===void 0&&Le.name.value===m.value)===!0||O({name:H,setCurrent:!0})}function j(H){if(u(),S.value!==!0&&f.value!==null&&H.target&&typeof H.target.closest=="function"){const se=H.target.closest(".q-tab");se&&f.value.contains(se)===!0&&(S.value=!0,y.value===!0&&W(se))}}function re(){l(()=>{S.value=!1},30)}function ue(){z.avoidRouteWatcher===!1?c(ke):d()}function we(){if(R===void 0){const H=Te(()=>i.$route.fullPath,ue);R=()=>{H(),R=void 0}}}function _e(H){_.push(H),x.value++,G(),H.routeData===void 0||i.$route===void 0?c(()=>{if(y.value===!0){const se=m.value,K=se!=null&&se!==""?_.find(me=>me.name.value===se):null;K&&W(K.rootRef.value)}}):(we(),H.routeData.hasRouterLink.value===!0&&ue())}function B(H){_.splice(_.indexOf(H),1),x.value--,G(),R!==void 0&&H.routeData!==void 0&&(_.every(se=>se.routeData===void 0)===!0&&R(),ue())}const z={currentModel:m,tabProps:L,hasFocus:S,hasActiveTab:I,registerTab:_e,unregisterTab:B,verifyRouteModel:ue,updateModel:O,onKbdNavigate:$,avoidRouteWatcher:!1};Pr(Wy,z);function ve(){M!==null&&clearTimeout(M),U(),R!==void 0&&R()}let he;return st(ve),Ki(()=>{he=R!==void 0,ve()}),So(()=>{he===!0&&we(),G()}),()=>v("div",{ref:f,class:A.value,role:"tablist",onFocusin:j,onFocusout:re},[v(xo,{onResize:Y}),v("div",{ref:h,class:C.value,onScroll:P},We(t.default)),v(ft,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(b.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||r.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:ne,onTouchstartPassive:ne,onMouseupPassive:U,onMouseleavePassive:U,onTouchendPassive:U}),v(ft,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(g.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||r.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:J,onTouchstartPassive:J,onMouseupPassive:U,onMouseleavePassive:U,onTouchendPassive:U})])}}),p2=0,Fb=["click","keydown"],Db={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${p2++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Ob(e,t,n,i){const r=Ln(Wy,gt);if(r===gt)return console.error("QTab/QRouteTab component needs to be child of QTabs"),gt;const{proxy:o}=Be(),a=ee(null),s=ee(null),l=ee(null),u=w(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),c=w(()=>r.currentModel.value===e.name),d=w(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(c.value===!0?" q-tab--active"+(r.tabProps.value.activeClass?" "+r.tabProps.value.activeClass:"")+(r.tabProps.value.activeColor?` text-${r.tabProps.value.activeColor}`:"")+(r.tabProps.value.activeBgColor?` bg-${r.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&r.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||r.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(i!==void 0?i.linkClass.value:"")),f=w(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(r.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),h=w(()=>e.disable===!0||r.hasFocus.value===!0||c.value===!1&&r.hasActiveTab.value===!0?-1:e.tabindex||0);function m(_,x){if(x!==!0&&a.value!==null&&a.value.focus(),e.disable===!0){i!==void 0&&i.hasRouterLink.value===!0&&nt(_);return}if(i===void 0){r.updateModel({name:e.name}),n("click",_);return}if(i.hasRouterLink.value===!0){const S=(M={})=>{let T;const R=M.to===void 0||li(M.to,e.to)===!0?r.avoidRouteWatcher=Zs():null;return i.navigateToRouterLink(_,{...M,returnRouterError:!0}).catch(L=>{T=L}).then(L=>{if(R===r.avoidRouteWatcher&&(r.avoidRouteWatcher=!1,T===void 0&&(L===void 0||L.message!==void 0&&L.message.startsWith("Avoided redundant navigation")===!0)&&r.updateModel({name:e.name})),M.returnRouterError===!0)return T!==void 0?Promise.reject(T):L})};n("click",_,S),_.defaultPrevented!==!0&&S();return}n("click",_)}function y(_){Zn(_,[13,32])?m(_,!0):Eo(_)!==!0&&_.keyCode>=35&&_.keyCode<=40&&_.altKey!==!0&&_.metaKey!==!0&&r.onKbdNavigate(_.keyCode,o.$el)===!0&&nt(_),n("keydown",_)}function b(){const _=r.tabProps.value.narrowIndicator,x=[],S=v("div",{ref:l,class:["q-tab__indicator",r.tabProps.value.indicatorClass]});e.icon!==void 0&&x.push(v(ft,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&x.push(v("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&x.push(e.alertIcon!==void 0?v(ft,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):v("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),_===!0&&x.push(S);const M=[v("div",{class:"q-focus-helper",tabindex:-1,ref:a}),v("div",{class:f.value},Nt(t.default,x))];return _===!1&&M.push(S),M}const g={name:w(()=>e.name),rootRef:s,tabIndicatorRef:l,routeData:i};st(()=>{r.unregisterTab(g)}),It(()=>{r.registerTab(g)});function p(_,x){const S={ref:s,class:d.value,tabindex:h.value,role:"tab","aria-selected":c.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:m,onKeydown:y,...x};return ci(v(_,S,b()),[[kc,u.value]])}return{renderTab:p,$tabs:r}}var ns=xe({name:"QTab",props:Db,emits:Fb,setup(e,{slots:t,emit:n}){const{renderTab:i}=Ob(e,t,n);return()=>i("div")}}),v2=xe({name:"QTabPanels",props:{...em,...ct},emits:tm,setup(e,{slots:t}){const n=Be(),i=dt(e,n.proxy.$q),{updatePanelsList:r,getPanelContent:o,panelDirectives:a}=nm(),s=w(()=>"q-tab-panels q-panel-parent"+(i.value===!0?" q-tab-panels--dark q-dark":""));return()=>(r(t),Jn("div",{class:s.value},o(),"pan",e.swipeable,()=>a.value))}}),Rd=xe({name:"QTabPanel",props:Jh,setup(e,{slots:t}){return()=>v("div",{class:"q-tab-panel",role:"tabpanel"},We(t.default))}}),Xp=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Qp=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Kp=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,uu=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,cu=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Tu={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Xp.test(e),hexaColor:e=>Qp.test(e),hexOrHexaColor:e=>Kp.test(e),rgbColor:e=>uu.test(e),rgbaColor:e=>cu.test(e),rgbOrRgbaColor:e=>uu.test(e)||cu.test(e),hexOrRgbColor:e=>Xp.test(e)||uu.test(e),hexaOrRgbaColor:e=>Qp.test(e)||cu.test(e),anyColor:e=>Kp.test(e)||uu.test(e)||cu.test(e)},g2=/^rgb(a)?\((\d{1,3}),(\d{1,3}),(\d{1,3}),?([01]?\.?\d*?)?\)$/;function Zp({r:e,g:t,b:n,a:i}){const r=i!==void 0;if(e=Math.round(e),t=Math.round(t),n=Math.round(n),e>255||t>255||n>255||r&&i>100)throw new TypeError("Expected 3 numbers below 256 (and optionally one below 100)");return i=r?(Math.round(255*i/100)|1<<8).toString(16).slice(1):"","#"+(n|t<<8|e<<16|1<<24).toString(16).slice(1)+i}function Jp({r:e,g:t,b:n,a:i}){return`rgb${i!==void 0?"a":""}(${e},${t},${n}${i!==void 0?","+i/100:""})`}function Nb(e){if(typeof e!="string")throw new TypeError("Expected a string");e=e.replace(/^#/,""),e.length===3?e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]:e.length===4&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=parseInt(e,16);return e.length>6?{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:Math.round((t&255)/2.55)}:{r:t>>16,g:t>>8&255,b:t&255}}function ev({h:e,s:t,v:n,a:i}){let r,o,a;t=t/100,n=n/100,e=e/360;const s=Math.floor(e*6),l=e*6-s,u=n*(1-t),c=n*(1-l*t),d=n*(1-(1-l)*t);switch(s%6){case 0:r=n,o=d,a=u;break;case 1:r=c,o=n,a=u;break;case 2:r=u,o=n,a=d;break;case 3:r=u,o=c,a=n;break;case 4:r=d,o=u,a=n;break;case 5:r=n,o=u,a=c;break}return{r:Math.round(r*255),g:Math.round(o*255),b:Math.round(a*255),a:i}}function kd({r:e,g:t,b:n,a:i}){const r=Math.max(e,t,n),o=Math.min(e,t,n),a=r-o,s=r===0?0:a/r,l=r/255;let u;switch(r){case o:u=0;break;case e:u=t-n+a*(t<n?6:0),u/=6*a;break;case t:u=n-e+a*2,u/=6*a;break;case n:u=e-t+a*4,u/=6*a;break}return{h:Math.round(u*360),s:Math.round(s*100),v:Math.round(l*100),a:i}}function zb(e){if(typeof e!="string")throw new TypeError("Expected a string");const t=e.replace(/ /g,""),n=g2.exec(t);if(n===null)return Nb(t);const i={r:Math.min(255,parseInt(n[2],10)),g:Math.min(255,parseInt(n[3],10)),b:Math.min(255,parseInt(n[4],10))};if(n[1]){const r=parseFloat(n[5]);i.a=Math.min(1,isNaN(r)===!0?1:r)*100}return i}function y2(e){if(typeof e!="string"&&(!e||e.r===void 0))throw new TypeError("Expected a string or a {r, g, b} object as color");const t=typeof e=="string"?zb(e):e,n=t.r/255,i=t.g/255,r=t.b/255,o=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),a=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4),s=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4);return .2126*o+.7152*a+.0722*s}var b2=["rgb(255,204,204)","rgb(255,230,204)","rgb(255,255,204)","rgb(204,255,204)","rgb(204,255,230)","rgb(204,255,255)","rgb(204,230,255)","rgb(204,204,255)","rgb(230,204,255)","rgb(255,204,255)","rgb(255,153,153)","rgb(255,204,153)","rgb(255,255,153)","rgb(153,255,153)","rgb(153,255,204)","rgb(153,255,255)","rgb(153,204,255)","rgb(153,153,255)","rgb(204,153,255)","rgb(255,153,255)","rgb(255,102,102)","rgb(255,179,102)","rgb(255,255,102)","rgb(102,255,102)","rgb(102,255,179)","rgb(102,255,255)","rgb(102,179,255)","rgb(102,102,255)","rgb(179,102,255)","rgb(255,102,255)","rgb(255,51,51)","rgb(255,153,51)","rgb(255,255,51)","rgb(51,255,51)","rgb(51,255,153)","rgb(51,255,255)","rgb(51,153,255)","rgb(51,51,255)","rgb(153,51,255)","rgb(255,51,255)","rgb(255,0,0)","rgb(255,128,0)","rgb(255,255,0)","rgb(0,255,0)","rgb(0,255,128)","rgb(0,255,255)","rgb(0,128,255)","rgb(0,0,255)","rgb(128,0,255)","rgb(255,0,255)","rgb(245,0,0)","rgb(245,123,0)","rgb(245,245,0)","rgb(0,245,0)","rgb(0,245,123)","rgb(0,245,245)","rgb(0,123,245)","rgb(0,0,245)","rgb(123,0,245)","rgb(245,0,245)","rgb(214,0,0)","rgb(214,108,0)","rgb(214,214,0)","rgb(0,214,0)","rgb(0,214,108)","rgb(0,214,214)","rgb(0,108,214)","rgb(0,0,214)","rgb(108,0,214)","rgb(214,0,214)","rgb(163,0,0)","rgb(163,82,0)","rgb(163,163,0)","rgb(0,163,0)","rgb(0,163,82)","rgb(0,163,163)","rgb(0,82,163)","rgb(0,0,163)","rgb(82,0,163)","rgb(163,0,163)","rgb(92,0,0)","rgb(92,46,0)","rgb(92,92,0)","rgb(0,92,0)","rgb(0,92,46)","rgb(0,92,92)","rgb(0,46,92)","rgb(0,0,92)","rgb(46,0,92)","rgb(92,0,92)","rgb(255,255,255)","rgb(205,205,205)","rgb(178,178,178)","rgb(153,153,153)","rgb(127,127,127)","rgb(102,102,102)","rgb(76,76,76)","rgb(51,51,51)","rgb(25,25,25)","rgb(0,0,0)"],tv="M5 5 h10 v10 h-10 v-10 z",x2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAH0lEQVQoU2NkYGAwZkAFZ5G5jPRRgOYEVDeB3EBjBQBOZwTVugIGyAAAAABJRU5ErkJggg==";xe({name:"QColor",props:{...ct,...ei,modelValue:String,defaultValue:String,defaultView:{type:String,default:"spectrum",validator:e=>["spectrum","tune","palette"].includes(e)},formatModel:{type:String,default:"auto",validator:e=>["auto","hex","rgb","hexa","rgba"].includes(e)},palette:Array,noHeader:Boolean,noHeaderTabs:Boolean,noFooter:Boolean,square:Boolean,flat:Boolean,bordered:Boolean,disable:Boolean,readonly:Boolean},emits:["update:modelValue","change"],setup(e,{emit:t}){const{proxy:n}=Be(),{$q:i}=n,r=dt(e,i),{getCache:o}=vl(),a=ee(null),s=ee(null),l=w(()=>e.formatModel==="auto"?null:e.formatModel.indexOf("hex")!==-1),u=w(()=>e.formatModel==="auto"?null:e.formatModel.indexOf("a")!==-1),c=ee(e.formatModel==="auto"?e.modelValue===void 0||e.modelValue===null||e.modelValue===""||e.modelValue.startsWith("#")?"hex":"rgb":e.formatModel.startsWith("hex")?"hex":"rgb"),d=ee(e.defaultView),f=ee(A(e.modelValue||e.defaultValue)),h=w(()=>e.disable!==!0&&e.readonly!==!0),m=w(()=>e.modelValue===void 0||e.modelValue===null||e.modelValue===""||e.modelValue.startsWith("#")),y=w(()=>l.value!==null?l.value:m.value),b=w(()=>({type:"hidden",name:e.name,value:f.value[y.value===!0?"hex":"rgb"]})),g=Ir(b),p=w(()=>u.value!==null?u.value:f.value.a!==void 0),_=w(()=>({backgroundColor:f.value.rgb||"#000"})),x=w(()=>`q-color-picker__header-content q-color-picker__header-content--${(f.value.a!==void 0&&f.value.a<65?!0:y2(f.value)>.4)?"light":"dark"}`),S=w(()=>({background:`hsl(${f.value.h},100%,50%)`})),M=w(()=>({top:`${100-f.value.v}%`,[i.lang.rtl===!0?"right":"left"]:`${f.value.s}%`})),T=w(()=>e.palette!==void 0&&e.palette.length!==0?e.palette:b2),R=w(()=>"q-color-picker"+(e.bordered===!0?" q-color-picker--bordered":"")+(e.square===!0?" q-color-picker--square no-border-radius":"")+(e.flat===!0?" q-color-picker--flat no-shadow":"")+(e.disable===!0?" disabled":"")+(r.value===!0?" q-color-picker--dark q-dark":"")),L=w(()=>e.disable===!0?{"aria-disabled":"true"}:{}),I=w(()=>[[$n,Y,void 0,{prevent:!0,stop:!0,mouse:!0}]]);Te(()=>e.modelValue,j=>{const re=A(j||e.defaultValue);re.hex!==f.value.hex&&(f.value=re)}),Te(()=>e.defaultValue,j=>{if(!e.modelValue&&j){const re=A(j);re.hex!==f.value.hex&&(f.value=re)}});function k(j,re){f.value.hex=Zp(j),f.value.rgb=Jp(j),f.value.r=j.r,f.value.g=j.g,f.value.b=j.b,f.value.a=j.a;const ue=f.value[y.value===!0?"hex":"rgb"];t("update:modelValue",ue),re===!0&&t("change",ue)}function A(j){const re=u.value!==void 0?u.value:e.formatModel==="auto"?null:e.formatModel.indexOf("a")!==-1;if(typeof j!="string"||j.length===0||Tu.anyColor(j.replace(/ /g,""))!==!0)return{h:0,s:0,v:0,r:0,g:0,b:0,a:re===!0?100:void 0,hex:void 0,rgb:void 0};const ue=zb(j);return re===!0&&ue.a===void 0&&(ue.a=100),ue.hex=Zp(ue),ue.rgb=Jp(ue),Object.assign(ue,kd(ue))}function C(j,re,ue){const we=a.value;if(we===null)return;const _e=we.clientWidth,B=we.clientHeight,z=we.getBoundingClientRect();let ve=Math.min(_e,Math.max(0,j-z.left));i.lang.rtl===!0&&(ve=_e-ve);const he=Math.min(B,Math.max(0,re-z.top)),H=Math.round(100*ve/_e),se=Math.round(100*Math.max(0,Math.min(1,-(he/B)+1))),K=ev({h:f.value.h,s:H,v:se,a:p.value===!0?f.value.a:void 0});f.value.s=H,f.value.v=se,k(K,ue)}function E(j,re){const ue=Math.round(j),we=ev({h:ue,s:f.value.s,v:f.value.v,a:p.value===!0?f.value.a:void 0});f.value.h=ue,k(we,re)}function D(j){E(j,!0)}function q(j,re,ue,we,_e){if(we!==void 0&&Bt(we),!/^[0-9]+$/.test(j)){_e===!0&&n.$forceUpdate();return}const B=Math.floor(Number(j));if(B<0||B>ue){_e===!0&&n.$forceUpdate();return}const z={r:re==="r"?B:f.value.r,g:re==="g"?B:f.value.g,b:re==="b"?B:f.value.b,a:p.value===!0?re==="a"?B:f.value.a:void 0};if(re!=="a"){const ve=kd(z);f.value.h=ve.h,f.value.s=ve.s,f.value.v=ve.v}if(k(z,_e),we!==void 0&&_e!==!0&&we.target.selectionEnd!==void 0){const ve=we.target.selectionEnd;ut(()=>{we.target.setSelectionRange(ve,ve)})}}function O(j,re){let ue;const we=j.target.value;if(Bt(j),c.value==="hex"){if(we.length!==(p.value===!0?9:7)||!/^#[0-9A-Fa-f]+$/.test(we))return!0;ue=Nb(we)}else{let B;if(we.endsWith(")"))if(p.value!==!0&&we.startsWith("rgb(")){if(B=we.substring(4,we.length-1).split(",").map(z=>parseInt(z,10)),B.length!==3||!/^rgb\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3}\)$/.test(we))return!0}else if(p.value===!0&&we.startsWith("rgba(")){if(B=we.substring(5,we.length-1).split(","),B.length!==4||!/^rgba\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3},(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/.test(we))return!0;for(let ve=0;ve<3;ve++){const he=parseInt(B[ve],10);if(he<0||he>255)return!0;B[ve]=he}const z=parseFloat(B[3]);if(z<0||z>1)return!0;B[3]=z}else return!0;else return!0;if(B[0]<0||B[0]>255||B[1]<0||B[1]>255||B[2]<0||B[2]>255||p.value===!0&&(B[3]<0||B[3]>1))return!0;ue={r:B[0],g:B[1],b:B[2],a:p.value===!0?B[3]*100:void 0}}const _e=kd(ue);if(f.value.h=_e.h,f.value.s=_e.s,f.value.v=_e.v,k(ue,re),re!==!0){const B=j.target.selectionEnd;ut(()=>{j.target.setSelectionRange(B,B)})}}function G(j){const re=A(j),ue={r:re.r,g:re.g,b:re.b,a:re.a};ue.a===void 0&&(ue.a=f.value.a),f.value.h=re.h,f.value.s=re.s,f.value.v=re.v,k(ue,!0)}function Y(j){j.isFinal?C(j.position.left,j.position.top,!0):le(j)}const le=nb(j=>{C(j.position.left,j.position.top)},20);function W(j){C(j.pageX-window.pageXOffset,j.pageY-window.pageYOffset,!0)}function P(j){C(j.pageX-window.pageXOffset,j.pageY-window.pageYOffset)}function Z(j){s.value!==null&&(s.value.$el.style.opacity=j?1:0)}function ne(j){c.value=j}function J(){const j=[];return e.noHeaderTabs!==!0&&j.push(v(Yp,{class:"q-color-picker__header-tabs",modelValue:c.value,dense:!0,align:"justify","onUpdate:modelValue":ne},()=>[v(ns,{label:"HEX"+(p.value===!0?"A":""),name:"hex",ripple:!1}),v(ns,{label:"RGB"+(p.value===!0?"A":""),name:"rgb",ripple:!1})])),j.push(v("div",{class:"q-color-picker__header-banner row flex-center no-wrap"},[v("input",{class:"fit",value:f.value[c.value],...h.value!==!0?{readonly:!0}:{},...o("topIn",{onInput:re=>{Z(O(re)===!0)},onChange:Bt,onBlur:re=>{O(re,!0)===!0&&n.$forceUpdate(),Z(!1)}})}),v(ft,{ref:s,class:"q-color-picker__error-icon absolute no-pointer-events",name:i.iconSet.type.negative})])),v("div",{class:"q-color-picker__header relative-position overflow-hidden"},[v("div",{class:"q-color-picker__header-bg absolute-full"}),v("div",{class:x.value,style:_.value},j)])}function U(){return v(v2,{modelValue:d.value,animated:!0},()=>[v(Rd,{class:"q-color-picker__spectrum-tab overflow-hidden",name:"spectrum"},X),v(Rd,{class:"q-pa-md q-color-picker__tune-tab",name:"tune"},be),v(Rd,{class:"q-color-picker__palette-tab",name:"palette"},ke)])}function $(j){d.value=j}function fe(){return v("div",{class:"q-color-picker__footer relative-position overflow-hidden"},[v(Yp,{class:"absolute-full",modelValue:d.value,dense:!0,align:"justify","onUpdate:modelValue":$},()=>[v(ns,{icon:i.iconSet.colorPicker.spectrum,name:"spectrum",ripple:!1}),v(ns,{icon:i.iconSet.colorPicker.tune,name:"tune",ripple:!1}),v(ns,{icon:i.iconSet.colorPicker.palette,name:"palette",ripple:!1})])])}function X(){const j={ref:a,class:"q-color-picker__spectrum non-selectable relative-position cursor-pointer"+(h.value!==!0?" readonly":""),style:S.value,...h.value===!0?{onClick:W,onMousedown:P}:{}},re=[v("div",{style:{paddingBottom:"100%"}}),v("div",{class:"q-color-picker__spectrum-white absolute-full"}),v("div",{class:"q-color-picker__spectrum-black absolute-full"}),v("div",{class:"absolute",style:M.value},[f.value.hex!==void 0?v("div",{class:"q-color-picker__spectrum-circle"}):null])],ue=[v(Ko,{class:"q-color-picker__hue non-selectable",modelValue:f.value.h,min:0,max:360,trackSize:"8px",innerTrackColor:"transparent",selectionColor:"transparent",readonly:h.value!==!0,thumbPath:tv,"onUpdate:modelValue":E,onChange:D})];return p.value===!0&&ue.push(v(Ko,{class:"q-color-picker__alpha non-selectable",modelValue:f.value.a,min:0,max:100,trackSize:"8px",trackColor:"white",innerTrackColor:"transparent",selectionColor:"transparent",trackImg:x2,readonly:h.value!==!0,hideSelection:!0,thumbPath:tv,...o("alphaSlide",{"onUpdate:modelValue":we=>q(we,"a",100),onChange:we=>q(we,"a",100,void 0,!0)})})),[Jn("div",j,re,"spec",h.value,()=>I.value),v("div",{class:"q-color-picker__sliders"},ue)]}function be(){return[v("div",{class:"row items-center no-wrap"},[v("div","R"),v(Ko,{modelValue:f.value.r,min:0,max:255,color:"red",dark:r.value,readonly:h.value!==!0,...o("rSlide",{"onUpdate:modelValue":j=>q(j,"r",255),onChange:j=>q(j,"r",255,void 0,!0)})}),v("input",{value:f.value.r,maxlength:3,readonly:h.value!==!0,onChange:Bt,...o("rIn",{onInput:j=>q(j.target.value,"r",255,j),onBlur:j=>q(j.target.value,"r",255,j,!0)})})]),v("div",{class:"row items-center no-wrap"},[v("div","G"),v(Ko,{modelValue:f.value.g,min:0,max:255,color:"green",dark:r.value,readonly:h.value!==!0,...o("gSlide",{"onUpdate:modelValue":j=>q(j,"g",255),onChange:j=>q(j,"g",255,void 0,!0)})}),v("input",{value:f.value.g,maxlength:3,readonly:h.value!==!0,onChange:Bt,...o("gIn",{onInput:j=>q(j.target.value,"g",255,j),onBlur:j=>q(j.target.value,"g",255,j,!0)})})]),v("div",{class:"row items-center no-wrap"},[v("div","B"),v(Ko,{modelValue:f.value.b,min:0,max:255,color:"blue",readonly:h.value!==!0,dark:r.value,...o("bSlide",{"onUpdate:modelValue":j=>q(j,"b",255),onChange:j=>q(j,"b",255,void 0,!0)})}),v("input",{value:f.value.b,maxlength:3,readonly:h.value!==!0,onChange:Bt,...o("bIn",{onInput:j=>q(j.target.value,"b",255,j),onBlur:j=>q(j.target.value,"b",255,j,!0)})})]),p.value===!0?v("div",{class:"row items-center no-wrap"},[v("div","A"),v(Ko,{modelValue:f.value.a,color:"grey",readonly:h.value!==!0,dark:r.value,...o("aSlide",{"onUpdate:modelValue":j=>q(j,"a",100),onChange:j=>q(j,"a",100,void 0,!0)})}),v("input",{value:f.value.a,maxlength:3,readonly:h.value!==!0,onChange:Bt,...o("aIn",{onInput:j=>q(j.target.value,"a",100,j),onBlur:j=>q(j.target.value,"a",100,j,!0)})})]):null]}function ke(){const j=re=>v("div",{class:"q-color-picker__cube col-auto",style:{backgroundColor:re},...h.value===!0?o("palette#"+re,{onClick:()=>{G(re)}}):{}});return[v("div",{class:"row items-center q-color-picker__palette-rows"+(h.value===!0?" q-color-picker__palette-rows--editable":"")},T.value.map(j))]}return()=>{const j=[U()];return e.name!==void 0&&e.disable!==!0&&g(j,"push"),e.noHeader!==!0&&j.unshift(J()),e.noFooter!==!0&&j.push(fe()),v("div",{class:R.value,...L.value},j)}}});var vr=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function _2(e,t,n){return Object.prototype.toString.call(e)==="[object Date]"&&(n=e.getDate(),t=e.getMonth()+1,e=e.getFullYear()),T2(lm(e,t,n))}function nv(e,t,n){return Hb(M2(e,t,n))}function w2(e){return S2(e)===0}function Cu(e,t){return t<=6?31:t<=11||w2(e)?30:29}function S2(e){const t=vr.length;let n=vr[0],i,r,o,a,s;if(e<n||e>=vr[t-1])throw new Error("Invalid Jalaali year "+e);for(s=1;s<t&&(i=vr[s],r=i-n,!(e<i));s+=1)n=i;return a=e-n,r-a<6&&(a=a-r+kt(r+4,33)*33),o=Dn(Dn(a+1,33)-1,4),o===-1&&(o=4),o}function qb(e,t){const n=vr.length,i=e+621;let r=-14,o=vr[0],a,s,l,u,c;if(e<o||e>=vr[n-1])throw new Error("Invalid Jalaali year "+e);for(c=1;c<n&&(a=vr[c],s=a-o,!(e<a));c+=1)r=r+kt(s,33)*8+kt(Dn(s,33),4),o=a;u=e-o,r=r+kt(u,33)*8+kt(Dn(u,33)+3,4),Dn(s,33)===4&&s-u===4&&(r+=1);const d=kt(i,4)-kt((kt(i,100)+1)*3,4)-150,f=20+r-d;return t||(s-u<6&&(u=u-s+kt(s+4,33)*33),l=Dn(Dn(u+1,33)-1,4),l===-1&&(l=4)),{leap:l,gy:i,march:f}}function M2(e,t,n){const i=qb(e,!0);return lm(i.gy,3,i.march)+(t-1)*31-kt(t,7)*(t-7)+n-1}function T2(e){const t=Hb(e).gy;let n=t-621,i,r,o;const a=qb(n,!1),s=lm(t,3,a.march);if(o=e-s,o>=0){if(o<=185)return r=1+kt(o,31),i=Dn(o,31)+1,{jy:n,jm:r,jd:i};o-=186}else n-=1,o+=179,a.leap===1&&(o+=1);return r=7+kt(o,30),i=Dn(o,30)+1,{jy:n,jm:r,jd:i}}function lm(e,t,n){let i=kt((e+kt(t-8,6)+100100)*1461,4)+kt(153*Dn(t+9,12)+2,5)+n-34840408;return i=i-kt(kt(e+100100+kt(t-8,6),100)*3,4)+752,i}function Hb(e){let t=4*e+139361631;t=t+kt(kt(4*e+183187720,146097)*3,4)*4-3908;const n=kt(Dn(t,1461),4)*5+308,i=kt(Dn(n,153),5)+1,r=Dn(kt(n,153),12)+1;return{gy:kt(t,1461)-100100+kt(8-r,6),gm:r,gd:i}}function kt(e,t){return~~(e/t)}function Dn(e,t){return e-~~(e/t)*t}var C2=["gregorian","persian"],fc={mask:{type:String},locale:Object,calendar:{type:String,validator:e=>C2.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},Vb=["update:modelValue"];function qi(e){return e.year+"/"+mt(e.month)+"/"+mt(e.day)}function Ub(e,t){const n=w(()=>e.disable!==!0&&e.readonly!==!0),i=w(()=>n.value===!0?0:-1),r=w(()=>{const s=[];return e.color!==void 0&&s.push(`bg-${e.color}`),e.textColor!==void 0&&s.push(`text-${e.textColor}`),s.join(" ")});function o(){return e.locale!==void 0?{...t.lang.date,...e.locale}:t.lang.date}function a(s){const l=new Date,u=s===!0?null:0;if(e.calendar==="persian"){const c=_2(l);return{year:c.jy,month:c.jm,day:c.jd}}return{year:l.getFullYear(),month:l.getMonth()+1,day:l.getDate(),hour:u,minute:u,second:u,millisecond:u}}return{editable:n,tabindex:i,headerClass:r,getLocale:o,getCurrentDate:a}}var Gb=864e5,E2=36e5,Vf=6e4,Wb="YYYY-MM-DDTHH:mm:ss.SSSZ",A2=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,L2=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,Pd={};function R2(e,t){const n="("+t.days.join("|")+")",i=e+n;if(Pd[i]!==void 0)return Pd[i];const r="("+t.daysShort.join("|")+")",o="("+t.months.join("|")+")",a="("+t.monthsShort.join("|")+")",s={};let l=0;const u=e.replace(L2,d=>{switch(l++,d){case"YY":return s.YY=l,"(-?\\d{1,2})";case"YYYY":return s.YYYY=l,"(-?\\d{1,4})";case"M":return s.M=l,"(\\d{1,2})";case"MM":return s.M=l,"(\\d{2})";case"MMM":return s.MMM=l,a;case"MMMM":return s.MMMM=l,o;case"D":return s.D=l,"(\\d{1,2})";case"Do":return s.D=l++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return s.D=l,"(\\d{2})";case"H":return s.H=l,"(\\d{1,2})";case"HH":return s.H=l,"(\\d{2})";case"h":return s.h=l,"(\\d{1,2})";case"hh":return s.h=l,"(\\d{2})";case"m":return s.m=l,"(\\d{1,2})";case"mm":return s.m=l,"(\\d{2})";case"s":return s.s=l,"(\\d{1,2})";case"ss":return s.s=l,"(\\d{2})";case"S":return s.S=l,"(\\d{1})";case"SS":return s.S=l,"(\\d{2})";case"SSS":return s.S=l,"(\\d{3})";case"A":return s.A=l,"(AM|PM)";case"a":return s.a=l,"(am|pm)";case"aa":return s.aa=l,"(a\\.m\\.|p\\.m\\.)";case"ddd":return r;case"dddd":return n;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return s.Z=l,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return s.ZZ=l,"(Z|[+-]\\d{2}\\d{2})";case"X":return s.X=l,"(-?\\d+)";case"x":return s.x=l,"(-?\\d{4,})";default:return l--,d[0]==="["&&(d=d.substring(1,d.length-1)),d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),c={map:s,regex:new RegExp("^"+u)};return Pd[i]=c,c}function $b(e,t){return e!==void 0?e:t!==void 0?t.date:Pf.date}function iv(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),r=Math.floor(i/60),o=i%60;return n+mt(r)+t+mt(o)}function us(e,t,n,i,r){const o={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(r!==void 0&&Object.assign(o,r),e==null||e===""||typeof e!="string")return o;t===void 0&&(t=Wb);const a=$b(n,zy.props),s=a.months,l=a.monthsShort,{regex:u,map:c}=R2(t,a),d=e.match(u);if(d===null)return o;let f="";if(c.X!==void 0||c.x!==void 0){const h=parseInt(d[c.X!==void 0?c.X:c.x],10);if(isNaN(h)===!0||h<0)return o;const m=new Date(h*(c.X!==void 0?1e3:1));o.year=m.getFullYear(),o.month=m.getMonth()+1,o.day=m.getDate(),o.hour=m.getHours(),o.minute=m.getMinutes(),o.second=m.getSeconds(),o.millisecond=m.getMilliseconds()}else{if(c.YYYY!==void 0)o.year=parseInt(d[c.YYYY],10);else if(c.YY!==void 0){const h=parseInt(d[c.YY],10);o.year=h<0?h:2e3+h}if(c.M!==void 0){if(o.month=parseInt(d[c.M],10),o.month<1||o.month>12)return o}else c.MMM!==void 0?o.month=l.indexOf(d[c.MMM])+1:c.MMMM!==void 0&&(o.month=s.indexOf(d[c.MMMM])+1);if(c.D!==void 0){if(o.day=parseInt(d[c.D],10),o.year===null||o.month===null||o.day<1)return o;const h=i!=="persian"?new Date(o.year,o.month,0).getDate():Cu(o.year,o.month);if(o.day>h)return o}c.H!==void 0?o.hour=parseInt(d[c.H],10)%24:c.h!==void 0&&(o.hour=parseInt(d[c.h],10)%12,(c.A&&d[c.A]==="PM"||c.a&&d[c.a]==="pm"||c.aa&&d[c.aa]==="p.m.")&&(o.hour+=12),o.hour=o.hour%24),c.m!==void 0&&(o.minute=parseInt(d[c.m],10)%60),c.s!==void 0&&(o.second=parseInt(d[c.s],10)%60),c.S!==void 0&&(o.millisecond=parseInt(d[c.S],10)*10**(3-d[c.S].length)),(c.Z!==void 0||c.ZZ!==void 0)&&(f=c.Z!==void 0?d[c.Z].replace(":",""):d[c.ZZ],o.timezoneOffset=(f[0]==="+"?-1:1)*(60*f.slice(1,3)+1*f.slice(3,5)))}return o.dateHash=mt(o.year,6)+"/"+mt(o.month)+"/"+mt(o.day),o.timeHash=mt(o.hour)+":"+mt(o.minute)+":"+mt(o.second)+f,o}function rv(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);const i=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-i);const r=(t-n)/(Gb*7);return 1+Math.floor(r)}function Hi(e,t,n){const i=new Date(e),r=`set${n===!0?"UTC":""}`;switch(t){case"year":case"years":i[`${r}Month`](0);case"month":case"months":i[`${r}Date`](1);case"day":case"days":case"date":i[`${r}Hours`](0);case"hour":case"hours":i[`${r}Minutes`](0);case"minute":case"minutes":i[`${r}Seconds`](0);case"second":case"seconds":i[`${r}Milliseconds`](0)}return i}function du(e,t,n){return(e.getTime()-e.getTimezoneOffset()*Vf-(t.getTime()-t.getTimezoneOffset()*Vf))/n}function jb(e,t,n="days"){const i=new Date(e),r=new Date(t);switch(n){case"years":case"year":return i.getFullYear()-r.getFullYear();case"months":case"month":return(i.getFullYear()-r.getFullYear())*12+i.getMonth()-r.getMonth();case"days":case"day":case"date":return du(Hi(i,"day"),Hi(r,"day"),Gb);case"hours":case"hour":return du(Hi(i,"hour"),Hi(r,"hour"),E2);case"minutes":case"minute":return du(Hi(i,"minute"),Hi(r,"minute"),Vf);case"seconds":case"second":return du(Hi(i,"second"),Hi(r,"second"),1e3)}}function ov(e){return jb(e,Hi(e,"year"),"days")+1}function av(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}var sv={YY(e,t,n){const i=this.YYYY(e,t,n)%100;return i>=0?mt(i):"-"+mt(Math.abs(i))},YYYY(e,t,n){return n!=null?n:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return mt(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return av(this.Q(e))},D(e){return e.getDate()},Do(e){return av(e.getDate())},DD(e){return mt(e.getDate())},DDD(e){return ov(e)},DDDD(e){return mt(ov(e),3)},d(e){return e.getDay()},dd(e,t){return this.dddd(e,t).slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return rv(e)},ww(e){return mt(rv(e))},H(e){return e.getHours()},HH(e){return mt(e.getHours())},h(e){const t=e.getHours();return t===0?12:t>12?t%12:t},hh(e){return mt(this.h(e))},m(e){return e.getMinutes()},mm(e){return mt(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return mt(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return mt(Math.floor(e.getMilliseconds()/10))},SSS(e){return mt(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,t,n,i){const r=i==null?e.getTimezoneOffset():i;return iv(r,":")},ZZ(e,t,n,i){const r=i==null?e.getTimezoneOffset():i;return iv(r)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Yb(e,t,n,i,r){if(e!==0&&!e||e===1/0||e===-1/0)return;const o=new Date(e);if(isNaN(o))return;t===void 0&&(t=Wb);const a=$b(n,zy.props);return t.replace(A2,(s,l)=>s in sv?sv[s](o,a,i,r):l===void 0?s:l.split("\\]").join("]"))}var Ur=20,k2=["Calendar","Years","Months"],lv=e=>k2.includes(e),Bd=e=>/^-?[\d]+\/[0-1]\d$/.test(e),Zo=" \u2014 ";function dr(e){return e.year+"/"+mt(e.month)}xe({name:"QDate",props:{...fc,...ei,...ct,modelValue:{required:!0,validator:e=>typeof e=="string"||Array.isArray(e)===!0||Object(e)===e||e===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...fc.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Bd},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Bd},navigationMaxYearMonth:{type:String,validator:Bd},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:lv}},emits:[...Vb,"rangeStart","rangeEnd","navigation"],setup(e,{slots:t,emit:n}){const{proxy:i}=Be(),{$q:r}=i,o=dt(e,r),{getCache:a}=vl(),{tabindex:s,headerClass:l,getLocale:u,getCurrentDate:c}=Ub(e,r);let d;const f=pl(e),h=Ir(f),m=ee(null),y=ee(Ne()),b=ee(u()),g=w(()=>Ne()),p=w(()=>u()),_=w(()=>c()),x=ee(ze(y.value,b.value)),S=ee(e.defaultView),M=w(()=>r.lang.rtl===!0?"right":"left"),T=ee(M.value),R=ee(M.value),L=x.value.year,I=ee(L-L%Ur-(L<0?Ur:0)),k=ee(null),A=w(()=>{const F=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${F} q-date--${F}-${e.minimal===!0?"minimal":"standard"}`+(o.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),C=w(()=>e.color||"primary"),E=w(()=>e.textColor||"white"),D=w(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),q=w(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),O=w(()=>q.value.filter(F=>typeof F=="string").map(F=>Pe(F,y.value,b.value)).filter(F=>F.dateHash!==null&&F.day!==null&&F.month!==null&&F.year!==null)),G=w(()=>{const F=Q=>Pe(Q,y.value,b.value);return q.value.filter(Q=>wn(Q)===!0&&Q.from!==void 0&&Q.to!==void 0).map(Q=>({from:F(Q.from),to:F(Q.to)})).filter(Q=>Q.from.dateHash!==null&&Q.to.dateHash!==null&&Q.from.dateHash<Q.to.dateHash)}),Y=w(()=>e.calendar!=="persian"?F=>new Date(F.year,F.month-1,F.day):F=>{const Q=nv(F.year,F.month,F.day);return new Date(Q.gy,Q.gm-1,Q.gd)}),le=w(()=>e.calendar==="persian"?qi:(F,Q,ie)=>Yb(new Date(F.year,F.month-1,F.day,F.hour,F.minute,F.second,F.millisecond),Q===void 0?y.value:Q,ie===void 0?b.value:ie,F.year,F.timezoneOffset)),W=w(()=>O.value.length+G.value.reduce((F,Q)=>F+1+jb(Y.value(Q.to),Y.value(Q.from)),0)),P=w(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(k.value!==null){const ie=k.value.init,Ce=Y.value(ie);return b.value.daysShort[Ce.getDay()]+", "+b.value.monthsShort[ie.month-1]+" "+ie.day+Zo+"?"}if(W.value===0)return Zo;if(W.value>1)return`${W.value} ${b.value.pluralDay}`;const F=O.value[0],Q=Y.value(F);return isNaN(Q.valueOf())===!0?Zo:b.value.headerTitle!==void 0?b.value.headerTitle(Q,F):b.value.daysShort[Q.getDay()]+", "+b.value.monthsShort[F.month-1]+" "+F.day}),Z=w(()=>O.value.concat(G.value.map(Q=>Q.from)).sort((Q,ie)=>Q.year-ie.year||Q.month-ie.month)[0]),ne=w(()=>O.value.concat(G.value.map(Q=>Q.to)).sort((Q,ie)=>ie.year-Q.year||ie.month-Q.month)[0]),J=w(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(W.value===0)return Zo;if(W.value>1){const F=Z.value,Q=ne.value,ie=b.value.monthsShort;return ie[F.month-1]+(F.year!==Q.year?" "+F.year+Zo+ie[Q.month-1]+" ":F.month!==Q.month?Zo+ie[Q.month-1]:"")+" "+Q.year}return O.value[0].year}),U=w(()=>{const F=[r.iconSet.datetime.arrowLeft,r.iconSet.datetime.arrowRight];return r.lang.rtl===!0?F.reverse():F}),$=w(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):b.value.firstDayOfWeek),fe=w(()=>{const F=b.value.daysShort,Q=$.value;return Q>0?F.slice(Q,7).concat(F.slice(0,Q)):F}),X=w(()=>{const F=x.value;return e.calendar!=="persian"?new Date(F.year,F.month,0).getDate():Cu(F.year,F.month)}),be=w(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),ke=w(()=>{if(e.navigationMinYearMonth===void 0)return null;const F=e.navigationMinYearMonth.split("/");return{year:parseInt(F[0],10),month:parseInt(F[1],10)}}),j=w(()=>{if(e.navigationMaxYearMonth===void 0)return null;const F=e.navigationMaxYearMonth.split("/");return{year:parseInt(F[0],10),month:parseInt(F[1],10)}}),re=w(()=>{const F={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return ke.value!==null&&ke.value.year>=x.value.year&&(F.year.prev=!1,ke.value.year===x.value.year&&ke.value.month>=x.value.month&&(F.month.prev=!1)),j.value!==null&&j.value.year<=x.value.year&&(F.year.next=!1,j.value.year===x.value.year&&j.value.month<=x.value.month&&(F.month.next=!1)),F}),ue=w(()=>{const F={};return O.value.forEach(Q=>{const ie=dr(Q);F[ie]===void 0&&(F[ie]=[]),F[ie].push(Q.day)}),F}),we=w(()=>{const F={};return G.value.forEach(Q=>{const ie=dr(Q.from),Ce=dr(Q.to);if(F[ie]===void 0&&(F[ie]=[]),F[ie].push({from:Q.from.day,to:ie===Ce?Q.to.day:void 0,range:Q}),ie<Ce){let Me;const{year:Xe,month:Fe}=Q.from,Ie=Fe<12?{year:Xe,month:Fe+1}:{year:Xe+1,month:1};for(;(Me=dr(Ie))<=Ce;)F[Me]===void 0&&(F[Me]=[]),F[Me].push({from:void 0,to:Me===Ce?Q.to.day:void 0,range:Q}),Ie.month++,Ie.month>12&&(Ie.year++,Ie.month=1)}}),F}),_e=w(()=>{if(k.value===null)return;const{init:F,initHash:Q,final:ie,finalHash:Ce}=k.value,[Me,Xe]=Q<=Ce?[F,ie]:[ie,F],Fe=dr(Me),Ie=dr(Xe);if(Fe!==B.value&&Ie!==B.value)return;const je={};return Fe===B.value?(je.from=Me.day,je.includeFrom=!0):je.from=1,Ie===B.value?(je.to=Xe.day,je.includeTo=!0):je.to=X.value,je}),B=w(()=>dr(x.value)),z=w(()=>{const F={};if(e.options===void 0){for(let ie=1;ie<=X.value;ie++)F[ie]=!0;return F}const Q=typeof e.options=="function"?e.options:ie=>e.options.includes(ie);for(let ie=1;ie<=X.value;ie++){const Ce=B.value+"/"+mt(ie);F[ie]=Q(Ce)}return F}),ve=w(()=>{const F={};if(e.events===void 0)for(let Q=1;Q<=X.value;Q++)F[Q]=!1;else{const Q=typeof e.events=="function"?e.events:ie=>e.events.includes(ie);for(let ie=1;ie<=X.value;ie++){const Ce=B.value+"/"+mt(ie);F[ie]=Q(Ce)===!0&&be.value(Ce)}}return F}),he=w(()=>{let F,Q;const{year:ie,month:Ce}=x.value;if(e.calendar!=="persian")F=new Date(ie,Ce-1,1),Q=new Date(ie,Ce-1,0).getDate();else{const Me=nv(ie,Ce,1);F=new Date(Me.gy,Me.gm-1,Me.gd);let Xe=Ce-1,Fe=ie;Xe===0&&(Xe=12,Fe--),Q=Cu(Fe,Xe)}return{days:F.getDay()-$.value-1,endDay:Q}}),H=w(()=>{const F=[],{days:Q,endDay:ie}=he.value,Ce=Q<0?Q+7:Q;if(Ce<6)for(let Fe=ie-Ce;Fe<=ie;Fe++)F.push({i:Fe,fill:!0});const Me=F.length;for(let Fe=1;Fe<=X.value;Fe++){const Ie={i:Fe,event:ve.value[Fe],classes:[]};z.value[Fe]===!0&&(Ie.in=!0,Ie.flat=!0),F.push(Ie)}if(ue.value[B.value]!==void 0&&ue.value[B.value].forEach(Fe=>{const Ie=Me+Fe-1;Object.assign(F[Ie],{selected:!0,unelevated:!0,flat:!1,color:C.value,textColor:E.value})}),we.value[B.value]!==void 0&&we.value[B.value].forEach(Fe=>{if(Fe.from!==void 0){const Ie=Me+Fe.from-1,je=Me+(Fe.to||X.value)-1;for(let Ht=Ie;Ht<=je;Ht++)Object.assign(F[Ht],{range:Fe.range,unelevated:!0,color:C.value,textColor:E.value});Object.assign(F[Ie],{rangeFrom:!0,flat:!1}),Fe.to!==void 0&&Object.assign(F[je],{rangeTo:!0,flat:!1})}else if(Fe.to!==void 0){const Ie=Me+Fe.to-1;for(let je=Me;je<=Ie;je++)Object.assign(F[je],{range:Fe.range,unelevated:!0,color:C.value,textColor:E.value});Object.assign(F[Ie],{flat:!1,rangeTo:!0})}else{const Ie=Me+X.value-1;for(let je=Me;je<=Ie;je++)Object.assign(F[je],{range:Fe.range,unelevated:!0,color:C.value,textColor:E.value})}}),_e.value!==void 0){const Fe=Me+_e.value.from-1,Ie=Me+_e.value.to-1;for(let je=Fe;je<=Ie;je++)F[je].color=C.value,F[je].editRange=!0;_e.value.includeFrom===!0&&(F[Fe].editRangeFrom=!0),_e.value.includeTo===!0&&(F[Ie].editRangeTo=!0)}x.value.year===_.value.year&&x.value.month===_.value.month&&(F[Me+_.value.day-1].today=!0);const Xe=F.length%7;if(Xe>0){const Fe=7-Xe;for(let Ie=1;Ie<=Fe;Ie++)F.push({i:Ie,fill:!0})}return F.forEach(Fe=>{let Ie="q-date__calendar-item ";Fe.fill===!0?Ie+="q-date__calendar-item--fill":(Ie+=`q-date__calendar-item--${Fe.in===!0?"in":"out"}`,Fe.range!==void 0&&(Ie+=` q-date__range${Fe.rangeTo===!0?"-to":Fe.rangeFrom===!0?"-from":""}`),Fe.editRange===!0&&(Ie+=` q-date__edit-range${Fe.editRangeFrom===!0?"-from":""}${Fe.editRangeTo===!0?"-to":""}`),(Fe.range!==void 0||Fe.editRange===!0)&&(Ie+=` text-${Fe.color}`)),Fe.classes=Ie}),F}),se=w(()=>e.disable===!0?{"aria-disabled":"true"}:{});Te(()=>e.modelValue,F=>{if(d===F)d=0;else{const Q=ze(y.value,b.value);ot(Q.year,Q.month,Q)}}),Te(S,()=>{m.value!==null&&i.$el.contains(document.activeElement)===!0&&m.value.focus()}),Te(()=>x.value.year+"|"+x.value.month,()=>{n("navigation",{year:x.value.year,month:x.value.month})}),Te(g,F=>{ye(F,b.value,"mask"),y.value=F}),Te(p,F=>{ye(y.value,F,"locale"),b.value=F});function K(){const{year:F,month:Q,day:ie}=_.value,Ce={...x.value,year:F,month:Q,day:ie},Me=ue.value[dr(Ce)];(Me===void 0||Me.includes(Ce.day)===!1)&&Xt(Ce),Ee(Ce.year,Ce.month)}function me(F){lv(F)===!0&&(S.value=F)}function ge(F,Q){["month","year"].includes(F)&&(F==="month"?Se:de)(Q===!0?-1:1)}function Ee(F,Q){S.value="Calendar",ot(F,Q)}function Le(F,Q){if(e.range===!1||!F){k.value=null;return}const ie=Object.assign({...x.value},F),Ce=Q!==void 0?Object.assign({...x.value},Q):ie;k.value={init:ie,initHash:qi(ie),final:Ce,finalHash:qi(Ce)},Ee(ie.year,ie.month)}function Ne(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function Pe(F,Q,ie){return us(F,Q,ie,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function ze(F,Q){const ie=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(ie.length===0)return ce();const Ce=ie[ie.length-1],Me=Pe(Ce.from!==void 0?Ce.from:Ce,F,Q);return Me.dateHash===null?ce():Me}function ce(){let F,Q;if(e.defaultYearMonth!==void 0){const ie=e.defaultYearMonth.split("/");F=parseInt(ie[0],10),Q=parseInt(ie[1],10)}else{const ie=_.value!==void 0?_.value:c();F=ie.year,Q=ie.month}return{year:F,month:Q,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:F+"/"+mt(Q)+"/01"}}function Se(F){let Q=x.value.year,ie=Number(x.value.month)+F;ie===13?(ie=1,Q++):ie===0&&(ie=12,Q--),ot(Q,ie),D.value===!0&&bt("month")}function de(F){const Q=Number(x.value.year)+F;ot(Q,x.value.month),D.value===!0&&bt("year")}function Ae(F){ot(F,x.value.month),S.value=e.defaultView==="Years"?"Months":"Calendar",D.value===!0&&bt("year")}function $e(F){ot(x.value.year,F),S.value="Calendar",D.value===!0&&bt("month")}function et(F,Q){const ie=ue.value[Q];(ie!==void 0&&ie.includes(F.day)===!0?kn:Xt)(F)}function qe(F){return{year:F.year,month:F.month,day:F.day}}function ot(F,Q,ie){if(ke.value!==null&&F<=ke.value.year&&((Q<ke.value.month||F<ke.value.year)&&(Q=ke.value.month),F=ke.value.year),j.value!==null&&F>=j.value.year&&((Q>j.value.month||F>j.value.year)&&(Q=j.value.month),F=j.value.year),ie!==void 0){const{hour:Me,minute:Xe,second:Fe,millisecond:Ie,timezoneOffset:je,timeHash:Ht}=ie;Object.assign(x.value,{hour:Me,minute:Xe,second:Fe,millisecond:Ie,timezoneOffset:je,timeHash:Ht})}const Ce=F+"/"+mt(Q)+"/01";Ce!==x.value.dateHash&&(T.value=x.value.dateHash<Ce==(r.lang.rtl!==!0)?"left":"right",F!==x.value.year&&(R.value=T.value),ut(()=>{I.value=F-F%Ur-(F<0?Ur:0),Object.assign(x.value,{year:F,month:Q,day:1,dateHash:Ce})}))}function vt(F,Q,ie){const Ce=F!==null&&F.length===1&&e.multiple===!1?F[0]:F;d=Ce;const{reason:Me,details:Xe}=tn(Q,ie);n("update:modelValue",Ce,Me,Xe)}function bt(F){const Q=O.value[0]!==void 0&&O.value[0].dateHash!==null?{...O.value[0]}:{...x.value};ut(()=>{Q.year=x.value.year,Q.month=x.value.month;const ie=e.calendar!=="persian"?new Date(Q.year,Q.month,0).getDate():Cu(Q.year,Q.month);Q.day=Math.min(Math.max(1,Q.day),ie);const Ce=bn(Q);d=Ce;const{details:Me}=tn("",Q);n("update:modelValue",Ce,F,Me)})}function tn(F,Q){return Q.from!==void 0?{reason:`${F}-range`,details:{...qe(Q.target),from:qe(Q.from),to:qe(Q.to)}}:{reason:`${F}-day`,details:qe(Q)}}function bn(F,Q,ie){return F.from!==void 0?{from:le.value(F.from,Q,ie),to:le.value(F.to,Q,ie)}:le.value(F,Q,ie)}function Xt(F){let Q;if(e.multiple===!0)if(F.from!==void 0){const ie=qi(F.from),Ce=qi(F.to),Me=O.value.filter(Fe=>Fe.dateHash<ie||Fe.dateHash>Ce),Xe=G.value.filter(({from:Fe,to:Ie})=>Ie.dateHash<ie||Fe.dateHash>Ce);Q=Me.concat(Xe).concat(F).map(Fe=>bn(Fe))}else{const ie=q.value.slice();ie.push(bn(F)),Q=ie}else Q=bn(F);vt(Q,"add",F)}function kn(F){if(e.noUnset===!0)return;let Q=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const ie=bn(F);F.from!==void 0?Q=e.modelValue.filter(Ce=>Ce.from!==void 0?Ce.from!==ie.from&&Ce.to!==ie.to:!0):Q=e.modelValue.filter(Ce=>Ce!==ie),Q.length===0&&(Q=null)}vt(Q,"remove",F)}function ye(F,Q,ie){const Ce=O.value.concat(G.value).map(Me=>bn(Me,F,Q)).filter(Me=>Me.from!==void 0?Me.from.dateHash!==null&&Me.to.dateHash!==null:Me.dateHash!==null);n("update:modelValue",(e.multiple===!0?Ce:Ce[0])||null,ie)}function De(){if(e.minimal!==!0)return v("div",{class:"q-date__header "+l.value},[v("div",{class:"relative-position"},[v(Kt,{name:"q-transition--fade"},()=>v("div",{key:"h-yr-"+J.value,class:"q-date__header-subtitle q-date__header-link "+(S.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:s.value,...a("vY",{onClick(){S.value="Years"},onKeyup(F){F.keyCode===13&&(S.value="Years")}})},[J.value]))]),v("div",{class:"q-date__header-title relative-position flex no-wrap"},[v("div",{class:"relative-position col"},[v(Kt,{name:"q-transition--fade"},()=>v("div",{key:"h-sub"+P.value,class:"q-date__header-title-label q-date__header-link "+(S.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:s.value,...a("vC",{onClick(){S.value="Calendar"},onKeyup(F){F.keyCode===13&&(S.value="Calendar")}})},[P.value]))]),e.todayBtn===!0?v(pt,{class:"q-date__header-today self-start",icon:r.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:s.value,onClick:K}):null])])}function N({label:F,type:Q,key:ie,dir:Ce,goTo:Me,boundaries:Xe,cls:Fe}){return[v("div",{class:"row items-center q-date__arrow"},[v(pt,{round:!0,dense:!0,size:"sm",flat:!0,icon:U.value[0],tabindex:s.value,disable:Xe.prev===!1,...a("go-#"+Q,{onClick(){Me(-1)}})})]),v("div",{class:"relative-position overflow-hidden flex flex-center"+Fe},[v(Kt,{name:"q-transition--jump-"+Ce},()=>v("div",{key:ie},[v(pt,{flat:!0,dense:!0,noCaps:!0,label:F,tabindex:s.value,...a("view#"+Q,{onClick:()=>{S.value=Q}})})]))]),v("div",{class:"row items-center q-date__arrow"},[v(pt,{round:!0,dense:!0,size:"sm",flat:!0,icon:U.value[1],tabindex:s.value,disable:Xe.next===!1,...a("go+#"+Q,{onClick(){Me(1)}})})])]}const oe={Calendar:()=>[v("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[v("div",{class:"q-date__navigation row items-center no-wrap"},N({label:b.value.months[x.value.month-1],type:"Months",key:x.value.month,dir:T.value,goTo:Se,boundaries:re.value.month,cls:" col"}).concat(N({label:x.value.year,type:"Years",key:x.value.year,dir:R.value,goTo:de,boundaries:re.value.year,cls:""}))),v("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},fe.value.map(F=>v("div",{class:"q-date__calendar-item"},[v("div",F)]))),v("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[v(Kt,{name:"q-transition--slide-"+T.value},()=>v("div",{key:B.value,class:"q-date__calendar-days fit"},H.value.map(F=>v("div",{class:F.classes},[F.in===!0?v(pt,{class:F.today===!0?"q-date__today":"",dense:!0,flat:F.flat,unelevated:F.unelevated,color:F.color,textColor:F.textColor,label:F.i,tabindex:s.value,...a("day#"+F.i,{onClick:()=>{ae(F.i)},onMouseover:()=>{pe(F.i)}})},F.event!==!1?()=>v("div",{class:"q-date__event bg-"+F.event}):null):v("div",""+F.i)]))))])])],Months(){const F=x.value.year===_.value.year,Q=Ce=>ke.value!==null&&x.value.year===ke.value.year&&ke.value.month>Ce||j.value!==null&&x.value.year===j.value.year&&j.value.month<Ce,ie=b.value.monthsShort.map((Ce,Me)=>{const Xe=x.value.month===Me+1;return v("div",{class:"q-date__months-item flex flex-center"},[v(pt,{class:F===!0&&_.value.month===Me+1?"q-date__today":null,flat:Xe!==!0,label:Ce,unelevated:Xe,color:Xe===!0?C.value:null,textColor:Xe===!0?E.value:null,tabindex:s.value,disable:Q(Me+1),...a("month#"+Me,{onClick:()=>{$e(Me+1)}})})])});return e.yearsInMonthView===!0&&ie.unshift(v("div",{class:"row no-wrap full-width"},[N({label:x.value.year,type:"Years",key:x.value.year,dir:R.value,goTo:de,boundaries:re.value.year,cls:" col"})])),v("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},ie)},Years(){const F=I.value,Q=F+Ur,ie=[],Ce=Me=>ke.value!==null&&ke.value.year>Me||j.value!==null&&j.value.year<Me;for(let Me=F;Me<=Q;Me++){const Xe=x.value.year===Me;ie.push(v("div",{class:"q-date__years-item flex flex-center"},[v(pt,{key:"yr"+Me,class:_.value.year===Me?"q-date__today":null,flat:!Xe,label:Me,dense:!0,unelevated:Xe,color:Xe===!0?C.value:null,textColor:Xe===!0?E.value:null,tabindex:s.value,disable:Ce(Me),...a("yr#"+Me,{onClick:()=>{Ae(Me)}})})]))}return v("div",{class:"q-date__view q-date__years flex flex-center"},[v("div",{class:"col-auto"},[v(pt,{round:!0,dense:!0,flat:!0,icon:U.value[0],tabindex:s.value,disable:Ce(F),...a("y-",{onClick:()=>{I.value-=Ur}})})]),v("div",{class:"q-date__years-content col self-stretch row items-center"},ie),v("div",{class:"col-auto"},[v(pt,{round:!0,dense:!0,flat:!0,icon:U.value[1],tabindex:s.value,disable:Ce(Q),...a("y+",{onClick:()=>{I.value+=Ur}})})])])}};function ae(F){const Q={...x.value,day:F};if(e.range===!1){et(Q,B.value);return}if(k.value===null){const ie=H.value.find(Me=>Me.fill!==!0&&Me.i===F);if(e.noUnset!==!0&&ie.range!==void 0){kn({target:Q,from:ie.range.from,to:ie.range.to});return}if(ie.selected===!0){kn(Q);return}const Ce=qi(Q);k.value={init:Q,initHash:Ce,final:Q,finalHash:Ce},n("rangeStart",qe(Q))}else{const ie=k.value.initHash,Ce=qi(Q),Me=ie<=Ce?{from:k.value.init,to:Q}:{from:Q,to:k.value.init};k.value=null,Xt(ie===Ce?Q:{target:Q,...Me}),n("rangeEnd",{from:qe(Me.from),to:qe(Me.to)})}}function pe(F){if(k.value!==null){const Q={...x.value,day:F};Object.assign(k.value,{final:Q,finalHash:qi(Q)})}}return Object.assign(i,{setToday:K,setView:me,offsetCalendar:ge,setCalendarTo:Ee,setEditingRange:Le}),()=>{const F=[v("div",{class:"q-date__content col relative-position"},[v(Kt,{name:"q-transition--fade"},oe[S.value])])],Q=We(t.default);return Q!==void 0&&F.push(v("div",{class:"q-date__actions"},Q)),e.name!==void 0&&e.disable!==!0&&h(F,"push"),v("div",{class:A.value,...se.value},[De(),v("div",{ref:m,class:"q-date__main col column",tabindex:-1},F)])}}});function Xb(e,t,n){function i(){}return st(()=>{e.value===!0&&void 0}),{removeFromHistory:i,addToHistory(){}}}var is=0,Id,Fd,cs,Dd=!1,uv,cv,dv,Gr=null;function P2(e){B2(e)&&nt(e)}function B2(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=nE(e),n=e.shiftKey&&!e.deltaX,i=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),r=n||i?e.deltaY:e.deltaX;for(let o=0;o<t.length;o++){const a=t[o];if(HE(a,i))return i?r<0&&a.scrollTop===0?!0:r>0&&a.scrollTop+a.clientHeight===a.scrollHeight:r<0&&a.scrollLeft===0?!0:r>0&&a.scrollLeft+a.clientWidth===a.scrollWidth}return!0}function fv(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function fu(e){Dd!==!0&&(Dd=!0,requestAnimationFrame(()=>{Dd=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:i}=document.scrollingElement;(cs===void 0||t!==window.innerHeight)&&(cs=n-t,document.scrollingElement.scrollTop=i),i>cs&&(document.scrollingElement.scrollTop-=Math.ceil((i-cs)/8))}))}function hv(e){const t=document.body,n=window.visualViewport!==void 0;if(e==="add"){const{overflowY:i,overflowX:r}=window.getComputedStyle(t);Id=Bc(window),Fd=wr(window),uv=t.style.left,cv=t.style.top,dv=window.location.href,t.style.left=`-${Id}px`,t.style.top=`-${Fd}px`,r!=="hidden"&&(r==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),i!=="hidden"&&(i==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,rt.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",fu,xt.passiveCapture),window.visualViewport.addEventListener("scroll",fu,xt.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",fv,xt.passiveCapture))}rt.is.desktop===!0&&rt.is.mac===!0&&window[`${e}EventListener`]("wheel",P2,xt.notPassive),e==="remove"&&(rt.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",fu,xt.passiveCapture),window.visualViewport.removeEventListener("scroll",fu,xt.passiveCapture)):window.removeEventListener("scroll",fv,xt.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=uv,t.style.top=cv,window.location.href===dv&&window.scrollTo(Id,Fd),cs=void 0)}function Uf(e){let t="add";if(e===!0){if(is++,Gr!==null){clearTimeout(Gr),Gr=null;return}if(is>1)return}else{if(is===0||(is--,is>0))return;if(t="remove",rt.is.ios===!0&&rt.is.nativeMobile===!0){Gr!==null&&clearTimeout(Gr),Gr=setTimeout(()=>{hv(t),Gr=null},100);return}}hv(t)}function Qb(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,Uf(t))}}}var hu=0,I2={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},mv={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},Dc=xe({name:"QDialog",inheritAttrs:!1,props:{...qa,...ro,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...Ha,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:i}){const r=Be(),o=ee(null),a=ee(!1),s=ee(!1);let l=null,u=null,c,d;const f=w(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:h}=Qb(),{registerTimeout:m}=kr(),{registerTick:y,removeTick:b}=pa(),{transitionProps:g,transitionStyle:p}=Pc(e,()=>mv[e.position][0],()=>mv[e.position][1]),_=w(()=>p.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:x,hidePortal:S,portalIsAccessible:M,renderPortal:T}=Xh(r,o,J,"dialog"),{hide:R}=Va({showing:a,hideOnRouteChange:f,handleShow:D,handleHide:q,processOnMount:!0}),{addToHistory:L,removeFromHistory:I}=Xb(a),k=w(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${I2[e.position]}`+(s.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),A=w(()=>a.value===!0&&e.seamless!==!0),C=w(()=>e.autoClose===!0?{onClick:P}:{}),E=w(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${A.value===!0?"modal":"seamless"}`,i.class]);Te(()=>e.maximized,U=>{a.value===!0&&W(U)}),Te(A,U=>{h(U),U===!0?(gb(ne),pb(Y)):(zf(ne),rc(Y))});function D(U){L(),u=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,W(e.maximized),x(),s.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),y(O)):b(),m(()=>{if(r.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:$,bottom:fe}=document.activeElement.getBoundingClientRect(),{innerHeight:X}=window,be=window.visualViewport!==void 0?window.visualViewport.height:X;$>0&&fe>be/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-be,fe>=X?1/0:Math.ceil(document.scrollingElement.scrollTop+fe-be/2))),document.activeElement.scrollIntoView()}d=!0,o.value.click(),d=!1}x(!0),s.value=!1,n("show",U)},e.transitionDuration)}function q(U){b(),I(),le(!0),s.value=!0,S(),u!==null&&(((U&&U.type.indexOf("key")===0?u.closest('[tabindex]:not([tabindex^="-"])'):void 0)||u).focus(),u=null),m(()=>{S(!0),s.value=!1,n("hide",U)},e.transitionDuration)}function O(U){Ua(()=>{let $=o.value;if($!==null){if(U!==void 0){const fe=$.querySelector(U);if(fe!==null){fe.focus({preventScroll:!0});return}}$.contains(document.activeElement)!==!0&&($=$.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||$.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||$.querySelector("[autofocus], [data-autofocus]")||$,$.focus({preventScroll:!0}))}})}function G(U){U&&typeof U.focus=="function"?U.focus({preventScroll:!0}):O(),n("shake");const $=o.value;$!==null&&($.classList.remove("q-animate--scale"),$.classList.add("q-animate--scale"),l!==null&&clearTimeout(l),l=setTimeout(()=>{l=null,o.value!==null&&($.classList.remove("q-animate--scale"),O())},170))}function Y(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&G():(n("escapeKey"),R()))}function le(U){l!==null&&(clearTimeout(l),l=null),(U===!0||a.value===!0)&&(W(!1),e.seamless!==!0&&(h(!1),zf(ne),rc(Y))),U!==!0&&(u=null)}function W(U){U===!0?c!==!0&&(hu<1&&document.body.classList.add("q-body--dialog"),hu++,c=!0):c===!0&&(hu<2&&document.body.classList.remove("q-body--dialog"),hu--,c=!1)}function P(U){d!==!0&&(R(U),n("click",U))}function Z(U){e.persistent!==!0&&e.noBackdropDismiss!==!0?R(U):e.noShake!==!0&&G()}function ne(U){e.allowFocusOutside!==!0&&M.value===!0&&tb(o.value,U.target)!==!0&&O('[tabindex]:not([tabindex="-1"])')}Object.assign(r.proxy,{focus:O,shake:G,__updateRefocusTarget(U){u=U||null}}),st(le);function J(){return v("div",{role:"dialog","aria-modal":A.value===!0?"true":"false",...i,class:E.value},[v(Kt,{name:"q-transition--fade",appear:!0},()=>A.value===!0?v("div",{class:"q-dialog__backdrop fixed-full",style:_.value,"aria-hidden":"true",tabindex:-1,onClick:Z}):null),v(Kt,g.value,()=>a.value===!0?v("div",{ref:o,class:k.value,style:p.value,tabindex:-1,...C.value},We(t.default)):null)])}return T}}),pv=150;xe({name:"QDrawer",inheritAttrs:!1,props:{...qa,...ct,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Ha,"onLayout","miniState"],setup(e,{slots:t,emit:n,attrs:i}){const r=Be(),{proxy:{$q:o}}=r,a=dt(e,o),{preventBodyScroll:s}=Qb(),{registerTimeout:l,removeTimeout:u}=kr(),c=Ln(Ao,gt);if(c===gt)return console.error("QDrawer needs to be child of QLayout"),gt;let d,f=null,h;const m=ee(e.behavior==="mobile"||e.behavior!=="desktop"&&c.totalWidth.value<=e.breakpoint),y=w(()=>e.mini===!0&&m.value!==!0),b=w(()=>y.value===!0?e.miniWidth:e.width),g=ee(e.showIfAbove===!0&&m.value===!1?!0:e.modelValue===!0),p=w(()=>e.persistent!==!0&&(m.value===!0||le.value===!0));function _(K,me){if(T(),K!==!1&&c.animate(),re(0),m.value===!0){const ge=c.instances[q.value];ge!==void 0&&ge.belowBreakpoint===!0&&ge.hide(!1),ue(1),c.isContainer.value!==!0&&s(!0)}else ue(0),K!==!1&&we(!1);l(()=>{K!==!1&&we(!0),me!==!0&&n("show",K)},pv)}function x(K,me){R(),K!==!1&&c.animate(),ue(0),re(k.value*b.value),ve(),me!==!0?l(()=>{n("hide",K)},pv):u()}const{show:S,hide:M}=Va({showing:g,hideOnRouteChange:p,handleShow:_,handleHide:x}),{addToHistory:T,removeFromHistory:R}=Xb(g),L={belowBreakpoint:m,hide:M},I=w(()=>e.side==="right"),k=w(()=>(o.lang.rtl===!0?-1:1)*(I.value===!0?1:-1)),A=ee(0),C=ee(!1),E=ee(!1),D=ee(b.value*k.value),q=w(()=>I.value===!0?"left":"right"),O=w(()=>g.value===!0&&m.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:b.value:0),G=w(()=>e.overlay===!0||e.miniToOverlay===!0||c.view.value.indexOf(I.value?"R":"L")!==-1||o.platform.is.ios===!0&&c.isContainer.value===!0),Y=w(()=>e.overlay===!1&&g.value===!0&&m.value===!1),le=w(()=>e.overlay===!0&&g.value===!0&&m.value===!1),W=w(()=>"fullscreen q-drawer__backdrop"+(g.value===!1&&C.value===!1?" hidden":"")),P=w(()=>({backgroundColor:`rgba(0,0,0,${A.value*.4})`})),Z=w(()=>I.value===!0?c.rows.value.top[2]==="r":c.rows.value.top[0]==="l"),ne=w(()=>I.value===!0?c.rows.value.bottom[2]==="r":c.rows.value.bottom[0]==="l"),J=w(()=>{const K={};return c.header.space===!0&&Z.value===!1&&(G.value===!0?K.top=`${c.header.offset}px`:c.header.space===!0&&(K.top=`${c.header.size}px`)),c.footer.space===!0&&ne.value===!1&&(G.value===!0?K.bottom=`${c.footer.offset}px`:c.footer.space===!0&&(K.bottom=`${c.footer.size}px`)),K}),U=w(()=>{const K={width:`${b.value}px`,transform:`translateX(${D.value}px)`};return m.value===!0?K:Object.assign(K,J.value)}),$=w(()=>"q-drawer__content fit "+(c.isContainer.value!==!0?"scroll":"overflow-auto")),fe=w(()=>`q-drawer q-drawer--${e.side}`+(E.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(a.value===!0?" q-drawer--dark q-dark":"")+(C.value===!0?" no-transition":g.value===!0?"":" q-layout--prevent-focus")+(m.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${y.value===!0?"mini":"standard"}`+(G.value===!0||Y.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(Z.value===!0?" q-drawer--top-padding":""))),X=w(()=>{const K=o.lang.rtl===!0?e.side:q.value;return[[$n,B,void 0,{[K]:!0,mouse:!0}]]}),be=w(()=>{const K=o.lang.rtl===!0?q.value:e.side;return[[$n,z,void 0,{[K]:!0,mouse:!0}]]}),ke=w(()=>{const K=o.lang.rtl===!0?q.value:e.side;return[[$n,z,void 0,{[K]:!0,mouse:!0,mouseAllDir:!0}]]});function j(){H(m,e.behavior==="mobile"||e.behavior!=="desktop"&&c.totalWidth.value<=e.breakpoint)}Te(m,K=>{K===!0?(d=g.value,g.value===!0&&M(!1)):e.overlay===!1&&e.behavior!=="mobile"&&d!==!1&&(g.value===!0?(re(0),ue(0),ve()):S(!1))}),Te(()=>e.side,(K,me)=>{c.instances[me]===L&&(c.instances[me]=void 0,c[me].space=!1,c[me].offset=0),c.instances[K]=L,c[K].size=b.value,c[K].space=Y.value,c[K].offset=O.value}),Te(c.totalWidth,()=>{(c.isContainer.value===!0||document.qScrollPrevented!==!0)&&j()}),Te(()=>e.behavior+e.breakpoint,j),Te(c.isContainer,K=>{g.value===!0&&s(K!==!0),K===!0&&j()}),Te(c.scrollbarWidth,()=>{re(g.value===!0?0:void 0)}),Te(O,K=>{he("offset",K)}),Te(Y,K=>{n("onLayout",K),he("space",K)}),Te(I,()=>{re()}),Te(b,K=>{re(),se(e.miniToOverlay,K)}),Te(()=>e.miniToOverlay,K=>{se(K,b.value)}),Te(()=>o.lang.rtl,()=>{re()}),Te(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(_e(),c.animate())}),Te(y,K=>{n("miniState",K)});function re(K){K===void 0?ut(()=>{K=g.value===!0?0:b.value,re(k.value*K)}):(c.isContainer.value===!0&&I.value===!0&&(m.value===!0||Math.abs(K)===b.value)&&(K+=k.value*c.scrollbarWidth.value),D.value=K)}function ue(K){A.value=K}function we(K){const me=K===!0?"remove":c.isContainer.value!==!0?"add":"";me!==""&&document.body.classList[me]("q-body--drawer-toggle")}function _e(){f!==null&&clearTimeout(f),r.proxy&&r.proxy.$el&&r.proxy.$el.classList.add("q-drawer--mini-animate"),E.value=!0,f=setTimeout(()=>{f=null,E.value=!1,r&&r.proxy&&r.proxy.$el&&r.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function B(K){if(g.value!==!1)return;const me=b.value,ge=wt(K.distance.x,0,me);if(K.isFinal===!0){ge>=Math.min(75,me)===!0?S():(c.animate(),ue(0),re(k.value*me)),C.value=!1;return}re((o.lang.rtl===!0?I.value!==!0:I.value)?Math.max(me-ge,0):Math.min(0,ge-me)),ue(wt(ge/me,0,1)),K.isFirst===!0&&(C.value=!0)}function z(K){if(g.value!==!0)return;const me=b.value,ge=K.direction===e.side,Ee=(o.lang.rtl===!0?ge!==!0:ge)?wt(K.distance.x,0,me):0;if(K.isFinal===!0){Math.abs(Ee)<Math.min(75,me)===!0?(c.animate(),ue(1),re(0)):M(),C.value=!1;return}re(k.value*Ee),ue(wt(1-Ee/me,0,1)),K.isFirst===!0&&(C.value=!0)}function ve(){s(!1),we(!0)}function he(K,me){c.update(e.side,K,me)}function H(K,me){K.value!==me&&(K.value=me)}function se(K,me){he("size",K===!0?e.miniWidth:me)}return c.instances[e.side]=L,se(e.miniToOverlay,b.value),he("space",Y.value),he("offset",O.value),e.showIfAbove===!0&&e.modelValue!==!0&&g.value===!0&&e["onUpdate:modelValue"]!==void 0&&n("update:modelValue",!0),It(()=>{n("onLayout",Y.value),n("miniState",y.value),d=e.showIfAbove===!0;const K=()=>{(g.value===!0?_:x)(!1,!0)};if(c.totalWidth.value!==0){ut(K);return}h=Te(c.totalWidth,()=>{h(),h=void 0,g.value===!1&&e.showIfAbove===!0&&m.value===!1?S(!1):K()})}),st(()=>{h!==void 0&&h(),f!==null&&(clearTimeout(f),f=null),g.value===!0&&ve(),c.instances[e.side]===L&&(c.instances[e.side]=void 0,he("size",0),he("offset",0),he("space",!1))}),()=>{const K=[];m.value===!0&&(e.noSwipeOpen===!1&&K.push(ci(v("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),X.value)),K.push(Jn("div",{ref:"backdrop",class:W.value,style:P.value,"aria-hidden":"true",onClick:M},void 0,"backdrop",e.noSwipeBackdrop!==!0&&g.value===!0,()=>ke.value)));const me=y.value===!0&&t.mini!==void 0,ge=[v("div",{...i,key:""+me,class:[$.value,i.class]},me===!0?t.mini():We(t.default))];return e.elevated===!0&&g.value===!0&&ge.push(v("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),K.push(Jn("aside",{ref:"content",class:fe.value,style:U.value},ge,"contentclose",e.noSwipeClose!==!0&&m.value===!0,()=>be.value)),v("div",{class:"q-drawer-container"},K)}}});function Kb(e,t){if(t&&e===t)return null;const n=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(n)===!0)return e;const i=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,r=i.display;return r==="block"||r==="table"?e:Kb(e.parentNode)}function Od(e,t,n){return!e||e===document.body?!1:n===!0&&e===t||(t===document?document.body:t).contains(e.parentNode)}function Zb(e,t,n){if(n||(n=document.createRange(),n.selectNode(e),n.setStart(e,0)),t.count===0)n.setEnd(e,t.count);else if(t.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<t.count?t.count-=e.textContent.length:(n.setEnd(e,t.count),t.count=0);else for(let i=0;t.count!==0&&i<e.childNodes.length;i++)n=Zb(e.childNodes[i],t,n);return n}var F2=/^https?:\/\//,D2=class{constructor(e,t){this.el=e,this.eVm=t,this._range=null}get selection(){if(this.el){const e=document.getSelection();if(Od(e.anchorNode,this.el,!0)&&Od(e.focusNode,this.el,!0))return e}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length!==0:!1}get range(){const e=this.selection;return e!==null&&e.rangeCount?e.getRangeAt(0):this._range}get parent(){const e=this.range;if(e!==null){const t=e.startContainer;return t.nodeType===document.ELEMENT_NODE?t:t.parentNode}return null}get blockParent(){const e=this.parent;return e!==null?Kb(e,this.el):null}save(e=this.range){e!==null&&(this._range=e)}restore(e=this._range){const t=document.createRange(),n=document.getSelection();e!==null?(t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),n.removeAllRanges(),n.addRange(t)):(n.selectAllChildren(this.el),n.collapseToEnd())}savePosition(){let e=-1,t;const n=document.getSelection(),i=this.el.parentNode;if(n.focusNode&&Od(n.focusNode,i))for(t=n.focusNode,e=n.focusOffset;t&&t!==i;)t!==this.el&&t.previousSibling?(t=t.previousSibling,e+=t.textContent.length):t=t.parentNode;this.savedPos=e}restorePosition(e=0){if(this.savedPos>0&&this.savedPos<e){const t=window.getSelection(),n=Zb(this.el,{count:this.savedPos});n&&(n.collapse(!1),t.removeAllRanges(),t.addRange(n))}}hasParent(e,t){const n=t?this.parent:this.blockParent;return n!==null?n.nodeName.toLowerCase()===e.toLowerCase():!1}hasParents(e,t,n=this.parent){return n===null?!1:e.includes(n.nodeName.toLowerCase())===!0?!0:t===!0?this.hasParents(e,t,n.parentNode):!1}is(e,t){if(this.selection===null)return!1;switch(e){case"formatBlock":return t==="DIV"&&this.parent===this.el||this.hasParent(t,t==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(e)===t;case"fontName":const n=document.queryCommandValue(e);return n===`"${t}"`||n===t;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const i=document.queryCommandState(e);return t!==void 0?i===t:i}}getParentAttribute(e){return this.parent!==null?this.parent.getAttribute(e):null}can(e){if(e==="outdent")return this.hasParents(["blockquote","li"],!0);if(e==="indent")return this.hasParents(["li"],!0);if(e==="link")return this.selection!==null||this.is("link")}apply(e,t,n=$t){if(e==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(t)&&this.is(e,t)&&(e="outdent",t=null),t==="PRE"&&this.is(e,"PRE")&&(t="P");else if(e==="print"){n();const i=window.open();i.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),i.print(),i.close();return}else if(e==="link"){const i=this.getParentAttribute("href");if(i===null){const r=this.selectWord(this.selection),o=r?r.toString():"";if(!o.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=F2.test(o)?o:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(r.getRangeAt(0))}else this.eVm.editLinkUrl.value=i,this.range.selectNodeContents(this.parent),this.save();return}else if(e==="fullscreen"){this.eVm.toggleFullscreen(),n();return}else if(e==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),n();return}document.execCommand(e,!1,t),n()}selectWord(e){if(e===null||e.isCollapsed!==!0||e.modify===void 0)return e;const t=document.createRange();t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset);const n=t.collapsed?["backward","forward"]:["forward","backward"];t.detach();const i=e.focusNode,r=e.focusOffset;return e.collapse(e.anchorNode,e.anchorOffset),e.modify("move",n[0],"character"),e.modify("move",n[1],"word"),e.extend(i,r),e.modify("extend",n[1],"character"),e.modify("extend",n[0],"word"),e}},O2=xe({name:"QTooltip",inheritAttrs:!1,props:{...ab,...qa,...ro,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...ro.transitionShow,default:"jump-down"},transitionHide:{...ro.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:lc},self:{type:String,default:"top middle",validator:lc},offset:{type:Array,default:()=>[14,14],validator:bb},scrollTarget:Lo,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Ha],setup(e,{slots:t,emit:n,attrs:i}){let r,o;const a=Be(),{proxy:{$q:s}}=a,l=ee(null),u=ee(!1),c=w(()=>uc(e.anchor,s.lang.rtl)),d=w(()=>uc(e.self,s.lang.rtl)),f=w(()=>e.persistent!==!0),{registerTick:h,removeTick:m}=pa(),{registerTimeout:y}=kr(),{transitionProps:b,transitionStyle:g}=Pc(e),{localScrollTarget:p,changeScrollEvent:_,unconfigureScrollTarget:x}=lb(e,le),{anchorEl:S,canShow:M,anchorEvents:T}=jh({showing:u,configureAnchorEl:Y}),{show:R,hide:L}=Va({showing:u,canShow:M,handleShow:C,handleHide:E,hideOnRouteChange:f,processOnMount:!0});Object.assign(T,{delayShow:O,delayHide:G});const{showPortal:I,hidePortal:k,renderPortal:A}=Xh(a,l,P,"tooltip");if(s.platform.is.mobile===!0){const Z={anchorEl:S,innerRef:l,onClickOutside(J){return L(J),J.target.classList.contains("q-dialog__backdrop")&&nt(J),!0}},ne=w(()=>e.modelValue===null&&e.persistent!==!0&&u.value===!0);Te(ne,J=>{(J===!0?yb:sc)(Z)}),st(()=>{sc(Z)})}function C(Z){I(),h(()=>{o=new MutationObserver(()=>q()),o.observe(l.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),q(),le()}),r===void 0&&(r=Te(()=>s.screen.width+"|"+s.screen.height+"|"+e.self+"|"+e.anchor+"|"+s.lang.rtl,q)),y(()=>{I(!0),n("show",Z)},e.transitionDuration)}function E(Z){m(),k(),D(),y(()=>{k(!0),n("hide",Z)},e.transitionDuration)}function D(){o!==void 0&&(o.disconnect(),o=void 0),r!==void 0&&(r(),r=void 0),x(),gn(T,"tooltipTemp")}function q(){Qh({targetEl:l.value,offset:e.offset,anchorEl:S.value,anchorOrigin:c.value,selfOrigin:d.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function O(Z){if(s.platform.is.mobile===!0){ui(),document.body.classList.add("non-selectable");const ne=S.value,J=["touchmove","touchcancel","touchend","click"].map(U=>[ne,U,"delayHide","passiveCapture"]);Dt(T,"tooltipTemp",J)}y(()=>{R(Z)},e.delay)}function G(Z){s.platform.is.mobile===!0&&(gn(T,"tooltipTemp"),ui(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),y(()=>{L(Z)},e.hideDelay)}function Y(){if(e.noParentEvent===!0||S.value===null)return;const Z=s.platform.is.mobile===!0?[[S.value,"touchstart","delayShow","passive"]]:[[S.value,"mouseenter","delayShow","passive"],[S.value,"mouseleave","delayHide","passive"]];Dt(T,"anchor",Z)}function le(){if(S.value!==null||e.scrollTarget!==void 0){p.value=Pi(S.value,e.scrollTarget);const Z=e.noParentEvent===!0?q:L;_(p.value,Z)}}function W(){return u.value===!0?v("div",{...i,ref:l,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",i.class],style:[i.style,g.value],role:"tooltip"},We(t.default)):null}function P(){return v(Kt,b.value,W)}return st(D),Object.assign(a.proxy,{updatePosition:q}),A}}),Oc=xe({name:"QItem",props:{...ct,...ml,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=Be(),r=dt(e,i),{hasLink:o,linkAttrs:a,linkClass:s,linkTag:l,navigateOnClick:u}=Rc(),c=ee(null),d=ee(null),f=w(()=>e.clickable===!0||o.value===!0||e.tag==="label"),h=w(()=>e.disable!==!0&&f.value===!0),m=w(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(r.value===!0?" q-item--dark":"")+(o.value===!0&&e.active===null?s.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(h.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),y=w(()=>{if(e.insetLevel===void 0)return null;const _=i.lang.rtl===!0?"Right":"Left";return{["padding"+_]:16+e.insetLevel*56+"px"}});function b(_){h.value===!0&&(d.value!==null&&(_.qKeyEvent!==!0&&document.activeElement===c.value?d.value.focus():document.activeElement===d.value&&c.value.focus()),u(_))}function g(_){if(h.value===!0&&Zn(_,[13,32])===!0){nt(_),_.qKeyEvent=!0;const x=new MouseEvent("click",_);x.qKeyEvent=!0,c.value.dispatchEvent(x)}n("keyup",_)}function p(){const _=hl(t.default,[]);return h.value===!0&&_.unshift(v("div",{class:"q-focus-helper",tabindex:-1,ref:d})),_}return()=>{const _={ref:c,class:m.value,style:y.value,role:"listitem",onClick:b,onKeyup:g};return h.value===!0?(_.tabindex=e.tabindex||"0",Object.assign(_,a.value)):f.value===!0&&(_["aria-disabled"]="true"),v(l.value,_,p())}}}),Sr=xe({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=w(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>v("div",{class:n.value},We(t.default))}});function Jb(e,t,n){t.handler?t.handler(e,n,n.caret):n.runCmd(t.cmd,t.param)}function um(e){return v("div",{class:"q-editor__toolbar-group"},e)}function ex(e,t,n,i=!1){const r=i||(t.type==="toggle"?t.toggled?t.toggled(e):t.cmd&&e.caret.is(t.cmd,t.param):!1),o=[];if(t.tip&&e.$q.platform.is.desktop){const a=t.key?v("div",[v("small",`(CTRL + ${String.fromCharCode(t.key)})`)]):null;o.push(v(O2,{delay:1e3},()=>[v("div",{innerHTML:t.tip}),a]))}return v(pt,{...e.buttonProps.value,icon:t.icon!==null?t.icon:void 0,color:r?t.toggleColor||e.props.toolbarToggleColor:t.color||e.props.toolbarColor,textColor:r&&!e.props.toolbarPush?null:t.textColor||e.props.toolbarTextColor,label:t.label,disable:t.disable?typeof t.disable=="function"?t.disable(e):!0:!1,size:"sm",onClick(a){n&&n(),Jb(a,t,e)}},()=>o)}function N2(e,t){const n=t.list==="only-icons";let i=t.label,r=t.icon!==null?t.icon:void 0,o,a;function s(){u.component.proxy.hide()}if(n)a=t.options.map(c=>{const d=c.type===void 0?e.caret.is(c.cmd,c.param):!1;return d&&(i=c.tip,r=c.icon!==null?c.icon:void 0),ex(e,c,s,d)}),o=e.toolbarBackgroundClass.value,a=[um(a)];else{const c=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,d=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,f=t.list==="no-icons";a=t.options.map(h=>{const m=h.disable?h.disable(e):!1,y=h.type===void 0?e.caret.is(h.cmd,h.param):!1;y&&(i=h.tip,r=h.icon!==null?h.icon:void 0);const b=h.htmlTip;return v(Oc,{active:y,activeClass:c,clickable:!0,disable:m,dense:!0,onClick(g){s(),e.contentRef.value!==null&&e.contentRef.value.focus(),e.caret.restore(),Jb(g,h,e)}},()=>[f===!0?null:v(Sr,{class:y?c:d,side:!0},()=>v(ft,{name:h.icon!==null?h.icon:void 0})),v(Sr,b?()=>v("div",{class:"text-no-wrap",innerHTML:h.htmlTip}):h.tip?()=>v("div",{class:"text-no-wrap"},h.tip):void 0)])}),o=[e.toolbarBackgroundClass.value,d]}const l=t.highlight&&i!==t.label,u=v(ZE,{...e.buttonProps.value,noCaps:!0,noWrap:!0,color:l?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:l&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:t.fixedLabel?t.label:i,icon:t.fixedIcon?t.icon!==null?t.icon:void 0:r,contentClass:o,onShow:c=>e.emit("dropdownShow",c),onHide:c=>e.emit("dropdownHide",c),onBeforeShow:c=>e.emit("dropdownBeforeShow",c),onBeforeHide:c=>e.emit("dropdownBeforeHide",c)},()=>a);return u}function z2(e){if(e.caret)return e.buttons.value.filter(t=>!e.isViewingSource.value||t.find(n=>n.cmd==="viewsource")).map(t=>um(t.map(n=>e.isViewingSource.value&&n.cmd!=="viewsource"?!1:n.type==="slot"?We(e.slots[n.slot]):n.type==="dropdown"?N2(e,n):ex(e,n))))}function q2(e,t,n,i={}){const r=Object.keys(i);if(r.length===0)return{};const o={default_font:{cmd:"fontName",param:e,icon:n,tip:t}};return r.forEach(a=>{const s=i[a];o[a]={cmd:"fontName",param:s,icon:n,tip:s,htmlTip:`<font face="${s}">${s}</font>`}}),o}function H2(e){if(e.caret){const t=e.props.toolbarColor||e.props.toolbarTextColor;let n=e.editLinkUrl.value;const i=()=>{e.caret.restore(),n!==e.editLinkUrl.value&&document.execCommand("createLink",!1,n===""?" ":n),e.editLinkUrl.value=null};return[v("div",{class:`q-mx-xs text-${t}`},`${e.$q.lang.editor.url}: `),v("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:n,onInput:r=>{Bt(r),n=r.target.value},onKeydown:r=>{if(Eo(r)!==!0)switch(r.keyCode){case 13:return en(r),i();case 27:en(r),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),um([v(pt,{key:"qedt_btm_rem",tabindex:-1,...e.buttonProps.value,label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}}),v(pt,{key:"qedt_btm_upd",...e.buttonProps.value,label:e.$q.lang.label.update,noCaps:!0,onClick:i})])]}}var vv=/^on[A-Z]/;function tx(){const{attrs:e,vnode:t}=Be(),n={listeners:ee({}),attributes:ee({})};function i(){const r={},o={};for(const a in e)a!=="class"&&a!=="style"&&vv.test(a)===!1&&(r[a]=e[a]);for(const a in t.props)vv.test(a)===!0&&(o[a]=t.props[a]);n.attributes.value=r,n.listeners.value=o}return el(i),i(),n}var V2=Object.prototype.toString,Nd=Object.prototype.hasOwnProperty,U2=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(e=>"[object "+e+"]"));function gv(e){if(e!==Object(e)||U2.has(V2.call(e))===!0||e.constructor&&Nd.call(e,"constructor")===!1&&Nd.call(e.constructor.prototype,"isPrototypeOf")===!1)return!1;let t;for(t in e);return t===void 0||Nd.call(e,t)}function nx(){let e,t,n,i,r,o,a=arguments[0]||{},s=1,l=!1;const u=arguments.length;for(typeof a=="boolean"&&(l=a,a=arguments[1]||{},s=2),Object(a)!==a&&typeof a!="function"&&(a={}),u===s&&(a=this,s--);s<u;s++)if((e=arguments[s])!==null)for(t in e)n=a[t],i=e[t],a!==i&&(l===!0&&i&&((r=Array.isArray(i))||gv(i)===!0)?(r===!0?o=Array.isArray(n)===!0?n:[]:o=gv(n)===!0?n:{},a[t]=nx(l,o,i)):i!==void 0&&(a[t]=i));return a}xe({name:"QEditor",props:{...ct,...im,modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(t=>t.length),default:()=>[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},emits:[...rm,"update:modelValue","keydown","click","focus","blur","dropdownShow","dropdownHide","dropdownBeforeShow","dropdownBeforeHide","linkShow","linkHide"],setup(e,{slots:t,emit:n}){const{proxy:i}=Be(),{$q:r}=i,o=dt(e,r),{inFullscreen:a,toggleFullscreen:s}=om(),l=tx(),u=ee(null),c=ee(null),d=ee(null),f=ee(!1),h=w(()=>!e.readonly&&!e.disable);let m,y,b=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),m=window.getComputedStyle(document.body).fontFamily;const g=w(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),p=w(()=>{const U=e.toolbarOutline!==!0&&e.toolbarPush!==!0;return{type:"a",flat:U,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!h.value,size:"sm"}}),_=w(()=>{const U=r.lang.editor,$=r.iconSet.editor;return{bold:{cmd:"bold",icon:$.bold,tip:U.bold,key:66},italic:{cmd:"italic",icon:$.italic,tip:U.italic,key:73},strike:{cmd:"strikeThrough",icon:$.strikethrough,tip:U.strikethrough,key:83},underline:{cmd:"underline",icon:$.underline,tip:U.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:$.unorderedList,tip:U.unorderedList},ordered:{cmd:"insertOrderedList",icon:$.orderedList,tip:U.orderedList},subscript:{cmd:"subscript",icon:$.subscript,tip:U.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:$.superscript,tip:U.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:fe=>fe.caret&&!fe.caret.can("link"),icon:$.hyperlink,tip:U.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:$.toggleFullscreen,tip:U.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:$.viewSource,tip:U.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:$.quote,tip:U.quote,key:81},left:{cmd:"justifyLeft",icon:$.left,tip:U.left},center:{cmd:"justifyCenter",icon:$.center,tip:U.center},right:{cmd:"justifyRight",icon:$.right,tip:U.right},justify:{cmd:"justifyFull",icon:$.justify,tip:U.justify},print:{type:"no-state",cmd:"print",icon:$.print,tip:U.print,key:80},outdent:{type:"no-state",disable:fe=>fe.caret&&!fe.caret.can("outdent"),cmd:"outdent",icon:$.outdent,tip:U.outdent},indent:{type:"no-state",disable:fe=>fe.caret&&!fe.caret.can("indent"),cmd:"indent",icon:$.indent,tip:U.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:$.removeFormat,tip:U.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:$.hr,tip:U.hr},undo:{type:"no-state",cmd:"undo",icon:$.undo,tip:U.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:$.redo,tip:U.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:$.heading1||$.heading,tip:U.heading1,htmlTip:`<h1 class="q-ma-none">${U.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:$.heading2||$.heading,tip:U.heading2,htmlTip:`<h2 class="q-ma-none">${U.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:$.heading3||$.heading,tip:U.heading3,htmlTip:`<h3 class="q-ma-none">${U.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:$.heading4||$.heading,tip:U.heading4,htmlTip:`<h4 class="q-ma-none">${U.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:$.heading5||$.heading,tip:U.heading5,htmlTip:`<h5 class="q-ma-none">${U.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:$.heading6||$.heading,tip:U.heading6,htmlTip:`<h6 class="q-ma-none">${U.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:$.heading,tip:U.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:$.code,htmlTip:`<code>${U.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:$.size1||$.size,tip:U.size1,htmlTip:`<font size="1">${U.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:$.size2||$.size,tip:U.size2,htmlTip:`<font size="2">${U.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:$.size3||$.size,tip:U.size3,htmlTip:`<font size="3">${U.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:$.size4||$.size,tip:U.size4,htmlTip:`<font size="4">${U.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:$.size5||$.size,tip:U.size5,htmlTip:`<font size="5">${U.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:$.size6||$.size,tip:U.size6,htmlTip:`<font size="6">${U.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:$.size7||$.size,tip:U.size7,htmlTip:`<font size="7">${U.size7}</font>`}}}),x=w(()=>{const U=e.definitions||{},$=e.definitions||e.fonts?nx(!0,{},_.value,U,q2(m,r.lang.editor.defaultFont,r.iconSet.editor.font,e.fonts)):_.value;return e.toolbar.map(fe=>fe.map(X=>{if(X.options)return{type:"dropdown",icon:X.icon,label:X.label,size:"sm",dense:!0,fixedLabel:X.fixedLabel,fixedIcon:X.fixedIcon,highlight:X.highlight,list:X.list,options:X.options.map(ke=>$[ke])};const be=$[X];return be?be.type==="no-state"||U[X]&&(be.cmd===void 0||_.value[be.cmd]&&_.value[be.cmd].type==="no-state")?be:Object.assign({type:"toggle"},be):{type:"slot",slot:X}}))}),S={$q:r,props:e,slots:t,emit:n,inFullscreen:a,toggleFullscreen:s,runCmd:P,isViewingSource:f,editLinkUrl:d,toolbarBackgroundClass:g,buttonProps:p,contentRef:c,buttons:x,setContent:W};Te(()=>e.modelValue,U=>{b!==U&&(b=U,W(U,!0))}),Te(d,U=>{n(`link${U?"Show":"Hide"}`)});const M=w(()=>e.toolbar&&e.toolbar.length!==0),T=w(()=>{const U={},$=fe=>{fe.key&&(U[fe.key]={cmd:fe.cmd,param:fe.param})};return x.value.forEach(fe=>{fe.forEach(X=>{X.options?X.options.forEach($):$(X)})}),U}),R=w(()=>a.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),L=w(()=>`q-editor q-editor--${f.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(a.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(o.value===!0?" q-editor--dark q-dark":"")),I=w(()=>[e.contentClass,"q-editor__content",{col:a.value,"overflow-auto":a.value||e.maxHeight}]),k=w(()=>e.disable===!0?{"aria-disabled":"true"}:{});function A(){if(c.value!==null){const U=`inner${f.value===!0?"Text":"HTML"}`,$=c.value[U];$!==e.modelValue&&(b=$,n("update:modelValue",$))}}function C(U){if(n("keydown",U),U.ctrlKey!==!0||Eo(U)===!0){Z();return}const $=U.keyCode,fe=T.value[$];if(fe!==void 0){const{cmd:X,param:be}=fe;nt(U),P(X,be,!1)}}function E(U){Z(),n("click",U)}function D(U){if(c.value!==null){const{scrollTop:$,scrollHeight:fe}=c.value;y=fe-$}S.caret.save(),n("blur",U)}function q(U){ut(()=>{c.value!==null&&y!==void 0&&(c.value.scrollTop=c.value.scrollHeight-y)}),n("focus",U)}function O(U){const $=u.value;if($!==null&&$.contains(U.target)===!0&&(U.relatedTarget===null||$.contains(U.relatedTarget)!==!0)){const fe=`inner${f.value===!0?"Text":"HTML"}`;S.caret.restorePosition(c.value[fe].length),Z()}}function G(U){const $=u.value;$!==null&&$.contains(U.target)===!0&&(U.relatedTarget===null||$.contains(U.relatedTarget)!==!0)&&(S.caret.savePosition(),Z())}function Y(){y=void 0}function le(U){S.caret.save()}function W(U,$){if(c.value!==null){$===!0&&S.caret.savePosition();const fe=`inner${f.value===!0?"Text":"HTML"}`;c.value[fe]=U,$===!0&&(S.caret.restorePosition(c.value[fe].length),Z())}}function P(U,$,fe=!0){ne(),S.caret.restore(),S.caret.apply(U,$,()=>{ne(),S.caret.save(),fe&&Z()})}function Z(){setTimeout(()=>{d.value=null,i.$forceUpdate()},1)}function ne(){Ua(()=>{c.value!==null&&c.value.focus({preventScroll:!0})})}function J(){return c.value}return It(()=>{S.caret=i.caret=new D2(c.value,S),W(e.modelValue),Z(),document.addEventListener("selectionchange",le)}),st(()=>{document.removeEventListener("selectionchange",le)}),Object.assign(i,{runCmd:P,refreshToolbar:Z,focus:ne,getContentEl:J}),()=>{let U;if(M.value){const $=[v("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+g.value},z2(S))];d.value!==null&&$.push(v("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+g.value},H2(S))),U=v("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},$)}return v("div",{ref:u,class:L.value,style:{height:a.value===!0?"100%":null},...k.value,onFocusin:O,onFocusout:G},[U,v("div",{ref:c,style:R.value,class:I.value,contenteditable:h.value,placeholder:e.placeholder,...l.listeners.value,onInput:A,onKeydown:C,onClick:E,onBlur:D,onFocus:q,onMousedown:Y,onTouchstartPassive:Y})])}}});var Gf=xe({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=w(()=>parseInt(e.lines,10)),i=w(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),r=w(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>v("div",{style:r.value,class:i.value},We(t.default))}}),cm=xe({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:t,emit:n}){let i=!1,r,o,a=null,s=null,l,u;function c(){r&&r(),r=null,i=!1,a!==null&&(clearTimeout(a),a=null),s!==null&&(clearTimeout(s),s=null),o!==void 0&&o.removeEventListener("transitionend",l),l=null}function d(y,b,g){b!==void 0&&(y.style.height=`${b}px`),y.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,i=!0,r=g}function f(y,b){y.style.overflowY=null,y.style.height=null,y.style.transition=null,c(),b!==u&&n(b)}function h(y,b){let g=0;o=y,i===!0?(c(),g=y.offsetHeight===y.scrollHeight?0:void 0):(u="hide",y.style.overflowY="hidden"),d(y,g,b),a=setTimeout(()=>{a=null,y.style.height=`${y.scrollHeight}px`,l=p=>{s=null,(Object(p)!==p||p.target===y)&&f(y,"show")},y.addEventListener("transitionend",l),s=setTimeout(l,e.duration*1.1)},100)}function m(y,b){let g;o=y,i===!0?c():(u="show",y.style.overflowY="hidden",g=y.scrollHeight),d(y,g,b),a=setTimeout(()=>{a=null,y.style.height=0,l=p=>{s=null,(Object(p)!==p||p.target===y)&&f(y,"hide")},y.addEventListener("transitionend",l),s=setTimeout(l,e.duration*1.1)},100)}return st(()=>{i===!0&&c()}),()=>v(Kt,{css:!1,appear:e.appear,onEnter:h,onLeave:m},t.default)}}),G2={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},zd={xs:2,sm:4,md:8,lg:16,xl:24},_o=xe({name:"QSeparator",props:{...ct,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=Be(),n=dt(e,t.proxy.$q),i=w(()=>e.vertical===!0?"vertical":"horizontal"),r=w(()=>` q-separator--${i.value}`),o=w(()=>e.inset!==!1?`${r.value}-${G2[e.inset]}`:""),a=w(()=>`q-separator${r.value}${o.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(n.value===!0?" q-separator--dark":"")),s=w(()=>{const l={};if(e.size!==void 0&&(l[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const u=e.spaced===!0?`${zd.md}px`:e.spaced in zd?`${zd[e.spaced]}px`:e.spaced,c=e.vertical===!0?["Left","Right"]:["Top","Bottom"];l[`margin${c[0]}`]=l[`margin${c[1]}`]=u}return l});return()=>v("hr",{class:a.value,style:s.value,"aria-orientation":i.value})}}),Wr=Wx({}),W2=Object.keys(ml);xe({name:"QExpansionItem",props:{...ml,...qa,...ct,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Ha,"click","afterShow","afterHide"],setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=Be(),r=dt(e,i),o=ee(e.modelValue!==null?e.modelValue:e.defaultOpened),a=ee(null),s=Fc(),{show:l,hide:u,toggle:c}=Va({showing:o});let d,f;const h=w(()=>`q-expansion-item q-item-type q-expansion-item--${o.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),m=w(()=>{if(e.contentInsetLevel===void 0)return null;const O=i.lang.rtl===!0?"Right":"Left";return{["padding"+O]:e.contentInsetLevel*56+"px"}}),y=w(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),b=w(()=>{const O={};return W2.forEach(G=>{O[G]=e[G]}),O}),g=w(()=>y.value===!0||e.expandIconToggle!==!0),p=w(()=>e.expandedIcon!==void 0&&o.value===!0?e.expandedIcon:e.expandIcon||i.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),_=w(()=>e.disable!==!0&&(y.value===!0||e.expandIconToggle===!0)),x=w(()=>({expanded:o.value===!0,detailsId:s.value,toggle:c,show:l,hide:u})),S=w(()=>{const O=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:i.lang.label[o.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":o.value===!0?"true":"false","aria-controls":s.value,"aria-label":O}});Te(()=>e.group,O=>{f!==void 0&&f(),O!==void 0&&k()});function M(O){y.value!==!0&&c(O),n("click",O)}function T(O){O.keyCode===13&&R(O,!0)}function R(O,G){G!==!0&&a.value!==null&&a.value.focus(),c(O),nt(O)}function L(){n("afterShow")}function I(){n("afterHide")}function k(){d===void 0&&(d=Zs()),o.value===!0&&(Wr[e.group]=d);const O=Te(o,Y=>{Y===!0?Wr[e.group]=d:Wr[e.group]===d&&delete Wr[e.group]}),G=Te(()=>Wr[e.group],(Y,le)=>{le===d&&Y!==void 0&&Y!==d&&u()});f=()=>{O(),G(),Wr[e.group]===d&&delete Wr[e.group],f=void 0}}function A(){const O={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},G=[v(ft,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&o.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:p.value})];return _.value===!0&&(Object.assign(O,{tabindex:0,...S.value,onClick:R,onKeyup:T}),G.unshift(v("div",{ref:a,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),v(Sr,O,()=>G)}function C(){let O;return t.header!==void 0?O=[].concat(t.header(x.value)):(O=[v(Sr,()=>[v(Gf,{lines:e.labelLines},()=>e.label||""),e.caption?v(Gf,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&O[e.switchToggleSide===!0?"push":"unshift"](v(Sr,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>v(ft,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&O[e.switchToggleSide===!0?"unshift":"push"](A()),O}function E(){const O={ref:"item",style:e.headerStyle,class:e.headerClass,dark:r.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return g.value===!0&&(O.clickable=!0,O.onClick=M,Object.assign(O,y.value===!0?b.value:S.value)),v(Oc,O,C)}function D(){return ci(v("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:m.value,id:s.value},We(t.default)),[[eg,o.value]])}function q(){const O=[E(),v(cm,{duration:e.duration,onShow:L,onHide:I},D)];return e.expandSeparator===!0&&O.push(v(_o,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:r.value}),v(_o,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:r.value})),O}return e.group!==void 0&&k(),st(()=>{f!==void 0&&f()}),()=>v("div",{class:h.value},[v("div",{class:"q-expansion-item__container relative-position"},q())])}});var $2=["top","right","bottom","left"],Wf={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>$2.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function ix(e,t){return{formClass:w(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:w(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:w(()=>{if(e.externalLabel===!0){const n=e.hideLabel===null?t.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(n===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}var j2=["up","right","down","left"],Y2=["left","center","right"];xe({name:"QFab",props:{...Wf,...qa,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{...Wf.hideLabel,default:null},direction:{type:String,default:"right",validator:e=>j2.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>Y2.includes(e)}},emits:Ha,setup(e,{slots:t}){const n=ee(null),i=ee(e.modelValue===!0),r=Fc(),{proxy:{$q:o}}=Be(),{formClass:a,labelProps:s}=ix(e,i),l=w(()=>e.persistent!==!0),{hide:u,toggle:c}=Va({showing:i,hideOnRouteChange:l}),d=w(()=>({opened:i.value})),f=w(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${a.value}`+(i.value===!0?" q-fab--opened":" q-fab--closed")),h=w(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${i.value===!0?"opened":"closed"}`),m=w(()=>{const p={id:r.value,role:"menu"};return i.value!==!0&&(p["aria-hidden"]="true"),p}),y=w(()=>`q-fab__icon-holder  q-fab__icon-holder--${i.value===!0?"opened":"closed"}`);function b(p,_){const x=t[p],S=`q-fab__${p} absolute-full`;return x===void 0?v(ft,{class:S,name:e[_]||o.iconSet.fab[_]}):v("div",{class:S},x(d.value))}function g(){const p=[];return e.hideIcon!==!0&&p.push(v("div",{class:y.value},[b("icon","icon"),b("active-icon","activeIcon")])),(e.label!==""||t.label!==void 0)&&p[s.value.action](v("div",s.value.data,t.label!==void 0?t.label(d.value):[e.label])),Nt(t.tooltip,p)}return Pr(Uy,{showing:i,onChildClick(p){u(p),n.value!==null&&n.value.$el.focus()}}),()=>v("div",{class:f.value},[v(pt,{ref:n,class:a.value,...e,noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":i.value===!0?"true":"false","aria-haspopup":"true","aria-controls":r.value,onClick:c},g),v("div",{class:h.value,...m.value},We(t.default))])}});var rx={start:"self-end",center:"self-center",end:"self-start"},X2=Object.keys(rx);xe({name:"QFabAction",props:{...Wf,icon:{type:String,default:""},anchor:{type:String,validator:e=>X2.includes(e)},to:[String,Object],replace:Boolean},emits:["click"],setup(e,{slots:t,emit:n}){const i=Ln(Uy,()=>({showing:{value:!0},onChildClick:$t})),{formClass:r,labelProps:o}=ix(e,i.showing),a=w(()=>{const d=rx[e.anchor];return r.value+(d!==void 0?` ${d}`:"")}),s=w(()=>e.disable===!0||i.showing.value!==!0);function l(d){i.onChildClick(d),n("click",d)}function u(){const d=[];return t.icon!==void 0?d.push(t.icon()):e.icon!==""&&d.push(v(ft,{name:e.icon})),(e.label!==""||t.label!==void 0)&&d[o.value.action](v("div",o.value.data,t.label!==void 0?t.label():[e.label])),Nt(t.default,d)}const c=Be();return Object.assign(c.proxy,{click:l}),()=>v(pt,{class:a.value,...e,noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:s.value,onClick:l},u)}});function Q2({validate:e,resetValidation:t,requiresQForm:n}){const i=Ln(Gy,!1);if(i!==!1){const{props:r,proxy:o}=Be();Object.assign(o,{validate:e,resetValidation:t}),Te(()=>r.disable,a=>{a===!0?(typeof t=="function"&&t(),i.unbindComponent(o)):i.bindComponent(o)}),It(()=>{r.disable!==!0&&i.bindComponent(o)}),st(()=>{r.disable!==!0&&i.unbindComponent(o)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}var K2=[!0,!1,"ondemand"],Z2={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>K2.includes(e)}};function J2(e,t){const{props:n,proxy:i}=Be(),r=ee(!1),o=ee(null),a=ee(!1);Q2({validate:y,resetValidation:m});let s=0,l;const u=w(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),c=w(()=>n.disable!==!0&&u.value===!0&&t.value===!1),d=w(()=>n.error===!0||r.value===!0),f=w(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:o.value);Te(()=>n.modelValue,()=>{a.value=!0,c.value===!0&&n.lazyRules===!1&&b()});function h(){n.lazyRules!=="ondemand"&&c.value===!0&&a.value===!0&&b()}Te(()=>n.reactiveRules,g=>{g===!0?l===void 0&&(l=Te(()=>n.rules,h,{immediate:!0,deep:!0})):l!==void 0&&(l(),l=void 0)},{immediate:!0}),Te(()=>n.lazyRules,h),Te(e,g=>{g===!0?a.value=!0:c.value===!0&&n.lazyRules!=="ondemand"&&b()});function m(){s++,t.value=!1,a.value=!1,r.value=!1,o.value=null,b.cancel()}function y(g=n.modelValue){if(n.disable===!0||u.value===!1)return!0;const p=++s,_=t.value!==!0?()=>{a.value=!0}:()=>{},x=(M,T)=>{M===!0&&_(),r.value=M,o.value=T||null,t.value=!1},S=[];for(let M=0;M<n.rules.length;M++){const T=n.rules[M];let R;if(typeof T=="function"?R=T(g,Tu):typeof T=="string"&&Tu[T]!==void 0&&(R=Tu[T](g)),R===!1||typeof R=="string")return x(!0,R),!1;R!==!0&&R!==void 0&&S.push(R)}return S.length===0?(x(!1),!0):(t.value=!0,Promise.all(S).then(M=>{if(M===void 0||Array.isArray(M)===!1||M.length===0)return p===s&&x(!1),!0;const T=M.find(R=>R===!1||typeof R=="string");return p===s&&x(T!==void 0,T),T===void 0},M=>(p===s&&(console.error(M),x(!0)),!1)))}const b=za(y,0);return st(()=>{l!==void 0&&l(),b.cancel()}),Object.assign(i,{resetValidation:m,validate:y}),Jt(i,"hasError",()=>d.value),{isDirtyModel:a,hasRules:u,hasError:d,errorMessage:f,validate:y,resetValidation:m}}function wo(e){return e!=null&&(""+e).length!==0}var ox={...ct,...Z2,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},Nc={...ox,maxlength:[Number,String]},zc=["update:modelValue","clear","focus","blur"];function qc({requiredForAttr:e=!0,tagProp:t,changeEvent:n=!1}={}){const{props:i,proxy:r}=Be(),o=dt(i,r.$q),a=Fc({required:e,getValue:()=>i.for});return{requiredForAttr:e,changeEvent:n,tag:t===!0?w(()=>i.tag):{value:"label"},isDark:o,editable:w(()=>i.disable!==!0&&i.readonly!==!0),innerLoading:ee(!1),focused:ee(!1),hasPopupOpen:!1,splitAttrs:tx(),targetUid:a,rootRef:ee(null),targetRef:ee(null),controlRef:ee(null)}}function Hc(e){const{props:t,emit:n,slots:i,attrs:r,proxy:o}=Be(),{$q:a}=o;let s=null;e.hasValue===void 0&&(e.hasValue=w(()=>wo(t.modelValue))),e.emitValue===void 0&&(e.emitValue=G=>{n("update:modelValue",G)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:L,onFocusout:I}),Object.assign(e,{clearValue:k,onControlFocusin:L,onControlFocusout:I,focus:T}),e.computedCounter===void 0&&(e.computedCounter=w(()=>{if(t.counter!==!1){const G=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,Y=t.maxlength!==void 0?t.maxlength:t.maxValues;return G+(Y!==void 0?" / "+Y:"")}}));const{isDirtyModel:l,hasRules:u,hasError:c,errorMessage:d,resetValidation:f}=J2(e.focused,e.innerLoading),h=e.floatingLabel!==void 0?w(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):w(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),m=w(()=>t.bottomSlots===!0||t.hint!==void 0||u.value===!0||t.counter===!0||t.error!==null),y=w(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),b=w(()=>`q-field row no-wrap items-start q-field--${y.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(h.value===!0?" q-field--float":"")+(p.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(c.value===!0?" q-field--error":"")+(c.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&m.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),g=w(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(c.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),p=w(()=>t.labelSlot===!0||t.label!==void 0),_=w(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&c.value!==!0?` text-${t.labelColor}`:"")),x=w(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:h.value,modelValue:t.modelValue,emitValue:e.emitValue})),S=w(()=>{const G={};return e.targetUid.value&&(G.for=e.targetUid.value),t.disable===!0&&(G["aria-disabled"]="true"),G});function M(){const G=document.activeElement;let Y=e.targetRef!==void 0&&e.targetRef.value;Y&&(G===null||G.id!==e.targetUid.value)&&(Y.hasAttribute("tabindex")===!0||(Y=Y.querySelector("[tabindex]")),Y&&Y!==G&&Y.focus({preventScroll:!0}))}function T(){Ua(M)}function R(){BE(M);const G=document.activeElement;G!==null&&e.rootRef.value.contains(G)&&G.blur()}function L(G){s!==null&&(clearTimeout(s),s=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",G))}function I(G,Y){s!==null&&clearTimeout(s),s=setTimeout(()=>{s=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",G)),Y!==void 0&&Y())})}function k(G){nt(G),a.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),e.changeEvent===!0&&n("change",null),n("clear",t.modelValue),ut(()=>{const Y=l.value;f(),l.value=Y})}function A(G){[13,32].includes(G.keyCode)&&k(G)}function C(){const G=[];return i.prepend!==void 0&&G.push(v("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:en},i.prepend())),G.push(v("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},E())),c.value===!0&&t.noErrorIcon===!1&&G.push(q("error",[v(ft,{name:a.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?G.push(q("inner-loading-append",i.loading!==void 0?i.loading():[v(vi,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&G.push(q("inner-clearable-append",[v(ft,{class:"q-field__focusable-action",name:t.clearIcon||a.iconSet.field.clear,tabindex:0,role:"button","aria-label":a.lang.label.clear,onKeyup:A,onClick:k})])),i.append!==void 0&&G.push(v("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:en},i.append())),e.getInnerAppend!==void 0&&G.push(q("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&G.push(e.getControlChild()),G}function E(){const G=[];return t.prefix!==void 0&&t.prefix!==null&&G.push(v("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&G.push(e.getShadowControl()),e.getControl!==void 0?G.push(e.getControl()):i.rawControl!==void 0?G.push(i.rawControl()):i.control!==void 0&&G.push(v("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},i.control(x.value))),p.value===!0&&G.push(v("div",{class:_.value},We(i.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&G.push(v("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),G.concat(We(i.default))}function D(){let G,Y;c.value===!0?d.value!==null?(G=[v("div",{role:"alert"},d.value)],Y=`q--slot-error-${d.value}`):(G=We(i.error),Y="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(G=[v("div",t.hint)],Y=`q--slot-hint-${t.hint}`):(G=We(i.hint),Y="q--slot-hint"));const le=t.counter===!0||i.counter!==void 0;if(t.hideBottomSpace===!0&&le===!1&&G===void 0)return;const W=v("div",{key:Y,class:"q-field__messages col"},G);return v("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:en},[t.hideBottomSpace===!0?W:v(Kt,{name:"q-transition--field-message"},()=>W),le===!0?v("div",{class:"q-field__counter"},i.counter!==void 0?i.counter():e.computedCounter.value):null])}function q(G,Y){return Y===null?null:v("div",{key:G,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},Y)}let O=!1;return Ki(()=>{O=!0}),So(()=>{O===!0&&t.autofocus===!0&&o.focus()}),t.autofocus===!0&&It(()=>{o.focus()}),st(()=>{s!==null&&clearTimeout(s)}),Object.assign(o,{focus:T,blur:R}),function(){const Y=e.getControl===void 0&&i.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...S.value}:S.value;return v(e.tag.value,{ref:e.rootRef,class:[b.value,r.class],style:r.style,...Y},[i.before!==void 0?v("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:en},i.before()):null,v("div",{class:"q-field__inner relative-position col self-stretch"},[v("div",{ref:e.controlRef,class:g.value,tabindex:-1,...e.controlEvents},C()),m.value===!0?D():null]),i.after!==void 0?v("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:en},i.after()):null])}}var eA=xe({name:"QField",inheritAttrs:!1,props:{...Nc,tag:{type:String,default:"label"}},emits:zc,setup(){return Hc(qc({tagProp:!0}))}});function Jo(e,t,n,i){const r=[];return e.forEach(o=>{i(o)===!0?r.push(o):t.push({failedPropValidation:n,file:o})}),r}function mu(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),nt(e)}var ax={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},sx=["rejected"];function lx({editable:e,dnd:t,getFileInput:n,addFilesToQueue:i}){const{props:r,emit:o,proxy:a}=Be(),s=ee(null),l=w(()=>r.accept!==void 0?r.accept.split(",").map(p=>(p=p.trim(),p==="*"?"*/":(p.endsWith("/*")&&(p=p.slice(0,p.length-1)),p.toUpperCase()))):null),u=w(()=>parseInt(r.maxFiles,10)),c=w(()=>parseInt(r.maxTotalSize,10));function d(p){if(e.value)if(p!==Object(p)&&(p={target:null}),p.target!==null&&p.target.matches('input[type="file"]')===!0)p.clientX===0&&p.clientY===0&&Bt(p);else{const _=n();_&&_!==p.target&&_.click(p)}}function f(p){e.value&&p&&i(null,p)}function h(p,_,x,S){let M=Array.from(_||p.target.files);const T=[],R=()=>{T.length!==0&&o("rejected",T)};if(r.accept!==void 0&&l.value.indexOf("*/")===-1&&(M=Jo(M,T,"accept",L=>l.value.some(I=>L.type.toUpperCase().startsWith(I)||L.name.toUpperCase().endsWith(I))),M.length===0))return R();if(r.maxFileSize!==void 0){const L=parseInt(r.maxFileSize,10);if(M=Jo(M,T,"max-file-size",I=>I.size<=L),M.length===0)return R()}if(r.multiple!==!0&&M.length!==0&&(M=[M[0]]),M.forEach(L=>{L.__key=L.webkitRelativePath+L.lastModified+L.name+L.size}),S===!0){const L=x.map(I=>I.__key);M=Jo(M,T,"duplicate",I=>L.includes(I.__key)===!1)}if(M.length===0)return R();if(r.maxTotalSize!==void 0){let L=S===!0?x.reduce((I,k)=>I+k.size,0):0;if(M=Jo(M,T,"max-total-size",I=>(L+=I.size,L<=c.value)),M.length===0)return R()}if(typeof r.filter=="function"){const L=r.filter(M);M=Jo(M,T,"filter",I=>L.includes(I))}if(r.maxFiles!==void 0){let L=S===!0?x.length:0;if(M=Jo(M,T,"max-files",()=>(L++,L<=u.value)),M.length===0)return R()}if(R(),M.length!==0)return M}function m(p){mu(p),t.value!==!0&&(t.value=!0)}function y(p){nt(p),(p.relatedTarget!==null||rt.is.safari!==!0?p.relatedTarget!==s.value:document.elementsFromPoint(p.clientX,p.clientY).includes(s.value)===!1)===!0&&(t.value=!1)}function b(p){mu(p);const _=p.dataTransfer.files;_.length!==0&&i(null,_),t.value=!1}function g(p){if(t.value===!0)return v("div",{ref:s,class:`q-${p}__dnd absolute-full`,onDragenter:mu,onDragover:mu,onDragleave:y,onDrop:b})}return Object.assign(a,{pickFiles:d,addFiles:f}),{pickFiles:d,addFiles:f,onDragover:m,onDragleave:y,processFiles:h,getDndNode:g,maxFilesNumber:u,maxTotalSizeNumber:c}}function ux(e,t){function n(){const i=e.modelValue;try{const r="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(i)===i&&("length"in i?Array.from(i):[i]).forEach(o=>{r.items.add(o)}),{files:r.files}}catch{return{files:void 0}}}return t===!0?w(()=>{if(e.type==="file")return n()}):w(n)}xe({name:"QFile",inheritAttrs:!1,props:{...ox,...ei,...ax,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...zc,...sx],setup(e,{slots:t,emit:n,attrs:i}){const{proxy:r}=Be(),o=qc(),a=ee(null),s=ee(!1),l=Kh(e),{pickFiles:u,onDragover:c,onDragleave:d,processFiles:f,getDndNode:h}=lx({editable:o.editable,dnd:s,getFileInput:A,addFilesToQueue:C}),m=ux(e),y=w(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),b=w(()=>wo(y.value)),g=w(()=>y.value.map(O=>O.name).join(", ")),p=w(()=>If(y.value.reduce((O,G)=>O+G.size,0))),_=w(()=>({totalSize:p.value,filesNumber:y.value.length,maxFiles:e.maxFiles})),x=w(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:l.value,...i,id:o.targetUid.value,disabled:o.editable.value!==!0})),S=w(()=>"q-file q-field--auto-height"+(s.value===!0?" q-file--dnd":"")),M=w(()=>e.multiple===!0&&e.append===!0);function T(O){const G=y.value.slice();G.splice(O,1),L(G)}function R(O){const G=y.value.indexOf(O);G!==-1&&T(G)}function L(O){n("update:modelValue",e.multiple===!0?O:O[0])}function I(O){O.keyCode===13&&en(O)}function k(O){(O.keyCode===13||O.keyCode===32)&&u(O)}function A(){return a.value}function C(O,G){const Y=f(O,G,y.value,M.value),le=A();le!=null&&(le.value=""),Y!==void 0&&((e.multiple===!0?e.modelValue&&Y.every(W=>y.value.includes(W)):e.modelValue===Y[0])||L(M.value===!0?y.value.concat(Y):Y))}function E(){return[v("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function D(){if(t.file!==void 0)return y.value.length===0?E():y.value.map((G,Y)=>t.file({index:Y,file:G,ref:this}));if(t.selected!==void 0)return y.value.length===0?E():t.selected({files:y.value,ref:this});if(e.useChips===!0)return y.value.length===0?E():y.value.map((G,Y)=>v(Cb,{key:"file-"+Y,removable:o.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{T(Y)}},()=>v("span",{class:"ellipsis",textContent:G.name})));const O=e.displayValue!==void 0?e.displayValue:g.value;return O.length!==0?[v("div",{class:e.inputClass,style:e.inputStyle,textContent:O})]:E()}function q(){const O={ref:a,...x.value,...m.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:C};return e.multiple===!0&&(O.multiple=!0),v("input",O)}return Object.assign(o,{fieldClass:S,emitValue:L,hasValue:b,inputRef:a,innerValue:y,floatingLabel:w(()=>b.value===!0||wo(e.displayValue)),computedCounter:w(()=>{if(e.counterLabel!==void 0)return e.counterLabel(_.value);const O=e.maxFiles;return`${y.value.length}${O!==void 0?" / "+O:""} (${p.value})`}),getControlChild:()=>h("file"),getControl:()=>{const O={ref:o.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return o.editable.value===!0&&Object.assign(O,{onDragover:c,onDragleave:d,onKeydown:I,onKeyup:k}),v("div",O,[q()].concat(D()))}}),Object.assign(r,{removeAtIndex:T,removeFile:R,getNativeElement:()=>a.value}),Jt(r,"nativeEl",()=>a.value),Hc(o)}});xe({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=Be(),r=Ln(Ao,gt);if(r===gt)return console.error("QFooter needs to be child of QLayout"),gt;const o=ee(parseInt(e.heightHint,10)),a=ee(!0),s=ee(Kn.value===!0||r.isContainer.value===!0?0:window.innerHeight),l=w(()=>e.reveal===!0||r.view.value.indexOf("F")!==-1||i.platform.is.ios&&r.isContainer.value===!0),u=w(()=>r.isContainer.value===!0?r.containerHeight.value:s.value),c=w(()=>{if(e.modelValue!==!0)return 0;if(l.value===!0)return a.value===!0?o.value:0;const S=r.scroll.value.position+u.value+o.value-r.height.value;return S>0?S:0}),d=w(()=>e.modelValue!==!0||l.value===!0&&a.value!==!0),f=w(()=>e.modelValue===!0&&d.value===!0&&e.reveal===!0),h=w(()=>"q-footer q-layout__section--marginal "+(l.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(d.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(l.value!==!0?" hidden":""):"")),m=w(()=>{const S=r.rows.value.bottom,M={};return S[0]==="l"&&r.left.space===!0&&(M[i.lang.rtl===!0?"right":"left"]=`${r.left.size}px`),S[2]==="r"&&r.right.space===!0&&(M[i.lang.rtl===!0?"left":"right"]=`${r.right.size}px`),M});function y(S,M){r.update("footer",S,M)}function b(S,M){S.value!==M&&(S.value=M)}function g({height:S}){b(o,S),y("size",S)}function p(){if(e.reveal!==!0)return;const{direction:S,position:M,inflectionPoint:T}=r.scroll.value;b(a,S==="up"||M-T<100||r.height.value-u.value-M-o.value<300)}function _(S){f.value===!0&&b(a,!0),n("focusin",S)}Te(()=>e.modelValue,S=>{y("space",S),b(a,!0),r.animate()}),Te(c,S=>{y("offset",S)}),Te(()=>e.reveal,S=>{S===!1&&b(a,e.modelValue)}),Te(a,S=>{r.animate(),n("reveal",S)}),Te([o,r.scroll,r.height],p),Te(()=>i.screen.height,S=>{r.isContainer.value!==!0&&b(s,S)});const x={};return r.instances.footer=x,e.modelValue===!0&&y("size",o.value),y("space",e.modelValue),y("offset",c.value),st(()=>{r.instances.footer===x&&(r.instances.footer=void 0,y("size",0),y("offset",0),y("space",!1))}),()=>{const S=Nt(t.default,[v(xo,{debounce:0,onResize:g})]);return e.elevated===!0&&S.push(v("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),v("footer",{class:h.value,style:m.value,onFocusin:_},S)}}});xe({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:n}){const i=Be(),r=ee(null);let o=0;const a=[];function s(h){const m=typeof h=="boolean"?h:e.noErrorFocus!==!0,y=++o,b=(_,x)=>{n(`validation${_===!0?"Success":"Error"}`,x)},g=_=>{const x=_.validate();return typeof x.then=="function"?x.then(S=>({valid:S,comp:_}),S=>({valid:!1,comp:_,err:S})):Promise.resolve({valid:x,comp:_})};return(e.greedy===!0?Promise.all(a.map(g)).then(_=>_.filter(x=>x.valid!==!0)):a.reduce((_,x)=>_.then(()=>g(x).then(S=>{if(S.valid===!1)return Promise.reject(S)})),Promise.resolve()).catch(_=>[_])).then(_=>{if(_===void 0||_.length===0)return y===o&&b(!0),!0;if(y===o){const{comp:x,err:S}=_[0];if(S!==void 0&&console.error(S),b(!1,x),m===!0){const M=_.find(({comp:T})=>typeof T.focus=="function"&&_r(T.$)===!1);M!==void 0&&M.comp.focus()}}return!1})}function l(){o++,a.forEach(h=>{typeof h.resetValidation=="function"&&h.resetValidation()})}function u(h){h!==void 0&&nt(h);const m=o+1;s().then(y=>{m===o&&y===!0&&(e.onSubmit!==void 0?n("submit",h):h!==void 0&&h.target!==void 0&&typeof h.target.submit=="function"&&h.target.submit())})}function c(h){h!==void 0&&nt(h),n("reset"),ut(()=>{l(),e.autofocus===!0&&e.noResetFocus!==!0&&d()})}function d(){Ua(()=>{if(r.value===null)return;const h=r.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||r.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||r.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(r.value.querySelectorAll("[tabindex]"),m=>m.tabIndex!==-1);h!=null&&h.focus({preventScroll:!0})})}Pr(Gy,{bindComponent(h){a.push(h)},unbindComponent(h){const m=a.indexOf(h);m!==-1&&a.splice(m,1)}});let f=!1;return Ki(()=>{f=!0}),So(()=>{f===!0&&e.autofocus===!0&&d()}),It(()=>{e.autofocus===!0&&d()}),Object.assign(i.proxy,{validate:s,resetValidation:l,submit:u,reset:c,focus:d,getValidationComponents:()=>a}),()=>v("form",{class:"q-form",ref:r,onSubmit:u,onReset:c},We(t.default))}});xe({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=Be(),r=Ln(Ao,gt);if(r===gt)return console.error("QHeader needs to be child of QLayout"),gt;const o=ee(parseInt(e.heightHint,10)),a=ee(!0),s=w(()=>e.reveal===!0||r.view.value.indexOf("H")!==-1||i.platform.is.ios&&r.isContainer.value===!0),l=w(()=>{if(e.modelValue!==!0)return 0;if(s.value===!0)return a.value===!0?o.value:0;const p=o.value-r.scroll.value.position;return p>0?p:0}),u=w(()=>e.modelValue!==!0||s.value===!0&&a.value!==!0),c=w(()=>e.modelValue===!0&&u.value===!0&&e.reveal===!0),d=w(()=>"q-header q-layout__section--marginal "+(s.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(u.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),f=w(()=>{const p=r.rows.value.top,_={};return p[0]==="l"&&r.left.space===!0&&(_[i.lang.rtl===!0?"right":"left"]=`${r.left.size}px`),p[2]==="r"&&r.right.space===!0&&(_[i.lang.rtl===!0?"left":"right"]=`${r.right.size}px`),_});function h(p,_){r.update("header",p,_)}function m(p,_){p.value!==_&&(p.value=_)}function y({height:p}){m(o,p),h("size",p)}function b(p){c.value===!0&&m(a,!0),n("focusin",p)}Te(()=>e.modelValue,p=>{h("space",p),m(a,!0),r.animate()}),Te(l,p=>{h("offset",p)}),Te(()=>e.reveal,p=>{p===!1&&m(a,e.modelValue)}),Te(a,p=>{r.animate(),n("reveal",p)}),Te(r.scroll,p=>{e.reveal===!0&&m(a,p.direction==="up"||p.position<=e.revealOffset||p.position-p.inflectionPoint<100)});const g={};return r.instances.header=g,e.modelValue===!0&&h("size",o.value),h("space",e.modelValue),h("offset",l.value),st(()=>{r.instances.header===g&&(r.instances.header=void 0,h("size",0),h("offset",0),h("space",!1))}),()=>{const p=hl(t.default,[]);return e.elevated===!0&&p.push(v("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),p.push(v(xo,{debounce:0,onResize:y})),v("header",{class:d.value,style:f.value,onFocusin:b},p)}}});var dm={ratio:[String,Number]};function fm(e,t){return w(()=>{const n=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}var tA=1.7778;xe({name:"QImg",props:{...dm,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:tA},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:n}){const i=ee(e.initialRatio),r=fm(e,i),o=Be(),{registerTimeout:a,removeTimeout:s}=kr(),{registerTimeout:l,removeTimeout:u}=kr(),c=w(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),d=w(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),f=[ee(null),ee(c.value)],h=ee(0),m=ee(!1),y=ee(!1),b=w(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),g=w(()=>({width:e.width,height:e.height})),p=w(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),_=w(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function x(){if(u(),e.loadingShowDelay===0){m.value=!0;return}l(()=>{m.value=!0},e.loadingShowDelay)}function S(){u(),m.value=!1}function M({target:A}){_r(o)===!1&&(s(),i.value=A.naturalHeight===0?.5:A.naturalWidth/A.naturalHeight,T(A,1))}function T(A,C){C===1e3||_r(o)===!0||(A.complete===!0?R(A):a(()=>{T(A,C+1)},50))}function R(A){_r(o)!==!0&&(h.value=h.value^1,f[h.value].value=null,S(),A.getAttribute("__qerror")!=="true"&&(y.value=!1),n("load",A.currentSrc||A.src))}function L(A){s(),S(),y.value=!0,f[h.value].value=d.value,f[h.value^1].value=c.value,n("error",A)}function I(A){const C=f[A].value,E={key:"img_"+A,class:p.value,style:_.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...C};return h.value===A?Object.assign(E,{class:E.class+"current",onLoad:M,onError:L}):E.class+="loaded",v("div",{class:"q-img__container absolute-full",key:"img"+A},v("img",E))}function k(){return m.value===!1?v("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},We(t[y.value===!0?"error":"default"])):v("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[v(vi,{color:e.spinnerColor,size:e.spinnerSize})])}{let A=function(){Te(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,C=>{s(),y.value=!1,C===null?(S(),f[h.value^1].value=c.value):x(),f[h.value].value=C},{immediate:!0})};Kn.value===!0?It(A):A()}return()=>{const A=[];return r.value!==null&&A.push(v("div",{key:"filler",style:r.value})),f[0].value!==null&&A.push(I(0)),f[1].value!==null&&A.push(I(1)),A.push(v(Kt,{name:"q-transition--fade"},k)),v("div",{key:"main",class:b.value,style:g.value,role:"img","aria-label":e.alt},A)}}});var{passive:$r}=xt;xe({name:"QInfiniteScroll",props:{offset:{type:Number,default:500},debounce:{type:[String,Number],default:100},scrollTarget:Lo,initialIndex:{type:Number,default:0},disable:Boolean,reverse:Boolean},emits:["load"],setup(e,{slots:t,emit:n}){const i=ee(!1),r=ee(!0),o=ee(null),a=ee(null);let s=e.initialIndex,l,u;const c=w(()=>"q-infinite-scroll__loading"+(i.value===!0?"":" invisible"));function d(){if(e.disable===!0||i.value===!0||r.value===!1)return;const T=au(l),R=wr(l),L=Ra(l);e.reverse===!1?Math.round(R+L+e.offset)>=Math.round(T)&&f():Math.round(R)<=e.offset&&f()}function f(){if(e.disable===!0||i.value===!0||r.value===!1)return;s++,i.value=!0;const T=au(l);n("load",s,R=>{r.value===!0&&(i.value=!1,ut(()=>{if(e.reverse===!0){const L=au(l),I=wr(l),k=L-T;va(l,I+k)}R===!0?y():o.value&&o.value.closest("body")&&u()}))})}function h(){s=0}function m(){r.value===!1&&(r.value=!0,l.addEventListener("scroll",u,$r)),d()}function y(){r.value===!0&&(r.value=!1,i.value=!1,l.removeEventListener("scroll",u,$r),u!==void 0&&u.cancel!==void 0&&u.cancel())}function b(){if(l&&r.value===!0&&l.removeEventListener("scroll",u,$r),l=Pi(o.value,e.scrollTarget),r.value===!0){if(l.addEventListener("scroll",u,$r),e.reverse===!0){const T=au(l),R=Ra(l);va(l,T-R)}d()}}function g(T){s=T}function p(T){T=parseInt(T,10);const R=u;u=T<=0?d:za(d,isNaN(T)===!0?100:T),l&&r.value===!0&&(R!==void 0&&l.removeEventListener("scroll",R,$r),l.addEventListener("scroll",u,$r))}function _(T){if(x.value===!0){if(a.value===null){T!==!0&&ut(()=>{_(!0)});return}const R=`${i.value===!0?"un":""}pauseAnimations`;Array.from(a.value.getElementsByTagName("svg")).forEach(L=>{L[R]()})}}const x=w(()=>e.disable!==!0&&r.value===!0);Te([i,x],()=>{_()}),Te(()=>e.disable,T=>{T===!0?y():m()}),Te(()=>e.reverse,()=>{i.value===!1&&r.value===!0&&d()}),Te(()=>e.scrollTarget,b),Te(()=>e.debounce,p);let S=!1;So(()=>{S!==!1&&l&&va(l,S)}),Ki(()=>{S=l?wr(l):!1}),st(()=>{r.value===!0&&l.removeEventListener("scroll",u,$r)}),It(()=>{p(e.debounce),b(),i.value===!1&&_()});const M=Be();return Object.assign(M.proxy,{poll:()=>{u!==void 0&&u()},trigger:f,stop:y,reset:h,resume:m,setIndex:g,updateScrollTarget:b}),()=>{const T=hl(t.default,[]);return x.value===!0&&T[e.reverse===!1?"push":"unshift"](v("div",{ref:a,class:c.value},We(t.loading))),v("div",{class:"q-infinite-scroll",ref:o},T)}}});xe({name:"QInnerLoading",props:{...ct,...ro,showing:Boolean,color:String,size:{type:[String,Number],default:"42px"},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(e,{slots:t}){const n=Be(),i=dt(e,n.proxy.$q),{transitionProps:r,transitionStyle:o}=Pc(e),a=w(()=>"q-inner-loading q--avoid-card-border absolute-full column flex-center"+(i.value===!0?" q-inner-loading--dark":"")),s=w(()=>"q-inner-loading__label"+(e.labelClass!==void 0?` ${e.labelClass}`:""));function l(){const c=[v(vi,{size:e.size,color:e.color})];return e.label!==void 0&&c.push(v("div",{class:s.value,style:e.labelStyle},[e.label])),c}function u(){return e.showing===!0?v("div",{class:a.value,style:o.value},t.default!==void 0?t.default():l()):null}return()=>v(Kt,r.value,u)}});var yv={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},hc={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},cx=Object.keys(hc);cx.forEach(e=>{hc[e].regex=new RegExp(hc[e].pattern)});var nA=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+cx.join("")+"])|(.)","g"),bv=/[.*+?^${}()|[\]\\]/g,jt=String.fromCharCode(1),iA={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function rA(e,t,n,i){let r,o,a,s,l,u;const c=ee(null),d=ee(h());function f(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}Te(()=>e.type+e.autogrow,y),Te(()=>e.mask,L=>{if(L!==void 0)b(d.value,!0);else{const I=T(d.value);y(),e.modelValue!==I&&t("update:modelValue",I)}}),Te(()=>e.fillMask+e.reverseFillMask,()=>{c.value===!0&&b(d.value,!0)}),Te(()=>e.unmaskedValue,()=>{c.value===!0&&b(d.value)});function h(){if(y(),c.value===!0){const L=S(T(e.modelValue));return e.fillMask!==!1?R(L):L}return e.modelValue}function m(L){if(L<r.length)return r.slice(-L);let I="",k=r;const A=k.indexOf(jt);if(A!==-1){for(let C=L-k.length;C>0;C--)I+=jt;k=k.slice(0,A)+I+k.slice(A)}return k}function y(){if(c.value=e.mask!==void 0&&e.mask.length!==0&&f(),c.value===!1){s=void 0,r="",o="";return}const L=yv[e.mask]===void 0?e.mask:yv[e.mask],I=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",k=I.replace(bv,"\\$&"),A=[],C=[],E=[];let D=e.reverseFillMask===!0,q="",O="";L.replace(nA,(W,P,Z,ne,J)=>{if(ne!==void 0){const U=hc[ne];E.push(U),O=U.negate,D===!0&&(C.push("(?:"+O+"+)?("+U.pattern+"+)?(?:"+O+"+)?("+U.pattern+"+)?"),D=!1),C.push("(?:"+O+"+)?("+U.pattern+")?")}else if(Z!==void 0)q="\\"+(Z==="\\"?"":Z),E.push(Z),A.push("([^"+q+"]+)?"+q+"?");else{const U=P!==void 0?P:J;q=U==="\\"?"\\\\\\\\":U.replace(bv,"\\\\$&"),E.push(U),A.push("([^"+q+"]+)?"+q+"?")}});const G=new RegExp("^"+A.join("")+"("+(q===""?".":"[^"+q+"]")+"+)?"+(q===""?"":"["+q+"]*")+"$"),Y=C.length-1,le=C.map((W,P)=>P===0&&e.reverseFillMask===!0?new RegExp("^"+k+"*"+W):P===Y?new RegExp("^"+W+"("+(O===""?".":O)+"+)?"+(e.reverseFillMask===!0?"$":k+"*")):new RegExp("^"+W));a=E,s=W=>{const P=G.exec(e.reverseFillMask===!0?W:W.slice(0,E.length+1));P!==null&&(W=P.slice(1).join(""));const Z=[],ne=le.length;for(let J=0,U=W;J<ne;J++){const $=le[J].exec(U);if($===null)break;U=U.slice($.shift().length),Z.push(...$)}return Z.length!==0?Z.join(""):W},r=E.map(W=>typeof W=="string"?W:jt).join(""),o=r.split(jt).join(I)}function b(L,I,k){const A=i.value,C=A.selectionEnd,E=A.value.length-C,D=T(L);I===!0&&y();const q=S(D),O=e.fillMask!==!1?R(q):q,G=d.value!==O;A.value!==O&&(A.value=O),G===!0&&(d.value=O),document.activeElement===A&&ut(()=>{if(O===o){const le=e.reverseFillMask===!0?o.length:0;A.setSelectionRange(le,le,"forward");return}if(k==="insertFromPaste"&&e.reverseFillMask!==!0){const le=A.selectionEnd;let W=C-1;for(let P=l;P<=W&&P<le;P++)r[P]!==jt&&W++;p.right(A,W);return}if(["deleteContentBackward","deleteContentForward"].indexOf(k)!==-1){const le=e.reverseFillMask===!0?C===0?O.length>q.length?1:0:Math.max(0,O.length-(O===o?0:Math.min(q.length,E)+1))+1:C;A.setSelectionRange(le,le,"forward");return}if(e.reverseFillMask===!0)if(G===!0){const le=Math.max(0,O.length-(O===o?0:Math.min(q.length,E+1)));le===1&&C===1?A.setSelectionRange(le,le,"forward"):p.rightReverse(A,le)}else{const le=O.length-E;A.setSelectionRange(le,le,"backward")}else if(G===!0){const le=Math.max(0,r.indexOf(jt),Math.min(q.length,C)-1);p.right(A,le)}else{const le=C-1;p.right(A,le)}});const Y=e.unmaskedValue===!0?T(O):O;String(e.modelValue)!==Y&&(e.modelValue!==null||Y!=="")&&n(Y,!0)}function g(L,I,k){const A=S(T(L.value));I=Math.max(0,r.indexOf(jt),Math.min(A.length,I)),l=I,L.setSelectionRange(I,k,"forward")}const p={left(L,I){const k=r.slice(I-1).indexOf(jt)===-1;let A=Math.max(0,I-1);for(;A>=0;A--)if(r[A]===jt){I=A,k===!0&&I++;break}if(A<0&&r[I]!==void 0&&r[I]!==jt)return p.right(L,0);I>=0&&L.setSelectionRange(I,I,"backward")},right(L,I){const k=L.value.length;let A=Math.min(k,I+1);for(;A<=k;A++)if(r[A]===jt){I=A;break}else r[A-1]===jt&&(I=A);if(A>k&&r[I-1]!==void 0&&r[I-1]!==jt)return p.left(L,k);L.setSelectionRange(I,I,"forward")},leftReverse(L,I){const k=m(L.value.length);let A=Math.max(0,I-1);for(;A>=0;A--)if(k[A-1]===jt){I=A;break}else if(k[A]===jt&&(I=A,A===0))break;if(A<0&&k[I]!==void 0&&k[I]!==jt)return p.rightReverse(L,0);I>=0&&L.setSelectionRange(I,I,"backward")},rightReverse(L,I){const k=L.value.length,A=m(k),C=A.slice(0,I+1).indexOf(jt)===-1;let E=Math.min(k,I+1);for(;E<=k;E++)if(A[E-1]===jt){I=E,I>0&&C===!0&&I--;break}if(E>k&&A[I-1]!==void 0&&A[I-1]!==jt)return p.leftReverse(L,k);L.setSelectionRange(I,I,"forward")}};function _(L){t("click",L),u=void 0}function x(L){if(t("keydown",L),Eo(L)===!0||L.altKey===!0)return;const I=i.value,k=I.selectionStart,A=I.selectionEnd;if(L.shiftKey||(u=void 0),L.keyCode===37||L.keyCode===39){L.shiftKey&&u===void 0&&(u=I.selectionDirection==="forward"?k:A);const C=p[(L.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(L.preventDefault(),C(I,u===k?A:k),L.shiftKey){const E=I.selectionStart;I.setSelectionRange(Math.min(u,E),Math.max(u,E),"forward")}}else L.keyCode===8&&e.reverseFillMask!==!0&&k===A?(p.left(I,k),I.setSelectionRange(I.selectionStart,A,"backward")):L.keyCode===46&&e.reverseFillMask===!0&&k===A&&(p.rightReverse(I,A),I.setSelectionRange(k,I.selectionEnd,"forward"))}function S(L){if(L==null||L==="")return"";if(e.reverseFillMask===!0)return M(L);const I=a;let k=0,A="";for(let C=0;C<I.length;C++){const E=L[k],D=I[C];if(typeof D=="string")A+=D,E===D&&k++;else if(E!==void 0&&D.regex.test(E))A+=D.transform!==void 0?D.transform(E):E,k++;else return A}return A}function M(L){const I=a,k=r.indexOf(jt);let A=L.length-1,C="";for(let E=I.length-1;E>=0&&A!==-1;E--){const D=I[E];let q=L[A];if(typeof D=="string")C=D+C,q===D&&A--;else if(q!==void 0&&D.regex.test(q))do C=(D.transform!==void 0?D.transform(q):q)+C,A--,q=L[A];while(k===E&&q!==void 0&&D.regex.test(q));else return C}return C}function T(L){return typeof L!="string"||s===void 0?typeof L=="number"?s(""+L):L:s(L)}function R(L){return o.length-L.length<=0?L:e.reverseFillMask===!0&&L.length!==0?o.slice(0,-L.length)+L:L+o.slice(L.length)}return{innerValue:d,hasMask:c,moveCursorForPaste:g,updateMaskValue:b,onMaskedKeydown:x,onMaskedClick:_}}var oA=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,aA=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,sA=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,lA=/[a-z0-9_ -]$/i;function dx(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(rt.is.firefox===!0?lA.test(n.data)===!1:oA.test(n.data)===!0||aA.test(n.data)===!0||sA.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}var fx=xe({name:"QInput",inheritAttrs:!1,props:{...Nc,...iA,...ei,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...zc,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:i}=Be(),{$q:r}=i,o={};let a=NaN,s,l,u=null,c;const d=ee(null),f=Kh(e),{innerValue:h,hasMask:m,moveCursorForPaste:y,updateMaskValue:b,onMaskedKeydown:g,onMaskedClick:p}=rA(e,t,q,d),_=ux(e,!0),x=w(()=>wo(h.value)),S=dx(E),M=qc({changeEvent:!0}),T=w(()=>e.type==="textarea"||e.autogrow===!0),R=w(()=>T.value===!0||["text","search","url","tel","password"].includes(e.type)),L=w(()=>{const P={...M.splitAttrs.listeners.value,onInput:E,onPaste:C,onChange:G,onBlur:Y,onFocus:Bt};return P.onCompositionstart=P.onCompositionupdate=P.onCompositionend=S,m.value===!0&&(P.onKeydown=g,P.onClick=p),e.autogrow===!0&&(P.onAnimationend=D),P}),I=w(()=>{const P={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:f.value,...M.splitAttrs.attributes.value,id:M.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return T.value===!1&&(P.type=e.type),e.autogrow===!0&&(P.rows=1),P});Te(()=>e.type,()=>{d.value&&(d.value.value=e.modelValue)}),Te(()=>e.modelValue,P=>{if(m.value===!0){if(l===!0&&(l=!1,String(P)===a))return;b(P)}else h.value!==P&&(h.value=P,e.type==="number"&&o.hasOwnProperty("value")===!0&&(s===!0?s=!1:delete o.value));e.autogrow===!0&&ut(O)}),Te(()=>e.autogrow,P=>{P===!0?ut(O):d.value!==null&&n.rows>0&&(d.value.style.height="auto")}),Te(()=>e.dense,()=>{e.autogrow===!0&&ut(O)});function k(){Ua(()=>{const P=document.activeElement;d.value!==null&&d.value!==P&&(P===null||P.id!==M.targetUid.value)&&d.value.focus({preventScroll:!0})})}function A(){d.value!==null&&d.value.select()}function C(P){if(m.value===!0&&e.reverseFillMask!==!0){const Z=P.target;y(Z,Z.selectionStart,Z.selectionEnd)}t("paste",P)}function E(P){if(!P||!P.target)return;if(e.type==="file"){t("update:modelValue",P.target.files);return}const Z=P.target.value;if(P.target.qComposing===!0){o.value=Z;return}if(m.value===!0)b(Z,!1,P.inputType);else if(q(Z),R.value===!0&&P.target===document.activeElement){const{selectionStart:ne,selectionEnd:J}=P.target;ne!==void 0&&J!==void 0&&ut(()=>{P.target===document.activeElement&&Z.indexOf(P.target.value)===0&&P.target.setSelectionRange(ne,J)})}e.autogrow===!0&&O()}function D(P){t("animationend",P),O()}function q(P,Z){c=()=>{u=null,e.type!=="number"&&o.hasOwnProperty("value")===!0&&delete o.value,e.modelValue!==P&&a!==P&&(a=P,Z===!0&&(l=!0),t("update:modelValue",P),ut(()=>{a===P&&(a=NaN)})),c=void 0},e.type==="number"&&(s=!0,o.value=P),e.debounce!==void 0?(u!==null&&clearTimeout(u),o.value=P,u=setTimeout(c,e.debounce)):c()}function O(){requestAnimationFrame(()=>{const P=d.value;if(P!==null){const Z=P.parentNode.style,{scrollTop:ne}=P,{overflowY:J,maxHeight:U}=r.platform.is.firefox===!0?{}:window.getComputedStyle(P),$=J!==void 0&&J!=="scroll";$===!0&&(P.style.overflowY="hidden"),Z.marginBottom=P.scrollHeight-1+"px",P.style.height="1px",P.style.height=P.scrollHeight+"px",$===!0&&(P.style.overflowY=parseInt(U,10)<P.scrollHeight?"auto":"hidden"),Z.marginBottom="",P.scrollTop=ne}})}function G(P){S(P),u!==null&&(clearTimeout(u),u=null),c!==void 0&&c(),t("change",P.target.value)}function Y(P){P!==void 0&&Bt(P),u!==null&&(clearTimeout(u),u=null),c!==void 0&&c(),s=!1,l=!1,delete o.value,e.type!=="file"&&setTimeout(()=>{d.value!==null&&(d.value.value=h.value!==void 0?h.value:"")})}function le(){return o.hasOwnProperty("value")===!0?o.value:h.value!==void 0?h.value:""}st(()=>{Y()}),It(()=>{e.autogrow===!0&&O()}),Object.assign(M,{innerValue:h,fieldClass:w(()=>`q-${T.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:w(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:d,emitValue:q,hasValue:x,floatingLabel:w(()=>x.value===!0&&(e.type!=="number"||isNaN(h.value)===!1)||wo(e.displayValue)),getControl:()=>v(T.value===!0?"textarea":"input",{ref:d,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...I.value,...L.value,...e.type!=="file"?{value:le()}:_.value}),getShadowControl:()=>v("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(T.value===!0?"":" text-no-wrap")},[v("span",{class:"invisible"},le()),v("span",e.shadowText)])});const W=Hc(M);return Object.assign(i,{focus:k,select:A,getNativeElement:()=>d.value}),Jt(i,"nativeEl",()=>d.value),W}}),xv={threshold:0,root:null,rootMargin:"0px"};function _v(e,t,n){let i,r,o;typeof n=="function"?(i=n,r=xv,o=t.cfg===void 0):(i=n.handler,r=Object.assign({},xv,n.cfg),o=t.cfg===void 0||li(t.cfg,r)===!1),t.handler!==i&&(t.handler=i),o===!0&&(t.cfg=r,t.observer!==void 0&&t.observer.unobserve(e),t.observer=new IntersectionObserver(([a])=>{if(typeof t.handler=="function"){if(a.rootBounds===null&&document.body.contains(e)===!0){t.observer.unobserve(e),t.observer.observe(e);return}(t.handler(a,t.observer)===!1||t.once===!0&&a.isIntersecting===!0)&&hx(e)}},r),t.observer.observe(e))}function hx(e){const t=e.__qvisible;t!==void 0&&(t.observer!==void 0&&t.observer.unobserve(e),delete e.__qvisible)}var uA=gi({name:"intersection",mounted(e,{modifiers:t,value:n}){const i={once:t.once===!0};_v(e,i,n),e.__qvisible=i},updated(e,t){const n=e.__qvisible;n!==void 0&&_v(e,n,t.value)},beforeUnmount:hx});xe({name:"QIntersection",props:{tag:{type:String,default:"div"},once:Boolean,transition:String,transitionDuration:{type:[String,Number],default:300},ssrPrerender:Boolean,margin:String,threshold:[Number,Array],root:{default:null},disable:Boolean,onVisibility:Function},setup(e,{slots:t,emit:n}){const i=ee(Kn.value===!0?e.ssrPrerender:!1),r=w(()=>e.root!==void 0||e.margin!==void 0||e.threshold!==void 0?{handler:l,cfg:{root:e.root,rootMargin:e.margin,threshold:e.threshold}}:l),o=w(()=>e.disable!==!0&&(Kn.value!==!0||e.once!==!0||e.ssrPrerender!==!0)),a=w(()=>[[uA,r.value,void 0,{once:e.once}]]),s=w(()=>`--q-transition-duration: ${e.transitionDuration}ms`);function l(c){i.value!==c.isIntersecting&&(i.value=c.isIntersecting,e.onVisibility!==void 0&&n("visibility",i.value))}function u(){if(i.value===!0)return[v("div",{key:"content",style:s.value},We(t.default))];if(t.hidden!==void 0)return[v("div",{key:"hidden",style:s.value},t.hidden())]}return()=>{const c=e.transition?[v(Kt,{name:"q-transition--"+e.transition},u)]:u();return Jn(e.tag,{class:"q-intersection"},c,"main",o.value,()=>a.value)}}});var cA=xe({name:"QList",props:{...ct,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const n=Be(),i=dt(e,n.proxy.$q),r=w(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(i.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>v(e.tag,{class:r.value},We(t.default))}}),wv=[34,37,40,33,39,38],dA=Object.keys(am);xe({name:"QKnob",props:{...ei,...am,modelValue:{type:Number,required:!0},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},tabindex:{type:[Number,String],default:0},disable:Boolean,readonly:Boolean},emits:["update:modelValue","change","dragValue"],setup(e,{slots:t,emit:n}){const{proxy:i}=Be(),{$q:r}=i,o=ee(e.modelValue),a=ee(!1),s=w(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),l=w(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax);let u;function c(){o.value=e.modelValue===null?s.value:wt(e.modelValue,s.value,l.value),k(!0)}Te(()=>`${e.modelValue}|${s.value}|${l.value}`,c),c();const d=w(()=>e.disable===!1&&e.readonly===!1),f=w(()=>"q-knob non-selectable"+(d.value===!0?" q-knob--editable":e.disable===!0?" disabled":"")),h=w(()=>(String(e.step).trim().split(".")[1]||"").length),m=w(()=>e.step===0?1:e.step),y=w(()=>e.instantFeedback===!0||a.value===!0),b=r.platform.is.mobile===!0?w(()=>d.value===!0?{onClick:T}:{}):w(()=>d.value===!0?{onMousedown:M,onClick:T,onKeydown:R,onKeyup:I}:{}),g=w(()=>d.value===!0?{tabindex:e.tabindex}:{[`aria-${e.disable===!0?"disabled":"readonly"}`]:"true"}),p=w(()=>{const E={};return dA.forEach(D=>{E[D]=e[D]}),E});function _(E){E.isFinal?(L(E.evt,!0),a.value=!1):(E.isFirst&&(S(),a.value=!0),L(E.evt))}const x=w(()=>[[$n,_,void 0,{prevent:!0,stop:!0,mouse:!0}]]);function S(){const{top:E,left:D,width:q,height:O}=i.$el.getBoundingClientRect();u={top:E+O/2,left:D+q/2}}function M(E){S(),L(E)}function T(E){S(),L(E,!0)}function R(E){if(!wv.includes(E.keyCode))return;nt(E);const D=([34,33].includes(E.keyCode)?10:1)*m.value,q=[34,37,40].includes(E.keyCode)?-D:D;o.value=wt(parseFloat((o.value+q).toFixed(h.value)),s.value,l.value),k()}function L(E,D){const q=En(E),O=Math.abs(q.top-u.top),G=Math.sqrt(O**2+Math.abs(q.left-u.left)**2);let Y=Math.asin(O/G)*(180/Math.PI);q.top<u.top?Y=u.left<q.left?90-Y:270+Y:Y=u.left<q.left?Y+90:270-Y,r.lang.rtl===!0?Y=ec(-Y-e.angle,0,360):e.angle&&(Y=ec(Y-e.angle,0,360)),e.reverse===!0&&(Y=360-Y);let le=e.min+Y/360*(e.max-e.min);if(m.value!==0){const W=le%m.value;le=le-W+(Math.abs(W)>=m.value/2?(W<0?-1:1)*m.value:0),le=parseFloat(le.toFixed(h.value))}le=wt(le,s.value,l.value),n("dragValue",le),o.value!==le&&(o.value=le),k(D)}function I(E){wv.includes(E.keyCode)&&k(!0)}function k(E){e.modelValue!==o.value&&n("update:modelValue",o.value),E===!0&&n("change",o.value)}const A=pl(e);function C(){return v("input",A.value)}return()=>{const E={class:f.value,role:"slider","aria-valuemin":s.value,"aria-valuemax":l.value,"aria-valuenow":e.modelValue,...g.value,...p.value,value:o.value,instantFeedback:y.value,...b.value},D={default:t.default};return d.value===!0&&e.name!==void 0&&(D.internal=C),Jn(Lb,E,D,"knob",d.value,()=>x.value)}}});var{passive:Sv}=xt,fA=["both","horizontal","vertical"],mx=xe({name:"QScrollObserver",props:{axis:{type:String,validator:e=>fA.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:Lo},emits:["scroll"],setup(e,{emit:t}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let i=null,r,o;Te(()=>e.scrollTarget,()=>{l(),s()});function a(){i!==null&&i();const d=Math.max(0,wr(r)),f=Bc(r),h={top:d-n.position.top,left:f-n.position.left};if(e.axis==="vertical"&&h.top===0||e.axis==="horizontal"&&h.left===0)return;const m=Math.abs(h.top)>=Math.abs(h.left)?h.top<0?"up":"down":h.left<0?"left":"right";n.position={top:d,left:f},n.directionChanged=n.direction!==m,n.delta=h,n.directionChanged===!0&&(n.direction=m,n.inflectionPoint=n.position),t("scroll",{...n})}function s(){r=Pi(o,e.scrollTarget),r.addEventListener("scroll",u,Sv),u(!0)}function l(){r!==void 0&&(r.removeEventListener("scroll",u,Sv),r=void 0)}function u(d){if(d===!0||e.debounce===0||e.debounce==="0")a();else if(i===null){const[f,h]=e.debounce?[setTimeout(a,e.debounce),clearTimeout]:[requestAnimationFrame(a),cancelAnimationFrame];i=()=>{h(f),i=null}}}const{proxy:c}=Be();return Te(()=>c.$q.lang.rtl,a),It(()=>{o=c.$el.parentNode,s()}),st(()=>{i!==null&&i(),l()}),Object.assign(c,{trigger:u,getPosition:()=>n}),$t}});xe({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=Be(),r=ee(null),o=ee(i.screen.height),a=ee(e.container===!0?0:i.screen.width),s=ee({position:0,direction:"down",inflectionPoint:0}),l=ee(0),u=ee(Kn.value===!0?0:Mu()),c=w(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),d=w(()=>e.container===!1?{minHeight:i.screen.height+"px"}:null),f=w(()=>u.value!==0?{[i.lang.rtl===!0?"left":"right"]:`${u.value}px`}:null),h=w(()=>u.value!==0?{[i.lang.rtl===!0?"right":"left"]:0,[i.lang.rtl===!0?"left":"right"]:`-${u.value}px`,width:`calc(100% + ${u.value}px)`}:null);function m(x){if(e.container===!0||document.qScrollPrevented!==!0){const S={position:x.position.top,direction:x.direction,directionChanged:x.directionChanged,inflectionPoint:x.inflectionPoint.top,delta:x.delta.top};s.value=S,e.onScroll!==void 0&&n("scroll",S)}}function y(x){const{height:S,width:M}=x;let T=!1;o.value!==S&&(T=!0,o.value=S,e.onScrollHeight!==void 0&&n("scrollHeight",S),g()),a.value!==M&&(T=!0,a.value=M),T===!0&&e.onResize!==void 0&&n("resize",x)}function b({height:x}){l.value!==x&&(l.value=x,g())}function g(){if(e.container===!0){const x=o.value>l.value?Mu():0;u.value!==x&&(u.value=x)}}let p=null;const _={instances:{},view:w(()=>e.view),isContainer:w(()=>e.container),rootRef:r,height:o,containerHeight:l,scrollbarWidth:u,totalWidth:w(()=>a.value+u.value),rows:w(()=>{const x=e.view.toLowerCase().split(" ");return{top:x[0].split(""),middle:x[1].split(""),bottom:x[2].split("")}}),header:na({size:0,offset:0,space:!1}),right:na({size:300,offset:0,space:!1}),footer:na({size:0,offset:0,space:!1}),left:na({size:300,offset:0,space:!1}),scroll:s,animate(){p!==null?clearTimeout(p):document.body.classList.add("q-body--layout-animate"),p=setTimeout(()=>{p=null,document.body.classList.remove("q-body--layout-animate")},155)},update(x,S,M){_[x][S]=M}};if(Pr(Ao,_),Mu()>0){let x=function(){T=null,R.classList.remove("hide-scrollbar")},S=function(){if(T===null){if(R.scrollHeight>i.screen.height)return;R.classList.add("hide-scrollbar")}else clearTimeout(T);T=setTimeout(x,300)},M=function(L){T!==null&&L==="remove"&&(clearTimeout(T),x()),window[`${L}EventListener`]("resize",S)},T=null;const R=document.body;Te(()=>e.container!==!0?"add":"remove",M),e.container!==!0&&M("add"),Zv(()=>{M("remove")})}return()=>{const x=Nt(t.default,[v(mx,{onScroll:m}),v(xo,{onResize:y})]),S=v("div",{class:c.value,style:d.value,ref:e.container===!0?void 0:r,tabindex:-1},x);return e.container===!0?v("div",{class:"q-layout-container overflow-hidden",ref:r},[v(xo,{onResize:b}),v("div",{class:"absolute-full",style:f.value},[v("div",{class:"scroll",style:h.value},[S])])]):S}}});var hA=["horizontal","vertical","cell","none"],mA=xe({name:"QMarkupTable",props:{...ct,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>hA.includes(e)}},setup(e,{slots:t}){const n=Be(),i=dt(e,n.proxy.$q),r=w(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(i.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>v("div",{class:r.value},[v("table",{class:"q-table"},We(t.default))])}});xe({name:"QNoSsr",props:{tag:{type:String,default:"div"},placeholder:String},setup(e,{slots:t}){const{isHydrated:n}=Bb();return()=>{if(n.value===!0){const o=We(t.default);return o===void 0?o:o.length>1?v(e.tag,{},o):o[0]}const i={class:"q-no-ssr-placeholder"},r=We(t.placeholder);if(r!==void 0)return r.length>1?v(e.tag,i,r):r[0];if(e.placeholder!==void 0)return v(e.tag,i,e.placeholder)}}});var pA=v("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[v("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),v("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]),vA=xe({name:"QRadio",props:{...ct,...Ji,...ei,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:t,emit:n}){const{proxy:i}=Be(),r=dt(e,i.$q),o=er(e,wb),a=ee(null),{refocusTargetEl:s,refocusTarget:l}=_b(e,a),u=w(()=>Vi(e.modelValue)===Vi(e.val)),c=w(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(r.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),d=w(()=>{const _=e.color!==void 0&&(e.keepColor===!0||u.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${u.value===!0?"truthy":"falsy"}${_}`}),f=w(()=>(u.value===!0?e.checkedIcon:e.uncheckedIcon)||null),h=w(()=>e.disable===!0?-1:e.tabindex||0),m=w(()=>{const _={type:"radio"};return e.name!==void 0&&Object.assign(_,{".checked":u.value===!0,"^checked":u.value===!0?"checked":void 0,name:e.name,value:e.val}),_}),y=Ir(m);function b(_){_!==void 0&&(nt(_),l(_)),e.disable!==!0&&u.value!==!0&&n("update:modelValue",e.val,_)}function g(_){(_.keyCode===13||_.keyCode===32)&&nt(_)}function p(_){(_.keyCode===13||_.keyCode===32)&&b(_)}return Object.assign(i,{set:b}),()=>{const _=f.value!==null?[v("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[v(ft,{class:"q-radio__icon",name:f.value})])]:[pA];e.disable!==!0&&y(_,"unshift"," q-radio__native q-ma-none q-pa-none");const x=[v("div",{class:d.value,style:o.value,"aria-hidden":"true"},_)];s.value!==null&&x.push(s.value);const S=e.label!==void 0?Nt(t.default,[e.label]):We(t.default);return S!==void 0&&x.push(v("div",{class:"q-radio__label q-anchor--skip"},S)),v("div",{ref:a,class:c.value,tabindex:h.value,role:"radio","aria-label":e.label,"aria-checked":u.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:b,onKeydown:g,onKeyup:p},x)}}}),gA=xe({name:"QToggle",props:{...Sb,icon:String,iconColor:String},emits:Mb,setup(e){function t(n,i){const r=w(()=>(n.value===!0?e.checkedIcon:i.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),o=w(()=>n.value===!0?e.iconColor:null);return()=>[v("div",{class:"q-toggle__track"}),v("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},r.value!==void 0?[v(ft,{name:r.value,color:o.value})]:void 0)]}return Tb("toggle",t)}}),px={radio:vA,checkbox:bs,toggle:gA},yA=Object.keys(px),bA=xe({name:"QOptionGroup",props:{...ct,modelValue:{required:!0},options:{type:Array,validator:e=>e.every(t=>"value"in t&&"label"in t)},name:String,type:{type:String,default:"radio",validator:e=>yA.includes(e)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{emit:t,slots:n}){const{proxy:{$q:i}}=Be(),r=Array.isArray(e.modelValue);e.type==="radio"?r===!0&&console.error("q-option-group: model should not be array"):r===!1&&console.error("q-option-group: model should be array in your case");const o=dt(e,i),a=w(()=>px[e.type]),s=w(()=>"q-option-group q-gutter-x-sm"+(e.inline===!0?" q-option-group--inline":"")),l=w(()=>{const c={role:"group"};return e.type==="radio"&&(c.role="radiogroup",e.disable===!0&&(c["aria-disabled"]="true")),c});function u(c){t("update:modelValue",c)}return()=>v("div",{class:s.value,...l.value},e.options.map((c,d)=>{const f=n["label-"+d]!==void 0?()=>n["label-"+d](c):n.label!==void 0?()=>n.label(c):void 0;return v("div",[v(a.value,{modelValue:e.modelValue,val:c.value,name:c.name===void 0?e.name:c.name,disable:e.disable||c.disable,label:f===void 0?c.label:null,leftLabel:c.leftLabel===void 0?e.leftLabel:c.leftLabel,color:c.color===void 0?e.color:c.color,checkedIcon:c.checkedIcon,uncheckedIcon:c.uncheckedIcon,dark:c.dark||o.value,size:c.size===void 0?e.size:c.size,dense:e.dense,keepColor:c.keepColor===void 0?e.keepColor:c.keepColor,"onUpdate:modelValue":u},f)])}))}});xe({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:n}}=Be(),i=Ln(Ao,gt);if(i===gt)return console.error("QPage needs to be a deep child of QLayout"),gt;if(Ln(Vy,gt)===gt)return console.error("QPage needs to be child of QPageContainer"),gt;const o=w(()=>{const s=(i.header.space===!0?i.header.size:0)+(i.footer.space===!0?i.footer.size:0);if(typeof e.styleFn=="function"){const l=i.isContainer.value===!0?i.containerHeight.value:n.screen.height;return e.styleFn(s,l)}return{minHeight:i.isContainer.value===!0?i.containerHeight.value-s+"px":n.screen.height===0?s!==0?`calc(100vh - ${s}px)`:"100vh":n.screen.height-s+"px"}}),a=w(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>v("main",{class:a.value,style:o.value},We(t.default))}});xe({name:"QPageContainer",setup(e,{slots:t}){const{proxy:{$q:n}}=Be(),i=Ln(Ao,gt);if(i===gt)return console.error("QPageContainer needs to be child of QLayout"),gt;Pr(Vy,!0);const r=w(()=>{const o={};return i.header.space===!0&&(o.paddingTop=`${i.header.size}px`),i.right.space===!0&&(o[`padding${n.lang.rtl===!0?"Left":"Right"}`]=`${i.right.size}px`),i.footer.space===!0&&(o.paddingBottom=`${i.footer.size}px`),i.left.space===!0&&(o[`padding${n.lang.rtl===!0?"Right":"Left"}`]=`${i.left.size}px`),o});return()=>v("div",{class:"q-page-container",style:r.value},We(t.default))}});var $f={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function vx(){const{props:e,proxy:{$q:t}}=Be(),n=Ln(Ao,gt);if(n===gt)return console.error("QPageSticky needs to be child of QLayout"),gt;const i=w(()=>{const d=e.position;return{top:d.indexOf("top")!==-1,right:d.indexOf("right")!==-1,bottom:d.indexOf("bottom")!==-1,left:d.indexOf("left")!==-1,vertical:d==="top"||d==="bottom",horizontal:d==="left"||d==="right"}}),r=w(()=>n.header.offset),o=w(()=>n.right.offset),a=w(()=>n.footer.offset),s=w(()=>n.left.offset),l=w(()=>{let d=0,f=0;const h=i.value,m=t.lang.rtl===!0?-1:1;h.top===!0&&r.value!==0?f=`${r.value}px`:h.bottom===!0&&a.value!==0&&(f=`${-a.value}px`),h.left===!0&&s.value!==0?d=`${m*s.value}px`:h.right===!0&&o.value!==0&&(d=`${-m*o.value}px`);const y={transform:`translate(${d}, ${f})`};return e.offset&&(y.margin=`${e.offset[1]}px ${e.offset[0]}px`),h.vertical===!0?(s.value!==0&&(y[t.lang.rtl===!0?"right":"left"]=`${s.value}px`),o.value!==0&&(y[t.lang.rtl===!0?"left":"right"]=`${o.value}px`)):h.horizontal===!0&&(r.value!==0&&(y.top=`${r.value}px`),a.value!==0&&(y.bottom=`${a.value}px`)),y}),u=w(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function c(d){const f=We(d.default);return v("div",{class:u.value,style:l.value},e.expand===!0?f:[v("div",f)])}return{$layout:n,getStickyContent:c}}xe({name:"QPageScroller",props:{...$f,scrollOffset:{type:Number,default:1e3},reverse:Boolean,duration:{type:Number,default:300},offset:{...$f.offset,default:()=>[18,18]}},emits:["click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=Be(),{$layout:r,getStickyContent:o}=vx(),a=ee(null);let s;const l=w(()=>r.height.value-(r.isContainer.value===!0?r.containerHeight.value:i.screen.height));function u(){return e.reverse===!0?l.value-r.scroll.value.position>e.scrollOffset:r.scroll.value.position>e.scrollOffset}const c=ee(u());function d(){const b=u();c.value!==b&&(c.value=b)}function f(){e.reverse===!0?s===void 0&&(s=Te(l,d)):h()}Te(r.scroll,d),Te(()=>e.reverse,f);function h(){s!==void 0&&(s(),s=void 0)}function m(b){const g=Pi(r.isContainer.value===!0?a.value:r.rootRef.value);va(g,e.reverse===!0?r.height.value:0,e.duration),n("click",b)}function y(){return c.value===!0?v("div",{ref:a,class:"q-page-scroller",onClick:m},o(t)):null}return f(),st(h),()=>v(Kt,{name:"q-transition--fade"},y)}});xe({name:"QPageSticky",props:$f,setup(e,{slots:t}){const{getStickyContent:n}=vx();return()=>n(t)}});function pu(e,t){return[!0,!1].includes(e)?e:t}xe({name:"QPagination",props:{...ct,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||ib.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:t}){const{proxy:n}=Be(),{$q:i}=n,r=dt(e,i),o=w(()=>parseInt(e.min,10)),a=w(()=>parseInt(e.max,10)),s=w(()=>parseInt(e.maxPages,10)),l=w(()=>m.value+" / "+a.value),u=w(()=>pu(e.boundaryLinks,e.input)),c=w(()=>pu(e.boundaryNumbers,!e.input)),d=w(()=>pu(e.directionLinks,e.input)),f=w(()=>pu(e.ellipses,!e.input)),h=ee(null),m=w({get:()=>e.modelValue,set:C=>{if(C=parseInt(C,10),e.disable||isNaN(C))return;const E=wt(C,o.value,a.value);e.modelValue!==E&&t("update:modelValue",E)}});Te(()=>`${o.value}|${a.value}`,()=>{m.value=e.modelValue});const y=w(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),b=w(()=>e.gutter in ic?`${ic[e.gutter]}px`:e.gutter||null),g=w(()=>b.value!==null?`--q-pagination-gutter-parent:-${b.value};--q-pagination-gutter-child:${b.value}`:null),p=w(()=>{const C=[e.iconFirst||i.iconSet.pagination.first,e.iconPrev||i.iconSet.pagination.prev,e.iconNext||i.iconSet.pagination.next,e.iconLast||i.iconSet.pagination.last];return i.lang.rtl===!0?C.reverse():C}),_=w(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),x=w(()=>Wh(e,"flat")),S=w(()=>({[x.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),M=w(()=>{const C={[x.value]:!1};return e.activeDesign!==""&&(C[e.activeDesign]=!0),C}),T=w(()=>({...M.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),R=w(()=>{let C=Math.max(s.value,1+(f.value?2:0)+(c.value?2:0));const E={pgFrom:o.value,pgTo:a.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(a.value).length)}em`}};return s.value&&C<a.value-o.value+1&&(C=1+Math.floor(C/2)*2,E.pgFrom=Math.max(o.value,Math.min(a.value-C+1,e.modelValue-Math.floor(C/2))),E.pgTo=Math.min(a.value,E.pgFrom+C-1),c.value&&(E.boundaryStart=!0,E.pgFrom++),f.value&&E.pgFrom>o.value+(c.value?1:0)&&(E.ellipsesStart=!0,E.pgFrom++),c.value&&(E.boundaryEnd=!0,E.pgTo--),f.value&&E.pgTo<a.value-(c.value?1:0)&&(E.ellipsesEnd=!0,E.pgTo--)),E});function L(C){m.value=C}function I(C){m.value=m.value+C}const k=w(()=>{function C(){m.value=h.value,h.value=null}return{"onUpdate:modelValue":E=>{h.value=E},onKeyup:E=>{Zn(E,13)===!0&&C()},onBlur:C}});function A(C,E,D){const q={"aria-label":E,"aria-current":"false",...S.value,...C};return D===!0&&Object.assign(q,{"aria-current":"true",...T.value}),E!==void 0&&(e.toFn!==void 0?q.to=e.toFn(E):q.onClick=()=>{L(E)}),v(pt,q)}return Object.assign(n,{set:L,setByOffset:I}),()=>{const C=[],E=[];let D;if(u.value===!0&&(C.push(A({key:"bls",disable:e.disable||e.modelValue<=o.value,icon:p.value[0]},o.value)),E.unshift(A({key:"ble",disable:e.disable||e.modelValue>=a.value,icon:p.value[3]},a.value))),d.value===!0&&(C.push(A({key:"bdp",disable:e.disable||e.modelValue<=o.value,icon:p.value[1]},e.modelValue-1)),E.unshift(A({key:"bdn",disable:e.disable||e.modelValue>=a.value,icon:p.value[2]},e.modelValue+1))),e.input!==!0){D=[];const{pgFrom:q,pgTo:O,marginalStyle:G}=R.value;if(R.value.boundaryStart===!0){const Y=o.value===e.modelValue;C.push(A({key:"bns",style:G,disable:e.disable,label:o.value},o.value,Y))}if(R.value.boundaryEnd===!0){const Y=a.value===e.modelValue;E.unshift(A({key:"bne",style:G,disable:e.disable,label:a.value},a.value,Y))}R.value.ellipsesStart===!0&&C.push(A({key:"bes",style:G,disable:e.disable,label:"\u2026",ripple:!1},q-1)),R.value.ellipsesEnd===!0&&E.unshift(A({key:"bee",style:G,disable:e.disable,label:"\u2026",ripple:!1},O+1));for(let Y=q;Y<=O;Y++)D.push(A({key:`bpg${Y}`,style:G,disable:e.disable,label:Y},Y,Y===e.modelValue))}return v("div",{class:y.value,..._.value},[v("div",{class:"q-pagination__content row no-wrap items-center",style:g.value},[...C,e.input===!0?v(fx,{class:"inline",style:{width:`${l.value.length/1.5}em`},type:"number",dense:!0,value:h.value,disable:e.disable,dark:r.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:l.value,min:o.value,max:a.value,...k.value}):v("div",{class:"q-pagination__middle row justify-center"},D),...E])])}}});function qd(e){let t=!1,n,i;function r(){i=arguments,t!==!0&&(t=!0,n=window.requestAnimationFrame(()=>{e.apply(this,i),i=void 0,t=!1}))}return r.cancel=()=>{window.cancelAnimationFrame(n),t=!1},r}var{passive:vu}=xt;xe({name:"QParallax",props:{src:String,height:{type:Number,default:500},speed:{type:Number,default:1,validator:e=>e>=0&&e<=1},scrollTarget:Lo,onScroll:Function},setup(e,{slots:t,emit:n}){const i=ee(0),r=ee(null),o=ee(null),a=ee(null);let s,l,u,c,d,f;Te(()=>e.height,()=>{s===!0&&m()}),Te(()=>e.scrollTarget,()=>{s===!0&&(p(),g())});let h=_=>{i.value=_,e.onScroll!==void 0&&n("scroll",_)};function m(){let _,x,S;f===window?(_=0,S=x=window.innerHeight):(_=nc(f).top,x=Ra(f),S=_+x);const M=nc(r.value).top,T=M+e.height;if(d!==void 0||T>_&&M<S){const R=(S-M)/(e.height+x);y((u-e.height)*R*e.speed),h(R)}}let y=_=>{l.style.transform=`translate3d(-50%,${Math.round(_)}px,0)`};function b(){u=l.naturalHeight||l.videoHeight||Ra(l),s===!0&&m()}function g(){s=!0,f=Pi(r.value,e.scrollTarget),f.addEventListener("scroll",m,vu),window.addEventListener("resize",c,vu),m()}function p(){s===!0&&(s=!1,f.removeEventListener("scroll",m,vu),window.removeEventListener("resize",c,vu),f=void 0,y.cancel(),h.cancel(),c.cancel())}return It(()=>{y=qd(y),h=qd(h),c=qd(b),l=t.media!==void 0?o.value.children[0]:a.value,l.onload=l.onloadstart=l.loadedmetadata=b,b(),l.style.display="initial",window.IntersectionObserver!==void 0?(d=new IntersectionObserver(_=>{(_[0].isIntersecting===!0?g:p)()}),d.observe(r.value)):g()}),st(()=>{p(),d!==void 0&&d.disconnect(),l.onload=l.onloadstart=l.loadedmetadata=null}),()=>v("div",{ref:r,class:"q-parallax",style:{height:`${e.height}px`}},[v("div",{ref:o,class:"q-parallax__media absolute-full"},t.media!==void 0?t.media():[v("img",{ref:a,src:e.src})]),v("div",{class:"q-parallax__content absolute-full column flex-center"},t.content!==void 0?t.content({percentScrolled:i.value}):We(t.default))])}});function xs(e,t=new WeakMap){if(Object(e)!==e)return e;if(t.has(e))return t.get(e);const n=e instanceof Date?new Date(e):e instanceof RegExp?new RegExp(e.source,e.flags):e instanceof Set?new Set:e instanceof Map?new Map:typeof e.constructor!="function"?Object.create(null):e.prototype!==void 0&&typeof e.prototype.constructor=="function"?e:new e.constructor;if(typeof e.constructor=="function"&&typeof e.valueOf=="function"){const i=e.valueOf();if(Object(i)!==i){const r=new e.constructor(i);return t.set(e,r),r}}return t.set(e,n),e instanceof Set?e.forEach(i=>{n.add(xs(i,t))}):e instanceof Map&&e.forEach((i,r)=>{n.set(r,xs(i,t))}),Object.assign(n,...Object.keys(e).map(i=>({[i]:xs(e[i],t)})))}xe({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:n}){const{proxy:i}=Be(),{$q:r}=i,o=ee(null),a=ee(""),s=ee("");let l=!1;const u=w(()=>Jt({initialValue:a.value,validate:e.validate,set:c,cancel:d,updatePosition:f},"value",()=>s.value,x=>{s.value=x}));function c(){e.validate(s.value)!==!1&&(h()===!0&&(n("save",s.value,a.value),n("update:modelValue",s.value)),m())}function d(){h()===!0&&n("cancel",s.value,a.value),m()}function f(){ut(()=>{o.value.updatePosition()})}function h(){return li(s.value,a.value)===!1}function m(){l=!0,o.value.hide()}function y(){l=!1,a.value=xs(e.modelValue),s.value=xs(e.modelValue),n("beforeShow")}function b(){n("show")}function g(){l===!1&&h()===!0&&(e.autoSave===!0&&e.validate(s.value)===!0?(n("save",s.value,a.value),n("update:modelValue",s.value)):n("cancel",s.value,a.value)),n("beforeHide")}function p(){n("hide")}function _(){const x=t.default!==void 0?[].concat(t.default(u.value)):[];return e.title&&x.unshift(v("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},e.title)),e.buttons===!0&&x.push(v("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[v(pt,{flat:!0,color:e.color,label:e.labelCancel||r.lang.label.cancel,onClick:d}),v(pt,{flat:!0,color:e.color,label:e.labelSet||r.lang.label.set,onClick:c})])),x}return Object.assign(i,{set:c,cancel:d,show(x){o.value!==null&&o.value.show(x)},hide(x){o.value!==null&&o.value.hide(x)},updatePosition:f}),()=>{if(e.disable!==!0)return v(Ic,{ref:o,class:"q-popup-edit",cover:e.cover,onBeforeShow:y,onShow:b,onBeforeHide:g,onHide:p,onEscapeKey:d},_)}}});xe({name:"QPopupProxy",props:{...sb,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:t,emit:n,attrs:i}){const{proxy:r}=Be(),{$q:o}=r,a=ee(!1),s=ee(null),l=w(()=>parseInt(e.breakpoint,10)),{canShow:u}=jh({showing:a});function c(){return o.screen.width<l.value||o.screen.height<l.value?"dialog":"menu"}const d=ee(c()),f=w(()=>d.value==="menu"?{maxHeight:"99vh"}:{});Te(()=>c(),y=>{a.value!==!0&&(d.value=y)});function h(y){a.value=!0,n("show",y)}function m(y){a.value=!1,d.value=c(),n("hide",y)}return Object.assign(r,{show(y){u(y)===!0&&s.value.show(y)},hide(y){s.value.hide(y)},toggle(y){s.value.toggle(y)}}),Jt(r,"currentComponent",()=>({type:d.value,ref:s.value})),()=>{const y={ref:s,...f.value,...i,onShow:h,onHide:m};let b;return d.value==="dialog"?b=Dc:(b=Ic,Object.assign(y,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),v(b,y,t.default)}}});var xA={xs:2,sm:4,md:6,lg:10,xl:14};function Mv(e,t,n){return{transform:t===!0?`translateX(${n.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var _A=xe({name:"QLinearProgress",props:{...ct,...Ji,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:t}){const{proxy:n}=Be(),i=dt(e,n.$q),r=er(e,xA),o=w(()=>e.indeterminate===!0||e.query===!0),a=w(()=>e.reverse!==e.query),s=w(()=>({...r.value!==null?r.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),l=w(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),u=w(()=>Mv(e.buffer!==void 0?e.buffer:1,a.value,n.$q)),c=w(()=>`with${e.instantFeedback===!0?"out":""}-transition`),d=w(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${c.value} q-linear-progress__track--${i.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),f=w(()=>Mv(o.value===!0?1:e.value,a.value,n.$q)),h=w(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${c.value} q-linear-progress__model--${o.value===!0?"in":""}determinate`),m=w(()=>({width:`${e.value*100}%`})),y=w(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${c.value}`);return()=>{const b=[v("div",{class:d.value,style:u.value}),v("div",{class:h.value,style:f.value})];return e.stripe===!0&&o.value===!1&&b.push(v("div",{class:y.value,style:m.value})),v("div",{class:l.value,style:s.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},Nt(t.default,b))}}}),ea=40,Hd=20;xe({name:"QPullToRefresh",props:{color:String,bgColor:String,icon:String,noMouse:Boolean,disable:Boolean,scrollTarget:Lo},emits:["refresh"],setup(e,{slots:t,emit:n}){const{proxy:i}=Be(),{$q:r}=i,o=ee("pull"),a=ee(0),s=ee(!1),l=ee(-ea),u=ee(!1),c=ee({}),d=w(()=>({opacity:a.value,transform:`translateY(${l.value}px) rotate(${a.value*360}deg)`})),f=w(()=>"q-pull-to-refresh__puller row flex-center"+(u.value===!0?" q-pull-to-refresh__puller--animating":"")+(e.bgColor!==void 0?` bg-${e.bgColor}`:""));function h(M){if(M.isFinal===!0){s.value===!0&&(s.value=!1,o.value==="pulled"?(o.value="refreshing",x({pos:Hd}),b()):o.value==="pull"&&x({pos:-ea,ratio:0}));return}if(u.value===!0||o.value==="refreshing")return!1;if(M.isFirst===!0){if(wr(p)!==0||M.direction!=="down")return s.value===!0&&(s.value=!1,o.value="pull",x({pos:-ea,ratio:0})),!1;s.value=!0;const{top:L,left:I}=g.getBoundingClientRect();c.value={top:L+"px",left:I+"px",width:window.getComputedStyle(g).getPropertyValue("width")}}en(M.evt);const T=Math.min(140,Math.max(0,M.distance.y));l.value=T-ea,a.value=wt(T/(Hd+ea),0,1);const R=l.value>Hd?"pulled":"pull";o.value!==R&&(o.value=R)}const m=w(()=>{const M={down:!0};return e.noMouse!==!0&&(M.mouse=!0),[[$n,h,void 0,M]]}),y=w(()=>`q-pull-to-refresh__content${s.value===!0?" no-pointer-events":""}`);function b(){n("refresh",()=>{x({pos:-ea,ratio:0},()=>{o.value="pull"})})}let g,p,_=null;function x({pos:M,ratio:T},R){u.value=!0,l.value=M,T!==void 0&&(a.value=T),_!==null&&clearTimeout(_),_=setTimeout(()=>{_=null,u.value=!1,R&&R()},300)}function S(){p=Pi(g,e.scrollTarget)}return Te(()=>e.scrollTarget,S),It(()=>{g=i.$el,S()}),st(()=>{_!==null&&clearTimeout(_)}),Object.assign(i,{trigger:b,updateScrollTarget:S}),()=>{const M=[v("div",{class:y.value},We(t.default)),v("div",{class:"q-pull-to-refresh__puller-container fixed row flex-center no-pointer-events z-top",style:c.value},[v("div",{class:f.value,style:d.value},[o.value!=="refreshing"?v(ft,{name:e.icon||r.iconSet.pullToRefresh.icon,color:e.color,size:"32px"}):v(vi,{size:"24px",color:e.color})])])];return Jn("div",{class:"q-pull-to-refresh"},M,"main",e.disable===!1,()=>m.value)}}});var fr={MIN:0,RANGE:1,MAX:2};xe({name:"QRange",props:{...Rb,modelValue:{type:Object,default:()=>({min:null,max:null}),validator:e=>"min"in e&&"max"in e},dragRange:Boolean,dragOnlyRange:Boolean,leftLabelColor:String,leftLabelTextColor:String,rightLabelColor:String,rightLabelTextColor:String,leftLabelValue:[String,Number],rightLabelValue:[String,Number],leftThumbColor:String,rightThumbColor:String},emits:kb,setup(e,{emit:t}){const{proxy:{$q:n}}=Be(),{state:i,methods:r}=Pb({updateValue:R,updatePosition:I,getDragging:L,formAttrs:w(()=>({type:"hidden",name:e.name,value:`${e.modelValue.min}|${e.modelValue.max}`}))}),o=ee(null),a=ee(0),s=ee(0),l=ee({min:0,max:0});function u(){l.value.min=e.modelValue.min===null?i.innerMin.value:wt(e.modelValue.min,i.innerMin.value,i.innerMax.value),l.value.max=e.modelValue.max===null?i.innerMax.value:wt(e.modelValue.max,i.innerMin.value,i.innerMax.value)}Te(()=>`${e.modelValue.min}|${e.modelValue.max}|${i.innerMin.value}|${i.innerMax.value}`,u),u();const c=w(()=>r.convertModelToRatio(l.value.min)),d=w(()=>r.convertModelToRatio(l.value.max)),f=w(()=>i.active.value===!0?a.value:c.value),h=w(()=>i.active.value===!0?s.value:d.value),m=w(()=>{const A={[i.positionProp.value]:`${100*f.value}%`,[i.sizeProp.value]:`${100*(h.value-f.value)}%`};return e.selectionImg!==void 0&&(A.backgroundImage=`url(${e.selectionImg}) !important`),A}),y=w(()=>{if(i.editable.value!==!0)return{};if(n.platform.is.mobile===!0)return{onClick:r.onMobileClick};const A={onMousedown:r.onActivate};return(e.dragRange===!0||e.dragOnlyRange===!0)&&Object.assign(A,{onFocus:()=>{i.focus.value="both"},onBlur:r.onBlur,onKeydown:k,onKeyup:r.onKeyup}),A});function b(A){return n.platform.is.mobile!==!0&&i.editable.value===!0&&e.dragOnlyRange!==!0?{onFocus:()=>{i.focus.value=A},onBlur:r.onBlur,onKeydown:k,onKeyup:r.onKeyup}:{}}const g=w(()=>e.dragOnlyRange!==!0?i.tabindex.value:null),p=w(()=>n.platform.is.mobile!==!0&&(e.dragRange||e.dragOnlyRange===!0)?i.tabindex.value:null),_=ee(null),x=w(()=>b("min")),S=r.getThumbRenderFn({focusValue:"min",getNodeData:()=>({ref:_,key:"tmin",...x.value,tabindex:g.value}),ratio:f,label:w(()=>e.leftLabelValue!==void 0?e.leftLabelValue:l.value.min),thumbColor:w(()=>e.leftThumbColor||e.thumbColor||e.color),labelColor:w(()=>e.leftLabelColor||e.labelColor),labelTextColor:w(()=>e.leftLabelTextColor||e.labelTextColor)}),M=w(()=>b("max")),T=r.getThumbRenderFn({focusValue:"max",getNodeData:()=>({...M.value,key:"tmax",tabindex:g.value}),ratio:h,label:w(()=>e.rightLabelValue!==void 0?e.rightLabelValue:l.value.max),thumbColor:w(()=>e.rightThumbColor||e.thumbColor||e.color),labelColor:w(()=>e.rightLabelColor||e.labelColor),labelTextColor:w(()=>e.rightLabelTextColor||e.labelTextColor)});function R(A){(l.value.min!==e.modelValue.min||l.value.max!==e.modelValue.max)&&t("update:modelValue",{...l.value}),A===!0&&t("change",{...l.value})}function L(A){const{left:C,top:E,width:D,height:q}=o.value.getBoundingClientRect(),O=e.dragOnlyRange===!0?0:e.vertical===!0?_.value.offsetHeight/(2*q):_.value.offsetWidth/(2*D),G={left:C,top:E,width:D,height:q,valueMin:l.value.min,valueMax:l.value.max,ratioMin:c.value,ratioMax:d.value},Y=r.getDraggingRatio(A,G);return e.dragOnlyRange!==!0&&Y<G.ratioMin+O?G.type=fr.MIN:e.dragOnlyRange===!0||Y<G.ratioMax-O?e.dragRange===!0||e.dragOnlyRange===!0?(G.type=fr.RANGE,Object.assign(G,{offsetRatio:Y,offsetModel:r.convertRatioToModel(Y),rangeValue:G.valueMax-G.valueMin,rangeRatio:G.ratioMax-G.ratioMin})):G.type=G.ratioMax-Y<Y-G.ratioMin?fr.MAX:fr.MIN:G.type=fr.MAX,G}function I(A,C=i.dragging.value){let E;const D=r.getDraggingRatio(A,C),q=r.convertRatioToModel(D);switch(C.type){case fr.MIN:D<=C.ratioMax?(E={minR:D,maxR:C.ratioMax,min:q,max:C.valueMax},i.focus.value="min"):(E={minR:C.ratioMax,maxR:D,min:C.valueMax,max:q},i.focus.value="max");break;case fr.MAX:D>=C.ratioMin?(E={minR:C.ratioMin,maxR:D,min:C.valueMin,max:q},i.focus.value="max"):(E={minR:D,maxR:C.ratioMin,min:q,max:C.valueMin},i.focus.value="min");break;case fr.RANGE:const O=D-C.offsetRatio,G=wt(C.ratioMin+O,i.innerMinRatio.value,i.innerMaxRatio.value-C.rangeRatio),Y=q-C.offsetModel,le=wt(C.valueMin+Y,i.innerMin.value,i.innerMax.value-C.rangeValue);E={minR:G,maxR:G+C.rangeRatio,min:i.roundValueFn.value(le),max:i.roundValueFn.value(le+C.rangeValue)},i.focus.value="both";break}l.value=l.value.min===null||l.value.max===null?{min:E.min||e.min,max:E.max||e.max}:{min:E.min,max:E.max},e.snap!==!0||e.step===0?(a.value=E.minR,s.value=E.maxR):(a.value=r.convertModelToRatio(l.value.min),s.value=r.convertModelToRatio(l.value.max))}function k(A){if(!sm.includes(A.keyCode))return;nt(A);const C=([34,33].includes(A.keyCode)?10:1)*i.keyStep.value,E=([34,37,40].includes(A.keyCode)?-1:1)*(i.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*C;if(i.focus.value==="both"){const D=l.value.max-l.value.min,q=wt(i.roundValueFn.value(l.value.min+E),i.innerMin.value,i.innerMax.value-D);l.value={min:q,max:i.roundValueFn.value(q+D)}}else{if(i.focus.value===!1)return;{const D=i.focus.value;l.value={...l.value,[D]:wt(i.roundValueFn.value(l.value[D]+E),D==="min"?i.innerMin.value:l.value.min,D==="max"?i.innerMax.value:l.value.max)}}}R()}return()=>{const A=r.getContent(m,p,y,C=>{C.push(S(),T())});return v("div",{ref:o,class:"q-range "+i.classes.value+(e.modelValue.min===null||e.modelValue.max===null?" q-slider--no-value":""),...i.attributes.value,"aria-valuenow":e.modelValue.min+"|"+e.modelValue.max},A)}}});xe({name:"QRating",props:{...Ji,...ei,modelValue:{type:Number,required:!0},max:{type:[String,Number],default:5},icon:[String,Array],iconHalf:[String,Array],iconSelected:[String,Array],iconAriaLabel:[String,Array],color:[String,Array],colorHalf:[String,Array],colorSelected:[String,Array],noReset:Boolean,noDimming:Boolean,readonly:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=Be(),r=er(e),o=pl(e),a=Ir(o),s=ee(0);let l={};const u=w(()=>e.readonly!==!0&&e.disable!==!0),c=w(()=>`q-rating row inline items-center q-rating--${u.value===!0?"":"non-"}editable`+(e.noDimming===!0?" q-rating--no-dimming":"")+(e.disable===!0?" disabled":"")+(e.color!==void 0&&Array.isArray(e.color)===!1?` text-${e.color}`:"")),d=w(()=>{const _=Array.isArray(e.icon)===!0?e.icon.length:0,x=Array.isArray(e.iconSelected)===!0?e.iconSelected.length:0,S=Array.isArray(e.iconHalf)===!0?e.iconHalf.length:0,M=Array.isArray(e.color)===!0?e.color.length:0,T=Array.isArray(e.colorSelected)===!0?e.colorSelected.length:0,R=Array.isArray(e.colorHalf)===!0?e.colorHalf.length:0;return{iconLen:_,icon:_>0?e.icon[_-1]:e.icon,selIconLen:x,selIcon:x>0?e.iconSelected[x-1]:e.iconSelected,halfIconLen:S,halfIcon:S>0?e.iconHalf[x-1]:e.iconHalf,colorLen:M,color:M>0?e.color[M-1]:e.color,selColorLen:T,selColor:T>0?e.colorSelected[T-1]:e.colorSelected,halfColorLen:R,halfColor:R>0?e.colorHalf[R-1]:e.colorHalf}}),f=w(()=>{if(typeof e.iconAriaLabel=="string"){const _=e.iconAriaLabel.length!==0?`${e.iconAriaLabel} `:"";return x=>`${_}${x}`}if(Array.isArray(e.iconAriaLabel)===!0){const _=e.iconAriaLabel.length;if(_>0)return x=>e.iconAriaLabel[Math.min(x,_)-1]}return(_,x)=>`${x} ${_}`}),h=w(()=>{const _=[],x=d.value,S=Math.ceil(e.modelValue),M=u.value===!0?0:null,T=e.iconHalf===void 0||S===e.modelValue?-1:S;for(let R=1;R<=e.max;R++){const L=s.value===0&&e.modelValue>=R||s.value>0&&s.value>=R,I=T===R&&s.value<R,k=s.value>0&&(I===!0?S:e.modelValue)>=R&&s.value<R,A=I===!0?R<=x.halfColorLen?e.colorHalf[R-1]:x.halfColor:x.selColor!==void 0&&L===!0?R<=x.selColorLen?e.colorSelected[R-1]:x.selColor:R<=x.colorLen?e.color[R-1]:x.color,C=(I===!0?R<=x.halfIconLen?e.iconHalf[R-1]:x.halfIcon:x.selIcon!==void 0&&(L===!0||k===!0)?R<=x.selIconLen?e.iconSelected[R-1]:x.selIcon:R<=x.iconLen?e.icon[R-1]:x.icon)||i.iconSet.rating.icon;_.push({name:(I===!0?R<=x.halfIconLen?e.iconHalf[R-1]:x.halfIcon:x.selIcon!==void 0&&(L===!0||k===!0)?R<=x.selIconLen?e.iconSelected[R-1]:x.selIcon:R<=x.iconLen?e.icon[R-1]:x.icon)||i.iconSet.rating.icon,attrs:{tabindex:M,role:"radio","aria-checked":e.modelValue===R?"true":"false","aria-label":f.value(R,C)},iconClass:"q-rating__icon"+(L===!0||I===!0?" q-rating__icon--active":"")+(k===!0?" q-rating__icon--exselected":"")+(s.value===R?" q-rating__icon--hovered":"")+(A!==void 0?` text-${A}`:"")})}return _}),m=w(()=>{const _={role:"radiogroup"};return e.disable===!0&&(_["aria-disabled"]="true"),e.readonly===!0&&(_["aria-readonly"]="true"),_});function y(_){if(u.value===!0){const x=wt(parseInt(_,10),1,parseInt(e.max,10)),S=e.noReset!==!0&&e.modelValue===x?0:x;S!==e.modelValue&&n("update:modelValue",S),s.value=0}}function b(_){u.value===!0&&(s.value=_)}function g(_,x){switch(_.keyCode){case 13:case 32:return y(x),nt(_);case 37:case 40:return l[`rt${x-1}`]&&l[`rt${x-1}`].focus(),nt(_);case 39:case 38:return l[`rt${x+1}`]&&l[`rt${x+1}`].focus(),nt(_)}}function p(){s.value=0}return el(()=>{l={}}),()=>{const _=[];return h.value.forEach(({iconClass:x,name:S,attrs:M},T)=>{const R=T+1;_.push(v("div",{key:R,ref:L=>{l[`rt${R}`]=L},class:"q-rating__icon-container flex flex-center",...M,onClick(){y(R)},onMouseover(){b(R)},onMouseout:p,onFocus(){b(R)},onBlur:p,onKeyup(L){g(L,R)}},Nt(t[`tip-${R}`],[v(ft,{class:x,name:S})])))}),e.name!==void 0&&e.disable!==!0&&a(_,"push"),v("div",{class:c.value,style:r.value,...m.value},_)}}});xe({name:"QResponsive",props:dm,setup(e,{slots:t}){const n=fm(e);return()=>v("div",{class:"q-responsive"},[v("div",{class:"q-responsive__filler overflow-hidden"},[v("div",{style:n.value})]),v("div",{class:"q-responsive__content absolute-full fit"},We(t.default))])}});var Tv=["vertical","horizontal"],Vd={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Cv={prevent:!0,mouse:!0,mouseAllDir:!0},Ev=e=>e>=250?50:Math.ceil(e/5);xe({name:"QScrollArea",props:{...ct,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:t,emit:n}){const i=ee(!1),r=ee(!1),o=ee(!1),a={vertical:ee(0),horizontal:ee(0)},s={vertical:{ref:ee(null),position:ee(0),size:ee(0)},horizontal:{ref:ee(null),position:ee(0),size:ee(0)}},{proxy:l}=Be(),u=dt(e,l.$q);let c=null,d;const f=ee(null),h=w(()=>"q-scrollarea"+(u.value===!0?" q-scrollarea--dark":""));s.vertical.percentage=w(()=>{const O=s.vertical.size.value-a.vertical.value;if(O<=0)return 0;const G=wt(s.vertical.position.value/O,0,1);return Math.round(G*1e4)/1e4}),s.vertical.thumbHidden=w(()=>(e.visible===null?o.value:e.visible)!==!0&&i.value===!1&&r.value===!1||s.vertical.size.value<=a.vertical.value+1),s.vertical.thumbStart=w(()=>s.vertical.percentage.value*(a.vertical.value-s.vertical.thumbSize.value)),s.vertical.thumbSize=w(()=>Math.round(wt(a.vertical.value*a.vertical.value/s.vertical.size.value,Ev(a.vertical.value),a.vertical.value))),s.vertical.style=w(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${s.vertical.thumbStart.value}px`,height:`${s.vertical.thumbSize.value}px`})),s.vertical.thumbClass=w(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(s.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),s.vertical.barClass=w(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(s.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),s.horizontal.percentage=w(()=>{const O=s.horizontal.size.value-a.horizontal.value;if(O<=0)return 0;const G=wt(Math.abs(s.horizontal.position.value)/O,0,1);return Math.round(G*1e4)/1e4}),s.horizontal.thumbHidden=w(()=>(e.visible===null?o.value:e.visible)!==!0&&i.value===!1&&r.value===!1||s.horizontal.size.value<=a.horizontal.value+1),s.horizontal.thumbStart=w(()=>s.horizontal.percentage.value*(a.horizontal.value-s.horizontal.thumbSize.value)),s.horizontal.thumbSize=w(()=>Math.round(wt(a.horizontal.value*a.horizontal.value/s.horizontal.size.value,Ev(a.horizontal.value),a.horizontal.value))),s.horizontal.style=w(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[l.$q.lang.rtl===!0?"right":"left"]:`${s.horizontal.thumbStart.value}px`,width:`${s.horizontal.thumbSize.value}px`})),s.horizontal.thumbClass=w(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(s.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),s.horizontal.barClass=w(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(s.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const m=w(()=>s.vertical.thumbHidden.value===!0&&s.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle),y=[[$n,O=>{T(O,"vertical")},void 0,{vertical:!0,...Cv}]],b=[[$n,O=>{T(O,"horizontal")},void 0,{horizontal:!0,...Cv}]];function g(){const O={};return Tv.forEach(G=>{const Y=s[G];O[G+"Position"]=Y.position.value,O[G+"Percentage"]=Y.percentage.value,O[G+"Size"]=Y.size.value,O[G+"ContainerSize"]=a[G].value}),O}const p=za(()=>{const O=g();O.ref=l,n("scroll",O)},0);function _(O,G,Y){if(Tv.includes(O)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(O==="vertical"?va:Cd)(f.value,G,Y)}function x({height:O,width:G}){let Y=!1;a.vertical.value!==O&&(a.vertical.value=O,Y=!0),a.horizontal.value!==G&&(a.horizontal.value=G,Y=!0),Y===!0&&k()}function S({position:O}){let G=!1;s.vertical.position.value!==O.top&&(s.vertical.position.value=O.top,G=!0),s.horizontal.position.value!==O.left&&(s.horizontal.position.value=O.left,G=!0),G===!0&&k()}function M({height:O,width:G}){s.horizontal.size.value!==G&&(s.horizontal.size.value=G,k()),s.vertical.size.value!==O&&(s.vertical.size.value=O,k())}function T(O,G){const Y=s[G];if(O.isFirst===!0){if(Y.thumbHidden.value===!0)return;d=Y.position.value,r.value=!0}else if(r.value!==!0)return;O.isFinal===!0&&(r.value=!1);const le=Vd[G],W=a[G].value,P=(Y.size.value-W)/(W-Y.thumbSize.value),Z=O.distance[le.dist],ne=d+(O.direction===le.dir?1:-1)*Z*P;A(ne,G)}function R(O,G){const Y=s[G];if(Y.thumbHidden.value!==!0){const le=O[Vd[G].offset];if(le<Y.thumbStart.value||le>Y.thumbStart.value+Y.thumbSize.value){const W=le-Y.thumbSize.value/2;A(W/a[G].value*Y.size.value,G)}Y.ref.value!==null&&Y.ref.value.dispatchEvent(new MouseEvent(O.type,O))}}function L(O){R(O,"vertical")}function I(O){R(O,"horizontal")}function k(){i.value=!0,c!==null&&clearTimeout(c),c=setTimeout(()=>{c=null,i.value=!1},e.delay),e.onScroll!==void 0&&p()}function A(O,G){f.value[Vd[G].scroll]=O}let C=null;function E(){C!==null&&clearTimeout(C),C=setTimeout(()=>{C=null,o.value=!0},l.$q.platform.is.ios?50:0)}function D(){C!==null&&(clearTimeout(C),C=null),o.value=!1}let q=null;return Te(()=>l.$q.lang.rtl,O=>{f.value!==null&&Cd(f.value,Math.abs(s.horizontal.position.value)*(O===!0?-1:1))}),Ki(()=>{q={top:s.vertical.position.value,left:s.horizontal.position.value}}),So(()=>{if(q===null)return;const O=f.value;O!==null&&(Cd(O,q.left),va(O,q.top))}),st(p.cancel),Object.assign(l,{getScrollTarget:()=>f.value,getScroll:g,getScrollPosition:()=>({top:s.vertical.position.value,left:s.horizontal.position.value}),getScrollPercentage:()=>({top:s.vertical.percentage.value,left:s.horizontal.percentage.value}),setScrollPosition:_,setScrollPercentage(O,G,Y){_(O,G*(s[O].size.value-a[O].value)*(O==="horizontal"&&l.$q.lang.rtl===!0?-1:1),Y)}}),()=>v("div",{class:h.value,onMouseenter:E,onMouseleave:D},[v("div",{ref:f,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[v("div",{class:"q-scrollarea__content absolute",style:m.value},Nt(t.default,[v(xo,{debounce:0,onResize:M})])),v(mx,{axis:"both",onScroll:S})]),v(xo,{debounce:0,onResize:x}),v("div",{class:s.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:L}),v("div",{class:s.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:I}),ci(v("div",{ref:s.vertical.ref,class:s.vertical.thumbClass.value,style:s.vertical.style.value,"aria-hidden":"true"}),y),ci(v("div",{ref:s.horizontal.ref,class:s.horizontal.thumbClass.value,style:s.horizontal.style.value,"aria-hidden":"true"}),b)])}});var ai=1e3,wA=["start","center","end","start-force","center-force","end-force"],gx=Array.prototype.filter,SA=__QUASAR_SSR__||window.getComputedStyle(document.body).overflowAnchor===void 0?$t:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];gx.call(n,r=>r.dataset&&r.dataset.qVsAnchor!==void 0).forEach(r=>{delete r.dataset.qVsAnchor});const i=n[t];i&&i.dataset&&(i.dataset.qVsAnchor="")}))};function ga(e,t){return e+t}function Ud(e,t,n,i,r,o,a,s){const l=e===window?document.scrollingElement||document.documentElement:e,u=r===!0?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-a-s,scrollMaxSize:0,offsetStart:-a,offsetEnd:-s};if(r===!0?(e===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=l.scrollLeft,c.scrollViewSize+=l.clientWidth),c.scrollMaxSize=l.scrollWidth,o===!0&&(c.scrollStart=(Js===!0?c.scrollMaxSize-c.scrollViewSize:0)-c.scrollStart)):(e===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=l.scrollTop,c.scrollViewSize+=l.clientHeight),c.scrollMaxSize=l.scrollHeight),n!==null)for(let d=n.previousElementSibling;d!==null;d=d.previousElementSibling)d.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetStart+=d[u]);if(i!==null)for(let d=i.nextElementSibling;d!==null;d=d.nextElementSibling)d.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetEnd+=d[u]);if(t!==e){const d=l.getBoundingClientRect(),f=t.getBoundingClientRect();r===!0?(c.offsetStart+=f.left-d.left,c.offsetEnd-=f.width):(c.offsetStart+=f.top-d.top,c.offsetEnd-=f.height),e!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function Av(e,t,n,i){t==="end"&&(t=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(i===!0&&(t=(Js===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):n===!0?(i===!0&&(t=(Js===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function rs(e,t,n,i){if(n>=i)return 0;const r=t.length,o=Math.floor(n/ai),a=Math.floor((i-1)/ai)+1;let s=e.slice(o,a).reduce(ga,0);return n%ai!==0&&(s-=t.slice(o*ai,n).reduce(ga,0)),i%ai!==0&&i!==r&&(s-=t.slice(i,a*ai).reduce(ga,0)),s}var yx={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},bx=Object.keys(yx),jf={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...yx};function xx({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:i}){const r=Be(),{props:o,emit:a,proxy:s}=r,{$q:l}=s;let u,c,d,f=[],h;const m=ee(0),y=ee(0),b=ee({}),g=ee(null),p=ee(null),_=ee(null),x=ee({from:0,to:0}),S=w(()=>o.tableColspan!==void 0?o.tableColspan:100);i===void 0&&(i=w(()=>o.virtualScrollItemSize));const M=w(()=>i.value+";"+o.virtualScrollHorizontal),T=w(()=>M.value+";"+o.virtualScrollSliceRatioBefore+";"+o.virtualScrollSliceRatioAfter);Te(T,()=>{q()}),Te(M,R);function R(){D(c,!0)}function L(W){D(W===void 0?c:W)}function I(W,P){const Z=t();if(Z==null||Z.nodeType===8)return;const ne=Ud(Z,n(),g.value,p.value,o.virtualScrollHorizontal,l.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd);d!==ne.scrollViewSize&&q(ne.scrollViewSize),A(Z,ne,Math.min(e.value-1,Math.max(0,parseInt(W,10)||0)),0,wA.indexOf(P)!==-1?P:c!==-1&&W>c?"end":"start")}function k(){const W=t();if(W==null||W.nodeType===8)return;const P=Ud(W,n(),g.value,p.value,o.virtualScrollHorizontal,l.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd),Z=e.value-1,ne=P.scrollMaxSize-P.offsetStart-P.offsetEnd-y.value;if(u===P.scrollStart)return;if(P.scrollMaxSize<=0){A(W,P,0,0);return}d!==P.scrollViewSize&&q(P.scrollViewSize),C(x.value.from);const J=Math.floor(P.scrollMaxSize-Math.max(P.scrollViewSize,P.offsetEnd)-Math.min(h[Z],P.scrollViewSize/2));if(J>0&&Math.ceil(P.scrollStart)>=J){A(W,P,Z,P.scrollMaxSize-P.offsetEnd-f.reduce(ga,0));return}let U=0,$=P.scrollStart-P.offsetStart,fe=$;if($<=ne&&$+P.scrollViewSize>=m.value)$-=m.value,U=x.value.from,fe=$;else for(let X=0;$>=f[X]&&U<Z;X++)$-=f[X],U+=ai;for(;$>0&&U<Z;)$-=h[U],$>-P.scrollViewSize?(U++,fe=$):fe=h[U]+$;A(W,P,U,fe)}function A(W,P,Z,ne,J){const U=typeof J=="string"&&J.indexOf("-force")!==-1,$=U===!0?J.replace("-force",""):J,fe=$!==void 0?$:"start";let X=Math.max(0,Z-b.value[fe]),be=X+b.value.total;be>e.value&&(be=e.value,X=Math.max(0,be-b.value.total)),u=P.scrollStart;const ke=X!==x.value.from||be!==x.value.to;if(ke===!1&&$===void 0){G(Z);return}const{activeElement:j}=document,re=_.value;ke===!0&&re!==null&&re!==j&&re.contains(j)===!0&&(re.addEventListener("focusout",E),setTimeout(()=>{re!==null&&re.removeEventListener("focusout",E)})),SA(re,Z-X);const ue=$!==void 0?h.slice(X,Z).reduce(ga,0):0;if(ke===!0){const we=be>=x.value.from&&X<=x.value.to?x.value.to:be;x.value={from:X,to:we},m.value=rs(f,h,0,X),y.value=rs(f,h,be,e.value),requestAnimationFrame(()=>{x.value.to!==be&&u===P.scrollStart&&(x.value={from:x.value.from,to:be},y.value=rs(f,h,be,e.value))})}requestAnimationFrame(()=>{if(u!==P.scrollStart)return;ke===!0&&C(X);const we=h.slice(X,Z).reduce(ga,0),_e=we+P.offsetStart+m.value,B=_e+h[Z];let z=_e+ne;if($!==void 0){const ve=we-ue,he=P.scrollStart+ve;z=U!==!0&&he<_e&&B<he+P.scrollViewSize?he:$==="end"?B-P.scrollViewSize:_e-($==="start"?0:Math.round((P.scrollViewSize-h[Z])/2))}u=z,Av(W,z,o.virtualScrollHorizontal,l.lang.rtl),G(Z)})}function C(W){const P=_.value;if(P){const Z=gx.call(P.children,X=>X.classList&&X.classList.contains("q-virtual-scroll--skip")===!1),ne=Z.length,J=o.virtualScrollHorizontal===!0?X=>X.getBoundingClientRect().width:X=>X.offsetHeight;let U=W,$,fe;for(let X=0;X<ne;){for($=J(Z[X]),X++;X<ne&&Z[X].classList.contains("q-virtual-scroll--with-prev")===!0;)$+=J(Z[X]),X++;fe=$-h[U],fe!==0&&(h[U]+=fe,f[Math.floor(U/ai)]+=fe),U++}}}function E(){_.value!==null&&_.value!==void 0&&_.value.focus()}function D(W,P){const Z=1*i.value;(P===!0||Array.isArray(h)===!1)&&(h=[]);const ne=h.length;h.length=e.value;for(let U=e.value-1;U>=ne;U--)h[U]=Z;const J=Math.floor((e.value-1)/ai);f=[];for(let U=0;U<=J;U++){let $=0;const fe=Math.min((U+1)*ai,e.value);for(let X=U*ai;X<fe;X++)$+=h[X];f.push($)}c=-1,u=void 0,m.value=rs(f,h,0,x.value.from),y.value=rs(f,h,x.value.to,e.value),W>=0?(C(x.value.from),ut(()=>{I(W)})):Y()}function q(W){if(W===void 0&&typeof window!="undefined"){const $=t();$!=null&&$.nodeType!==8&&(W=Ud($,n(),g.value,p.value,o.virtualScrollHorizontal,l.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd).scrollViewSize)}d=W;const P=parseFloat(o.virtualScrollSliceRatioBefore)||0,Z=parseFloat(o.virtualScrollSliceRatioAfter)||0,ne=1+P+Z,J=W===void 0||W<=0?1:Math.ceil(W/i.value),U=Math.max(1,J,Math.ceil((o.virtualScrollSliceSize>0?o.virtualScrollSliceSize:10)/ne));b.value={total:Math.ceil(U*ne),start:Math.ceil(U*P),center:Math.ceil(U*(.5+P)),end:Math.ceil(U*(1+P)),view:J}}function O(W,P){const Z=o.virtualScrollHorizontal===!0?"width":"height",ne={["--q-virtual-scroll-item-"+Z]:i.value+"px"};return[W==="tbody"?v(W,{class:"q-virtual-scroll__padding",key:"before",ref:g},[v("tr",[v("td",{style:{[Z]:`${m.value}px`,...ne},colspan:S.value})])]):v(W,{class:"q-virtual-scroll__padding",key:"before",ref:g,style:{[Z]:`${m.value}px`,...ne}}),v(W,{class:"q-virtual-scroll__content",key:"content",ref:_,tabindex:-1},P.flat()),W==="tbody"?v(W,{class:"q-virtual-scroll__padding",key:"after",ref:p},[v("tr",[v("td",{style:{[Z]:`${y.value}px`,...ne},colspan:S.value})])]):v(W,{class:"q-virtual-scroll__padding",key:"after",ref:p,style:{[Z]:`${y.value}px`,...ne}})]}function G(W){c!==W&&(o.onVirtualScroll!==void 0&&a("virtualScroll",{index:W,from:x.value.from,to:x.value.to-1,direction:W<c?"decrease":"increase",ref:s}),c=W)}q();const Y=za(k,l.platform.is.ios===!0?120:35);Yf(()=>{q()});let le=!1;return Ki(()=>{le=!0}),So(()=>{if(le!==!0)return;const W=t();u!==void 0&&W!==void 0&&W!==null&&W.nodeType!==8?Av(W,u,o.virtualScrollHorizontal,l.lang.rtl):I(c)}),__QUASAR_SSR__||st(()=>{Y.cancel()}),Object.assign(s,{scrollTo:I,reset:R,refresh:L}),{virtualScrollSliceRange:x,virtualScrollSliceSizeComputed:b,setVirtualScrollSize:q,onVirtualScrollEvt:Y,localResetVirtualScroll:D,padVirtualScroll:O,scrollTo:I,reset:R,refresh:L}}var Lv=e=>["add","add-unique","toggle"].includes(e),MA=".*+?^${}()|[]\\",TA=Object.keys(Nc),CA=xe({name:"QSelect",inheritAttrs:!1,props:{...jf,...ei,...Nc,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Lv},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:jf.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...zc,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:t,emit:n}){const{proxy:i}=Be(),{$q:r}=i,o=ee(!1),a=ee(!1),s=ee(-1),l=ee(""),u=ee(!1),c=ee(!1);let d=null,f=null,h,m,y,b=null,g,p,_,x;const S=ee(null),M=ee(null),T=ee(null),R=ee(null),L=ee(null),I=Kh(e),k=dx(De),A=w(()=>Array.isArray(e.options)?e.options.length:0),C=w(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:E,virtualScrollSliceSizeComputed:D,localResetVirtualScroll:q,padVirtualScroll:O,onVirtualScrollEvt:G,scrollTo:Y,setVirtualScrollSize:le}=xx({virtualScrollLength:A,getVirtualScrollTarget:bn,getVirtualScrollEl:tn,virtualScrollItemSizeComputed:C}),W=qc(),P=w(()=>{const te=e.mapOptions===!0&&e.multiple!==!0,Ue=e.modelValue!==void 0&&(e.modelValue!==null||te===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const Ve=e.mapOptions===!0&&h!==void 0?h:[],it=Ue.map(Et=>de(Et,Ve));return e.modelValue===null&&te===!0?it.filter(Et=>Et!==null):it}return Ue}),Z=w(()=>{const te={};return TA.forEach(Ue=>{const Ve=e[Ue];Ve!==void 0&&(te[Ue]=Ve)}),te}),ne=w(()=>e.optionsDark===null?W.isDark.value:e.optionsDark),J=w(()=>wo(P.value)),U=w(()=>{let te="q-field__input q-placeholder col";return e.hideSelected===!0||P.value.length===0?[te,e.inputClass]:(te+=" q-field__input--padding",e.inputClass===void 0?te:[te,e.inputClass])}),$=w(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),fe=w(()=>A.value===0),X=w(()=>P.value.map(te=>se.value(te)).join(", ")),be=w(()=>e.displayValue!==void 0?e.displayValue:X.value),ke=w(()=>e.optionsHtml===!0?()=>!0:te=>te!=null&&te.html===!0),j=w(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||P.value.some(ke.value))),re=w(()=>W.focused.value===!0?e.tabindex:-1),ue=w(()=>{const te={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":o.value===!0?"true":"false","aria-controls":`${W.targetUid.value}_lb`};return s.value>=0&&(te["aria-activedescendant"]=`${W.targetUid.value}_${s.value}`),te}),we=w(()=>({id:`${W.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),_e=w(()=>P.value.map((te,Ue)=>({index:Ue,opt:te,html:ke.value(te),selected:!0,removeAtIndex:Ne,toggleOption:ze,tabindex:re.value}))),B=w(()=>{if(A.value===0)return[];const{from:te,to:Ue}=E.value;return e.options.slice(te,Ue).map((Ve,it)=>{const Et=K.value(Ve)===!0,Tt=$e(Ve)===!0,sn=te+it,Gt={clickable:!0,active:Tt,activeClass:he.value,manualFocus:!0,focused:!1,disable:Et,tabindex:-1,dense:e.optionsDense,dark:ne.value,role:"option","aria-selected":Tt===!0?"true":"false",id:`${W.targetUid.value}_${sn}`,onClick:()=>{ze(Ve)}};return Et!==!0&&(s.value===sn&&(Gt.focused=!0),r.platform.is.desktop===!0&&(Gt.onMousemove=()=>{o.value===!0&&ce(sn)})),{index:sn,opt:Ve,html:ke.value(Ve),label:se.value(Ve),selected:Gt.active,focused:Gt.focused,toggleOption:ze,setOptionIndex:ce,itemProps:Gt}})}),z=w(()=>e.dropdownIcon!==void 0?e.dropdownIcon:r.iconSet.arrow.dropdown),ve=w(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),he=w(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),H=w(()=>Ae(e.optionValue,"value")),se=w(()=>Ae(e.optionLabel,"label")),K=w(()=>Ae(e.optionDisable,"disable")),me=w(()=>P.value.map(te=>H.value(te))),ge=w(()=>{const te={onInput:De,onChange:k,onKeydown:bt,onKeyup:ot,onKeypress:vt,onFocus:et,onClick(Ue){m===!0&&Bt(Ue)}};return te.onCompositionstart=te.onCompositionupdate=te.onCompositionend=k,te});Te(P,te=>{h=te,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&W.innerLoading.value!==!0&&(a.value!==!0&&o.value!==!0||J.value!==!0)&&(y!==!0&&An(),(a.value===!0||o.value===!0)&&ae(""))},{immediate:!0}),Te(()=>e.fillInput,An),Te(o,Vt),Te(A,Ga);function Ee(te){return e.emitValue===!0?H.value(te):te}function Le(te){if(te!==-1&&te<P.value.length)if(e.multiple===!0){const Ue=e.modelValue.slice();n("remove",{index:te,value:Ue.splice(te,1)[0]}),n("update:modelValue",Ue)}else n("update:modelValue",null)}function Ne(te){Le(te),W.focus()}function Pe(te,Ue){const Ve=Ee(te);if(e.multiple!==!0){e.fillInput===!0&&oe(se.value(te),!0,!0),n("update:modelValue",Ve);return}if(P.value.length===0){n("add",{index:0,value:Ve}),n("update:modelValue",e.multiple===!0?[Ve]:Ve);return}if(Ue===!0&&$e(te)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const it=e.modelValue.slice();n("add",{index:it.length,value:Ve}),it.push(Ve),n("update:modelValue",it)}function ze(te,Ue){if(W.editable.value!==!0||te===void 0||K.value(te)===!0)return;const Ve=H.value(te);if(e.multiple!==!0){Ue!==!0&&(oe(e.fillInput===!0?se.value(te):"",!0,!0),ht()),M.value!==null&&M.value.focus(),(P.value.length===0||li(H.value(P.value[0]),Ve)!==!0)&&n("update:modelValue",e.emitValue===!0?Ve:te);return}if((m!==!0||u.value===!0)&&W.focus(),et(),P.value.length===0){const Tt=e.emitValue===!0?Ve:te;n("add",{index:0,value:Tt}),n("update:modelValue",e.multiple===!0?[Tt]:Tt);return}const it=e.modelValue.slice(),Et=me.value.findIndex(Tt=>li(Tt,Ve));if(Et!==-1)n("remove",{index:Et,value:it.splice(Et,1)[0]});else{if(e.maxValues!==void 0&&it.length>=e.maxValues)return;const Tt=e.emitValue===!0?Ve:te;n("add",{index:it.length,value:Tt}),it.push(Tt)}n("update:modelValue",it)}function ce(te){if(r.platform.is.desktop!==!0)return;const Ue=te!==-1&&te<A.value?te:-1;s.value!==Ue&&(s.value=Ue)}function Se(te=1,Ue){if(o.value===!0){let Ve=s.value;do Ve=ec(Ve+te,-1,A.value-1);while(Ve!==-1&&Ve!==s.value&&K.value(e.options[Ve])===!0);s.value!==Ve&&(ce(Ve),Y(Ve),Ue!==!0&&e.useInput===!0&&e.fillInput===!0&&N(Ve>=0?se.value(e.options[Ve]):g,!0))}}function de(te,Ue){const Ve=it=>li(H.value(it),te);return e.options.find(Ve)||Ue.find(Ve)||te}function Ae(te,Ue){const Ve=te!==void 0?te:Ue;return typeof Ve=="function"?Ve:it=>it!==null&&typeof it=="object"&&Ve in it?it[Ve]:it}function $e(te){const Ue=H.value(te);return me.value.find(Ve=>li(Ve,Ue))!==void 0}function et(te){e.useInput===!0&&M.value!==null&&(te===void 0||M.value===te.target&&te.target.value===X.value)&&M.value.select()}function qe(te){Zn(te,27)===!0&&o.value===!0&&(Bt(te),ht(),An()),n("keyup",te)}function ot(te){const{value:Ue}=te.target;if(te.keyCode!==void 0){qe(te);return}if(te.target.value="",d!==null&&(clearTimeout(d),d=null),f!==null&&(clearTimeout(f),f=null),An(),typeof Ue=="string"&&Ue.length!==0){const Ve=Ue.toLocaleLowerCase(),it=Tt=>{const sn=e.options.find(Gt=>Tt.value(Gt).toLocaleLowerCase()===Ve);return sn===void 0?!1:(P.value.indexOf(sn)===-1?ze(sn):ht(),!0)},Et=Tt=>{it(H)!==!0&&(it(se)===!0||Tt===!0||ae(Ue,!0,()=>Et(!0)))};Et()}else W.clearValue(te)}function vt(te){n("keypress",te)}function bt(te){if(n("keydown",te),Eo(te)===!0)return;const Ue=l.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),Ve=te.shiftKey!==!0&&e.multiple!==!0&&(s.value!==-1||Ue===!0);if(te.keyCode===27){en(te);return}if(te.keyCode===9&&Ve===!1){je();return}if(te.target===void 0||te.target.id!==W.targetUid.value||W.editable.value!==!0)return;if(te.keyCode===40&&W.innerLoading.value!==!0&&o.value===!1){nt(te),Ht();return}if(te.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&l.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Le(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(te.keyCode===35||te.keyCode===36)&&(typeof l.value!="string"||l.value.length===0)&&(nt(te),s.value=-1,Se(te.keyCode===36?1:-1,e.multiple)),(te.keyCode===33||te.keyCode===34)&&D.value!==void 0&&(nt(te),s.value=Math.max(-1,Math.min(A.value,s.value+(te.keyCode===33?-1:1)*D.value.view)),Se(te.keyCode===33?1:-1,e.multiple)),(te.keyCode===38||te.keyCode===40)&&(nt(te),Se(te.keyCode===38?-1:1,e.multiple));const it=A.value;if((_===void 0||x<Date.now())&&(_=""),it>0&&e.useInput!==!0&&te.key!==void 0&&te.key.length===1&&te.altKey===!1&&te.ctrlKey===!1&&te.metaKey===!1&&(te.keyCode!==32||_.length!==0)){o.value!==!0&&Ht(te);const Et=te.key.toLocaleLowerCase(),Tt=_.length===1&&_[0]===Et;x=Date.now()+1500,Tt===!1&&(nt(te),_+=Et);const sn=new RegExp("^"+_.split("").map(Vc=>MA.indexOf(Vc)!==-1?"\\"+Vc:Vc).join(".*"),"i");let Gt=s.value;if(Tt===!0||Gt<0||sn.test(se.value(e.options[Gt]))!==!0)do Gt=ec(Gt+1,-1,it-1);while(Gt!==s.value&&(K.value(e.options[Gt])===!0||sn.test(se.value(e.options[Gt]))!==!0));s.value!==Gt&&ut(()=>{ce(Gt),Y(Gt),Gt>=0&&e.useInput===!0&&e.fillInput===!0&&N(se.value(e.options[Gt]),!0)});return}if(!(te.keyCode!==13&&(te.keyCode!==32||e.useInput===!0||_!=="")&&(te.keyCode!==9||Ve===!1))){if(te.keyCode!==9&&nt(te),s.value!==-1&&s.value<it){ze(e.options[s.value]);return}if(Ue===!0){const Et=(Tt,sn)=>{if(sn){if(Lv(sn)!==!0)return}else sn=e.newValueMode;if(oe("",e.multiple!==!0,!0),Tt==null)return;(sn==="toggle"?ze:Pe)(Tt,sn==="add-unique"),e.multiple!==!0&&(M.value!==null&&M.value.focus(),ht())};if(e.onNewValue!==void 0?n("newValue",l.value,Et):Et(l.value),e.multiple!==!0)return}o.value===!0?je():W.innerLoading.value!==!0&&Ht()}}function tn(){return m===!0?L.value:T.value!==null&&T.value.contentEl!==null?T.value.contentEl:void 0}function bn(){return tn()}function Xt(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?_e.value.map(te=>t["selected-item"](te)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?_e.value.map((te,Ue)=>v(Cb,{key:"option-"+Ue,removable:W.editable.value===!0&&K.value(te.opt)!==!0,dense:!0,textColor:e.color,tabindex:re.value,onRemove(){te.removeAtIndex(Ue)}},()=>v("span",{class:"ellipsis",[te.html===!0?"innerHTML":"textContent"]:se.value(te.opt)}))):[v("span",{[j.value===!0?"innerHTML":"textContent"]:be.value})]}function kn(){if(fe.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:l.value}):void 0;const te=t.option!==void 0?t.option:Ve=>v(Oc,{key:Ve.index,...Ve.itemProps},()=>v(Sr,()=>v(Gf,()=>v("span",{[Ve.html===!0?"innerHTML":"textContent"]:Ve.label}))));let Ue=O("div",B.value.map(te));return t["before-options"]!==void 0&&(Ue=t["before-options"]().concat(Ue)),Nt(t["after-options"],Ue)}function ye(te,Ue){const Ve=Ue===!0?{...ue.value,...W.splitAttrs.attributes.value}:void 0,it={ref:Ue===!0?M:void 0,key:"i_t",class:U.value,style:e.inputStyle,value:l.value!==void 0?l.value:"",type:"search",...Ve,id:Ue===!0?W.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":te===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...ge.value};return te!==!0&&m===!0&&(Array.isArray(it.class)===!0?it.class=[...it.class,"no-pointer-events"]:it.class+=" no-pointer-events"),v("input",it)}function De(te){d!==null&&(clearTimeout(d),d=null),f!==null&&(clearTimeout(f),f=null),!(te&&te.target&&te.target.qComposing===!0)&&(N(te.target.value||""),y=!0,g=l.value,W.focused.value!==!0&&(m!==!0||u.value===!0)&&W.focus(),e.onFilter!==void 0&&(d=setTimeout(()=>{d=null,ae(l.value)},e.inputDebounce)))}function N(te,Ue){l.value!==te&&(l.value=te,Ue===!0||e.inputDebounce===0||e.inputDebounce==="0"?n("inputValue",te):f=setTimeout(()=>{f=null,n("inputValue",te)},e.inputDebounce))}function oe(te,Ue,Ve){y=Ve!==!0,e.useInput===!0&&(N(te,!0),(Ue===!0||Ve!==!0)&&(g=te),Ue!==!0&&ae(te))}function ae(te,Ue,Ve){if(e.onFilter===void 0||Ue!==!0&&W.focused.value!==!0)return;W.innerLoading.value===!0?n("filterAbort"):(W.innerLoading.value=!0,c.value=!0),te!==""&&e.multiple!==!0&&P.value.length!==0&&y!==!0&&te===se.value(P.value[0])&&(te="");const it=setTimeout(()=>{o.value===!0&&(o.value=!1)},10);b!==null&&clearTimeout(b),b=it,n("filter",te,(Et,Tt)=>{(Ue===!0||W.focused.value===!0)&&b===it&&(clearTimeout(b),typeof Et=="function"&&Et(),c.value=!1,ut(()=>{W.innerLoading.value=!1,W.editable.value===!0&&(Ue===!0?o.value===!0&&ht():o.value===!0?Vt(!0):o.value=!0),typeof Tt=="function"&&ut(()=>{Tt(i)}),typeof Ve=="function"&&ut(()=>{Ve(i)})}))},()=>{W.focused.value===!0&&b===it&&(clearTimeout(b),W.innerLoading.value=!1,c.value=!1),o.value===!0&&(o.value=!1)})}function pe(){return v(Ic,{ref:T,class:$.value,style:e.popupContentStyle,modelValue:o.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&fe.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:ne.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:ve.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...we.value,onScrollPassive:G,onBeforeShow:tr,onBeforeHide:F,onShow:Q},kn)}function F(te){Bi(te),je()}function Q(){le()}function ie(te){Bt(te),M.value!==null&&M.value.focus(),u.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Ce(te){Bt(te),ut(()=>{u.value=!1})}function Me(){const te=[v(eA,{class:`col-auto ${W.fieldClass.value}`,...Z.value,for:W.targetUid.value,dark:ne.value,square:!0,loading:c.value,itemAligned:!1,filled:!0,stackLabel:l.value.length!==0,...W.splitAttrs.listeners.value,onFocus:ie,onBlur:Ce},{...t,rawControl:()=>W.getControl(!0),before:void 0,after:void 0})];return o.value===!0&&te.push(v("div",{ref:L,class:$.value+" scroll",style:e.popupContentStyle,...we.value,onClick:en,onScrollPassive:G},kn())),v(Dc,{ref:R,modelValue:a.value,position:e.useInput===!0?"top":void 0,transitionShow:p,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:tr,onBeforeHide:Xe,onHide:Fe,onShow:Ie},()=>v("div",{class:"q-select__dialog"+(ne.value===!0?" q-select__dialog--dark q-dark":"")+(u.value===!0?" q-select__dialog--focused":"")},te))}function Xe(te){Bi(te),R.value!==null&&R.value.__updateRefocusTarget(W.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),W.focused.value=!1}function Fe(te){ht(),W.focused.value===!1&&n("blur",te),An()}function Ie(){const te=document.activeElement;(te===null||te.id!==W.targetUid.value)&&M.value!==null&&M.value!==te&&M.value.focus(),le()}function je(){a.value!==!0&&(s.value=-1,o.value===!0&&(o.value=!1),W.focused.value===!1&&(b!==null&&(clearTimeout(b),b=null),W.innerLoading.value===!0&&(n("filterAbort"),W.innerLoading.value=!1,c.value=!1)))}function Ht(te){W.editable.value===!0&&(m===!0?(W.onControlFocusin(te),a.value=!0,ut(()=>{W.focus()})):W.focus(),e.onFilter!==void 0?ae(l.value):(fe.value!==!0||t["no-option"]!==void 0)&&(o.value=!0))}function ht(){a.value=!1,je()}function An(){e.useInput===!0&&oe(e.multiple!==!0&&e.fillInput===!0&&P.value.length!==0&&se.value(P.value[0])||"",!0,!0)}function Vt(te){let Ue=-1;if(te===!0){if(P.value.length!==0){const Ve=H.value(P.value[0]);Ue=e.options.findIndex(it=>li(H.value(it),Ve))}q(Ue)}ce(Ue)}function Ga(te,Ue){o.value===!0&&W.innerLoading.value===!1&&(q(-1,!0),ut(()=>{o.value===!0&&W.innerLoading.value===!1&&(te>Ue?q():Vt(!0))}))}function an(){a.value===!1&&T.value!==null&&T.value.updatePosition()}function tr(te){te!==void 0&&Bt(te),n("popupShow",te),W.hasPopupOpen=!0,W.onControlFocusin(te)}function Bi(te){te!==void 0&&Bt(te),n("popupHide",te),W.hasPopupOpen=!1,W.onControlFocusout(te)}function nr(){m=r.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||fe.value===!1:!0),p=r.platform.is.ios===!0&&m===!0&&e.useInput===!0?"fade":e.transitionShow}return el(nr),$x(an),nr(),st(()=>{d!==null&&clearTimeout(d),f!==null&&clearTimeout(f)}),Object.assign(i,{showPopup:Ht,hidePopup:ht,removeAtIndex:Le,add:Pe,toggleOption:ze,getOptionIndex:()=>s.value,setOptionIndex:ce,moveOptionSelection:Se,filter:ae,updateMenuPosition:an,updateInputValue:oe,isOptionSelected:$e,getEmittingOptionValue:Ee,isOptionDisabled:(...te)=>K.value.apply(null,te)===!0,getOptionValue:(...te)=>H.value.apply(null,te),getOptionLabel:(...te)=>se.value.apply(null,te)}),Object.assign(W,{innerValue:P,fieldClass:w(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:S,targetRef:M,hasValue:J,showPopup:Ht,floatingLabel:w(()=>e.hideSelected!==!0&&J.value===!0||typeof l.value=="number"||l.value.length!==0||wo(e.displayValue)),getControlChild:()=>{if(W.editable.value!==!1&&(a.value===!0||fe.value!==!0||t["no-option"]!==void 0))return m===!0?Me():pe();W.hasPopupOpen===!0&&(W.hasPopupOpen=!1)},controlEvents:{onFocusin(te){W.onControlFocusin(te)},onFocusout(te){W.onControlFocusout(te,()=>{An(),je()})},onClick(te){if(en(te),m!==!0&&o.value===!0){je(),M.value!==null&&M.value.focus();return}Ht(te)}},getControl:te=>{const Ue=Xt(),Ve=te===!0||a.value!==!0||m!==!0;if(e.useInput===!0)Ue.push(ye(te,Ve));else if(W.editable.value===!0){const Et=Ve===!0?ue.value:void 0;Ue.push(v("input",{ref:Ve===!0?M:void 0,key:"d_t",class:"q-select__focus-target",id:Ve===!0?W.targetUid.value:void 0,value:be.value,readonly:!0,"data-autofocus":te===!0||e.autofocus===!0||void 0,...Et,onKeydown:bt,onKeyup:qe,onKeypress:vt})),Ve===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&Ue.push(v("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:ot}))}if(I.value!==void 0&&e.disable!==!0&&me.value.length!==0){const Et=me.value.map(Tt=>v("option",{value:Tt,selected:!0}));Ue.push(v("select",{class:"hidden",name:I.value,multiple:e.multiple},Et))}const it=e.useInput===!0||Ve!==!0?void 0:W.splitAttrs.attributes.value;return v("div",{class:"q-field__native row items-center",...it,...W.splitAttrs.listeners.value},Ue)},getInnerAppend:()=>e.loading!==!0&&c.value!==!0&&e.hideDropdownIcon!==!0?[v(ft,{class:"q-select__dropdown-icon"+(o.value===!0?" rotate-180":""),name:z.value})]:null}),Hc(W)}}),EA=["text","rect","circle","QBtn","QBadge","QChip","QToolbar","QCheckbox","QRadio","QToggle","QSlider","QRange","QInput","QAvatar"],AA=["wave","pulse","pulse-x","pulse-y","fade","blink","none"];xe({name:"QSkeleton",props:{...ct,tag:{type:String,default:"div"},type:{type:String,validator:e=>EA.includes(e),default:"rect"},animation:{type:String,validator:e=>AA.includes(e),default:"wave"},animationSpeed:{type:[String,Number],default:1500},square:Boolean,bordered:Boolean,size:String,width:String,height:String},setup(e,{slots:t}){const n=Be(),i=dt(e,n.proxy.$q),r=w(()=>{const a=e.size!==void 0?[e.size,e.size]:[e.width,e.height];return{"--q-skeleton-speed":`${e.animationSpeed}ms`,width:a[0],height:a[1]}}),o=w(()=>`q-skeleton q-skeleton--${i.value===!0?"dark":"light"} q-skeleton--type-${e.type}`+(e.animation!=="none"?` q-skeleton--anim q-skeleton--anim-${e.animation}`:"")+(e.square===!0?" q-skeleton--square":"")+(e.bordered===!0?" q-skeleton--bordered":""));return()=>v(e.tag,{class:o.value,style:r.value},We(t.default))}});var Rv=[["left","center","start","width"],["right","center","end","width"],["top","start","center","height"],["bottom","end","center","height"]];xe({name:"QSlideItem",props:{...ct,leftColor:String,rightColor:String,topColor:String,bottomColor:String,onSlide:Function},emits:["action","top","right","bottom","left"],setup(e,{slots:t,emit:n}){const{proxy:i}=Be(),{$q:r}=i,o=dt(e,r),{getCache:a}=vl(),s=ee(null);let l=null,u={},c={},d={};const f=w(()=>r.lang.rtl===!0?{left:"right",right:"left"}:{left:"left",right:"right"}),h=w(()=>"q-slide-item q-item-type overflow-hidden"+(o.value===!0?" q-slide-item--dark q-dark":""));function m(){s.value.style.transform="translate(0,0)"}function y(g,p,_){e.onSlide!==void 0&&n("slide",{side:g,ratio:p,isReset:_})}function b(g){const p=s.value;if(g.isFirst)u={dir:null,size:{left:0,right:0,top:0,bottom:0},scale:0},p.classList.add("no-transition"),Rv.forEach(M=>{if(t[M[0]]!==void 0){const T=d[M[0]];T.style.transform="scale(1)",u.size[M[0]]=T.getBoundingClientRect()[M[3]]}}),u.axis=g.direction==="up"||g.direction==="down"?"Y":"X";else if(g.isFinal){p.classList.remove("no-transition"),u.scale===1?(p.style.transform=`translate${u.axis}(${u.dir*100}%)`,l!==null&&clearTimeout(l),l=setTimeout(()=>{l=null,n(u.showing,{reset:m}),n("action",{side:u.showing,reset:m})},230)):(p.style.transform="translate(0,0)",y(u.showing,0,!0));return}else g.direction=u.axis==="X"?g.offset.x<0?"left":"right":g.offset.y<0?"up":"down";if(t.left===void 0&&g.direction===f.value.right||t.right===void 0&&g.direction===f.value.left||t.top===void 0&&g.direction==="down"||t.bottom===void 0&&g.direction==="up"){p.style.transform="translate(0,0)";return}let _,x,S;u.axis==="X"?(x=g.direction==="left"?-1:1,_=x===1?f.value.left:f.value.right,S=g.distance.x):(x=g.direction==="up"?-2:2,_=x===2?"top":"bottom",S=g.distance.y),!(u.dir!==null&&Math.abs(x)!==Math.abs(u.dir))&&(u.dir!==x&&(["left","right","top","bottom"].forEach(M=>{c[M]&&(c[M].style.visibility=_===M?"visible":"hidden")}),u.showing=_,u.dir=x),u.scale=Math.max(0,Math.min(1,(S-40)/u.size[_])),p.style.transform=`translate${u.axis}(${S*x/Math.abs(x)}px)`,d[_].style.transform=`scale(${u.scale})`,y(_,u.scale,!1))}return el(()=>{c={},d={}}),st(()=>{l!==null&&clearTimeout(l)}),Object.assign(i,{reset:m}),()=>{const g=[],p={left:t[f.value.right]!==void 0,right:t[f.value.left]!==void 0,up:t.bottom!==void 0,down:t.top!==void 0},_=Object.keys(p).filter(S=>p[S]===!0);Rv.forEach(S=>{const M=S[0];t[M]!==void 0&&g.push(v("div",{key:M,ref:T=>{c[M]=T},class:`q-slide-item__${M} absolute-full row no-wrap items-${S[1]} justify-${S[2]}`+(e[M+"Color"]!==void 0?` bg-${e[M+"Color"]}`:"")},[v("div",{ref:T=>{d[M]=T}},t[M]())]))});const x=v("div",{key:`${_.length===0?"only-":""} content`,ref:s,class:"q-slide-item__content"},We(t.default));return _.length===0?g.push(x):g.push(ci(x,a("dir#"+_.join(""),()=>{const S={prevent:!0,stop:!0,mouse:!0};return _.forEach(M=>{S[M]=!0}),[[$n,b,void 0,S]]}))),v("div",{class:h.value},g)}}});var LA=v("div",{class:"q-space"});xe({name:"QSpace",setup(){return()=>LA}});var RA=[v("g",{transform:"matrix(1 0 0 -1 0 80)"},[v("rect",{width:"10",height:"20",rx:"3"},[v("animate",{attributeName:"height",begin:"0s",dur:"4.3s",values:"20;45;57;80;64;32;66;45;64;23;66;13;64;56;34;34;2;23;76;79;20",calcMode:"linear",repeatCount:"indefinite"})]),v("rect",{x:"15",width:"10",height:"80",rx:"3"},[v("animate",{attributeName:"height",begin:"0s",dur:"2s",values:"80;55;33;5;75;23;73;33;12;14;60;80",calcMode:"linear",repeatCount:"indefinite"})]),v("rect",{x:"30",width:"10",height:"50",rx:"3"},[v("animate",{attributeName:"height",begin:"0s",dur:"1.4s",values:"50;34;78;23;56;23;34;76;80;54;21;50",calcMode:"linear",repeatCount:"indefinite"})]),v("rect",{x:"45",width:"10",height:"30",rx:"3"},[v("animate",{attributeName:"height",begin:"0s",dur:"2s",values:"30;45;13;80;56;72;45;76;34;23;67;30",calcMode:"linear",repeatCount:"indefinite"})])])];xe({name:"QSpinnerAudio",props:zt,setup(e){const{cSize:t,classes:n}=qt(e);return()=>v("svg",{class:n.value,fill:"currentColor",width:t.value,height:t.value,viewBox:"0 0 55 80",xmlns:"http://www.w3.org/2000/svg"},RA)}});var kA=[v("g",{transform:"translate(1 1)","stroke-width":"2",fill:"none","fill-rule":"evenodd"},[v("circle",{cx:"5",cy:"50",r:"5"},[v("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",values:"50;5;50;50",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"cx",begin:"0s",dur:"2.2s",values:"5;27;49;5",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"27",cy:"5",r:"5"},[v("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",from:"5",to:"5",values:"5;50;50;5",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"cx",begin:"0s",dur:"2.2s",from:"27",to:"27",values:"27;49;5;27",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"49",cy:"50",r:"5"},[v("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",values:"50;50;5;50",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"cx",from:"49",to:"49",begin:"0s",dur:"2.2s",values:"49;5;27;49",calcMode:"linear",repeatCount:"indefinite"})])])];xe({name:"QSpinnerBall",props:zt,setup(e){const{cSize:t,classes:n}=qt(e);return()=>v("svg",{class:n.value,stroke:"currentColor",width:t.value,height:t.value,viewBox:"0 0 57 57",xmlns:"http://www.w3.org/2000/svg"},kA)}});var PA=[v("rect",{y:"10",width:"15",height:"120",rx:"6"},[v("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),v("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},[v("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),v("rect",{x:"60",width:"15",height:"140",rx:"6"},[v("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),v("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},[v("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),v("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},[v("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})])];xe({name:"QSpinnerBars",props:zt,setup(e){const{cSize:t,classes:n}=qt(e);return()=>v("svg",{class:n.value,fill:"currentColor",width:t.value,height:t.value,viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg"},PA)}});var BA=[v("rect",{x:"25",y:"25",width:"50",height:"50",fill:"none","stroke-width":"4",stroke:"currentColor"},[v("animateTransform",{id:"spinnerBox",attributeName:"transform",type:"rotate",from:"0 50 50",to:"180 50 50",dur:"0.5s",begin:"rectBox.end"})]),v("rect",{x:"27",y:"27",width:"46",height:"50",fill:"currentColor"},[v("animate",{id:"rectBox",attributeName:"height",begin:"0s;spinnerBox.end",dur:"1.3s",from:"50",to:"0",fill:"freeze"})])];xe({name:"QSpinnerBox",props:zt,setup(e){const{cSize:t,classes:n}=qt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},BA)}});var IA=[v("circle",{cx:"50",cy:"50",r:"48",fill:"none","stroke-width":"4","stroke-miterlimit":"10",stroke:"currentColor"}),v("line",{"stroke-linecap":"round","stroke-width":"4","stroke-miterlimit":"10",stroke:"currentColor",x1:"50",y1:"50",x2:"85",y2:"50.5"},[v("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"2s",repeatCount:"indefinite"})]),v("line",{"stroke-linecap":"round","stroke-width":"4","stroke-miterlimit":"10",stroke:"currentColor",x1:"50",y1:"50",x2:"49.5",y2:"74"},[v("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"15s",repeatCount:"indefinite"})])];xe({name:"QSpinnerClock",props:zt,setup(e){const{cSize:t,classes:n}=qt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},IA)}});var FA=[v("rect",{x:"0",y:"0",width:"100",height:"100",fill:"none"}),v("path",{d:"M78,19H22c-6.6,0-12,5.4-12,12v31c0,6.6,5.4,12,12,12h37.2c0.4,3,1.8,5.6,3.7,7.6c2.4,2.5,5.1,4.1,9.1,4 c-1.4-2.1-2-7.2-2-10.3c0-0.4,0-0.8,0-1.3h8c6.6,0,12-5.4,12-12V31C90,24.4,84.6,19,78,19z",fill:"currentColor"}),v("circle",{cx:"30",cy:"47",r:"5",fill:"#fff"},[v("animate",{attributeName:"opacity",from:"0",to:"1",values:"0;1;1",keyTimes:"0;0.2;1",dur:"1s",repeatCount:"indefinite"})]),v("circle",{cx:"50",cy:"47",r:"5",fill:"#fff"},[v("animate",{attributeName:"opacity",from:"0",to:"1",values:"0;0;1;1",keyTimes:"0;0.2;0.4;1",dur:"1s",repeatCount:"indefinite"})]),v("circle",{cx:"70",cy:"47",r:"5",fill:"#fff"},[v("animate",{attributeName:"opacity",from:"0",to:"1",values:"0;0;1;1",keyTimes:"0;0.4;0.6;1",dur:"1s",repeatCount:"indefinite"})])];xe({name:"QSpinnerComment",props:zt,setup(e){const{cSize:t,classes:n}=qt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},FA)}});var DA=[v("rect",{x:"0",y:"0",width:"100",height:"100",fill:"none"}),v("g",{transform:"translate(25 25)"},[v("rect",{x:"-20",y:"-20",width:"40",height:"40",fill:"currentColor",opacity:"0.9"},[v("animateTransform",{attributeName:"transform",type:"scale",from:"1.5",to:"1",repeatCount:"indefinite",begin:"0s",dur:"1s",calcMode:"spline",keySplines:"0.2 0.8 0.2 0.8",keyTimes:"0;1"})])]),v("g",{transform:"translate(75 25)"},[v("rect",{x:"-20",y:"-20",width:"40",height:"40",fill:"currentColor",opacity:"0.8"},[v("animateTransform",{attributeName:"transform",type:"scale",from:"1.5",to:"1",repeatCount:"indefinite",begin:"0.1s",dur:"1s",calcMode:"spline",keySplines:"0.2 0.8 0.2 0.8",keyTimes:"0;1"})])]),v("g",{transform:"translate(25 75)"},[v("rect",{x:"-20",y:"-20",width:"40",height:"40",fill:"currentColor",opacity:"0.7"},[v("animateTransform",{attributeName:"transform",type:"scale",from:"1.5",to:"1",repeatCount:"indefinite",begin:"0.3s",dur:"1s",calcMode:"spline",keySplines:"0.2 0.8 0.2 0.8",keyTimes:"0;1"})])]),v("g",{transform:"translate(75 75)"},[v("rect",{x:"-20",y:"-20",width:"40",height:"40",fill:"currentColor",opacity:"0.6"},[v("animateTransform",{attributeName:"transform",type:"scale",from:"1.5",to:"1",repeatCount:"indefinite",begin:"0.2s",dur:"1s",calcMode:"spline",keySplines:"0.2 0.8 0.2 0.8",keyTimes:"0;1"})])])];xe({name:"QSpinnerCube",props:zt,setup(e){const{cSize:t,classes:n}=qt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},DA)}});var OA=[v("circle",{cx:"15",cy:"15",r:"15"},[v("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"60",cy:"15",r:"9","fill-opacity":".3"},[v("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"fill-opacity",from:".5",to:".5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"105",cy:"15",r:"15"},[v("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})])];xe({name:"QSpinnerDots",props:zt,setup(e){const{cSize:t,classes:n}=qt(e);return()=>v("svg",{class:n.value,fill:"currentColor",width:t.value,height:t.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg"},OA)}});var NA=[v("g",{transform:"translate(20 50)"},[v("rect",{x:"-10",y:"-30",width:"20",height:"60",fill:"currentColor",opacity:"0.6"},[v("animateTransform",{attributeName:"transform",type:"scale",from:"2",to:"1",begin:"0s",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keySplines:"0.1 0.9 0.4 1",keyTimes:"0;1",values:"2;1"})])]),v("g",{transform:"translate(50 50)"},[v("rect",{x:"-10",y:"-30",width:"20",height:"60",fill:"currentColor",opacity:"0.8"},[v("animateTransform",{attributeName:"transform",type:"scale",from:"2",to:"1",begin:"0.1s",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keySplines:"0.1 0.9 0.4 1",keyTimes:"0;1",values:"2;1"})])]),v("g",{transform:"translate(80 50)"},[v("rect",{x:"-10",y:"-30",width:"20",height:"60",fill:"currentColor",opacity:"0.9"},[v("animateTransform",{attributeName:"transform",type:"scale",from:"2",to:"1",begin:"0.2s",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keySplines:"0.1 0.9 0.4 1",keyTimes:"0;1",values:"2;1"})])])];xe({name:"QSpinnerFacebook",props:zt,setup(e){const{cSize:t,classes:n}=qt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},NA)}});var zA=[v("g",{transform:"translate(-20,-20)"},[v("path",{d:"M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z",fill:"currentColor"},[v("animateTransform",{attributeName:"transform",type:"rotate",from:"90 50 50",to:"0 50 50",dur:"1s",repeatCount:"indefinite"})])]),v("g",{transform:"translate(20,20) rotate(15 50 50)"},[v("path",{d:"M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z",fill:"currentColor"},[v("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"90 50 50",dur:"1s",repeatCount:"indefinite"})])])];xe({name:"QSpinnerGears",props:zt,setup(e){const{cSize:t,classes:n}=qt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},zA)}});var qA=[v("circle",{cx:"12.5",cy:"12.5",r:"12.5"},[v("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"12.5",cy:"52.5",r:"12.5","fill-opacity":".5"},[v("animate",{attributeName:"fill-opacity",begin:"100ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"52.5",cy:"12.5",r:"12.5"},[v("animate",{attributeName:"fill-opacity",begin:"300ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"52.5",cy:"52.5",r:"12.5"},[v("animate",{attributeName:"fill-opacity",begin:"600ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"92.5",cy:"12.5",r:"12.5"},[v("animate",{attributeName:"fill-opacity",begin:"800ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"92.5",cy:"52.5",r:"12.5"},[v("animate",{attributeName:"fill-opacity",begin:"400ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"12.5",cy:"92.5",r:"12.5"},[v("animate",{attributeName:"fill-opacity",begin:"700ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"52.5",cy:"92.5",r:"12.5"},[v("animate",{attributeName:"fill-opacity",begin:"500ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"92.5",cy:"92.5",r:"12.5"},[v("animate",{attributeName:"fill-opacity",begin:"200ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})])];xe({name:"QSpinnerGrid",props:zt,setup(e){const{cSize:t,classes:n}=qt(e);return()=>v("svg",{class:n.value,fill:"currentColor",width:t.value,height:t.value,viewBox:"0 0 105 105",xmlns:"http://www.w3.org/2000/svg"},qA)}});var HA=[v("path",{d:"M30.262 57.02L7.195 40.723c-5.84-3.976-7.56-12.06-3.842-18.063 3.715-6 11.467-7.65 17.306-3.68l4.52 3.76 2.6-5.274c3.716-6.002 11.47-7.65 17.304-3.68 5.84 3.97 7.56 12.054 3.842 18.062L34.49 56.118c-.897 1.512-2.793 1.915-4.228.9z","fill-opacity":".5"},[v("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.4s",values:"0.5;1;0.5",calcMode:"linear",repeatCount:"indefinite"})]),v("path",{d:"M105.512 56.12l-14.44-24.272c-3.716-6.008-1.996-14.093 3.843-18.062 5.835-3.97 13.588-2.322 17.306 3.68l2.6 5.274 4.52-3.76c5.84-3.97 13.593-2.32 17.308 3.68 3.718 6.003 1.998 14.088-3.842 18.064L109.74 57.02c-1.434 1.014-3.33.61-4.228-.9z","fill-opacity":".5"},[v("animate",{attributeName:"fill-opacity",begin:"0.7s",dur:"1.4s",values:"0.5;1;0.5",calcMode:"linear",repeatCount:"indefinite"})]),v("path",{d:"M67.408 57.834l-23.01-24.98c-5.864-6.15-5.864-16.108 0-22.248 5.86-6.14 15.37-6.14 21.234 0L70 16.168l4.368-5.562c5.863-6.14 15.375-6.14 21.235 0 5.863 6.14 5.863 16.098 0 22.247l-23.007 24.98c-1.43 1.556-3.757 1.556-5.188 0z"})];xe({name:"QSpinnerHearts",props:zt,setup(e){const{cSize:t,classes:n}=qt(e);return()=>v("svg",{class:n.value,fill:"currentColor",width:t.value,height:t.value,viewBox:"0 0 140 64",xmlns:"http://www.w3.org/2000/svg"},HA)}});var VA=[v("g",[v("path",{fill:"none",stroke:"currentColor","stroke-width":"5","stroke-miterlimit":"10",d:"M58.4,51.7c-0.9-0.9-1.4-2-1.4-2.3s0.5-0.4,1.4-1.4 C70.8,43.8,79.8,30.5,80,15.5H70H30H20c0.2,15,9.2,28.1,21.6,32.3c0.9,0.9,1.4,1.2,1.4,1.5s-0.5,1.6-1.4,2.5 C29.2,56.1,20.2,69.5,20,85.5h10h40h10C79.8,69.5,70.8,55.9,58.4,51.7z"}),v("clipPath",{id:"uil-hourglass-clip1"},[v("rect",{x:"15",y:"20",width:"70",height:"25"},[v("animate",{attributeName:"height",from:"25",to:"0",dur:"1s",repeatCount:"indefinite",values:"25;0;0",keyTimes:"0;0.5;1"}),v("animate",{attributeName:"y",from:"20",to:"45",dur:"1s",repeatCount:"indefinite",values:"20;45;45",keyTimes:"0;0.5;1"})])]),v("clipPath",{id:"uil-hourglass-clip2"},[v("rect",{x:"15",y:"55",width:"70",height:"25"},[v("animate",{attributeName:"height",from:"0",to:"25",dur:"1s",repeatCount:"indefinite",values:"0;25;25",keyTimes:"0;0.5;1"}),v("animate",{attributeName:"y",from:"80",to:"55",dur:"1s",repeatCount:"indefinite",values:"80;55;55",keyTimes:"0;0.5;1"})])]),v("path",{d:"M29,23c3.1,11.4,11.3,19.5,21,19.5S67.9,34.4,71,23H29z","clip-path":"url(#uil-hourglass-clip1)",fill:"currentColor"}),v("path",{d:"M71.6,78c-3-11.6-11.5-20-21.5-20s-18.5,8.4-21.5,20H71.6z","clip-path":"url(#uil-hourglass-clip2)",fill:"currentColor"}),v("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"180 50 50",repeatCount:"indefinite",dur:"1s",values:"0 50 50;0 50 50;180 50 50",keyTimes:"0;0.7;1"})])];xe({name:"QSpinnerHourglass",props:zt,setup(e){const{cSize:t,classes:n}=qt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},VA)}});var UA=[v("path",{d:"M24.3,30C11.4,30,5,43.3,5,50s6.4,20,19.3,20c19.3,0,32.1-40,51.4-40C88.6,30,95,43.3,95,50s-6.4,20-19.3,20C56.4,70,43.6,30,24.3,30z",fill:"none",stroke:"currentColor","stroke-width":"8","stroke-dasharray":"10.691205342610678 10.691205342610678","stroke-dashoffset":"0"},[v("animate",{attributeName:"stroke-dashoffset",from:"0",to:"21.382410685221355",begin:"0",dur:"2s",repeatCount:"indefinite",fill:"freeze"})])];xe({name:"QSpinnerInfinity",props:zt,setup(e){const{cSize:t,classes:n}=qt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},UA)}});var GA=[v("g",{"stroke-width":"4","stroke-linecap":"round"},[v("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(180)"},[v("animate",{attributeName:"stroke-opacity",dur:"750ms",values:"1;.85;.7;.65;.55;.45;.35;.25;.15;.1;0;1",repeatCount:"indefinite"})]),v("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(210)"},[v("animate",{attributeName:"stroke-opacity",dur:"750ms",values:"0;1;.85;.7;.65;.55;.45;.35;.25;.15;.1;0",repeatCount:"indefinite"})]),v("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(240)"},[v("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".1;0;1;.85;.7;.65;.55;.45;.35;.25;.15;.1",repeatCount:"indefinite"})]),v("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(270)"},[v("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".15;.1;0;1;.85;.7;.65;.55;.45;.35;.25;.15",repeatCount:"indefinite"})]),v("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(300)"},[v("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".25;.15;.1;0;1;.85;.7;.65;.55;.45;.35;.25",repeatCount:"indefinite"})]),v("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(330)"},[v("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".35;.25;.15;.1;0;1;.85;.7;.65;.55;.45;.35",repeatCount:"indefinite"})]),v("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(0)"},[v("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".45;.35;.25;.15;.1;0;1;.85;.7;.65;.55;.45",repeatCount:"indefinite"})]),v("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(30)"},[v("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".55;.45;.35;.25;.15;.1;0;1;.85;.7;.65;.55",repeatCount:"indefinite"})]),v("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(60)"},[v("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".65;.55;.45;.35;.25;.15;.1;0;1;.85;.7;.65",repeatCount:"indefinite"})]),v("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(90)"},[v("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".7;.65;.55;.45;.35;.25;.15;.1;0;1;.85;.7",repeatCount:"indefinite"})]),v("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(120)"},[v("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".85;.7;.65;.55;.45;.35;.25;.15;.1;0;1;.85",repeatCount:"indefinite"})]),v("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(150)"},[v("animate",{attributeName:"stroke-opacity",dur:"750ms",values:"1;.85;.7;.65;.55;.45;.35;.25;.15;.1;0;1",repeatCount:"indefinite"})])])];xe({name:"QSpinnerIos",props:zt,setup(e){const{cSize:t,classes:n}=qt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,stroke:"currentColor",fill:"currentColor",viewBox:"0 0 64 64"},GA)}});var WA=[v("circle",{cx:"50",cy:"50",r:"44",fill:"none","stroke-width":"4","stroke-opacity":".5",stroke:"currentColor"}),v("circle",{cx:"8",cy:"54",r:"6",fill:"currentColor","stroke-width":"3",stroke:"currentColor"},[v("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 48",to:"360 50 52",dur:"2s",repeatCount:"indefinite"})])];xe({name:"QSpinnerOrbit",props:zt,setup(e){const{cSize:t,classes:n}=qt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},WA)}});var $A=[v("g",{transform:"translate(1 1)","stroke-width":"2",fill:"none","fill-rule":"evenodd"},[v("circle",{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}),v("path",{d:"M36 18c0-9.94-8.06-18-18-18"},[v("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})])])];xe({name:"QSpinnerOval",props:zt,setup(e){const{cSize:t,classes:n}=qt(e);return()=>v("svg",{class:n.value,stroke:"currentColor",width:t.value,height:t.value,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg"},$A)}});var jA=[v("path",{d:"M0 50A50 50 0 0 1 50 0L50 50L0 50",fill:"currentColor",opacity:"0.5"},[v("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"0.8s",repeatCount:"indefinite"})]),v("path",{d:"M50 0A50 50 0 0 1 100 50L50 50L50 0",fill:"currentColor",opacity:"0.5"},[v("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"1.6s",repeatCount:"indefinite"})]),v("path",{d:"M100 50A50 50 0 0 1 50 100L50 50L100 50",fill:"currentColor",opacity:"0.5"},[v("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"2.4s",repeatCount:"indefinite"})]),v("path",{d:"M50 100A50 50 0 0 1 0 50L50 50L50 100",fill:"currentColor",opacity:"0.5"},[v("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"3.2s",repeatCount:"indefinite"})])];xe({name:"QSpinnerPie",props:zt,setup(e){const{cSize:t,classes:n}=qt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},jA)}});var YA=[v("g",{fill:"none","fill-rule":"evenodd","stroke-width":"2"},[v("circle",{cx:"22",cy:"22",r:"1"},[v("animate",{attributeName:"r",begin:"0s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),v("animate",{attributeName:"stroke-opacity",begin:"0s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})]),v("circle",{cx:"22",cy:"22",r:"1"},[v("animate",{attributeName:"r",begin:"-0.9s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),v("animate",{attributeName:"stroke-opacity",begin:"-0.9s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})])])];xe({name:"QSpinnerPuff",props:zt,setup(e){const{cSize:t,classes:n}=qt(e);return()=>v("svg",{class:n.value,stroke:"currentColor",width:t.value,height:t.value,viewBox:"0 0 44 44",xmlns:"http://www.w3.org/2000/svg"},YA)}});var XA=[v("g",{transform:"scale(0.55)"},[v("circle",{cx:"30",cy:"150",r:"30",fill:"currentColor"},[v("animate",{attributeName:"opacity",from:"0",to:"1",dur:"1s",begin:"0",repeatCount:"indefinite",keyTimes:"0;0.5;1",values:"0;1;1"})]),v("path",{d:"M90,150h30c0-49.7-40.3-90-90-90v30C63.1,90,90,116.9,90,150z",fill:"currentColor"},[v("animate",{attributeName:"opacity",from:"0",to:"1",dur:"1s",begin:"0.1",repeatCount:"indefinite",keyTimes:"0;0.5;1",values:"0;1;1"})]),v("path",{d:"M150,150h30C180,67.2,112.8,0,30,0v30C96.3,30,150,83.7,150,150z",fill:"currentColor"},[v("animate",{attributeName:"opacity",from:"0",to:"1",dur:"1s",begin:"0.2",repeatCount:"indefinite",keyTimes:"0;0.5;1",values:"0;1;1"})])])];xe({name:"QSpinnerRadio",props:zt,setup(e){const{cSize:t,classes:n}=qt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},XA)}});var QA=[v("g",{fill:"none","fill-rule":"evenodd",transform:"translate(1 1)","stroke-width":"2"},[v("circle",{cx:"22",cy:"22",r:"6"},[v("animate",{attributeName:"r",begin:"1.5s",dur:"3s",values:"6;22",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"stroke-opacity",begin:"1.5s",dur:"3s",values:"1;0",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"stroke-width",begin:"1.5s",dur:"3s",values:"2;0",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"22",cy:"22",r:"6"},[v("animate",{attributeName:"r",begin:"3s",dur:"3s",values:"6;22",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"stroke-opacity",begin:"3s",dur:"3s",values:"1;0",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"stroke-width",begin:"3s",dur:"3s",values:"2;0",calcMode:"linear",repeatCount:"indefinite"})]),v("circle",{cx:"22",cy:"22",r:"8"},[v("animate",{attributeName:"r",begin:"0s",dur:"1.5s",values:"6;1;2;3;4;5;6",calcMode:"linear",repeatCount:"indefinite"})])])];xe({name:"QSpinnerRings",props:zt,setup(e){const{cSize:t,classes:n}=qt(e);return()=>v("svg",{class:n.value,stroke:"currentColor",width:t.value,height:t.value,viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg"},QA)}});var KA=[v("defs",[v("linearGradient",{x1:"8.042%",y1:"0%",x2:"65.682%",y2:"23.865%",id:"a"},[v("stop",{"stop-color":"currentColor","stop-opacity":"0",offset:"0%"}),v("stop",{"stop-color":"currentColor","stop-opacity":".631",offset:"63.146%"}),v("stop",{"stop-color":"currentColor",offset:"100%"})])]),v("g",{transform:"translate(1 1)",fill:"none","fill-rule":"evenodd"},[v("path",{d:"M36 18c0-9.94-8.06-18-18-18",stroke:"url(#a)","stroke-width":"2"},[v("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"})]),v("circle",{fill:"currentColor",cx:"36",cy:"18",r:"1"},[v("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"})])])];xe({name:"QSpinnerTail",props:zt,setup(e){const{cSize:t,classes:n}=qt(e);return()=>v("svg",{class:n.value,width:t.value,height:t.value,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg"},KA)}});xe({name:"QSplitter",props:{...ct,modelValue:{type:Number,required:!0},reverse:Boolean,unit:{type:String,default:"%",validator:e=>["%","px"].includes(e)},limits:{type:Array,validator:e=>e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"?!1:e[0]>=0&&e[0]<=e[1]},emitImmediately:Boolean,horizontal:Boolean,disable:Boolean,beforeClass:[Array,String,Object],afterClass:[Array,String,Object],separatorClass:[Array,String,Object],separatorStyle:[Array,String,Object]},emits:["update:modelValue"],setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=Be(),r=dt(e,i),o=ee(null),a={before:ee(null),after:ee(null)},s=w(()=>`q-splitter no-wrap ${e.horizontal===!0?"q-splitter--horizontal column":"q-splitter--vertical row"} q-splitter--${e.disable===!0?"disabled":"workable"}`+(r.value===!0?" q-splitter--dark":"")),l=w(()=>e.horizontal===!0?"height":"width"),u=w(()=>e.reverse!==!0?"before":"after"),c=w(()=>e.limits!==void 0?e.limits:e.unit==="%"?[10,90]:[50,1/0]);function d(S){return(e.unit==="%"?S:Math.round(S))+e.unit}const f=w(()=>({[u.value]:{[l.value]:d(e.modelValue)}}));let h,m,y,b,g;function p(S){if(S.isFirst===!0){const T=o.value.getBoundingClientRect()[l.value];h=e.horizontal===!0?"up":"left",m=e.unit==="%"?100:T,y=Math.min(m,c.value[1],Math.max(c.value[0],e.modelValue)),b=(e.reverse!==!0?1:-1)*(e.horizontal===!0?1:i.lang.rtl===!0?-1:1)*(e.unit==="%"?T===0?0:100/T:1),o.value.classList.add("q-splitter--active");return}if(S.isFinal===!0){g!==e.modelValue&&n("update:modelValue",g),o.value.classList.remove("q-splitter--active");return}const M=y+b*(S.direction===h?-1:1)*S.distance[e.horizontal===!0?"y":"x"];g=Math.min(m,c.value[1],Math.max(c.value[0],M)),a[u.value].value.style[l.value]=d(g),e.emitImmediately===!0&&e.modelValue!==g&&n("update:modelValue",g)}const _=w(()=>[[$n,p,void 0,{[e.horizontal===!0?"vertical":"horizontal"]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function x(S,M){S<M[0]?n("update:modelValue",M[0]):S>M[1]&&n("update:modelValue",M[1])}return Te(()=>e.modelValue,S=>{x(S,c.value)}),Te(()=>e.limits,()=>{ut(()=>{x(e.modelValue,c.value)})}),()=>{const S=[v("div",{ref:a.before,class:["q-splitter__panel q-splitter__before"+(e.reverse===!0?" col":""),e.beforeClass],style:f.value.before},We(t.before)),v("div",{class:["q-splitter__separator",e.separatorClass],style:e.separatorStyle,"aria-disabled":e.disable===!0?"true":void 0},[Jn("div",{class:"q-splitter__separator-area absolute-full"},We(t.separator),"sep",e.disable!==!0,()=>_.value)]),v("div",{ref:a.after,class:["q-splitter__panel q-splitter__after"+(e.reverse===!0?"":" col"),e.afterClass],style:f.value.after},We(t.after))];return v("div",{class:s.value,ref:o},Nt(t.default,S))}}});var _x=xe({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:t}){const{proxy:{$q:n}}=Be(),i=ee(null),r=w(()=>e.stepper.modelValue===e.step.name),o=w(()=>{const b=e.step.disable;return b===!0||b===""}),a=w(()=>{const b=e.step.error;return b===!0||b===""}),s=w(()=>{const b=e.step.done;return o.value===!1&&(b===!0||b==="")}),l=w(()=>{const b=e.step.headerNav,g=b===!0||b===""||b===void 0;return o.value===!1&&e.stepper.headerNav&&g}),u=w(()=>e.step.prefix&&(r.value===!1||e.stepper.activeIcon==="none")&&(a.value===!1||e.stepper.errorIcon==="none")&&(s.value===!1||e.stepper.doneIcon==="none")),c=w(()=>{const b=e.step.icon||e.stepper.inactiveIcon;if(r.value===!0){const g=e.step.activeIcon||e.stepper.activeIcon;return g==="none"?b:g||n.iconSet.stepper.active}if(a.value===!0){const g=e.step.errorIcon||e.stepper.errorIcon;return g==="none"?b:g||n.iconSet.stepper.error}if(o.value===!1&&s.value===!0){const g=e.step.doneIcon||e.stepper.doneIcon;return g==="none"?b:g||n.iconSet.stepper.done}return b}),d=w(()=>{const b=a.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(r.value===!0){const g=e.step.activeColor||e.stepper.activeColor||e.step.color;return g!==void 0?g:b}return b!==void 0?b:o.value===!1&&s.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),f=w(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(d.value!==void 0?` text-${d.value}`:"")+(a.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(u.value===!0?"prefix":"icon"):"")+(r.value===!0?" q-stepper__tab--active":"")+(s.value===!0?" q-stepper__tab--done":"")+(l.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(o.value===!0?" q-stepper__tab--disabled":"")),h=w(()=>e.stepper.headerNav!==!0?!1:l.value);function m(){i.value!==null&&i.value.focus(),r.value===!1&&e.goToPanel(e.step.name)}function y(b){b.keyCode===13&&r.value===!1&&e.goToPanel(e.step.name)}return()=>{const b={class:f.value};l.value===!0&&(b.onClick=m,b.onKeyup=y,Object.assign(b,o.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:t.tabindex||0}));const g=[v("div",{class:"q-focus-helper",tabindex:-1,ref:i}),v("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[v("span",{class:"row flex-center"},[u.value===!0?e.step.prefix:v(ft,{name:c.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const p=[v("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&p.push(v("div",{class:"q-stepper__caption"},e.step.caption)),g.push(v("div",{class:"q-stepper__label q-stepper__line relative-position"},p))}return ci(v("div",b,g),[[kc,h.value]])}}});function wx(e){return v("div",{class:"q-stepper__step-content"},[v("div",{class:"q-stepper__step-inner"},We(e.default))])}var kv={setup(e,{slots:t}){return()=>wx(t)}};xe({name:"QStep",props:{...Jh,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=Be(),r=Ln(Hy,gt);if(r===gt)return console.error("QStep needs to be a child of QStepper"),gt;const{getCache:o}=vl(),a=ee(null),s=w(()=>r.value.modelValue===e.name),l=w(()=>i.platform.is.ios!==!0&&i.platform.is.chrome===!0||s.value!==!0||r.value.vertical!==!0?{}:{onScroll(d){const{target:f}=d;f.scrollTop>0&&(f.scrollTop=0),e.onScroll!==void 0&&n("scroll",d)}}),u=w(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function c(){const d=r.value.vertical;return d===!0&&r.value.keepAlive===!0?v(Jv,r.value.keepAliveProps.value,s.value===!0?[v(r.value.needsUniqueKeepAliveWrapper.value===!0?o(u.value,()=>({...kv,name:u.value})):kv,{key:u.value},t.default)]:void 0):d!==!0||s.value===!0?wx(t):void 0}return()=>v("div",{ref:a,class:"q-stepper__step",role:"tabpanel",...l.value},r.value.vertical===!0?[v(_x,{stepper:r.value,step:e,goToPanel:r.value.goToPanel}),r.value.animated===!0?v(cm,c):c()]:[c()])}});var ZA=/(-\w)/g;function JA(e){const t={};for(const n in e){const i=n.replace(ZA,r=>r[1].toUpperCase());t[i]=e[n]}return t}xe({name:"QStepper",props:{...ct,...em,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:tm,setup(e,{slots:t}){const n=Be(),i=dt(e,n.proxy.$q),{updatePanelsList:r,isValidPanelName:o,updatePanelIndex:a,getPanelContent:s,getPanels:l,panelDirectives:u,goToPanel:c,keepAliveProps:d,needsUniqueKeepAliveWrapper:f}=nm();Pr(Hy,w(()=>({goToPanel:c,keepAliveProps:d,needsUniqueKeepAliveWrapper:f,...e})));const h=w(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(i.value===!0?" q-stepper--dark q-dark":"")),m=w(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function y(){const b=We(t.message,[]);if(e.vertical===!0){o(e.modelValue)&&a();const g=v("div",{class:"q-stepper__content"},We(t.default));return b===void 0?[g]:b.concat(g)}return[v("div",{class:m.value},l().map(g=>{const p=JA(g.props);return v(_x,{key:p.name,stepper:e,step:p,goToPanel:c})})),b,Jn("div",{class:"q-stepper__content q-panel-parent"},s(),"cont",e.swipeable,()=>u.value)]}return()=>(r(t),v("div",{class:h.value},Nt(t.navigation,y())))}});xe({name:"QStepperNavigation",setup(e,{slots:t}){return()=>v("div",{class:"q-stepper__nav"},We(t.default))}});var eL=xe({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:t,emit:n}){const i=Be(),{proxy:{$q:r}}=i,o=a=>{n("click",a)};return()=>{if(e.props===void 0)return v("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:o},We(t.default));let a,s;const l=i.vnode.key;if(l){if(a=e.props.colsMap[l],a===void 0)return}else a=e.props.col;if(a.sortable===!0){const c=a.align==="right"?"unshift":"push";s=hl(t.default,[]),s[c](v(ft,{class:a.__iconClass,name:r.iconSet.table.arrowUp}))}else s=We(t.default);const u={class:a.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:a.headerStyle,onClick:c=>{a.sortable===!0&&e.props.sort(a),o(c)}};return v("th",u,s)}}});function Sx(e,t){return v("div",e,[v("table",{class:"q-table"},t)])}var tL={list:cA,table:mA},nL=["list","table","__qtable"],iL=xe({name:"QVirtualScroll",props:{...jf,type:{type:String,default:"list",validator:e=>nL.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:Lo},setup(e,{slots:t,attrs:n}){let i;const r=ee(null),o=w(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:a,localResetVirtualScroll:s,padVirtualScroll:l,onVirtualScrollEvt:u}=xx({virtualScrollLength:o,getVirtualScrollTarget:m,getVirtualScrollEl:h}),c=w(()=>{if(o.value===0)return[];const p=(_,x)=>({index:a.value.from+x,item:_});return e.itemsFn===void 0?e.items.slice(a.value.from,a.value.to).map(p):e.itemsFn(a.value.from,a.value.to-a.value.from).map(p)}),d=w(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),f=w(()=>e.scrollTarget!==void 0?{}:{tabindex:0});Te(o,()=>{s()}),Te(()=>e.scrollTarget,()=>{b(),y()});function h(){return r.value.$el||r.value}function m(){return i}function y(){i=Pi(h(),e.scrollTarget),i.addEventListener("scroll",u,xt.passive)}function b(){i!==void 0&&(i.removeEventListener("scroll",u,xt.passive),i=void 0)}function g(){let p=l(e.type==="list"?"div":"tbody",c.value.map(t.default));return t.before!==void 0&&(p=t.before().concat(p)),Nt(t.after,p)}return Yf(()=>{s()}),It(()=>{y()}),So(()=>{y()}),Ki(()=>{b()}),st(()=>{b()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?Sx({ref:r,class:"q-table__middle "+d.value},g()):v(tL[e.type],{...n,ref:r,class:[n.class,d.value],...f.value},g)}}});function rL(e,t){return new Date(e)-new Date(t)}var oL={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function aL(e,t,n,i){const r=w(()=>{const{sortBy:s}=t.value;return s&&n.value.find(l=>l.name===s)||null}),o=w(()=>e.sortMethod!==void 0?e.sortMethod:(s,l,u)=>{const c=n.value.find(h=>h.name===l);if(c===void 0||c.field===void 0)return s;const d=u===!0?-1:1,f=typeof c.field=="function"?h=>c.field(h):h=>h[c.field];return s.sort((h,m)=>{let y=f(h),b=f(m);return c.rawSort!==void 0?c.rawSort(y,b,h,m)*d:y==null?-1*d:b==null?1*d:c.sort!==void 0?c.sort(y,b,h,m)*d:Qs(y)===!0&&Qs(b)===!0?(y-b)*d:Bf(y)===!0&&Bf(b)===!0?rL(y,b)*d:typeof y=="boolean"&&typeof b=="boolean"?(y-b)*d:([y,b]=[y,b].map(g=>(g+"").toLocaleString().toLowerCase()),y<b?-1*d:y===b?0:d)})});function a(s){let l=e.columnSortOrder;if(wn(s)===!0)s.sortOrder&&(l=s.sortOrder),s=s.name;else{const d=n.value.find(f=>f.name===s);d!==void 0&&d.sortOrder&&(l=d.sortOrder)}let{sortBy:u,descending:c}=t.value;u!==s?(u=s,c=l==="da"):e.binaryStateSort===!0?c=!c:c===!0?l==="ad"?u=null:c=!1:l==="ad"?c=!0:u=null,i({sortBy:u,descending:c,page:1})}return{columnToSort:r,computedSortMethod:o,sort:a}}var sL={filter:[String,Object],filterMethod:Function};function lL(e,t){const n=w(()=>e.filterMethod!==void 0?e.filterMethod:(i,r,o,a)=>{const s=r?r.toLowerCase():"";return i.filter(l=>o.some(u=>{const c=a(u,l)+"";return(c==="undefined"||c==="null"?"":c.toLowerCase()).indexOf(s)!==-1}))});return Te(()=>e.filter,()=>{ut(()=>{t({page:1},!0)})},{deep:!0}),{computedFilterMethod:n}}function uL(e,t){for(const n in t)if(t[n]!==e[n])return!1;return!0}function Pv(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}var cL={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function dL(e,t){const{props:n,emit:i}=e,r=ee(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:n.rowsPerPageOptions.length!==0?n.rowsPerPageOptions[0]:5},n.pagination)),o=w(()=>{const c=n["onUpdate:pagination"]!==void 0?{...r.value,...n.pagination}:r.value;return Pv(c)}),a=w(()=>o.value.rowsNumber!==void 0);function s(c){l({pagination:c,filter:n.filter})}function l(c={}){ut(()=>{i("request",{pagination:c.pagination||o.value,filter:c.filter||n.filter,getCellValue:t})})}function u(c,d){const f=Pv({...o.value,...c});if(uL(o.value,f)===!0){a.value===!0&&d===!0&&s(f);return}if(a.value===!0){s(f);return}n.pagination!==void 0&&n["onUpdate:pagination"]!==void 0?i("update:pagination",f):r.value=f}return{innerPagination:r,computedPagination:o,isServerSide:a,requestServerInteraction:l,setPagination:u}}function fL(e,t,n,i,r,o){const{props:a,emit:s,proxy:{$q:l}}=e,u=w(()=>i.value===!0?n.value.rowsNumber||0:o.value),c=w(()=>{const{page:x,rowsPerPage:S}=n.value;return(x-1)*S}),d=w(()=>{const{page:x,rowsPerPage:S}=n.value;return x*S}),f=w(()=>n.value.page===1),h=w(()=>n.value.rowsPerPage===0?1:Math.max(1,Math.ceil(u.value/n.value.rowsPerPage))),m=w(()=>d.value===0?!0:n.value.page>=h.value),y=w(()=>(a.rowsPerPageOptions.includes(t.value.rowsPerPage)?a.rowsPerPageOptions:[t.value.rowsPerPage].concat(a.rowsPerPageOptions)).map(S=>({label:S===0?l.lang.table.allRows:""+S,value:S})));Te(h,(x,S)=>{if(x===S)return;const M=n.value.page;x&&!M?r({page:1}):x<M&&r({page:x})});function b(){r({page:1})}function g(){const{page:x}=n.value;x>1&&r({page:x-1})}function p(){const{page:x,rowsPerPage:S}=n.value;d.value>0&&x*S<u.value&&r({page:x+1})}function _(){r({page:h.value})}return a["onUpdate:pagination"]!==void 0&&s("update:pagination",{...n.value}),{firstRowIndex:c,lastRowIndex:d,isFirstPage:f,isLastPage:m,pagesNumber:h,computedRowsPerPageOptions:y,computedRowsNumber:u,firstPage:b,prevPage:g,nextPage:p,lastPage:_}}var hL={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},mL=["update:selected","selection"];function pL(e,t,n,i){const r=w(()=>{const m={};return e.selected.map(i.value).forEach(y=>{m[y]=!0}),m}),o=w(()=>e.selection!=="none"),a=w(()=>e.selection==="single"),s=w(()=>e.selection==="multiple"),l=w(()=>n.value.length!==0&&n.value.every(m=>r.value[i.value(m)]===!0)),u=w(()=>l.value!==!0&&n.value.some(m=>r.value[i.value(m)]===!0)),c=w(()=>e.selected.length);function d(m){return r.value[m]===!0}function f(){t("update:selected",[])}function h(m,y,b,g){t("selection",{rows:y,added:b,keys:m,evt:g});const p=a.value===!0?b===!0?y:[]:b===!0?e.selected.concat(y):e.selected.filter(_=>m.includes(i.value(_))===!1);t("update:selected",p)}return{hasSelectionMode:o,singleSelection:a,multipleSelection:s,allRowsSelected:l,someRowsSelected:u,rowsSelectedNumber:c,isRowSelected:d,clearSelection:f,updateSelection:h}}function Bv(e){return Array.isArray(e)?e.slice():[]}var vL={expanded:Array},gL=["update:expanded"];function yL(e,t){const n=ee(Bv(e.expanded));Te(()=>e.expanded,a=>{n.value=Bv(a)});function i(a){return n.value.includes(a)}function r(a){e.expanded!==void 0?t("update:expanded",a):n.value=a}function o(a,s){const l=n.value.slice(),u=l.indexOf(a);s===!0?u===-1&&(l.push(a),r(l)):u!==-1&&(l.splice(u,1),r(l))}return{isRowExpanded:i,setExpanded:r,updateExpanded:o}}var bL={visibleColumns:Array};function xL(e,t,n){const i=w(()=>{if(e.columns!==void 0)return e.columns;const s=e.rows[0];return s!==void 0?Object.keys(s).map(l=>({name:l,label:l.toUpperCase(),field:l,align:Qs(s[l])?"right":"left",sortable:!0})):[]}),r=w(()=>{const{sortBy:s,descending:l}=t.value;return(e.visibleColumns!==void 0?i.value.filter(c=>c.required===!0||e.visibleColumns.includes(c.name)===!0):i.value).map(c=>{const d=c.align||"right",f=`text-${d}`;return{...c,align:d,__iconClass:`q-table__sort-icon q-table__sort-icon--${d}`,__thClass:f+(c.headerClasses!==void 0?" "+c.headerClasses:"")+(c.sortable===!0?" sortable":"")+(c.name===s?` sorted ${l===!0?"sort-desc":""}`:""),__tdStyle:c.style!==void 0?typeof c.style!="function"?()=>c.style:c.style:()=>null,__tdClass:c.classes!==void 0?typeof c.classes!="function"?()=>f+" "+c.classes:h=>f+" "+c.classes(h):()=>f}})}),o=w(()=>{const s={};return r.value.forEach(l=>{s[l.name]=l}),s}),a=w(()=>e.tableColspan!==void 0?e.tableColspan:r.value.length+(n.value===!0?1:0));return{colList:i,computedCols:r,computedColsMap:o,computedColspan:a}}var gu="q-table__bottom row items-center",Mx={};bx.forEach(e=>{Mx[e]={}});xe({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...Mx,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...ct,...im,...bL,...sL,...cL,...vL,...hL,...oL},emits:["request","virtualScroll",...rm,...gL,...mL],setup(e,{slots:t,emit:n}){const i=Be(),{proxy:{$q:r}}=i,o=dt(e,r),{inFullscreen:a,toggleFullscreen:s}=om(),l=w(()=>typeof e.rowKey=="function"?e.rowKey:ye=>ye[e.rowKey]),u=ee(null),c=ee(null),d=w(()=>e.grid!==!0&&e.virtualScroll===!0),f=w(()=>" q-table__card"+(o.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),h=w(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":f.value)+(o.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(a.value===!0?" fullscreen scroll":"")),m=w(()=>h.value+(e.loading===!0?" q-table--loading":""));Te(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+h.value,()=>{d.value===!0&&c.value!==null&&c.value.reset()});const{innerPagination:y,computedPagination:b,isServerSide:g,requestServerInteraction:p,setPagination:_}=dL(i,ce),{computedFilterMethod:x}=lL(e,_),{isRowExpanded:S,setExpanded:M,updateExpanded:T}=yL(e,n),R=w(()=>{let ye=e.rows;if(g.value===!0||ye.length===0)return ye;const{sortBy:De,descending:N}=b.value;return e.filter&&(ye=x.value(ye,e.filter,W.value,ce)),ne.value!==null&&(ye=J.value(e.rows===ye?ye.slice():ye,De,N)),ye}),L=w(()=>R.value.length),I=w(()=>{let ye=R.value;if(g.value===!0)return ye;const{rowsPerPage:De}=b.value;return De!==0&&($.value===0&&e.rows!==ye?ye.length>fe.value&&(ye=ye.slice(0,fe.value)):ye=ye.slice($.value,fe.value)),ye}),{hasSelectionMode:k,singleSelection:A,multipleSelection:C,allRowsSelected:E,someRowsSelected:D,rowsSelectedNumber:q,isRowSelected:O,clearSelection:G,updateSelection:Y}=pL(e,n,I,l),{colList:le,computedCols:W,computedColsMap:P,computedColspan:Z}=xL(e,b,k),{columnToSort:ne,computedSortMethod:J,sort:U}=aL(e,b,le,_),{firstRowIndex:$,lastRowIndex:fe,isFirstPage:X,isLastPage:be,pagesNumber:ke,computedRowsPerPageOptions:j,computedRowsNumber:re,firstPage:ue,prevPage:we,nextPage:_e,lastPage:B}=fL(i,y,b,g,_,L),z=w(()=>I.value.length===0),ve=w(()=>{const ye={};return bx.forEach(De=>{ye[De]=e[De]}),ye.virtualScrollItemSize===void 0&&(ye.virtualScrollItemSize=e.dense===!0?28:48),ye});function he(){d.value===!0&&c.value.reset()}function H(){if(e.grid===!0)return kn();const ye=e.hideHeader!==!0?$e:null;if(d.value===!0){const N=t["top-row"],oe=t["bottom-row"],ae={default:pe=>ge(pe.item,t.body,pe.index)};if(N!==void 0){const pe=v("tbody",N({cols:W.value}));ae.before=ye===null?()=>pe:()=>[ye()].concat(pe)}else ye!==null&&(ae.before=ye);return oe!==void 0&&(ae.after=()=>v("tbody",oe({cols:W.value}))),v(iL,{ref:c,class:e.tableClass,style:e.tableStyle,...ve.value,scrollTarget:e.virtualScrollTarget,items:I.value,type:"__qtable",tableColspan:Z.value,onVirtualScroll:K},ae)}const De=[Ee()];return ye!==null&&De.unshift(ye()),Sx({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},De)}function se(ye,De){if(c.value!==null){c.value.scrollTo(ye,De);return}ye=parseInt(ye,10);const N=u.value.querySelector(`tbody tr:nth-of-type(${ye+1})`);if(N!==null){const oe=u.value.querySelector(".q-table__middle.scroll"),ae=N.offsetTop-e.virtualScrollStickySizeStart,pe=ae<oe.scrollTop?"decrease":"increase";oe.scrollTop=ae,n("virtualScroll",{index:ye,from:0,to:y.value.rowsPerPage-1,direction:pe})}}function K(ye){n("virtualScroll",ye)}function me(){return[v(_A,{class:"q-table__linear-progress",color:e.color,dark:o.value,indeterminate:!0,trackColor:"transparent"})]}function ge(ye,De,N){const oe=l.value(ye),ae=O(oe);if(De!==void 0)return De(Le({key:oe,row:ye,pageIndex:N,__trClass:ae?"selected":""}));const pe=t["body-cell"],F=W.value.map(ie=>{const Ce=t[`body-cell-${ie.name}`],Me=Ce!==void 0?Ce:pe;return Me!==void 0?Me(Ne({key:oe,row:ye,pageIndex:N,col:ie})):v("td",{class:ie.__tdClass(ye),style:ie.__tdStyle(ye)},ce(ie,ye))});if(k.value===!0){const ie=t["body-selection"],Ce=ie!==void 0?ie(Pe({key:oe,row:ye,pageIndex:N})):[v(bs,{modelValue:ae,color:e.color,dark:o.value,dense:e.dense,"onUpdate:modelValue":(Me,Xe)=>{Y([oe],[ye],Me,Xe)}})];F.unshift(v("td",{class:"q-table--col-auto-width"},Ce))}const Q={key:oe,class:{selected:ae}};return e.onRowClick!==void 0&&(Q.class["cursor-pointer"]=!0,Q.onClick=ie=>{n("rowClick",ie,ye,N)}),e.onRowDblclick!==void 0&&(Q.class["cursor-pointer"]=!0,Q.onDblclick=ie=>{n("rowDblclick",ie,ye,N)}),e.onRowContextmenu!==void 0&&(Q.class["cursor-pointer"]=!0,Q.onContextmenu=ie=>{n("rowContextmenu",ie,ye,N)}),v("tr",Q,F)}function Ee(){const ye=t.body,De=t["top-row"],N=t["bottom-row"];let oe=I.value.map((ae,pe)=>ge(ae,ye,pe));return De!==void 0&&(oe=De({cols:W.value}).concat(oe)),N!==void 0&&(oe=oe.concat(N({cols:W.value}))),v("tbody",oe)}function Le(ye){return ze(ye),ye.cols=ye.cols.map(De=>Jt({...De},"value",()=>ce(De,ye.row))),ye}function Ne(ye){return ze(ye),Jt(ye,"value",()=>ce(ye.col,ye.row)),ye}function Pe(ye){return ze(ye),ye}function ze(ye){Object.assign(ye,{cols:W.value,colsMap:P.value,sort:U,rowIndex:$.value+ye.pageIndex,color:e.color,dark:o.value,dense:e.dense}),k.value===!0&&Jt(ye,"selected",()=>O(ye.key),(De,N)=>{Y([ye.key],[ye.row],De,N)}),Jt(ye,"expand",()=>S(ye.key),De=>{T(ye.key,De)})}function ce(ye,De){const N=typeof ye.field=="function"?ye.field(De):De[ye.field];return ye.format!==void 0?ye.format(N,De):N}const Se=w(()=>({pagination:b.value,pagesNumber:ke.value,isFirstPage:X.value,isLastPage:be.value,firstPage:ue,prevPage:we,nextPage:_e,lastPage:B,inFullscreen:a.value,toggleFullscreen:s}));function de(){const ye=t.top,De=t["top-left"],N=t["top-right"],oe=t["top-selection"],ae=k.value===!0&&oe!==void 0&&q.value>0,pe="q-table__top relative-position row items-center";if(ye!==void 0)return v("div",{class:pe},[ye(Se.value)]);let F;if(ae===!0?F=oe(Se.value).slice():(F=[],De!==void 0?F.push(v("div",{class:"q-table__control"},[De(Se.value)])):e.title&&F.push(v("div",{class:"q-table__control"},[v("div",{class:["q-table__title",e.titleClass]},e.title)]))),N!==void 0&&(F.push(v("div",{class:"q-table__separator col"})),F.push(v("div",{class:"q-table__control"},[N(Se.value)]))),F.length!==0)return v("div",{class:pe},F)}const Ae=w(()=>D.value===!0?null:E.value);function $e(){const ye=et();return e.loading===!0&&t.loading===void 0&&ye.push(v("tr",{class:"q-table__progress"},[v("th",{class:"relative-position",colspan:Z.value},me())])),v("thead",ye)}function et(){const ye=t.header,De=t["header-cell"];if(ye!==void 0)return ye(qe({header:!0})).slice();const N=W.value.map(oe=>{const ae=t[`header-cell-${oe.name}`],pe=ae!==void 0?ae:De,F=qe({col:oe});return pe!==void 0?pe(F):v(eL,{key:oe.name,props:F},()=>oe.label)});if(A.value===!0&&e.grid!==!0)N.unshift(v("th",{class:"q-table--col-auto-width"}," "));else if(C.value===!0){const oe=t["header-selection"],ae=oe!==void 0?oe(qe({})):[v(bs,{color:e.color,modelValue:Ae.value,dark:o.value,dense:e.dense,"onUpdate:modelValue":ot})];N.unshift(v("th",{class:"q-table--col-auto-width"},ae))}return[v("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},N)]}function qe(ye){return Object.assign(ye,{cols:W.value,sort:U,colsMap:P.value,color:e.color,dark:o.value,dense:e.dense}),C.value===!0&&Jt(ye,"selected",()=>Ae.value,ot),ye}function ot(ye){D.value===!0&&(ye=!1),Y(I.value.map(l.value),I.value,ye)}const vt=w(()=>{const ye=[e.iconFirstPage||r.iconSet.table.firstPage,e.iconPrevPage||r.iconSet.table.prevPage,e.iconNextPage||r.iconSet.table.nextPage,e.iconLastPage||r.iconSet.table.lastPage];return r.lang.rtl===!0?ye.reverse():ye});function bt(){if(e.hideBottom===!0)return;if(z.value===!0){if(e.hideNoData===!0)return;const N=e.loading===!0?e.loadingLabel||r.lang.table.loading:e.filter?e.noResultsLabel||r.lang.table.noResults:e.noDataLabel||r.lang.table.noData,oe=t["no-data"],ae=oe!==void 0?[oe({message:N,icon:r.iconSet.table.warning,filter:e.filter})]:[v(ft,{class:"q-table__bottom-nodata-icon",name:r.iconSet.table.warning}),N];return v("div",{class:gu+" q-table__bottom--nodata"},ae)}const ye=t.bottom;if(ye!==void 0)return v("div",{class:gu},[ye(Se.value)]);const De=e.hideSelectedBanner!==!0&&k.value===!0&&q.value>0?[v("div",{class:"q-table__control"},[v("div",[(e.selectedRowsLabel||r.lang.table.selectedRecords)(q.value)])])]:[];if(e.hidePagination!==!0)return v("div",{class:gu+" justify-end"},bn(De));if(De.length!==0)return v("div",{class:gu},De)}function tn(ye){_({page:1,rowsPerPage:ye.value})}function bn(ye){let De;const{rowsPerPage:N}=b.value,oe=e.paginationLabel||r.lang.table.pagination,ae=t.pagination,pe=e.rowsPerPageOptions.length>1;if(ye.push(v("div",{class:"q-table__separator col"})),pe===!0&&ye.push(v("div",{class:"q-table__control"},[v("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||r.lang.table.recordsPerPage]),v(CA,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:N,options:j.value,displayValue:N===0?r.lang.table.allRows:N,dark:o.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":tn})])),ae!==void 0)De=ae(Se.value);else if(De=[v("span",N!==0?{class:"q-table__bottom-item"}:{},[N?oe($.value+1,Math.min(fe.value,re.value),re.value):oe(1,L.value,re.value)])],N!==0&&ke.value>1){const F={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(F.size="sm"),ke.value>2&&De.push(v(pt,{key:"pgFirst",...F,icon:vt.value[0],disable:X.value,onClick:ue})),De.push(v(pt,{key:"pgPrev",...F,icon:vt.value[1],disable:X.value,onClick:we}),v(pt,{key:"pgNext",...F,icon:vt.value[2],disable:be.value,onClick:_e})),ke.value>2&&De.push(v(pt,{key:"pgLast",...F,icon:vt.value[3],disable:be.value,onClick:B}))}return ye.push(v("div",{class:"q-table__control"},De)),ye}function Xt(){const ye=e.gridHeader===!0?[v("table",{class:"q-table"},[$e()])]:e.loading===!0&&t.loading===void 0?me():void 0;return v("div",{class:"q-table__middle"},ye)}function kn(){const ye=t.item!==void 0?t.item:De=>{const N=De.cols.map(ae=>v("div",{class:"q-table__grid-item-row"},[v("div",{class:"q-table__grid-item-title"},[ae.label]),v("div",{class:"q-table__grid-item-value"},[ae.value])]));if(k.value===!0){const ae=t["body-selection"],pe=ae!==void 0?ae(De):[v(bs,{modelValue:De.selected,color:e.color,dark:o.value,dense:e.dense,"onUpdate:modelValue":(F,Q)=>{Y([De.key],[De.row],F,Q)}})];N.unshift(v("div",{class:"q-table__grid-item-row"},pe),v(_o,{dark:o.value}))}const oe={class:["q-table__grid-item-card"+f.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(oe.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(oe.onClick=ae=>{n("RowClick",ae,De.row,De.pageIndex)}),e.onRowDblclick!==void 0&&(oe.onDblclick=ae=>{n("RowDblclick",ae,De.row,De.pageIndex)})),v("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(De.selected===!0?" q-table__grid-item--selected":"")},[v("div",oe,N)])};return v("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},I.value.map((De,N)=>ye(Le({key:l.value(De),row:De,pageIndex:N}))))}return Object.assign(i.proxy,{requestServerInteraction:p,setPagination:_,firstPage:ue,prevPage:we,nextPage:_e,lastPage:B,isRowSelected:O,clearSelection:G,isRowExpanded:S,setExpanded:M,sort:U,resetVirtualScroll:he,scrollTo:se,getCellValue:ce}),Oy(i.proxy,{filteredSortedRows:()=>R.value,computedRows:()=>I.value,computedRowsNumber:()=>re.value}),()=>{const ye=[de()],De={ref:u,class:m.value};return e.grid===!0?ye.push(Xt()):Object.assign(De,{class:[De.class,e.cardClass],style:e.cardStyle}),ye.push(H(),bt()),e.loading===!0&&t.loading!==void 0&&ye.push(t.loading()),v("div",De,ye)}}});xe({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:t}){const n=w(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>v("tr",{class:n.value},We(t.default))}});xe({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const n=Be(),i=w(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return v("td",{class:i.value},We(t.default));const r=n.vnode.key,o=(e.props.colsMap!==void 0?e.props.colsMap[r]:null)||e.props.col;if(o===void 0)return;const{row:a}=e.props;return v("td",{class:i.value+o.__tdClass(a),style:o.__tdStyle(a)},We(t.default))}}});xe({name:"QRouteTab",props:{...ml,...Db},emits:Fb,setup(e,{slots:t,emit:n}){const i=Rc({useDisableForRouterLinkProps:!1}),{renderTab:r,$tabs:o}=Ob(e,t,n,{exact:w(()=>e.exact),...i});return Te(()=>`${e.name} | ${e.exact} | ${(i.resolvedLink.value||{}).href}`,()=>{o.verifyRouteModel()}),()=>r(i.linkTag.value,i.linkAttrs.value)}});function _L(e,t){if(e.hour!==null){if(e.minute===null)return"minute";if(t===!0&&e.second===null)return"second"}return"hour"}function wL(){const e=new Date;return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}}xe({name:"QTime",props:{...ct,...ei,...fc,modelValue:{required:!0,validator:e=>typeof e=="string"||e===null},mask:{...fc.mask,default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},emits:Vb,setup(e,{slots:t,emit:n}){const i=Be(),{$q:r}=i.proxy,o=dt(e,r),{tabindex:a,headerClass:s,getLocale:l,getCurrentDate:u}=Ub(e,r),c=pl(e),d=Ir(c);let f,h;const m=ee(null),y=w(()=>J()),b=w(()=>l()),g=w(()=>U()),p=us(e.modelValue,y.value,b.value,e.calendar,g.value),_=ee(_L(p)),x=ee(p),S=ee(p.hour===null||p.hour<12),M=w(()=>`q-time q-time--${e.landscape===!0?"landscape":"portrait"}`+(o.value===!0?" q-time--dark q-dark":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-time--readonly":"")+(e.bordered===!0?" q-time--bordered":"")+(e.square===!0?" q-time--square no-border-radius":"")+(e.flat===!0?" q-time--flat no-shadow":"")),T=w(()=>{const ce=x.value;return{hour:ce.hour===null?"--":R.value===!0?mt(ce.hour):String(S.value===!0?ce.hour===0?12:ce.hour:ce.hour>12?ce.hour-12:ce.hour),minute:ce.minute===null?"--":mt(ce.minute),second:ce.second===null?"--":mt(ce.second)}}),R=w(()=>e.format24h!==null?e.format24h:r.lang.date.format24h),L=w(()=>{const ce=_.value==="hour",Se=ce===!0?12:60,de=x.value[_.value];let $e=`rotate(${Math.round(de*(360/Se))-180}deg) translateX(-50%)`;return ce===!0&&R.value===!0&&x.value.hour>=12&&($e+=" scale(.7)"),{transform:$e}}),I=w(()=>x.value.hour!==null),k=w(()=>I.value===!0&&x.value.minute!==null),A=w(()=>e.hourOptions!==void 0?ce=>e.hourOptions.includes(ce):e.options!==void 0?ce=>e.options(ce,null,null):null),C=w(()=>e.minuteOptions!==void 0?ce=>e.minuteOptions.includes(ce):e.options!==void 0?ce=>e.options(x.value.hour,ce,null):null),E=w(()=>e.secondOptions!==void 0?ce=>e.secondOptions.includes(ce):e.options!==void 0?ce=>e.options(x.value.hour,x.value.minute,ce):null),D=w(()=>{if(A.value===null)return null;const ce=P(0,11,A.value),Se=P(12,11,A.value);return{am:ce,pm:Se,values:ce.values.concat(Se.values)}}),q=w(()=>C.value!==null?P(0,59,C.value):null),O=w(()=>E.value!==null?P(0,59,E.value):null),G=w(()=>{switch(_.value){case"hour":return D.value;case"minute":return q.value;case"second":return O.value}}),Y=w(()=>{let ce,Se,de=0,Ae=1;const $e=G.value!==null?G.value.values:void 0;_.value==="hour"?R.value===!0?(ce=0,Se=23):(ce=0,Se=11,S.value===!1&&(de=12)):(ce=0,Se=55,Ae=5);const et=[];for(let qe=ce,ot=ce;qe<=Se;qe+=Ae,ot++){const vt=qe+de,bt=$e!==void 0&&$e.includes(vt)===!1,tn=_.value==="hour"&&qe===0?R.value===!0?"00":"12":qe;et.push({val:vt,index:ot,disable:bt,label:tn})}return et}),le=w(()=>[[$n,X,void 0,{stop:!0,prevent:!0,mouse:!0}]]);Te(()=>e.modelValue,ce=>{const Se=us(ce,y.value,b.value,e.calendar,g.value);(Se.dateHash!==x.value.dateHash||Se.timeHash!==x.value.timeHash)&&(x.value=Se,Se.hour===null?_.value="hour":S.value=Se.hour<12)}),Te([y,b],()=>{ut(()=>{Ne()})});function W(){const ce={...u(),...wL()};Ne(ce),Object.assign(x.value,ce),_.value="hour"}function P(ce,Se,de){const Ae=Array.apply(null,{length:Se+1}).map(($e,et)=>{const qe=et+ce;return{index:qe,val:de(qe)===!0}}).filter($e=>$e.val===!0).map($e=>$e.index);return{min:Ae[0],max:Ae[Ae.length-1],values:Ae,threshold:Se+1}}function Z(ce,Se,de){const Ae=Math.abs(ce-Se);return Math.min(Ae,de-Ae)}function ne(ce,{min:Se,max:de,values:Ae,threshold:$e}){if(ce===Se)return Se;if(ce<Se||ce>de)return Z(ce,Se,$e)<=Z(ce,de,$e)?Se:de;const et=Ae.findIndex(vt=>ce<=vt),qe=Ae[et-1],ot=Ae[et];return ce-qe<=ot-ce?qe:ot}function J(){return e.calendar!=="persian"&&e.mask!==null?e.mask:`HH:mm${e.withSeconds===!0?":ss":""}`}function U(){if(typeof e.defaultDate!="string"){const ce=u(!0);return ce.dateHash=qi(ce),ce}return us(e.defaultDate,"YYYY/MM/DD",void 0,e.calendar)}function $(){return _r(i)===!0||G.value!==null&&(G.value.values.length===0||_.value==="hour"&&R.value!==!0&&D.value[S.value===!0?"am":"pm"].values.length===0)}function fe(){const ce=m.value,{top:Se,left:de,width:Ae}=ce.getBoundingClientRect(),$e=Ae/2;return{top:Se+$e,left:de+$e,dist:$e*.7}}function X(ce){if($()!==!0){if(ce.isFirst===!0){f=fe(),h=ke(ce.evt,f);return}h=ke(ce.evt,f,h),ce.isFinal===!0&&(f=!1,h=null,be())}}function be(){_.value==="hour"?_.value="minute":e.withSeconds&&_.value==="minute"&&(_.value="second")}function ke(ce,Se,de){const Ae=En(ce),$e=Math.abs(Ae.top-Se.top),et=Math.sqrt(Math.pow(Math.abs(Ae.top-Se.top),2)+Math.pow(Math.abs(Ae.left-Se.left),2));let qe,ot=Math.asin($e/et)*(180/Math.PI);if(Ae.top<Se.top?ot=Se.left<Ae.left?90-ot:270+ot:ot=Se.left<Ae.left?ot+90:270-ot,_.value==="hour"){if(qe=ot/30,D.value!==null){const vt=R.value!==!0?S.value===!0:D.value.am.values.length!==0&&D.value.pm.values.length!==0?et>=Se.dist:D.value.am.values.length!==0;qe=ne(qe+(vt===!0?0:12),D.value[vt===!0?"am":"pm"])}else qe=Math.round(qe),R.value===!0?et<Se.dist?qe<12&&(qe+=12):qe===12&&(qe=0):S.value===!0&&qe===12?qe=0:S.value===!1&&qe!==12&&(qe+=12);R.value===!0&&(S.value=qe<12)}else qe=Math.round(ot/6)%60,_.value==="minute"&&q.value!==null?qe=ne(qe,q.value):_.value==="second"&&O.value!==null&&(qe=ne(qe,O.value));return de!==qe&&K[_.value](qe),qe}const j={hour(){_.value="hour"},minute(){_.value="minute"},second(){_.value="second"}};function re(ce){ce.keyCode===13&&me()}function ue(ce){ce.keyCode===13&&ge()}function we(ce){$()!==!0&&(r.platform.is.desktop!==!0&&ke(ce,fe()),be())}function _e(ce){$()!==!0&&ke(ce,fe())}function B(ce){if(ce.keyCode===13)_.value="hour";else if([37,39].includes(ce.keyCode)){const Se=ce.keyCode===37?-1:1;if(D.value!==null){const de=R.value===!0?D.value.values:D.value[S.value===!0?"am":"pm"].values;if(de.length===0)return;if(x.value.hour===null)he(de[0]);else{const Ae=(de.length+de.indexOf(x.value.hour)+Se)%de.length;he(de[Ae])}}else{const de=R.value===!0?24:12,Ae=R.value!==!0&&S.value===!1?12:0,$e=x.value.hour===null?-Se:x.value.hour;he(Ae+(24+$e+Se)%de)}}}function z(ce){if(ce.keyCode===13)_.value="minute";else if([37,39].includes(ce.keyCode)){const Se=ce.keyCode===37?-1:1;if(q.value!==null){const de=q.value.values;if(de.length===0)return;if(x.value.minute===null)H(de[0]);else{const Ae=(de.length+de.indexOf(x.value.minute)+Se)%de.length;H(de[Ae])}}else{const de=x.value.minute===null?-Se:x.value.minute;H((60+de+Se)%60)}}}function ve(ce){if(ce.keyCode===13)_.value="second";else if([37,39].includes(ce.keyCode)){const Se=ce.keyCode===37?-1:1;if(O.value!==null){const de=O.value.values;if(de.length===0)return;if(x.value.seconds===null)se(de[0]);else{const Ae=(de.length+de.indexOf(x.value.second)+Se)%de.length;se(de[Ae])}}else{const de=x.value.second===null?-Se:x.value.second;se((60+de+Se)%60)}}}function he(ce){x.value.hour!==ce&&(x.value.hour=ce,Le())}function H(ce){x.value.minute!==ce&&(x.value.minute=ce,Le())}function se(ce){x.value.second!==ce&&(x.value.second=ce,Le())}const K={hour:he,minute:H,second:se};function me(){S.value===!1&&(S.value=!0,x.value.hour!==null&&(x.value.hour-=12,Le()))}function ge(){S.value===!0&&(S.value=!1,x.value.hour!==null&&(x.value.hour+=12,Le()))}function Ee(ce){const Se=e.modelValue;_.value!==ce&&Se!==void 0&&Se!==null&&Se!==""&&typeof Se!="string"&&(_.value=ce)}function Le(){if(A.value!==null&&A.value(x.value.hour)!==!0){x.value=us(),Ee("hour");return}if(C.value!==null&&C.value(x.value.minute)!==!0){x.value.minute=null,x.value.second=null,Ee("minute");return}if(e.withSeconds===!0&&E.value!==null&&E.value(x.value.second)!==!0){x.value.second=null,Ee("second");return}x.value.hour===null||x.value.minute===null||e.withSeconds===!0&&x.value.second===null||Ne()}function Ne(ce){const Se=Object.assign({...x.value},ce),de=e.calendar==="persian"?mt(Se.hour)+":"+mt(Se.minute)+(e.withSeconds===!0?":"+mt(Se.second):""):Yb(new Date(Se.year,Se.month===null?null:Se.month-1,Se.day,Se.hour,Se.minute,Se.second,Se.millisecond),y.value,b.value,Se.year,Se.timezoneOffset);Se.changed=de!==e.modelValue,n("update:modelValue",de,Se)}function Pe(){const ce=[v("div",{class:"q-time__link "+(_.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:a.value,onClick:j.hour,onKeyup:B},T.value.hour),v("div",":"),v("div",I.value===!0?{class:"q-time__link "+(_.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:a.value,onKeyup:z,onClick:j.minute}:{class:"q-time__link"},T.value.minute)];e.withSeconds===!0&&ce.push(v("div",":"),v("div",k.value===!0?{class:"q-time__link "+(_.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:a.value,onKeyup:ve,onClick:j.second}:{class:"q-time__link"},T.value.second));const Se=[v("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},ce)];return R.value===!1&&Se.push(v("div",{class:"q-time__header-ampm column items-between no-wrap"},[v("div",{class:"q-time__link "+(S.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:a.value,onClick:me,onKeyup:re},"AM"),v("div",{class:"q-time__link "+(S.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:a.value,onClick:ge,onKeyup:ue},"PM")])),v("div",{class:"q-time__header flex flex-center no-wrap "+s.value},Se)}function ze(){const ce=x.value[_.value];return v("div",{class:"q-time__content col relative-position"},[v(Kt,{name:"q-transition--scale"},()=>v("div",{key:"clock"+_.value,class:"q-time__container-parent absolute-full"},[v("div",{ref:m,class:"q-time__container-child fit overflow-hidden"},[ci(v("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:we,onMousedown:_e},[v("div",{class:"q-time__clock-circle fit"},[v("div",{class:"q-time__clock-pointer"+(x.value[_.value]===null?" hidden":e.color!==void 0?` text-${e.color}`:""),style:L.value}),Y.value.map(Se=>v("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${Se.index}`+(Se.val===ce?" q-time__clock-position--active "+s.value:Se.disable===!0?" q-time__clock-position--disable":"")},[v("span",Se.label)]))])]),le.value)])])),e.nowBtn===!0?v(pt,{class:"q-time__now-button absolute",icon:r.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:e.color,textColor:e.textColor,tabindex:a.value,onClick:W}):null])}return i.proxy.setNow=W,()=>{const ce=[ze()],Se=We(t.default);return Se!==void 0&&ce.push(v("div",{class:"q-time__actions"},Se)),e.name!==void 0&&e.disable!==!0&&d(ce,"push"),v("div",{class:M.value,tabindex:-1},[Pe(),v("div",{class:"q-time__main col overflow-auto"},ce)])}}});xe({name:"QTimeline",props:{...ct,color:{type:String,default:"primary"},side:{type:String,default:"right",validator:e=>["left","right"].includes(e)},layout:{type:String,default:"dense",validator:e=>["dense","comfortable","loose"].includes(e)}},setup(e,{slots:t}){const n=Be(),i=dt(e,n.proxy.$q);Pr(qy,e);const r=w(()=>`q-timeline q-timeline--${e.layout} q-timeline--${e.layout}--${e.side}`+(i.value===!0?" q-timeline--dark":""));return()=>v("ul",{class:r.value},We(t.default))}});xe({name:"QTimelineEntry",props:{heading:Boolean,tag:{type:String,default:"h3"},side:{type:String,default:"right",validator:e=>["left","right"].includes(e)},icon:String,avatar:String,color:String,title:String,subtitle:String,body:String},setup(e,{slots:t}){const n=Ln(qy,gt);if(n===gt)return console.error("QTimelineEntry needs to be child of QTimeline"),gt;const i=w(()=>`q-timeline__entry q-timeline__entry--${e.side}`+(e.icon!==void 0||e.avatar!==void 0?" q-timeline__entry--icon":"")),r=w(()=>`q-timeline__dot text-${e.color||n.color}`),o=w(()=>n.layout==="comfortable"&&n.side==="left");return()=>{const a=hl(t.default,[]);if(e.body!==void 0&&a.unshift(e.body),e.heading===!0){const u=[v("div"),v("div"),v(e.tag,{class:"q-timeline__heading-title"},a)];return v("div",{class:"q-timeline__heading"},o.value===!0?u.reverse():u)}let s;e.icon!==void 0?s=[v(ft,{class:"row items-center justify-center",name:e.icon})]:e.avatar!==void 0&&(s=[v("img",{class:"q-timeline__dot-img",src:e.avatar})]);const l=[v("div",{class:"q-timeline__subtitle"},[v("span",{},We(t.subtitle,[e.subtitle]))]),v("div",{class:r.value},s),v("div",{class:"q-timeline__content"},[v("h6",{class:"q-timeline__title"},We(t.title,[e.title]))].concat(a))];return v("li",{class:i.value},o.value===!0?l.reverse():l)}}});xe({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:t}){const n=w(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>v("div",{class:n.value,role:"toolbar"},We(t.default))}});xe({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:t}){const n=w(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>v("div",{class:n.value},We(t.default))}});var SL=["none","strict","leaf","leaf-filtered"];xe({name:"QTree",props:{...ct,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>SL.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:{},noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(e,{slots:t,emit:n}){const{proxy:i}=Be(),{$q:r}=i,o=dt(e,r),a=ee({}),s=ee(e.ticked||[]),l=ee(e.expanded||[]);let u={};el(()=>{u={}});const c=w(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+(o.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),d=w(()=>e.selected!==void 0),f=w(()=>e.icon||r.iconSet.tree.icon),h=w(()=>e.controlColor||e.color),m=w(()=>e.textColor!==void 0?` text-${e.textColor}`:""),y=w(()=>{const P=e.selectedColor||e.color;return P?` text-${P}`:""}),b=w(()=>e.filterMethod!==void 0?e.filterMethod:(P,Z)=>{const ne=Z.toLowerCase();return P[e.labelKey]&&P[e.labelKey].toLowerCase().indexOf(ne)!==-1}),g=w(()=>{const P={},Z=(ne,J)=>{const U=ne.tickStrategy||(J?J.tickStrategy:e.tickStrategy),$=ne[e.nodeKey],fe=ne[e.childrenKey]&&Array.isArray(ne[e.childrenKey])&&ne[e.childrenKey].length!==0,X=ne.disabled!==!0&&d.value===!0&&ne.selectable!==!1,be=ne.disabled!==!0&&ne.expandable!==!1,ke=U!=="none",j=U==="strict",re=U==="leaf-filtered",ue=U==="leaf"||U==="leaf-filtered";let we=ne.disabled!==!0&&ne.tickable!==!1;ue===!0&&we===!0&&J&&J.tickable!==!0&&(we=!1);let _e=ne.lazy;_e===!0&&a.value[$]!==void 0&&Array.isArray(ne[e.childrenKey])===!0&&(_e=a.value[$]);const B={key:$,parent:J,isParent:fe,lazy:_e,disabled:ne.disabled,link:ne.disabled!==!0&&(X===!0||be===!0&&(fe===!0||_e===!0)),children:[],matchesFilter:e.filter?b.value(ne,e.filter):!0,selected:$===e.selected&&X===!0,selectable:X,expanded:fe===!0?l.value.includes($):!1,expandable:be,noTick:ne.noTick===!0||j!==!0&&_e&&_e!=="loaded",tickable:we,tickStrategy:U,hasTicking:ke,strictTicking:j,leafFilteredTicking:re,leafTicking:ue,ticked:j===!0?s.value.includes($):fe===!0?!1:s.value.includes($)};if(P[$]=B,fe===!0&&(B.children=ne[e.childrenKey].map(z=>Z(z,B)),e.filter&&(B.matchesFilter!==!0?B.matchesFilter=B.children.some(z=>z.matchesFilter):B.noTick!==!0&&B.disabled!==!0&&B.tickable===!0&&re===!0&&B.children.every(z=>z.matchesFilter!==!0||z.noTick===!0||z.tickable!==!0)===!0&&(B.tickable=!1)),B.matchesFilter===!0&&(B.noTick!==!0&&j!==!0&&B.children.every(z=>z.noTick)===!0&&(B.noTick=!0),ue))){if(B.ticked=!1,B.indeterminate=B.children.some(z=>z.indeterminate===!0),B.tickable=B.tickable===!0&&B.children.some(z=>z.tickable),B.indeterminate!==!0){const z=B.children.reduce((ve,he)=>he.ticked===!0?ve+1:ve,0);z===B.children.length?B.ticked=!0:z>0&&(B.indeterminate=!0)}B.indeterminate===!0&&(B.indeterminateNextState=B.children.every(z=>z.tickable!==!0||z.ticked!==!0))}return B};return e.nodes.forEach(ne=>Z(ne,null)),P});Te(()=>e.ticked,P=>{s.value=P}),Te(()=>e.expanded,P=>{l.value=P});function p(P){const Z=[].reduce,ne=(J,U)=>{if(J||!U)return J;if(Array.isArray(U)===!0)return Z.call(Object(U),ne,J);if(U[e.nodeKey]===P)return U;if(U[e.childrenKey])return ne(null,U[e.childrenKey])};return ne(null,e.nodes)}function _(){return s.value.map(P=>p(P))}function x(){return l.value.map(P=>p(P))}function S(P){return P&&g.value[P]?g.value[P].expanded:!1}function M(){e.expanded!==void 0?n("update:expanded",[]):l.value=[]}function T(){const P=[],Z=ne=>{ne[e.childrenKey]&&ne[e.childrenKey].length!==0&&ne.expandable!==!1&&ne.disabled!==!0&&(P.push(ne[e.nodeKey]),ne[e.childrenKey].forEach(Z))};e.nodes.forEach(Z),e.expanded!==void 0?n("update:expanded",P):l.value=P}function R(P,Z,ne=p(P),J=g.value[P]){if(J.lazy&&J.lazy!=="loaded"){if(J.lazy==="loading")return;a.value[P]="loading",Array.isArray(ne[e.childrenKey])!==!0&&(ne[e.childrenKey]=[]),n("lazyLoad",{node:ne,key:P,done:U=>{a.value[P]="loaded",ne[e.childrenKey]=Array.isArray(U)===!0?U:[],ut(()=>{const $=g.value[P];$&&$.isParent===!0&&L(P,!0)})},fail:()=>{delete a.value[P],ne[e.childrenKey].length===0&&delete ne[e.childrenKey]}})}else J.isParent===!0&&J.expandable===!0&&L(P,Z)}function L(P,Z){let ne=l.value;const J=e.expanded!==void 0;if(J===!0&&(ne=ne.slice()),Z){if(e.accordion&&g.value[P]){const U=[];g.value[P].parent?g.value[P].parent.children.forEach($=>{$.key!==P&&$.expandable===!0&&U.push($.key)}):e.nodes.forEach($=>{const fe=$[e.nodeKey];fe!==P&&U.push(fe)}),U.length!==0&&(ne=ne.filter($=>U.includes($)===!1))}ne=ne.concat([P]).filter((U,$,fe)=>fe.indexOf(U)===$)}else ne=ne.filter(U=>U!==P);J===!0?n("update:expanded",ne):l.value=ne}function I(P){return P&&g.value[P]?g.value[P].ticked:!1}function k(P,Z){let ne=s.value;const J=e.ticked!==void 0;J===!0&&(ne=ne.slice()),Z?ne=ne.concat(P).filter((U,$,fe)=>fe.indexOf(U)===$):ne=ne.filter(U=>P.includes(U)===!1),J===!0&&n("update:ticked",ne)}function A(P,Z,ne){const J={tree:i,node:P,key:ne,color:e.color,dark:o.value};return Jt(J,"expanded",()=>Z.expanded,U=>{U!==Z.expanded&&R(ne,U)}),Jt(J,"ticked",()=>Z.ticked,U=>{U!==Z.ticked&&k([ne],U)}),J}function C(P){return(e.filter?P.filter(Z=>g.value[Z[e.nodeKey]].matchesFilter):P).map(Z=>O(Z))}function E(P){if(P.icon!==void 0)return v(ft,{class:"q-tree__icon q-mr-sm",name:P.icon,color:P.iconColor});const Z=P.img||P.avatar;if(Z)return v("img",{class:`q-tree__${P.img?"img":"avatar"} q-mr-sm`,src:Z})}function D(){n("afterShow")}function q(){n("afterHide")}function O(P){const Z=P[e.nodeKey],ne=g.value[Z],J=P.header&&t[`header-${P.header}`]||t["default-header"],U=ne.isParent===!0?C(P[e.childrenKey]):[],$=U.length!==0||ne.lazy&&ne.lazy!=="loaded";let fe=P.body&&t[`body-${P.body}`]||t["default-body"];const X=J!==void 0||fe!==void 0?A(P,ne,Z):null;return fe!==void 0&&(fe=v("div",{class:"q-tree__node-body relative-position"},[v("div",{class:m.value},[fe(X)])])),v("div",{key:Z,class:`q-tree__node relative-position q-tree__node--${$===!0?"parent":"child"}`},[v("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(ne.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(ne.selected===!0?" q-tree__node--selected":"")+(ne.disabled===!0?" q-tree__node--disabled":""),tabindex:ne.link===!0?0:-1,ariaExpanded:U.length>0?ne.expanded:null,role:"treeitem",onClick:be=>{Y(P,ne,be)},onKeypress(be){Eo(be)!==!0&&(be.keyCode===13?Y(P,ne,be,!0):be.keyCode===32&&le(P,ne,be,!0))}},[v("div",{class:"q-focus-helper",tabindex:-1,ref:be=>{u[ne.key]=be}}),ne.lazy==="loading"?v(vi,{class:"q-tree__spinner",color:h.value}):$===!0?v(ft,{class:"q-tree__arrow"+(ne.expanded===!0?" q-tree__arrow--rotate":""),name:f.value,onClick(be){le(P,ne,be)}}):null,ne.hasTicking===!0&&ne.noTick!==!0?v(bs,{class:"q-tree__tickbox",modelValue:ne.indeterminate===!0?null:ne.ticked,color:h.value,dark:o.value,dense:!0,keepColor:!0,disable:ne.tickable!==!0,onKeydown:nt,"onUpdate:modelValue":be=>{W(ne,be)}}):null,v("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(ne.selected===!0?y.value:m.value)},[J?J(X):[E(P),v("div",P[e.labelKey])]])]),$===!0?e.noTransition===!0?ne.expanded===!0?v("div",{class:"q-tree__node-collapsible"+m.value,key:`${Z}__q`},[fe,v("div",{class:"q-tree__children"+(ne.disabled===!0?" q-tree__node--disabled":""),role:"group"},U)]):null:v(cm,{duration:e.duration,onShow:D,onHide:q},()=>ci(v("div",{class:"q-tree__node-collapsible"+m.value,key:`${Z}__q`},[fe,v("div",{class:"q-tree__children"+(ne.disabled===!0?" q-tree__node--disabled":""),role:"group"},U)]),[[eg,ne.expanded]])):fe])}function G(P){const Z=u[P];Z&&Z.focus()}function Y(P,Z,ne,J){J!==!0&&Z.selectable!==!1&&G(Z.key),d.value&&Z.selectable?e.noSelectionUnset===!1?n("update:selected",Z.key!==e.selected?Z.key:null):Z.key!==e.selected&&n("update:selected",Z.key===void 0?null:Z.key):le(P,Z,ne,J),typeof P.handler=="function"&&P.handler(P)}function le(P,Z,ne,J){ne!==void 0&&nt(ne),J!==!0&&Z.selectable!==!1&&G(Z.key),R(Z.key,!Z.expanded,P,Z)}function W(P,Z){if(P.indeterminate===!0&&(Z=P.indeterminateNextState),P.strictTicking)k([P.key],Z);else if(P.leafTicking){const ne=[],J=U=>{U.isParent?(Z!==!0&&U.noTick!==!0&&U.tickable===!0&&ne.push(U.key),U.leafTicking===!0&&U.children.forEach(J)):U.noTick!==!0&&U.tickable===!0&&(U.leafFilteredTicking!==!0||U.matchesFilter===!0)&&ne.push(U.key)};J(P),k(ne,Z)}}return e.defaultExpandAll===!0&&T(),Object.assign(i,{getNodeByKey:p,getTickedNodes:_,getExpandedNodes:x,isExpanded:S,collapseAll:M,expandAll:T,setExpanded:R,isTicked:I,setTicked:k}),()=>{const P=C(e.nodes);return v("div",{class:c.value,role:"tree"},P.length===0?e.filter?e.noResultsLabel||r.lang.tree.noResults:e.noNodesLabel||r.lang.tree.noNodes:P)}}});function Iv(e){return(e*100).toFixed(2)+"%"}var ML={...ct,...ax,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},Tx=[...sx,"start","finish","added","removed"];function TL(e,t){const n=Be(),{props:i,slots:r,emit:o,proxy:a}=n,{$q:s}=a,l=dt(i,s);function u(X,be,ke){if(X.__status=be,be==="idle"){X.__uploaded=0,X.__progress=0,X.__sizeLabel=If(X.size),X.__progressLabel="0.00%";return}if(be==="failed"){a.$forceUpdate();return}X.__uploaded=be==="uploaded"?X.size:ke,X.__progress=be==="uploaded"?1:Math.min(.9999,X.__uploaded/X.size),X.__progressLabel=Iv(X.__progress),a.$forceUpdate()}const c=w(()=>i.disable!==!0&&i.readonly!==!0),d=ee(!1),f=ee(null),h=ee(null),m={files:ee([]),queuedFiles:ee([]),uploadedFiles:ee([]),uploadedSize:ee(0),updateFileStatus:u,isAlive:()=>_r(n)===!1},{pickFiles:y,addFiles:b,onDragover:g,onDragleave:p,processFiles:_,getDndNode:x,maxFilesNumber:S,maxTotalSizeNumber:M}=lx({editable:c,dnd:d,getFileInput:W,addFilesToQueue:P});Object.assign(m,e({props:i,slots:r,emit:o,helpers:m,exposeApi:X=>{Object.assign(m,X)}})),m.isBusy===void 0&&(m.isBusy=ee(!1));const T=ee(0),R=w(()=>T.value===0?0:m.uploadedSize.value/T.value),L=w(()=>Iv(R.value)),I=w(()=>If(T.value)),k=w(()=>c.value===!0&&m.isUploading.value!==!0&&(i.multiple===!0||m.queuedFiles.value.length===0)&&(i.maxFiles===void 0||m.files.value.length<S.value)&&(i.maxTotalSize===void 0||T.value<M.value)),A=w(()=>c.value===!0&&m.isBusy.value!==!0&&m.isUploading.value!==!0&&m.queuedFiles.value.length!==0);Pr($y,J);const C=w(()=>"q-uploader column no-wrap"+(l.value===!0?" q-uploader--dark q-dark":"")+(i.bordered===!0?" q-uploader--bordered":"")+(i.square===!0?" q-uploader--square no-border-radius":"")+(i.flat===!0?" q-uploader--flat no-shadow":"")+(i.disable===!0?" disabled q-uploader--disable":"")+(d.value===!0?" q-uploader--dnd":"")),E=w(()=>"q-uploader__header"+(i.color!==void 0?` bg-${i.color}`:"")+(i.textColor!==void 0?` text-${i.textColor}`:""));Te(m.isUploading,(X,be)=>{be===!1&&X===!0?o("start"):be===!0&&X===!1&&o("finish")});function D(){i.disable===!1&&(m.abort(),m.uploadedSize.value=0,T.value=0,le(),m.files.value=[],m.queuedFiles.value=[],m.uploadedFiles.value=[])}function q(){i.disable===!1&&G(["uploaded"],()=>{m.uploadedFiles.value=[]})}function O(){G(["idle","failed"],({size:X})=>{T.value-=X,m.queuedFiles.value=[]})}function G(X,be){if(i.disable===!0)return;const ke={files:[],size:0},j=m.files.value.filter(re=>X.indexOf(re.__status)===-1?!0:(ke.size+=re.size,ke.files.push(re),re.__img!==void 0&&window.URL.revokeObjectURL(re.__img.src),!1));ke.files.length!==0&&(m.files.value=j,be(ke),o("removed",ke.files))}function Y(X){i.disable||(X.__status==="uploaded"?m.uploadedFiles.value=m.uploadedFiles.value.filter(be=>be.__key!==X.__key):X.__status==="uploading"?X.__abort():T.value-=X.size,m.files.value=m.files.value.filter(be=>be.__key!==X.__key?!0:(be.__img!==void 0&&window.URL.revokeObjectURL(be.__img.src),!1)),m.queuedFiles.value=m.queuedFiles.value.filter(be=>be.__key!==X.__key),o("removed",[X]))}function le(){m.files.value.forEach(X=>{X.__img!==void 0&&window.URL.revokeObjectURL(X.__img.src)})}function W(){return h.value||f.value.getElementsByClassName("q-uploader__input")[0]}function P(X,be){const ke=_(X,be,m.files.value,!0),j=W();j!=null&&(j.value=""),ke!==void 0&&(ke.forEach(re=>{if(m.updateFileStatus(re,"idle"),T.value+=re.size,i.noThumbnails!==!0&&re.type.toUpperCase().startsWith("IMAGE")){const ue=new Image;ue.src=window.URL.createObjectURL(re),re.__img=ue}}),m.files.value=m.files.value.concat(ke),m.queuedFiles.value=m.queuedFiles.value.concat(ke),o("added",ke),i.autoUpload===!0&&m.upload())}function Z(){A.value===!0&&m.upload()}function ne(X,be,ke){if(X===!0){const j={type:"a",key:be,icon:s.iconSet.uploader[be],flat:!0,dense:!0};let re;return be==="add"?(j.onClick=y,re=J):j.onClick=ke,v(pt,j,re)}}function J(){return v("input",{ref:h,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:i.accept,multiple:i.multiple===!0?"multiple":void 0,capture:i.capture,onMousedown:Bt,onClick:y,onChange:P})}function U(){return r.header!==void 0?r.header(fe):[v("div",{class:"q-uploader__header-content column"},[v("div",{class:"flex flex-center no-wrap q-gutter-xs"},[ne(m.queuedFiles.value.length!==0,"removeQueue",O),ne(m.uploadedFiles.value.length!==0,"removeUploaded",q),m.isUploading.value===!0?v(vi,{class:"q-uploader__spinner"}):null,v("div",{class:"col column justify-center"},[i.label!==void 0?v("div",{class:"q-uploader__title"},[i.label]):null,v("div",{class:"q-uploader__subtitle"},[I.value+" / "+L.value])]),ne(k.value,"add"),ne(i.hideUploadBtn===!1&&A.value===!0,"upload",m.upload),ne(m.isUploading.value,"clear",m.abort)])])]}function $(){return r.list!==void 0?r.list(fe):m.files.value.map(X=>v("div",{key:X.__key,class:"q-uploader__file relative-position"+(i.noThumbnails!==!0&&X.__img!==void 0?" q-uploader__file--img":"")+(X.__status==="failed"?" q-uploader__file--failed":X.__status==="uploaded"?" q-uploader__file--uploaded":""),style:i.noThumbnails!==!0&&X.__img!==void 0?{backgroundImage:'url("'+X.__img.src+'")'}:null},[v("div",{class:"q-uploader__file-header row flex-center no-wrap"},[X.__status==="failed"?v(ft,{class:"q-uploader__file-status",name:s.iconSet.type.negative,color:"negative"}):null,v("div",{class:"q-uploader__file-header-content col"},[v("div",{class:"q-uploader__title"},[X.name]),v("div",{class:"q-uploader__subtitle row items-center no-wrap"},[X.__sizeLabel+" / "+X.__progressLabel])]),X.__status==="uploading"?v(Lb,{value:X.__progress,min:0,max:1,indeterminate:X.__progress===0}):v(pt,{round:!0,dense:!0,flat:!0,icon:s.iconSet.uploader[X.__status==="uploaded"?"done":"clear"],onClick:()=>{Y(X)}})])]))}st(()=>{m.isUploading.value===!0&&m.abort(),m.files.value.length!==0&&le()});const fe={};for(const X in m)Xx(m[X])===!0?Jt(fe,X,()=>m[X].value):fe[X]=m[X];return Object.assign(fe,{upload:Z,reset:D,removeUploadedFiles:q,removeQueuedFiles:O,removeFile:Y,pickFiles:y,addFiles:b}),Oy(fe,{canAddFiles:()=>k.value,canUpload:()=>A.value,uploadSizeLabel:()=>I.value,uploadProgressLabel:()=>L.value}),t({...m,upload:Z,reset:D,removeUploadedFiles:q,removeQueuedFiles:O,removeFile:Y,pickFiles:y,addFiles:b,canAddFiles:k,canUpload:A,uploadSizeLabel:I,uploadProgressLabel:L}),()=>{const X=[v("div",{class:E.value},U()),v("div",{class:"q-uploader__list scroll"},$()),x("uploader")];m.isBusy.value===!0&&X.push(v("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[v(vi)]));const be={ref:f,class:C.value};return k.value===!0&&Object.assign(be,{onDragover:g,onDragleave:p}),v("div",be,X)}}var CL=()=>!0;function Cx(e){const t={};return e.forEach(n=>{t[n]=CL}),t}var EL=Cx(Tx),AL=({name:e,props:t,emits:n,injectPlugin:i})=>xe({name:e,props:{...ML,...t},emits:wn(n)===!0?{...EL,...n}:[...Tx,...n],setup(r,{expose:o}){return TL(i,o)}});function zi(e){return typeof e=="function"?e:()=>e}var LL="QUploader",RL={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>e=>e.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},kL=["factoryFailed","uploaded","failed","uploading"];function PL({props:e,emit:t,helpers:n}){const i=ee([]),r=ee([]),o=ee(0),a=w(()=>({url:zi(e.url),method:zi(e.method),headers:zi(e.headers),formFields:zi(e.formFields),fieldName:zi(e.fieldName),withCredentials:zi(e.withCredentials),sendRaw:zi(e.sendRaw),batch:zi(e.batch)})),s=w(()=>o.value>0),l=w(()=>r.value.length!==0);let u;function c(){i.value.forEach(m=>{m.abort()}),r.value.length!==0&&(u=!0)}function d(){const m=n.queuedFiles.value.slice(0);n.queuedFiles.value=[],a.value.batch(m)?f(m):m.forEach(y=>{f([y])})}function f(m){if(o.value++,typeof e.factory!="function"){h(m,{});return}const y=e.factory(m);if(!y)t("factoryFailed",new Error("QUploader: factory() does not return properly"),m),o.value--;else if(typeof y.catch=="function"&&typeof y.then=="function"){r.value.push(y);const b=g=>{n.isAlive()===!0&&(r.value=r.value.filter(p=>p!==y),r.value.length===0&&(u=!1),n.queuedFiles.value=n.queuedFiles.value.concat(m),m.forEach(p=>{n.updateFileStatus(p,"failed")}),t("factoryFailed",g,m),o.value--)};y.then(g=>{u===!0?b(new Error("Aborted")):n.isAlive()===!0&&(r.value=r.value.filter(p=>p!==y),h(m,g))}).catch(b)}else h(m,y||{})}function h(m,y){const b=new FormData,g=new XMLHttpRequest,p=(A,C)=>y[A]!==void 0?zi(y[A])(C):a.value[A](C),_=p("url",m);if(!_){console.error("q-uploader: invalid or no URL specified"),o.value--;return}const x=p("formFields",m);x!==void 0&&x.forEach(A=>{b.append(A.name,A.value)});let S=0,M=0,T=0,R=0,L;g.upload.addEventListener("progress",A=>{if(L===!0)return;const C=Math.min(R,A.loaded);n.uploadedSize.value+=C-T,T=C;let E=T-M;for(let D=S;E>0&&D<m.length;D++){const q=m[D];if(E>q.size)E-=q.size,S++,M+=q.size,n.updateFileStatus(q,"uploading",q.size);else{n.updateFileStatus(q,"uploading",E);return}}},!1),g.onreadystatechange=()=>{g.readyState<4||(g.status&&g.status<400?(n.uploadedFiles.value=n.uploadedFiles.value.concat(m),m.forEach(A=>{n.updateFileStatus(A,"uploaded")}),t("uploaded",{files:m,xhr:g})):(L=!0,n.uploadedSize.value-=T,n.queuedFiles.value=n.queuedFiles.value.concat(m),m.forEach(A=>{n.updateFileStatus(A,"failed")}),t("failed",{files:m,xhr:g})),o.value--,i.value=i.value.filter(A=>A!==g))},g.open(p("method",m),_),p("withCredentials",m)===!0&&(g.withCredentials=!0);const I=p("headers",m);I!==void 0&&I.forEach(A=>{g.setRequestHeader(A.name,A.value)});const k=p("sendRaw",m);m.forEach(A=>{n.updateFileStatus(A,"uploading",0),k!==!0&&b.append(p("fieldName",A),A,A.name),A.xhr=g,A.__abort=()=>{g.abort()},R+=A.size}),t("uploading",{files:m,xhr:g}),i.value.push(g),k===!0?g.send(new Blob(m)):g.send(b)}return{isUploading:s,isBusy:l,abort:c,upload:d}}var BL={name:LL,props:RL,emits:kL,injectPlugin:PL};AL(BL);xe({name:"QUploaderAddTrigger",setup(){const e=Ln($y,gt);return e===gt&&console.error("QUploaderAddTrigger needs to be child of QUploader"),e}});xe({name:"QVideo",props:{...dm,src:{type:String,required:!0},title:String,fetchpriority:{type:String,default:"auto"},loading:{type:String,default:"eager"},referrerpolicy:{type:String,default:"strict-origin-when-cross-origin"}},setup(e){const t=fm(e),n=w(()=>"q-video"+(e.ratio!==void 0?" q-video--responsive":""));return()=>v("div",{class:n.value,style:t.value},[v("iframe",{src:e.src,title:e.title,fetchpriority:e.fetchpriority,loading:e.loading,referrerpolicy:e.referrerpolicy,frameborder:"0",allowfullscreen:!0})])}});function Fv(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}gi({name:"close-popup",beforeMount(e,{value:t}){const n={depth:Fv(t),handler(i){n.depth!==0&&setTimeout(()=>{const r=DE(e);r!==void 0&&OE(r,i,n.depth)})},handlerKey(i){Zn(i,13)===!0&&n.handler(i)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=Fv(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});var IL=0,os=void 0;function Dv(e,t){os===void 0&&(os=document.createElement("div"),os.style.cssText="position: absolute; left: 0; top: 0",document.body.appendChild(os));const n=e.getBoundingClientRect(),i=os.getBoundingClientRect(),{marginLeft:r,marginRight:o,marginTop:a,marginBottom:s}=window.getComputedStyle(e),l=parseInt(r,10)+parseInt(o,10),u=parseInt(a,10)+parseInt(s,10);return{left:n.left-i.left,top:n.top-i.top,width:n.right-n.left,height:n.bottom-n.top,widthM:n.right-n.left+(t===!0?0:l),heightM:n.bottom-n.top+(t===!0?0:u),marginH:t===!0?l:0,marginV:t===!0?u:0}}function yu(e){return{width:e.scrollWidth,height:e.scrollHeight}}var Ov=["Top","Right","Bottom","Left"],Nv=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],FL=/-block|-inline|block-|inline-/,DL=/(-block|-inline|block-|inline-).*:/;function zv(e,t){const n=window.getComputedStyle(e),i={};for(let r=0;r<t.length;r++){const o=t[r];if(n[o]==="")if(o==="cssText"){const a=n.length;let s="";for(let l=0;l<a;l++)FL.test(n[l])!==!0&&(s+=n[l]+": "+n[n[l]]+"; ");i[o]=s}else if(["borderWidth","borderStyle","borderColor"].indexOf(o)!==-1){const a=o.replace("border","");let s="";for(let l=0;l<Ov.length;l++){const u="border"+Ov[l]+a;s+=n[u]+" "}i[o]=s}else if(o==="borderRadius"){let a="",s="";for(let l=0;l<Nv.length;l++){const u=n[Nv[l]].split(" ");a+=u[0]+" ",s+=(u[1]===void 0?u[0]:u[1])+" "}i[o]=a+"/ "+s}else i[o]=n[o];else o==="cssText"?i[o]=n[o].split(";").filter(a=>DL.test(a)!==!0).join(";"):i[o]=n[o]}return i}var OL=["absolute","fixed","relative","sticky"];function qv(e){let t=e,n=0;for(;t!==null&&t!==document;){const{position:i,zIndex:r}=window.getComputedStyle(t),o=Number(r);o>n&&(t===e||OL.includes(i)===!0)&&(n=o),t=t.parentNode}return n}function NL(e){return{from:e.from,to:e.to!==void 0?e.to:e.from}}function zL(e){return typeof e=="number"?e={duration:e}:typeof e=="function"&&(e={onEnd:e}),{...e,waitFor:e.waitFor===void 0?0:e.waitFor,duration:isNaN(e.duration)===!0?300:parseInt(e.duration,10),easing:typeof e.easing=="string"&&e.easing.length!==0?e.easing:"ease-in-out",delay:isNaN(e.delay)===!0?0:parseInt(e.delay,10),fill:typeof e.fill=="string"&&e.fill.length!==0?e.fill:"none",resize:e.resize===!0,useCSS:e.useCSS===!0||e.usecss===!0,hideFromClone:e.hideFromClone===!0||e.hidefromclone===!0,keepToClone:e.keepToClone===!0||e.keeptoclone===!0,tween:e.tween===!0,tweenFromOpacity:isNaN(e.tweenFromOpacity)===!0?.6:parseFloat(e.tweenFromOpacity),tweenToOpacity:isNaN(e.tweenToOpacity)===!0?.5:parseFloat(e.tweenToOpacity)}}function Hv(e){const t=typeof e;return t==="function"?e():t==="string"?document.querySelector(e):e}function Vv(e){return e&&e.ownerDocument===document&&e.parentNode!==null}function qL(e){let t=()=>!1,n=!1,i=!0;const r=NL(e),o=zL(e),a=Hv(r.from);if(Vv(a)!==!0)return t;typeof a.qMorphCancel=="function"&&a.qMorphCancel();let s,l,u,c;const d=a.parentNode,f=a.nextElementSibling,h=Dv(a,o.resize),{width:m,height:y}=yu(d),{borderWidth:b,borderStyle:g,borderColor:p,borderRadius:_,backgroundColor:x,transform:S,position:M,cssText:T}=zv(a,["borderWidth","borderStyle","borderColor","borderRadius","backgroundColor","transform","position","cssText"]),R=a.classList.toString(),L=a.style.cssText,I=a.cloneNode(!0),k=o.tween===!0?a.cloneNode(!0):void 0;k!==void 0&&(k.className=k.classList.toString().split(" ").filter(C=>/^bg-/.test(C)===!1).join(" ")),o.hideFromClone===!0&&I.classList.add("q-morph--internal"),I.setAttribute("aria-hidden","true"),I.style.transition="none",I.style.animation="none",I.style.pointerEvents="none",d.insertBefore(I,f),a.qMorphCancel=()=>{n=!0,I.remove(),k!==void 0&&k.remove(),o.hideFromClone===!0&&I.classList.remove("q-morph--internal"),a.qMorphCancel=void 0};const A=()=>{const C=Hv(r.to);if(n===!0||Vv(C)!==!0){typeof a.qMorphCancel=="function"&&a.qMorphCancel();return}a!==C&&typeof C.qMorphCancel=="function"&&C.qMorphCancel(),o.keepToClone!==!0&&C.classList.add("q-morph--internal"),I.classList.add("q-morph--internal");const{width:E,height:D}=yu(d),{width:q,height:O}=yu(C.parentNode);o.hideFromClone!==!0&&I.classList.remove("q-morph--internal"),C.qMorphCancel=()=>{n=!0,I.remove(),k!==void 0&&k.remove(),o.hideFromClone===!0&&I.classList.remove("q-morph--internal"),o.keepToClone!==!0&&C.classList.remove("q-morph--internal"),a.qMorphCancel=void 0,C.qMorphCancel=void 0};const G=()=>{if(n===!0){typeof C.qMorphCancel=="function"&&C.qMorphCancel();return}o.hideFromClone!==!0&&(I.classList.add("q-morph--internal"),I.innerHTML="",I.style.left=0,I.style.right="unset",I.style.top=0,I.style.bottom="unset",I.style.transform="none"),o.keepToClone!==!0&&C.classList.remove("q-morph--internal");const Y=C.parentNode,{width:le,height:W}=yu(Y),P=C.cloneNode(o.keepToClone);P.setAttribute("aria-hidden","true"),o.keepToClone!==!0&&(P.style.left=0,P.style.right="unset",P.style.top=0,P.style.bottom="unset",P.style.transform="none",P.style.pointerEvents="none"),P.classList.add("q-morph--internal");const Z=C===a&&d===Y?I:C.nextElementSibling;Y.insertBefore(P,Z);const{borderWidth:ne,borderStyle:J,borderColor:U,borderRadius:$,backgroundColor:fe,transform:X,position:be,cssText:ke}=zv(C,["borderWidth","borderStyle","borderColor","borderRadius","backgroundColor","transform","position","cssText"]),j=C.classList.toString(),re=C.style.cssText;C.style.cssText=ke,C.style.transform="none",C.style.animation="none",C.style.transition="none",C.className=j.split(" ").filter(Ae=>/^bg-/.test(Ae)===!1).join(" ");const ue=Dv(C,o.resize),we=h.left-ue.left,_e=h.top-ue.top,B=h.width/(ue.width>0?ue.width:10),z=h.height/(ue.height>0?ue.height:100),ve=m-E,he=y-D,H=le-q,se=W-O,K=Math.max(h.widthM,ve),me=Math.max(h.heightM,he),ge=Math.max(ue.widthM,H),Ee=Math.max(ue.heightM,se),Le=a===C&&["absolute","fixed"].includes(be)===!1&&["absolute","fixed"].includes(M)===!1;let Ne=be==="fixed",Pe=Y;for(;Ne!==!0&&Pe!==document;)Ne=window.getComputedStyle(Pe).position==="fixed",Pe=Pe.parentNode;if(o.hideFromClone!==!0&&(I.style.display="block",I.style.flex="0 0 auto",I.style.opacity=0,I.style.minWidth="unset",I.style.maxWidth="unset",I.style.minHeight="unset",I.style.maxHeight="unset",I.classList.remove("q-morph--internal")),o.keepToClone!==!0&&(P.style.display="block",P.style.flex="0 0 auto",P.style.opacity=0,P.style.minWidth="unset",P.style.maxWidth="unset",P.style.minHeight="unset",P.style.maxHeight="unset"),P.classList.remove("q-morph--internal"),typeof o.classes=="string"&&(C.className+=" "+o.classes),typeof o.style=="string")C.style.cssText+=" "+o.style;else if(wn(o.style)===!0)for(const Ae in o.style)C.style[Ae]=o.style[Ae];const ze=qv(I),ce=qv(C),Se=Ne===!0?document.documentElement:{scrollLeft:0,scrollTop:0};C.style.position=Ne===!0?"fixed":"absolute",C.style.left=`${ue.left-Se.scrollLeft}px`,C.style.right="unset",C.style.top=`${ue.top-Se.scrollTop}px`,C.style.margin=0,o.resize===!0&&(C.style.minWidth="unset",C.style.maxWidth="unset",C.style.minHeight="unset",C.style.maxHeight="unset",C.style.overflow="hidden",C.style.overflowX="hidden",C.style.overflowY="hidden"),document.body.appendChild(C),k!==void 0&&(k.style.cssText=T,k.style.transform="none",k.style.animation="none",k.style.transition="none",k.style.position=C.style.position,k.style.left=`${h.left-Se.scrollLeft}px`,k.style.right="unset",k.style.top=`${h.top-Se.scrollTop}px`,k.style.margin=0,k.style.pointerEvents="none",o.resize===!0&&(k.style.minWidth="unset",k.style.maxWidth="unset",k.style.minHeight="unset",k.style.maxHeight="unset",k.style.overflow="hidden",k.style.overflowX="hidden",k.style.overflowY="hidden"),document.body.appendChild(k));const de=Ae=>{a===C&&i!==!0?(C.style.cssText=L,C.className=R):(C.style.cssText=re,C.className=j),P.parentNode===Y&&Y.insertBefore(C,P),I.remove(),P.remove(),k!==void 0&&k.remove(),t=()=>!1,a.qMorphCancel=void 0,C.qMorphCancel=void 0,typeof o.onEnd=="function"&&o.onEnd(i===!0?"to":"from",Ae===!0)};if(o.useCSS!==!0&&typeof C.animate=="function"){const Ae=o.resize===!0?{transform:`translate(${we}px, ${_e}px)`,width:`${K}px`,height:`${me}px`}:{transform:`translate(${we}px, ${_e}px) scale(${B}, ${z})`},$e=o.resize===!0?{width:`${ge}px`,height:`${Ee}px`}:{},et=o.resize===!0?{width:`${K}px`,height:`${me}px`}:{},qe=o.resize===!0?{transform:`translate(${-1*we}px, ${-1*_e}px)`,width:`${ge}px`,height:`${Ee}px`}:{transform:`translate(${-1*we}px, ${-1*_e}px) scale(${1/B}, ${1/z})`},ot=k!==void 0?{opacity:o.tweenToOpacity}:{backgroundColor:x},vt=k!==void 0?{opacity:1}:{backgroundColor:fe};c=C.animate([{margin:0,borderWidth:b,borderStyle:g,borderColor:p,borderRadius:_,zIndex:ze,transformOrigin:"0 0",...Ae,...ot},{margin:0,borderWidth:ne,borderStyle:J,borderColor:U,borderRadius:$,zIndex:ce,transformOrigin:"0 0",transform:X,...$e,...vt}],{duration:o.duration,easing:o.easing,fill:o.fill,delay:o.delay}),l=k===void 0?void 0:k.animate([{opacity:o.tweenFromOpacity,margin:0,borderWidth:b,borderStyle:g,borderColor:p,borderRadius:_,zIndex:ze,transformOrigin:"0 0",transform:S,...et},{opacity:0,margin:0,borderWidth:ne,borderStyle:J,borderColor:U,borderRadius:$,zIndex:ce,transformOrigin:"0 0",...qe}],{duration:o.duration,easing:o.easing,fill:o.fill,delay:o.delay}),s=o.hideFromClone===!0||Le===!0?void 0:I.animate([{margin:`${he<0?he/2:0}px ${ve<0?ve/2:0}px`,width:`${K+h.marginH}px`,height:`${me+h.marginV}px`},{margin:0,width:0,height:0}],{duration:o.duration,easing:o.easing,fill:o.fill,delay:o.delay}),u=o.keepToClone===!0?void 0:P.animate([Le===!0?{margin:`${he<0?he/2:0}px ${ve<0?ve/2:0}px`,width:`${K+h.marginH}px`,height:`${me+h.marginV}px`}:{margin:0,width:0,height:0},{margin:`${se<0?se/2:0}px ${H<0?H/2:0}px`,width:`${ge+ue.marginH}px`,height:`${Ee+ue.marginV}px`}],{duration:o.duration,easing:o.easing,fill:o.fill,delay:o.delay});const bt=tn=>{s!==void 0&&s.cancel(),l!==void 0&&l.cancel(),u!==void 0&&u.cancel(),c.cancel(),c.removeEventListener("finish",bt),c.removeEventListener("cancel",bt),de(tn),s=void 0,l=void 0,u=void 0,c=void 0};a.qMorphCancel=()=>{a.qMorphCancel=void 0,n=!0,bt()},C.qMorphCancel=()=>{C.qMorphCancel=void 0,n=!0,bt()},c.addEventListener("finish",bt),c.addEventListener("cancel",bt),t=tn=>n===!0||c===void 0?!1:tn===!0?(bt(!0),!0):(i=i!==!0,s!==void 0&&s.reverse(),l!==void 0&&l.reverse(),u!==void 0&&u.reverse(),c.reverse(),!0)}else{const Ae=`q-morph-anim-${++IL}`,$e=document.createElement("style"),et=o.resize===!0?`
            transform: translate(${we}px, ${_e}px);
            width: ${K}px;
            height: ${me}px;
          `:`transform: translate(${we}px, ${_e}px) scale(${B}, ${z});`,qe=o.resize===!0?`
            width: ${ge}px;
            height: ${Ee}px;
          `:"",ot=o.resize===!0?`
            width: ${K}px;
            height: ${me}px;
          `:"",vt=o.resize===!0?`
            transform: translate(${-1*we}px, ${-1*_e}px);
            width: ${ge}px;
            height: ${Ee}px;
          `:`transform: translate(${-1*we}px, ${-1*_e}px) scale(${1/B}, ${1/z});`,bt=k!==void 0?`opacity: ${o.tweenToOpacity};`:`background-color: ${x};`,tn=k!==void 0?"opacity: 1;":`background-color: ${fe};`,bn=k===void 0?"":`
            @keyframes ${Ae}-from-tween {
              0% {
                opacity: ${o.tweenFromOpacity};
                margin: 0;
                border-width: ${b};
                border-style: ${g};
                border-color: ${p};
                border-radius: ${_};
                z-index: ${ze};
                transform-origin: 0 0;
                transform: ${S};
                ${ot}
              }

              100% {
                opacity: 0;
                margin: 0;
                border-width: ${ne};
                border-style: ${J};
                border-color: ${U};
                border-radius: ${$};
                z-index: ${ce};
                transform-origin: 0 0;
                ${vt}
              }
            }
          `,Xt=o.hideFromClone===!0||Le===!0?"":`
            @keyframes ${Ae}-from {
              0% {
                margin: ${he<0?he/2:0}px ${ve<0?ve/2:0}px;
                width: ${K+h.marginH}px;
                height: ${me+h.marginV}px;
              }

              100% {
                margin: 0;
                width: 0;
                height: 0;
              }
            }
          `,kn=Le===!0?`
            margin: ${he<0?he/2:0}px ${ve<0?ve/2:0}px;
            width: ${K+h.marginH}px;
            height: ${me+h.marginV}px;
          `:`
            margin: 0;
            width: 0;
            height: 0;
          `,ye=o.keepToClone===!0?"":`
            @keyframes ${Ae}-to {
              0% {
                ${kn}
              }

              100% {
                margin: ${se<0?se/2:0}px ${H<0?H/2:0}px;
                width: ${ge+ue.marginH}px;
                height: ${Ee+ue.marginV}px;
              }
            }
          `;$e.innerHTML=`
          @keyframes ${Ae} {
            0% {
              margin: 0;
              border-width: ${b};
              border-style: ${g};
              border-color: ${p};
              border-radius: ${_};
              background-color: ${x};
              z-index: ${ze};
              transform-origin: 0 0;
              ${et}
              ${bt}
            }

            100% {
              margin: 0;
              border-width: ${ne};
              border-style: ${J};
              border-color: ${U};
              border-radius: ${$};
              background-color: ${fe};
              z-index: ${ce};
              transform-origin: 0 0;
              transform: ${X};
              ${qe}
              ${tn}
            }
          }

          ${Xt}

          ${bn}

          ${ye}
        `,document.head.appendChild($e);let De="normal";I.style.animation=`${o.duration}ms ${o.easing} ${o.delay}ms ${De} ${o.fill} ${Ae}-from`,k!==void 0&&(k.style.animation=`${o.duration}ms ${o.easing} ${o.delay}ms ${De} ${o.fill} ${Ae}-from-tween`),P.style.animation=`${o.duration}ms ${o.easing} ${o.delay}ms ${De} ${o.fill} ${Ae}-to`,C.style.animation=`${o.duration}ms ${o.easing} ${o.delay}ms ${De} ${o.fill} ${Ae}`;const N=oe=>{oe===Object(oe)&&oe.animationName!==Ae||(C.removeEventListener("animationend",N),C.removeEventListener("animationcancel",N),de(),$e.remove())};a.qMorphCancel=()=>{a.qMorphCancel=void 0,n=!0,N()},C.qMorphCancel=()=>{C.qMorphCancel=void 0,n=!0,N()},C.addEventListener("animationend",N),C.addEventListener("animationcancel",N),t=oe=>n===!0||!C||!I||!P?!1:oe===!0?(N(),!0):(i=i!==!0,De=De==="normal"?"reverse":"normal",I.style.animationDirection=De,k.style.animationDirection=De,P.style.animationDirection=De,C.style.animationDirection=De,!0)}};o.waitFor>0||o.waitFor==="transitionend"||o.waitFor===Object(o.waitFor)&&typeof o.waitFor.then=="function"?(o.waitFor>0?new Promise(le=>setTimeout(le,o.waitFor)):o.waitFor==="transitionend"?new Promise(le=>{const W=()=>{P!==null&&(clearTimeout(P),P=null),C&&(C.removeEventListener("transitionend",W),C.removeEventListener("transitioncancel",W)),le()};let P=setTimeout(W,400);C.addEventListener("transitionend",W),C.addEventListener("transitioncancel",W)}):o.waitFor).then(G).catch(()=>{typeof C.qMorphCancel=="function"&&C.qMorphCancel()}):G()};return typeof e.onToggle=="function"&&e.onToggle(),requestAnimationFrame(A),C=>t(C)}var mc={},HL=["duration","delay","easing","fill","classes","style","duration","resize","useCSS","hideFromClone","keepToClone","tween","tweenFromOpacity","tweenToOpacity","waitFor","onEnd"],VL=["resize","useCSS","hideFromClone","keepToClone","tween"];function la(e,t){e.clsAction!==t&&(e.clsAction=t,e.el.classList[t]("q-morph--invisible"))}function Ex(e){if(e.animating===!0||e.queue.length<2)return;const[t,n]=e.queue;e.animating=!0,t.animating=!0,n.animating=!0,la(t,"remove"),la(n,"remove");const i=qL({from:t.el,to:n.el,onToggle(){la(t,"add"),la(n,"remove")},...n.opts,onEnd(r,o){n.opts.onEnd!==void 0&&n.opts.onEnd(r,o),o!==!0&&(t.animating=!1,n.animating=!1,e.animating=!1,e.cancel=void 0,e.queue.shift(),Ex(e))}});e.cancel=()=>{i(!0),e.cancel=void 0}}function Ax(e,t){const n=t.opts;VL.forEach(i=>{n[i]=e[i]===!0})}function UL(e,t){const n=typeof e=="string"&&e.length!==0?e.split(":"):[];t.name=n[0],t.group=n[1],Object.assign(t.opts,{duration:isNaN(n[2])===!0?300:parseFloat(n[2]),waitFor:n[3]})}function GL(e,t){e.group!==void 0&&(t.group=e.group),e.name!==void 0&&(t.name=e.name);const n=t.opts;HL.forEach(i=>{e[i]!==void 0&&(n[i]=e[i])})}function WL(e,t){if(t.name===e){const n=mc[t.group];n===void 0?(mc[t.group]={name:t.group,model:e,queue:[t],animating:!1},la(t,"remove")):n.model!==e&&(n.model=e,n.queue.push(t),n.animating===!1&&n.queue.length===2&&Ex(n));return}t.animating===!1&&la(t,"add")}function Uv(e,t){let n;Object(t)===t?(n=""+t.model,GL(t,e),Ax(t,e)):n=""+t,n!==e.model?(e.model=n,WL(n,e)):e.animating===!1&&e.clsAction!==void 0&&e.el.classList[e.clsAction]("q-morph--invisible")}gi({name:"morph",mounted(e,t){const n={el:e,animating:!1,opts:{}};Ax(t.modifiers,n),UL(t.arg,n),Uv(n,t.value),e.__qmorph=n},updated(e,t){Uv(e.__qmorph,t.value)},beforeUnmount(e){const t=e.__qmorph,n=mc[t.group];n!==void 0&&n.queue.indexOf(t)!==-1&&(n.queue=n.queue.filter(r=>r!==t),n.queue.length===0&&(n.cancel!==void 0&&n.cancel(),delete mc[t.group])),t.clsAction==="add"&&e.classList.remove("q-morph--invisible"),delete e.__qmorph}});var $L={childList:!0,subtree:!0,attributes:!0,characterData:!0,attributeOldValue:!0,characterDataOldValue:!0};function Gv(e,t,n){t.handler=n,t.observer!==void 0&&t.observer.disconnect(),t.observer=new MutationObserver(i=>{typeof t.handler=="function"&&(t.handler(i)===!1||t.once===!0)&&Lx(e)}),t.observer.observe(e,t.opts)}function Lx(e){const t=e.__qmutation;t!==void 0&&(t.observer!==void 0&&t.observer.disconnect(),delete e.__qmutation)}gi({name:"mutation",mounted(e,{modifiers:{once:t,...n},value:i}){const r={once:t,opts:Object.keys(n).length===0?$L:n};Gv(e,r,i),e.__qmutation=r},updated(e,{oldValue:t,value:n}){const i=e.__qmutation;i!==void 0&&t!==n&&Gv(e,i,n)},beforeUnmount:Lx});var{passive:pc}=xt;function Wv(e,{value:t,oldValue:n}){if(typeof t!="function"){e.scrollTarget.removeEventListener("scroll",e.scroll,pc);return}e.handler=t,typeof n!="function"&&(e.scrollTarget.addEventListener("scroll",e.scroll,pc),e.scroll())}gi({name:"scroll-fire",mounted(e,t){const n={scrollTarget:Pi(e),scroll:za(()=>{let i,r;n.scrollTarget===window?(r=e.getBoundingClientRect().bottom,i=window.innerHeight):(r=nc(e).top+Ra(e),i=nc(n.scrollTarget).top+Ra(n.scrollTarget)),r>0&&r<i&&(n.scrollTarget.removeEventListener("scroll",n.scroll,pc),n.handler(e))},25)};Wv(n,t),e.__qscrollfire=n},updated(e,t){t.value!==t.oldValue&&Wv(e.__qscrollfire,t)},beforeUnmount(e){const t=e.__qscrollfire;t.scrollTarget.removeEventListener("scroll",t.scroll,pc),t.scroll.cancel(),delete e.__qscrollfire}});function $v(e,{value:t,oldValue:n}){if(typeof t!="function"){e.scrollTarget.removeEventListener("scroll",e.scroll,xt.passive);return}e.handler=t,typeof n!="function"&&e.scrollTarget.addEventListener("scroll",e.scroll,xt.passive)}gi({name:"scroll",mounted(e,t){const n={scrollTarget:Pi(e),scroll(){n.handler(wr(n.scrollTarget),Bc(n.scrollTarget))}};$v(n,t),e.__qscroll=n},updated(e,t){e.__qscroll!==void 0&&t.oldValue!==t.value&&$v(e.__qscroll,t)},beforeUnmount(e){const t=e.__qscroll;t.scrollTarget.removeEventListener("scroll",t.scroll,xt.passive),delete e.__qscroll}});gi({name:"touch-hold",beforeMount(e,t){const{modifiers:n}=t;if(n.mouse!==!0&&rt.has.touch!==!0)return;const i={handler:t.value,noop:$t,mouseStart(o){typeof i.handler=="function"&&Lc(o)===!0&&(Dt(i,"temp",[[document,"mousemove","move","passiveCapture"],[document,"click","end","notPassiveCapture"]]),i.start(o,!0))},touchStart(o){if(o.target!==void 0&&typeof i.handler=="function"){const a=o.target;Dt(i,"temp",[[a,"touchmove","move","passiveCapture"],[a,"touchcancel","end","notPassiveCapture"],[a,"touchend","end","notPassiveCapture"]]),i.start(o)}},start(o,a){i.origin=En(o);const s=Date.now();rt.is.mobile===!0&&(document.body.classList.add("non-selectable"),ui(),i.styleCleanup=l=>{i.styleCleanup=void 0;const u=()=>{document.body.classList.remove("non-selectable")};l===!0?(ui(),setTimeout(u,10)):u()}),i.triggered=!1,i.sensitivity=a===!0?i.mouseSensitivity:i.touchSensitivity,i.timer=setTimeout(()=>{i.timer=void 0,ui(),i.triggered=!0,i.handler({evt:o,touch:a!==!0,mouse:a===!0,position:i.origin,duration:Date.now()-s})},i.duration)},move(o){const{top:a,left:s}=En(o);i.timer!==void 0&&(Math.abs(s-i.origin.left)>=i.sensitivity||Math.abs(a-i.origin.top)>=i.sensitivity)&&(clearTimeout(i.timer),i.timer=void 0)},end(o){gn(i,"temp"),i.styleCleanup!==void 0&&i.styleCleanup(i.triggered),i.triggered===!0?o!==void 0&&nt(o):i.timer!==void 0&&(clearTimeout(i.timer),i.timer=void 0)}},r=[600,5,7];if(typeof t.arg=="string"&&t.arg.length!==0&&t.arg.split(":").forEach((o,a)=>{const s=parseInt(o,10);s&&(r[a]=s)}),[i.duration,i.touchSensitivity,i.mouseSensitivity]=r,e.__qtouchhold=i,n.mouse===!0){const o=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";Dt(i,"main",[[e,"mousedown","mouseStart",`passive${o}`]])}rt.has.touch===!0&&Dt(i,"main",[[e,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[e,"touchend","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchhold;n!==void 0&&t.oldValue!==t.value&&(typeof t.value!="function"&&n.end(),n.handler=t.value)},beforeUnmount(e){const t=e.__qtouchhold;t!==void 0&&(gn(t,"main"),gn(t,"temp"),t.timer!==void 0&&clearTimeout(t.timer),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchhold)}});var Rx={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},jL=new RegExp(`^([\\d+]+|${Object.keys(Rx).join("|")})$`,"i");function YL(e,t){const{top:n,left:i}=En(e);return Math.abs(i-t.left)>=7||Math.abs(n-t.top)>=7}gi({name:"touch-repeat",beforeMount(e,{modifiers:t,value:n,arg:i}){const r=Object.keys(t).reduce((l,u)=>{if(jL.test(u)===!0){const c=isNaN(parseInt(u,10))?Rx[u.toLowerCase()]:parseInt(u,10);c>=0&&l.push(c)}return l},[]);if(t.mouse!==!0&&rt.has.touch!==!0&&r.length===0)return;const o=typeof i=="string"&&i.length!==0?i.split(":").map(l=>parseInt(l,10)):[0,600,300],a=o.length-1,s={keyboard:r,handler:n,noop:$t,mouseStart(l){s.event===void 0&&typeof s.handler=="function"&&Lc(l)===!0&&(Dt(s,"temp",[[document,"mousemove","move","passiveCapture"],[document,"click","end","notPassiveCapture"]]),s.start(l,!0))},keyboardStart(l){if(typeof s.handler=="function"&&Zn(l,r)===!0){if((o[0]===0||s.event!==void 0)&&(nt(l),e.focus(),s.event!==void 0))return;Dt(s,"temp",[[document,"keyup","end","notPassiveCapture"],[document,"click","end","notPassiveCapture"]]),s.start(l,!1,!0)}},touchStart(l){if(l.target!==void 0&&typeof s.handler=="function"){const u=l.target;Dt(s,"temp",[[u,"touchmove","move","passiveCapture"],[u,"touchcancel","end","notPassiveCapture"],[u,"touchend","end","notPassiveCapture"]]),s.start(l)}},start(l,u,c){c!==!0&&(s.origin=En(l));function d(h){s.styleCleanup=void 0,document.documentElement.style.cursor="";const m=()=>{document.body.classList.remove("non-selectable")};h===!0?(ui(),setTimeout(m,10)):m()}rt.is.mobile===!0&&(document.body.classList.add("non-selectable"),ui(),s.styleCleanup=d),s.event={touch:u!==!0&&c!==!0,mouse:u===!0,keyboard:c===!0,startTime:Date.now(),repeatCount:0};const f=()=>{if(s.timer=void 0,s.event===void 0)return;s.event.repeatCount===0&&(s.event.evt=l,c===!0?s.event.keyCode=l.keyCode:s.event.position=En(l),rt.is.mobile!==!0&&(document.documentElement.style.cursor="pointer",document.body.classList.add("non-selectable"),ui(),s.styleCleanup=d)),s.event.duration=Date.now()-s.event.startTime,s.event.repeatCount+=1,s.handler(s.event);const h=a<s.event.repeatCount?a:s.event.repeatCount;s.timer=setTimeout(f,o[h])};o[0]===0?f():s.timer=setTimeout(f,o[0])},move(l){s.event!==void 0&&s.timer!==void 0&&YL(l,s.origin)===!0&&(clearTimeout(s.timer),s.timer=void 0)},end(l){s.event!==void 0&&(s.styleCleanup!==void 0&&s.styleCleanup(!0),l!==void 0&&s.event.repeatCount>0&&nt(l),gn(s,"temp"),s.timer!==void 0&&(clearTimeout(s.timer),s.timer=void 0),s.event=void 0)}};if(e.__qtouchrepeat=s,t.mouse===!0){const l=t.mouseCapture===!0||t.mousecapture===!0?"Capture":"";Dt(s,"main",[[e,"mousedown","mouseStart",`passive${l}`]])}if(rt.has.touch===!0&&Dt(s,"main",[[e,"touchstart","touchStart",`passive${t.capture===!0?"Capture":""}`],[e,"touchend","noop","passiveCapture"]]),r.length!==0){const l=t.keyCapture===!0||t.keycapture===!0?"Capture":"";Dt(s,"main",[[e,"keydown","keyboardStart",`notPassive${l}`]])}},updated(e,{oldValue:t,value:n}){const i=e.__qtouchrepeat;i!==void 0&&t!==n&&(typeof n!="function"&&i.end(),i.handler=n)},beforeUnmount(e){const t=e.__qtouchrepeat;t!==void 0&&(t.timer!==void 0&&clearTimeout(t.timer),gn(t,"main"),gn(t,"temp"),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchrepeat)}});function XL(e,t=document.body){if(typeof e!="string")throw new TypeError("Expected a string as propName");if(!(t instanceof Element))throw new TypeError("Expected a DOM element");return getComputedStyle(t).getPropertyValue(`--q-${e}`).trim()||null}var bu;function QL(){return rt.is.winphone?"msapplication-navbutton-color":rt.is.safari?"apple-mobile-web-app-status-bar-style":"theme-color"}function KL(e){const t=document.getElementsByTagName("META");for(const n in t)if(t[n].name===e)return t[n]}function ZL(e){bu===void 0&&(bu=QL());let t=KL(bu);const n=t===void 0;n&&(t=document.createElement("meta"),t.setAttribute("name",bu)),t.setAttribute("content",e),n&&document.head.appendChild(t)}rt.is.mobile===!0&&(rt.is.nativeMobile===!0||rt.is.winphone===!0||rt.is.safari===!0||rt.is.webkit===!0||rt.is.vivaldi);var as={};function JL(e){Object.assign(mn,{request:e,exit:e,toggle:e})}function kx(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||null}function Px(){const e=mn.activeEl=mn.isActive===!1?null:kx();FE(e===null||e===document.documentElement?document.body:e)}function e3(){mn.isActive=mn.isActive===!1,Px()}function jv(e,t){try{const n=e[t]();return n===void 0?Promise.resolve():n}catch(n){return Promise.reject(n)}}var mn=Br({isActive:!1,activeEl:null},{isCapable:!1,install({$q:e}){e.fullscreen=this}});as.request=["requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen"].find(e=>document.documentElement[e]!==void 0),mn.isCapable=as.request!==void 0,mn.isCapable===!1?JL(()=>Promise.reject("Not capable")):(Object.assign(mn,{request(e){const t=e||document.documentElement,{activeEl:n}=mn;return t===n?Promise.resolve():(n!==null&&t.contains(n)===!0?mn.exit():Promise.resolve()).finally(()=>jv(t,as.request))},exit(){return mn.isActive===!0?jv(document,as.exit):Promise.resolve()},toggle(e){return mn.isActive===!0?mn.exit():mn.request(e)}}),as.exit=["exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen"].find(e=>document[e]),mn.isActive=Boolean(kx()),mn.isActive===!0&&Px(),["onfullscreenchange","onmsfullscreenchange","onwebkitfullscreenchange"].forEach(e=>{document[e]=e3}));var t3=Br({appVisible:!0},{install({$q:e}){Jt(e,"appVisible",()=>this.appVisible)}});{let e,t;if(typeof document.hidden!="undefined"?(e="hidden",t="visibilitychange"):typeof document.msHidden!="undefined"?(e="msHidden",t="msvisibilitychange"):typeof document.webkitHidden!="undefined"&&(e="webkitHidden",t="webkitvisibilitychange"),t&&typeof document[e]!="undefined"){const n=()=>{t3.appVisible=!document[e]};document.addEventListener(t,n,!1)}}xe({name:"BottomSheetComponent",props:{...ct,title:String,message:String,actions:Array,grid:Boolean,cardClass:[String,Array,Object],cardStyle:[String,Array,Object]},emits:["ok","hide"],setup(e,{emit:t}){const{proxy:n}=Be(),i=dt(e,n.$q),r=ee(null);function o(){r.value.show()}function a(){r.value.hide()}function s(h){t("ok",h),a()}function l(){t("hide")}function u(){return e.actions.map(h=>{const m=h.avatar||h.img;return h.label===void 0?v(_o,{class:"col-all",dark:i.value}):v("div",{class:["q-bottom-sheet__item q-hoverable q-focusable cursor-pointer relative-position",h.class],style:h.style,tabindex:0,role:"listitem",onClick(){s(h)},onKeyup(y){y.keyCode===13&&s(h)}},[v("div",{class:"q-focus-helper"}),h.icon?v(ft,{name:h.icon,color:h.color}):m?v("img",{class:h.avatar?"q-bottom-sheet__avatar":"",src:m}):v("div",{class:"q-bottom-sheet__empty-icon"}),v("div",h.label)])})}function c(){return e.actions.map(h=>{const m=h.avatar||h.img;return h.label===void 0?v(_o,{spaced:!0,dark:i.value}):v(Oc,{class:["q-bottom-sheet__item",h.classes],style:h.style,tabindex:0,clickable:!0,dark:i.value,onClick(){s(h)}},()=>[v(Sr,{avatar:!0},()=>h.icon?v(ft,{name:h.icon,color:h.color}):m?v("img",{class:h.avatar?"q-bottom-sheet__avatar":"",src:m}):null),v(Sr,()=>h.label)])})}function d(){const h=[];return e.title&&h.push(v(Kr,{class:"q-dialog__title"},()=>e.title)),e.message&&h.push(v(Kr,{class:"q-dialog__message"},()=>e.message)),h.push(e.grid===!0?v("div",{class:"row items-stretch justify-start",role:"list"},u()):v("div",{role:"list"},c())),h}function f(){return[v(xb,{class:[`q-bottom-sheet q-bottom-sheet--${e.grid===!0?"grid":"list"}`+(i.value===!0?" q-bottom-sheet--dark q-dark":""),e.cardClass],style:e.cardStyle},d)]}return Object.assign(n,{show:o,hide:a}),()=>v(Dc,{ref:r,position:"bottom",onHide:l},f)}});function Bx(e){return encodeURIComponent(e)}function Ix(e){return decodeURIComponent(e)}function n3(e){return Bx(e===Object(e)?JSON.stringify(e):""+e)}function i3(e){if(e==="")return e;e.indexOf('"')===0&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),e=Ix(e.replace(/\+/g," "));try{const t=JSON.parse(e);(t===Object(t)||Array.isArray(t)===!0)&&(e=t)}catch{}return e}function Fx(e){const t=new Date;return t.setMilliseconds(t.getMilliseconds()+e),t.toUTCString()}function r3(e){let t=0;const n=e.match(/(\d+)d/),i=e.match(/(\d+)h/),r=e.match(/(\d+)m/),o=e.match(/(\d+)s/);return n&&(t+=n[1]*864e5),i&&(t+=i[1]*36e5),r&&(t+=r[1]*6e4),o&&(t+=o[1]*1e3),t===0?e:Fx(t)}function Dx(e,t,n={},i){let r,o;n.expires!==void 0&&(Object.prototype.toString.call(n.expires)==="[object Date]"?r=n.expires.toUTCString():typeof n.expires=="string"?r=r3(n.expires):(o=parseFloat(n.expires),r=isNaN(o)===!1?Fx(o*864e5):n.expires));const a=`${Bx(e)}=${n3(t)}`,s=[a,r!==void 0?"; Expires="+r:"",n.path?"; Path="+n.path:"",n.domain?"; Domain="+n.domain:"",n.sameSite?"; SameSite="+n.sameSite:"",n.httpOnly?"; HttpOnly":"",n.secure?"; Secure":"",n.other?"; "+n.other:""].join("");if(i){i.req.qCookies?i.req.qCookies.push(s):i.req.qCookies=[s],i.res.setHeader("Set-Cookie",i.req.qCookies);let l=i.req.headers.cookie||"";if(r!==void 0&&o<0){const u=vc(e,i);u!==void 0&&(l=l.replace(`${e}=${u}; `,"").replace(`; ${e}=${u}`,"").replace(`${e}=${u}`,""))}else l=l?`${a}; ${l}`:s;i.req.headers.cookie=l}else document.cookie=s}function vc(e,t){const n=t?t.req.headers:document,i=n.cookie?n.cookie.split("; "):[],r=i.length;let o=e?null:{},a=0,s,l,u;for(;a<r;a++)if(s=i[a].split("="),l=Ix(s.shift()),u=s.join("="),!e)o[l]=u;else if(e===l){o=i3(u);break}return o}function o3(e,t,n){Dx(e,"",{expires:-1,...t},n)}function a3(e,t){return vc(e,t)!==null}function Ox(e){return{get:t=>vc(t,e),set:(t,n,i)=>Dx(t,n,i,e),has:t=>a3(t,e),remove:(t,n)=>o3(t,n,e),getAll:()=>vc(null,e)}}var Nx={install({$q:e,ssrContext:t}){e.cookies=this}};__QUASAR_SSR__&&(Nx.parseSSR=e=>{if(e!==void 0)return Ox(e)});Object.assign(Nx,Ox());xe({name:"DialogPluginComponent",props:{...ct,title:String,message:String,prompt:Object,options:Object,progress:[Boolean,Object],html:Boolean,ok:{type:[String,Object,Boolean],default:!0},cancel:[String,Object,Boolean],focus:{type:String,default:"ok",validator:e=>["ok","cancel","none"].includes(e)},stackButtons:Boolean,color:String,cardClass:[String,Array,Object],cardStyle:[String,Array,Object]},emits:["ok","hide"],setup(e,{emit:t}){const{proxy:n}=Be(),{$q:i}=n,r=dt(e,i),o=ee(null),a=ee(e.prompt!==void 0?e.prompt.model:e.options!==void 0?e.options.model:void 0),s=w(()=>"q-dialog-plugin"+(r.value===!0?" q-dialog-plugin--dark q-dark":"")+(e.progress!==!1?" q-dialog-plugin--progress":"")),l=w(()=>e.color||(r.value===!0?"amber":"primary")),u=w(()=>e.progress===!1?null:wn(e.progress)===!0?{component:e.progress.spinner||vi,props:{color:e.progress.color||l.value}}:{component:vi,props:{color:l.value}}),c=w(()=>e.prompt!==void 0||e.options!==void 0),d=w(()=>{if(c.value!==!0)return{};const{model:E,isValid:D,items:q,...O}=e.prompt!==void 0?e.prompt:e.options;return O}),f=w(()=>wn(e.ok)===!0||e.ok===!0?i.lang.label.ok:e.ok),h=w(()=>wn(e.cancel)===!0||e.cancel===!0?i.lang.label.cancel:e.cancel),m=w(()=>e.prompt!==void 0?e.prompt.isValid!==void 0&&e.prompt.isValid(a.value)!==!0:e.options!==void 0?e.options.isValid!==void 0&&e.options.isValid(a.value)!==!0:!1),y=w(()=>({color:l.value,label:f.value,ripple:!1,disable:m.value,...wn(e.ok)===!0?e.ok:{flat:!0},"data-autofocus":e.focus==="ok"&&c.value!==!0||void 0,onClick:_})),b=w(()=>({color:l.value,label:h.value,ripple:!1,...wn(e.cancel)===!0?e.cancel:{flat:!0},"data-autofocus":e.focus==="cancel"&&c.value!==!0||void 0,onClick:x}));Te(()=>e.prompt&&e.prompt.model,M),Te(()=>e.options&&e.options.model,M);function g(){o.value.show()}function p(){o.value.hide()}function _(){t("ok",Vi(a.value)),p()}function x(){p()}function S(){t("hide")}function M(E){a.value=E}function T(E){m.value!==!0&&e.prompt.type!=="textarea"&&Zn(E,13)===!0&&_()}function R(E,D){return e.html===!0?v(Kr,{class:E,innerHTML:D}):v(Kr,{class:E},()=>D)}function L(){return[v(fx,{color:l.value,dense:!0,autofocus:!0,dark:r.value,...d.value,modelValue:a.value,"onUpdate:modelValue":M,onKeyup:T})]}function I(){return[v(bA,{color:l.value,options:e.options.items,dark:r.value,...d.value,modelValue:a.value,"onUpdate:modelValue":M})]}function k(){const E=[];return e.cancel&&E.push(v(pt,b.value)),e.ok&&E.push(v(pt,y.value)),v(JE,{class:e.stackButtons===!0?"items-end":"",vertical:e.stackButtons,align:"right"},()=>E)}function A(){const E=[];return e.title&&E.push(R("q-dialog__title",e.title)),e.progress!==!1&&E.push(v(Kr,{class:"q-dialog__progress"},()=>v(u.value.component,u.value.props))),e.message&&E.push(R("q-dialog__message",e.message)),e.prompt!==void 0?E.push(v(Kr,{class:"scroll q-dialog-plugin__form"},L)):e.options!==void 0&&E.push(v(_o,{dark:r.value}),v(Kr,{class:"scroll q-dialog-plugin__form"},I),v(_o,{dark:r.value})),(e.ok||e.cancel)&&E.push(k()),E}function C(){return[v(xb,{class:[s.value,e.cardClass],style:e.cardStyle,dark:r.value},A)]}return Object.assign(n,{show:g,hide:p}),()=>v(Dc,{ref:o,onHide:S},C)}});var ta,Gd,Yv=0,jr=null,rn={},to={},zx={group:"__default_quasar_group__",delay:0,message:!1,html:!1,spinnerSize:80,spinnerColor:"",messageColor:"",backgroundColor:"",boxClass:"",spinner:vi,customClass:""},qx={...zx};function s3(e){if(e&&e.group!==void 0&&to[e.group]!==void 0)return Object.assign(to[e.group],e);const t=wn(e)===!0&&e.ignoreDefaults===!0?{...zx,...e}:{...qx,...e};return to[t.group]=t,t}var xi=Br({isActive:!1},{show(e){rn=s3(e);const{group:t}=rn;return xi.isActive=!0,ta!==void 0?(rn.uid=Yv,Gd.$forceUpdate()):(rn.uid=++Yv,jr!==null&&clearTimeout(jr),jr=setTimeout(()=>{jr=null;const n=Yh("q-loading");ta=jy({name:"QLoading",setup(){It(()=>{Uf(!0)});function i(){xi.isActive!==!0&&ta!==void 0&&(Uf(!1),ta.unmount(n),cb(n),ta=void 0,Gd=void 0)}function r(){if(xi.isActive!==!0)return null;const o=[v(rn.spinner,{class:"q-loading__spinner",color:rn.spinnerColor,size:rn.spinnerSize})];return rn.message&&o.push(v("div",{class:"q-loading__message"+(rn.messageColor?` text-${rn.messageColor}`:""),[rn.html===!0?"innerHTML":"textContent"]:rn.message})),v("div",{class:"q-loading fullscreen flex flex-center z-max "+rn.customClass.trim(),key:rn.uid},[v("div",{class:"q-loading__backdrop"+(rn.backgroundColor?` bg-${rn.backgroundColor}`:"")}),v("div",{class:"q-loading__box column items-center "+rn.boxClass},o)])}return()=>v(Kt,{name:"q-transition--fade",appear:!0,onAfterLeave:i},r)}},xi.__parentApp),Gd=ta.mount(n)},rn.delay)),n=>{if(n===void 0||Object(n)!==n){xi.hide(t);return}xi.show({...n,group:t})}},hide(e){if(xi.isActive===!0){if(e===void 0)to={};else{if(to[e]===void 0)return;{delete to[e];const t=Object.keys(to);if(t.length!==0){const n=t[t.length-1];xi.show({group:n});return}}}jr!==null&&(clearTimeout(jr),jr=null),xi.isActive=!1}},setDefaults(e){wn(e)===!0&&Object.assign(qx,e)},install({$q:e,parentApp:t}){e.loading=this,xi.__parentApp=t,e.config.loading!==void 0&&this.setDefaults(e.config.loading)}}),xu=ee(null),Xv=Br({isActive:!1},{start:$t,stop:$t,increment:$t,setDefaults:$t,install({$q:e,parentApp:t}){if(e.loadingBar=this,this.__installed===!0){e.config.loadingBar!==void 0&&this.setDefaults(e.config.loadingBar);return}const n=ee(e.config.loadingBar!==void 0?{...e.config.loadingBar}:{});function i(){Xv.isActive=!0}function r(){Xv.isActive=!1}const o=Yh("q-loading-bar");jy({name:"LoadingBar",devtools:{hide:!0},setup:()=>()=>v(fE,{...n.value,onStart:i,onStop:r,ref:xu})},t).mount(o),Object.assign(this,{start(a){xu.value.start(a)},stop(){xu.value.stop()},increment(){xu.value.increment.apply(null,arguments)},setDefaults(a){wn(a)===!0&&Object.assign(n.value,a)}})}});function l3(e){return Bf(e)===!0?"__q_date|"+e.getTime():aE(e)===!0?"__q_expr|"+e.source:typeof e=="number"?"__q_numb|"+e:typeof e=="boolean"?"__q_bool|"+(e?"1":"0"):typeof e=="string"?"__q_strn|"+e:typeof e=="function"?"__q_strn|"+e.toString():e===Object(e)?"__q_objt|"+JSON.stringify(e):e}function u3(e){if(e.length<9)return e;const n=e.substring(0,8),i=e.substring(9);switch(n){case"__q_date":const r=Number(i);return new Date(Number.isNaN(r)===!0?i:r);case"__q_expr":return new RegExp(i);case"__q_numb":return Number(i);case"__q_bool":return Boolean(i==="1");case"__q_strn":return""+i;case"__q_objt":return JSON.parse(i);default:return e}}function Hx(){const e=()=>null;return{has:()=>!1,hasItem:()=>!1,getLength:()=>0,getItem:e,getIndex:e,getKey:e,getAll:()=>{},getAllKeys:()=>[],set:$t,setItem:$t,remove:$t,removeItem:$t,clear:$t,isEmpty:()=>!0}}function Vx(e){const t=window[e+"Storage"],n=a=>{const s=t.getItem(a);return s?u3(s):null},i=a=>t.getItem(a)!==null,r=(a,s)=>{t.setItem(a,l3(s))},o=a=>{t.removeItem(a)};return{has:i,hasItem:i,getLength:()=>t.length,getItem:n,getIndex:a=>a<t.length?n(t.key(a)):null,getKey:a=>a<t.length?t.key(a):null,getAll:()=>{let a;const s={},l=t.length;for(let u=0;u<l;u++)a=t.key(u),s[a]=n(a);return s},getAllKeys:()=>{const a=[],s=t.length;for(let l=0;l<s;l++)a.push(t.key(l));return a},set:r,setItem:r,remove:o,removeItem:o,clear:()=>{t.clear()},isEmpty:()=>t.length===0}}var Ux=rt.has.webStorage===!1?Hx():Vx("local"),c3={install({$q:e}){e.localStorage=Ux}};Object.assign(c3,Ux);var Gx=rt.has.webStorage===!1?Hx():Vx("session"),d3={install({$q:e}){e.sessionStorage=Gx}};Object.assign(d3,Gx);var f3=["ok","hide"];Cx(f3);function h3(){return Ln(oE)}const m3=Kv({data:function(){return{quasar:h3(),vantaEffect:null}},beforeUnmount:function(){},mounted:function(){window.THREE=_d,!this.vantaEffect&&(iE.isActive?this.vantaEffect=Mp({el:this.$refs.vantaRef,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1,color:3947580,shininess:61,waveHeight:23,waveSpeed:.55,zoom:.99,THREE:_d}):this.vantaEffect=Mp({el:this.$refs.vantaRef,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1,color:2434341,shininess:61,waveHeight:23,waveSpeed:.55,zoom:.99,THREE:_d}))}}),A3='{"title":"My Stack \u{1F95E}","description":"","frontmatter":{"layout":"page","has-sidebar":false,"has-aside":false},"headers":[{"level":3,"title":"My Stack \u{1F95E}","slug":"my-stack-\u{1F95E}"},{"level":3,"title":"Current Stack","slug":"current-stack"},{"level":3,"title":"Databases","slug":"databases"},{"level":3,"title":"Web3 / AI","slug":"web3-ai"},{"level":3,"title":"Other Languages","slug":"other-languages"},{"level":2,"title":"Open-Source Projects","slug":"open-source-projects"}],"relativePath":"portfolio.md","lastUpdated":null}',p3={style:{height:"38vh"}},v3={ref:"vantaRef",style:{height:"38vh",width:"100%"}},g3=Gn("h5",{class:"text-white withshadow noselect text-center soontext",style:{position:"absolute","z-index":"10","margin-top":"calc(-15vh)",width:"100%"}},"My Portfolio",-1),y3={class:"container padding vpdoc"},b3=Gn("p",null,[e_("Feel free to "),Gn("a",{style:{"text-decoration":"underline"},href:"contact.html"},"contact me to get to know me.")],-1),x3=Gn("p",null,"You can download a brief summary of my skills in PDF format below",-1),_3=t_("",33),w3=Gn("br",null,null,-1),S3=Gn("br",null,null,-1),M3=Gn("br",null,null,-1);function T3(e,t,n,i,r,o){return Zx(),Jx("div",null,[Gn("div",p3,[Gn("div",v3,null,512)]),g3,Gn("div",y3,[b3,x3,Gn("button",{class:"VPButton medium brand",disabled:"",onClick:t[0]||(t[0]=(...a)=>e.downloadPDF&&e.downloadPDF(...a))},"Download PDF"),_3,Gn("button",{class:"VPButton medium brand",disabled:"",onClick:t[1]||(t[1]=(...a)=>e.downloadPDF&&e.downloadPDF(...a))},"Download PDF"),w3,S3,M3])])}var L3=Kx(m3,[["render",T3]]);export{A3 as __pageData,L3 as default};
